var SX=Object.defineProperty,IX=Object.defineProperties,TX=Object.getOwnPropertyDescriptors,n3=Object.getOwnPropertySymbols,PX=Object.prototype.hasOwnProperty,AX=Object.prototype.propertyIsEnumerable,i3=(lt,Se,C)=>Se in lt?SX(lt,Se,{enumerable:!0,configurable:!0,writable:!0,value:C}):lt[Se]=C,Pt=(lt,Se)=>{for(var C in Se||(Se={}))PX.call(Se,C)&&i3(lt,C,Se[C]);if(n3)for(var C of n3(Se))AX.call(Se,C)&&i3(lt,C,Se[C]);return lt},Xr=(lt,Se)=>IX(lt,TX(Se));(self.webpackChunkangular_anb=self.webpackChunkangular_anb||[]).push([[179],{21937:(lt,Se,C)=>{"use strict";function x(y){return"function"==typeof y}function T(y){const g=y(v=>{Error.call(v),v.stack=(new Error).stack});return g.prototype=Object.create(Error.prototype),g.prototype.constructor=g,g}const re=T(y=>function(g){y(this),this.message=g?`${g.length} errors occurred during unsubscription:\n${g.map((v,_)=>`${_+1}) ${v.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=g});function ne(y,p){if(y){const g=y.indexOf(p);0<=g&&y.splice(g,1)}}class ee{constructor(p){this.initialTeardown=p,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let p;if(!this.closed){this.closed=!0;const{_parentage:g}=this;if(g)if(this._parentage=null,Array.isArray(g))for(const E of g)E.remove(this);else g.remove(this);const{initialTeardown:v}=this;if(x(v))try{v()}catch(E){p=E instanceof re?E.errors:[E]}const{_finalizers:_}=this;if(_){this._finalizers=null;for(const E of _)try{j(E)}catch(w){p=null!=p?p:[],w instanceof re?p=[...p,...w.errors]:p.push(w)}}if(p)throw new re(p)}}add(p){var g;if(p&&p!==this)if(this.closed)j(p);else{if(p instanceof ee){if(p.closed||p._hasParent(this))return;p._addParent(this)}(this._finalizers=null!==(g=this._finalizers)&&void 0!==g?g:[]).push(p)}}_hasParent(p){const{_parentage:g}=this;return g===p||Array.isArray(g)&&g.includes(p)}_addParent(p){const{_parentage:g}=this;this._parentage=Array.isArray(g)?(g.push(p),g):g?[g,p]:p}_removeParent(p){const{_parentage:g}=this;g===p?this._parentage=null:Array.isArray(g)&&ne(g,p)}remove(p){const{_finalizers:g}=this;g&&ne(g,p),p instanceof ee&&p._removeParent(this)}}ee.EMPTY=(()=>{const y=new ee;return y.closed=!0,y})();const ie=ee.EMPTY;function J(y){return y instanceof ee||y&&"closed"in y&&x(y.remove)&&x(y.add)&&x(y.unsubscribe)}function j(y){x(y)?y():y.unsubscribe()}const A={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},B={setTimeout(y,p,...g){const{delegate:v}=B;return(null==v?void 0:v.setTimeout)?v.setTimeout(y,p,...g):setTimeout(y,p,...g)},clearTimeout(y){const{delegate:p}=B;return((null==p?void 0:p.clearTimeout)||clearTimeout)(y)},delegate:void 0};function X(y){B.setTimeout(()=>{const{onUnhandledError:p}=A;if(!p)throw y;p(y)})}function W(){}const K=V("C",void 0,void 0);function V(y,p,g){return{kind:y,value:p,error:g}}let P=null;function F(y){if(A.useDeprecatedSynchronousErrorHandling){const p=!P;if(p&&(P={errorThrown:!1,error:null}),y(),p){const{errorThrown:g,error:v}=P;if(P=null,g)throw v}}else y()}class Y extends ee{constructor(p){super(),this.isStopped=!1,p?(this.destination=p,J(p)&&p.add(this)):this.destination=Q}static create(p,g,v){return new ge(p,g,v)}next(p){this.isStopped?oe(function $(y){return V("N",y,void 0)}(p),this):this._next(p)}error(p){this.isStopped?oe(function ae(y){return V("E",void 0,y)}(p),this):(this.isStopped=!0,this._error(p))}complete(){this.isStopped?oe(K,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(p){this.destination.next(p)}_error(p){try{this.destination.error(p)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const H=Function.prototype.bind;function de(y,p){return H.call(y,p)}class q{constructor(p){this.partialObserver=p}next(p){const{partialObserver:g}=this;if(g.next)try{g.next(p)}catch(v){le(v)}}error(p){const{partialObserver:g}=this;if(g.error)try{g.error(p)}catch(v){le(v)}else le(p)}complete(){const{partialObserver:p}=this;if(p.complete)try{p.complete()}catch(g){le(g)}}}class ge extends Y{constructor(p,g,v){let _;if(super(),x(p)||!p)_={next:null!=p?p:void 0,error:null!=g?g:void 0,complete:null!=v?v:void 0};else{let E;this&&A.useDeprecatedNextContext?(E=Object.create(p),E.unsubscribe=()=>this.unsubscribe(),_={next:p.next&&de(p.next,E),error:p.error&&de(p.error,E),complete:p.complete&&de(p.complete,E)}):_=p}this.destination=new q(_)}}function le(y){A.useDeprecatedSynchronousErrorHandling?function Z(y){A.useDeprecatedSynchronousErrorHandling&&P&&(P.errorThrown=!0,P.error=y)}(y):X(y)}function oe(y,p){const{onStoppedNotification:g}=A;g&&B.setTimeout(()=>g(y,p))}const Q={closed:!0,next:W,error:function ye(y){throw y},complete:W},pe="function"==typeof Symbol&&Symbol.observable||"@@observable";function ue(y){return y}let fe=(()=>{class y{constructor(g){g&&(this._subscribe=g)}lift(g){const v=new y;return v.source=this,v.operator=g,v}subscribe(g,v,_){const E=function he(y){return y&&y instanceof Y||function ce(y){return y&&x(y.next)&&x(y.error)&&x(y.complete)}(y)&&J(y)}(g)?g:new ge(g,v,_);return F(()=>{const{operator:w,source:D}=this;E.add(w?w.call(E,D):D?this._subscribe(E):this._trySubscribe(E))}),E}_trySubscribe(g){try{return this._subscribe(g)}catch(v){g.error(v)}}forEach(g,v){return new(v=Ce(v))((_,E)=>{const w=new ge({next:D=>{try{g(D)}catch(O){E(O),w.unsubscribe()}},error:E,complete:_});this.subscribe(w)})}_subscribe(g){var v;return null===(v=this.source)||void 0===v?void 0:v.subscribe(g)}[pe](){return this}pipe(...g){return function ve(y){return 0===y.length?ue:1===y.length?y[0]:function(g){return y.reduce((v,_)=>_(v),g)}}(g)(this)}toPromise(g){return new(g=Ce(g))((v,_)=>{let E;this.subscribe(w=>E=w,w=>_(w),()=>v(E))})}}return y.create=p=>new y(p),y})();function Ce(y){var p;return null!==(p=null!=y?y:A.Promise)&&void 0!==p?p:Promise}const xe=T(y=>function(){y(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let we=(()=>{class y extends fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(g){const v=new Ae(this,this);return v.operator=g,v}_throwIfClosed(){if(this.closed)throw new xe}next(g){F(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const v of this.currentObservers)v.next(g)}})}error(g){F(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=g;const{observers:v}=this;for(;v.length;)v.shift().error(g)}})}complete(){F(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:g}=this;for(;g.length;)g.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var g;return(null===(g=this.observers)||void 0===g?void 0:g.length)>0}_trySubscribe(g){return this._throwIfClosed(),super._trySubscribe(g)}_subscribe(g){return this._throwIfClosed(),this._checkFinalizedStatuses(g),this._innerSubscribe(g)}_innerSubscribe(g){const{hasError:v,isStopped:_,observers:E}=this;return v||_?ie:(this.currentObservers=null,E.push(g),new ee(()=>{this.currentObservers=null,ne(E,g)}))}_checkFinalizedStatuses(g){const{hasError:v,thrownError:_,isStopped:E}=this;v?g.error(_):E&&g.complete()}asObservable(){const g=new fe;return g.source=this,g}}return y.create=(p,g)=>new Ae(p,g),y})();class Ae extends we{constructor(p,g){super(),this.destination=p,this.source=g}next(p){var g,v;null===(v=null===(g=this.destination)||void 0===g?void 0:g.next)||void 0===v||v.call(g,p)}error(p){var g,v;null===(v=null===(g=this.destination)||void 0===g?void 0:g.error)||void 0===v||v.call(g,p)}complete(){var p,g;null===(g=null===(p=this.destination)||void 0===p?void 0:p.complete)||void 0===g||g.call(p)}_subscribe(p){var g,v;return null!==(v=null===(g=this.source)||void 0===g?void 0:g.subscribe(p))&&void 0!==v?v:ie}}function Fe(y){return x(null==y?void 0:y.lift)}function tt(y){return p=>{if(Fe(p))return p.lift(function(g){try{return y(g,this)}catch(v){this.error(v)}});throw new TypeError("Unable to lift unknown Observable type")}}function Re(y,p,g,v,_){return new be(y,p,g,v,_)}class be extends Y{constructor(p,g,v,_,E,w){super(p),this.onFinalize=E,this.shouldUnsubscribe=w,this._next=g?function(D){try{g(D)}catch(O){p.error(O)}}:super._next,this._error=_?function(D){try{_(D)}catch(O){p.error(O)}finally{this.unsubscribe()}}:super._error,this._complete=v?function(){try{v()}catch(D){p.error(D)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var p;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:g}=this;super.unsubscribe(),!g&&(null===(p=this.onFinalize)||void 0===p||p.call(this))}}}function Te(y,p){return tt((g,v)=>{let _=0;g.subscribe(Re(v,E=>{v.next(y.call(p,E,_++))}))})}function Ze(y,p,g,v){return new(g||(g=Promise))(function(E,w){function D(z){try{L(v.next(z))}catch(se){w(se)}}function O(z){try{L(v.throw(z))}catch(se){w(se)}}function L(z){z.done?E(z.value):function _(E){return E instanceof g?E:new g(function(w){w(E)})}(z.value).then(D,O)}L((v=v.apply(y,p||[])).next())})}function Ut(y){return this instanceof Ut?(this.v=y,this):new Ut(y)}function Wt(y,p,g){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _,v=g.apply(y,p||[]),E=[];return _={},w("next"),w("throw"),w("return"),_[Symbol.asyncIterator]=function(){return this},_;function w(Ee){v[Ee]&&(_[Ee]=function(Me){return new Promise(function(Ge,st){E.push([Ee,Me,Ge,st])>1||D(Ee,Me)})})}function D(Ee,Me){try{!function O(Ee){Ee.value instanceof Ut?Promise.resolve(Ee.value.v).then(L,z):se(E[0][2],Ee)}(v[Ee](Me))}catch(Ge){se(E[0][3],Ge)}}function L(Ee){D("next",Ee)}function z(Ee){D("throw",Ee)}function se(Ee,Me){Ee(Me),E.shift(),E.length&&D(E[0][0],E[0][1])}}function gr(y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var g,p=y[Symbol.asyncIterator];return p?p.call(y):(y=function Et(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")}(y),g={},v("next"),v("throw"),v("return"),g[Symbol.asyncIterator]=function(){return this},g);function v(E){g[E]=y[E]&&function(w){return new Promise(function(D,O){!function _(E,w,D,O){Promise.resolve(O).then(function(L){E({value:L,done:D})},w)}(D,O,(w=y[E](w)).done,w.value)})}}}const lr=y=>y&&"number"==typeof y.length&&"function"!=typeof y;function dr(y){return x(null==y?void 0:y.then)}function ct(y){return x(y[pe])}function Ot(y){return Symbol.asyncIterator&&x(null==y?void 0:y[Symbol.asyncIterator])}function Rt(y){return new TypeError(`You provided ${null!==y&&"object"==typeof y?"an invalid object":`'${y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Yt=function Vt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Zt(y){return x(null==y?void 0:y[Yt])}function ke(y){return Wt(this,arguments,function*(){const g=y.getReader();try{for(;;){const{value:v,done:_}=yield Ut(g.read());if(_)return yield Ut(void 0);yield yield Ut(v)}}finally{g.releaseLock()}})}function ot(y){return x(null==y?void 0:y.getReader)}function ze(y){if(y instanceof fe)return y;if(null!=y){if(ct(y))return function Xe(y){return new fe(p=>{const g=y[pe]();if(x(g.subscribe))return g.subscribe(p);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(y);if(lr(y))return function He(y){return new fe(p=>{for(let g=0;g<y.length&&!p.closed;g++)p.next(y[g]);p.complete()})}(y);if(dr(y))return function Ue(y){return new fe(p=>{y.then(g=>{p.closed||(p.next(g),p.complete())},g=>p.error(g)).then(null,X)})}(y);if(Ot(y))return Mt(y);if(Zt(y))return function nt(y){return new fe(p=>{for(const g of y)if(p.next(g),p.closed)return;p.complete()})}(y);if(ot(y))return function tr(y){return Mt(ke(y))}(y)}throw Rt(y)}function Mt(y){return new fe(p=>{(function br(y,p){var g,v,_,E;return Ze(this,void 0,void 0,function*(){try{for(g=gr(y);!(v=yield g.next()).done;)if(p.next(v.value),p.closed)return}catch(w){_={error:w}}finally{try{v&&!v.done&&(E=g.return)&&(yield E.call(g))}finally{if(_)throw _.error}}p.complete()})})(y,p).catch(g=>p.error(g))})}function xr(y,p,g,v=0,_=!1){const E=p.schedule(function(){g(),_?y.add(this.schedule(null,v)):this.unsubscribe()},v);if(y.add(E),!_)return E}function Br(y,p,g=1/0){return x(p)?Br((v,_)=>Te((E,w)=>p(v,E,_,w))(ze(y(v,_))),g):("number"==typeof p&&(g=p),tt((v,_)=>function Ur(y,p,g,v,_,E,w,D){const O=[];let L=0,z=0,se=!1;const Ee=()=>{se&&!O.length&&!L&&p.complete()},Me=st=>L<v?Ge(st):O.push(st),Ge=st=>{E&&p.next(st),L++;let vt=!1;ze(g(st,z++)).subscribe(Re(p,Ct=>{null==_||_(Ct),E?Me(Ct):p.next(Ct)},()=>{vt=!0},void 0,()=>{if(vt)try{for(L--;O.length&&L<v;){const Ct=O.shift();w?xr(p,w,()=>Ge(Ct)):Ge(Ct)}Ee()}catch(Ct){p.error(Ct)}}))};return y.subscribe(Re(p,Me,()=>{se=!0,Ee()})),()=>{null==D||D()}}(v,_,y,g)))}function nn(y=1/0){return Br(ue,y)}const jn=new fe(y=>y.complete());function Hi(y){return y&&x(y.schedule)}function no(y){return y[y.length-1]}function $n(y){return Hi(no(y))?y.pop():void 0}function In(y,p=0){return tt((g,v)=>{g.subscribe(Re(v,_=>xr(v,y,()=>v.next(_),p),()=>xr(v,y,()=>v.complete(),p),_=>xr(v,y,()=>v.error(_),p)))})}function Mi(y,p=0){return tt((g,v)=>{v.add(y.schedule(()=>g.subscribe(v),p))})}function $o(y,p){if(!y)throw new Error("Iterable cannot be null");return new fe(g=>{xr(g,p,()=>{const v=y[Symbol.asyncIterator]();xr(g,p,()=>{v.next().then(_=>{_.done?g.complete():g.next(_.value)})},0,!0)})})}function Sn(y,p){return p?function Bi(y,p){if(null!=y){if(ct(y))return function us(y,p){return ze(y).pipe(Mi(p),In(p))}(y,p);if(lr(y))return function $s(y,p){return new fe(g=>{let v=0;return p.schedule(function(){v===y.length?g.complete():(g.next(y[v++]),g.closed||this.schedule())})})}(y,p);if(dr(y))return function No(y,p){return ze(y).pipe(Mi(p),In(p))}(y,p);if(Ot(y))return $o(y,p);if(Zt(y))return function io(y,p){return new fe(g=>{let v;return xr(g,p,()=>{v=y[Yt](),xr(g,p,()=>{let _,E;try{({value:_,done:E}=v.next())}catch(w){return void g.error(w)}E?g.complete():g.next(_)},0,!0)}),()=>x(null==v?void 0:v.return)&&v.return()})}(y,p);if(ot(y))return function cs(y,p){return $o(ke(y),p)}(y,p)}throw Rt(y)}(y,p):ze(y)}function oo(...y){const p=$n(y),g=function oi(y,p){return"number"==typeof no(y)?y.pop():p}(y,1/0),v=y;return v.length?1===v.length?ze(v[0]):nn(g)(Sn(v,p)):jn}function Kn(y){return y<=0?()=>jn:tt((p,g)=>{let v=0;p.subscribe(Re(g,_=>{++v<=y&&(g.next(_),y<=v&&g.complete())}))})}function Ve(y={}){const{connector:p=(()=>new we),resetOnError:g=!0,resetOnComplete:v=!0,resetOnRefCountZero:_=!0}=y;return E=>{let w=null,D=null,O=null,L=0,z=!1,se=!1;const Ee=()=>{null==D||D.unsubscribe(),D=null},Me=()=>{Ee(),w=O=null,z=se=!1},Ge=()=>{const st=w;Me(),null==st||st.unsubscribe()};return tt((st,vt)=>{L++,!se&&!z&&Ee();const Ct=O=null!=O?O:p();vt.add(()=>{L--,0===L&&!se&&!z&&(D=Ht(Ge,_))}),Ct.subscribe(vt),w||(w=new ge({next:pt=>Ct.next(pt),error:pt=>{se=!0,Ee(),D=Ht(Me,g,pt),Ct.error(pt)},complete:()=>{z=!0,Ee(),D=Ht(Me,v),Ct.complete()}}),Sn(st).subscribe(w))})(E)}}function Ht(y,p,...g){return!0===p?(y(),null):!1===p?null:p(...g).pipe(Kn(1)).subscribe(()=>y())}function jt(y){for(let p in y)if(y[p]===jt)return p;throw Error("Could not find renamed property on target object.")}function _r(y){if("string"==typeof y)return y;if(Array.isArray(y))return"["+y.map(_r).join(", ")+"]";if(null==y)return""+y;if(y.overriddenName)return`${y.overriddenName}`;if(y.name)return`${y.name}`;const p=y.toString();if(null==p)return""+p;const g=p.indexOf("\n");return-1===g?p:p.substring(0,g)}function Kr(y,p){return null==y||""===y?null===p?"":p:null==p||""===p?y:y+" "+p}const an=jt({__forward_ref__:jt});function Pr(y){return y.__forward_ref__=Pr,y.toString=function(){return _r(this())},y}function wr(y){return function yn(y){return"function"==typeof y&&y.hasOwnProperty(an)&&y.__forward_ref__===Pr}(y)?y():y}class Zr extends Error{constructor(p,g){super(function Xt(y,p){return`NG0${Math.abs(y)}${p?": "+p:""}`}(p,g)),this.code=p}}function Or(y){return"string"==typeof y?y:null==y?"":String(y)}function An(y){return"function"==typeof y?y.name||y.toString():"object"==typeof y&&null!=y&&"function"==typeof y.type?y.type.name||y.type.toString():Or(y)}function ei(y,p){const g=p?` in ${p}`:"";throw new Zr(-201,`No provider for ${An(y)} found${g}`)}function Zn(y,p){null==y&&function Gr(y,p,g,v){throw new Error(`ASSERTION ERROR: ${y}`+(null==v?"":` [Expected=> ${g} ${v} ${p} <=Actual]`))}(p,y,null,"!=")}function xt(y){return{token:y.token,providedIn:y.providedIn||null,factory:y.factory,value:void 0}}const yt=xt;function At(y){return{providers:y.providers||[],imports:y.imports||[]}}function sr(y){return qt(y,Ft)||qt(y,pr)}function qt(y,p){return y.hasOwnProperty(p)?y[p]:null}function _t(y){return y&&(y.hasOwnProperty($t)||y.hasOwnProperty(vr))?y[$t]:null}const Ft=jt({\u0275prov:jt}),$t=jt({\u0275inj:jt}),pr=jt({ngInjectableDef:jt}),vr=jt({ngInjectorDef:jt});var cr=(()=>((cr=cr||{})[cr.Default=0]="Default",cr[cr.Host=1]="Host",cr[cr.Self=2]="Self",cr[cr.SkipSelf=4]="SkipSelf",cr[cr.Optional=8]="Optional",cr))();let Qr;function je(y){const p=Qr;return Qr=y,p}function rt(y,p,g){const v=sr(y);return v&&"root"==v.providedIn?void 0===v.value?v.value=v.factory():v.value:g&cr.Optional?null:void 0!==p?p:void ei(_r(y),"Injector")}function Le(y){return{toString:y}.toString()}var We=(()=>((We=We||{})[We.OnPush=0]="OnPush",We[We.Default=1]="Default",We))(),Bt=(()=>{return(y=Bt||(Bt={}))[y.Emulated=0]="Emulated",y[y.None=2]="None",y[y.ShadowDom=3]="ShadowDom",Bt;var y})();const Jt="undefined"!=typeof globalThis&&globalThis,rr="undefined"!=typeof window&&window,Dr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Nr=Jt||"undefined"!=typeof global&&global||rr||Dr,Ri={},gn=[],wa=jt({\u0275cmp:jt}),xa=jt({\u0275dir:jt}),zo=jt({\u0275pipe:jt}),ap=jt({\u0275mod:jt}),Da=jt({\u0275fac:jt}),Gu=jt({__NG_ELEMENT_ID__:jt});let Ay=0;function za(y){return Le(()=>{const g={},v={type:y.type,providersResolver:null,decls:y.decls,vars:y.vars,factory:null,template:y.template||null,consts:y.consts||null,ngContentSelectors:y.ngContentSelectors,hostBindings:y.hostBindings||null,hostVars:y.hostVars||0,hostAttrs:y.hostAttrs||null,contentQueries:y.contentQueries||null,declaredInputs:g,inputs:null,outputs:null,exportAs:y.exportAs||null,onPush:y.changeDetection===We.OnPush,directiveDefs:null,pipeDefs:null,selectors:y.selectors||gn,viewQuery:y.viewQuery||null,features:y.features||null,data:y.data||{},encapsulation:y.encapsulation||Bt.Emulated,id:"c",styles:y.styles||gn,_:null,setInput:null,schemas:y.schemas||null,tView:null},_=y.directives,E=y.features,w=y.pipes;return v.id+=Ay++,v.inputs=hp(y.inputs,g),v.outputs=hp(y.outputs),E&&E.forEach(D=>D(v)),v.directiveDefs=_?()=>("function"==typeof _?_():_).map(lp):null,v.pipeDefs=w?()=>("function"==typeof w?w():w).map(up):null,v})}function lp(y){return Fo(y)||function fs(y){return y[xa]||null}(y)}function up(y){return function Cl(y){return y[zo]||null}(y)}const cp={};function Os(y){return Le(()=>{const p={type:y.type,bootstrap:y.bootstrap||gn,declarations:y.declarations||gn,imports:y.imports||gn,exports:y.exports||gn,transitiveCompileScopes:null,schemas:y.schemas||null,id:y.id||null};return null!=y.id&&(cp[y.id]=y.type),p})}function hp(y,p){if(null==y)return Ri;const g={};for(const v in y)if(y.hasOwnProperty(v)){let _=y[v],E=_;Array.isArray(_)&&(E=_[1],_=_[0]),g[_]=v,p&&(p[_]=E)}return g}const sn=za;function Fo(y){return y[wa]||null}function mo(y,p){const g=y[ap]||null;if(!g&&!0===p)throw new Error(`Type ${_r(y)} does not have '\u0275mod' property.`);return g}function oa(y){return Array.isArray(y)&&"object"==typeof y[1]}function Gs(y){return Array.isArray(y)&&!0===y[1]}function dh(y){return 0!=(8&y.flags)}function tu(y){return 2==(2&y.flags)}function Lc(y){return 1==(1&y.flags)}function Hs(y){return null!==y.template}function Fy(y){return 0!=(512&y[2])}function Ja(y,p){return y.hasOwnProperty(Da)?y[Da]:null}class Fc{constructor(p,g,v){this.previousValue=p,this.currentValue=g,this.firstChange=v}isFirstChange(){return this.firstChange}}function ps(){return nu}function nu(y){return y.type.prototype.ngOnChanges&&(y.setInput=vp),iu}function iu(){const y=_p(this),p=null==y?void 0:y.current;if(p){const g=y.previous;if(g===Ri)y.previous=p;else for(let v in p)g[v]=p[v];y.current=null,this.ngOnChanges(p)}}function vp(y,p,g,v){const _=_p(y)||function Hy(y,p){return y[fh]=p}(y,{previous:Ri,current:null}),E=_.current||(_.current={}),w=_.previous,D=this.declaredInputs[g],O=w[D];E[D]=new Fc(O&&O.currentValue,p,w===Ri),y[v]=p}ps.ngInherit=!0;const fh="__ngSimpleChanges__";function _p(y){return y[fh]||null}let Dl;function Ne(y){return!!y.listen}const Oe={createRenderer:(y,p)=>function Ie(){return void 0!==Dl?Dl:"undefined"!=typeof document?document:void 0}()};function qe(y){for(;Array.isArray(y);)y=y[0];return y}function Kt(y,p){return qe(p[y])}function ur(y,p){return qe(p[y.index])}function Ir(y,p){return y.data[p]}function Hr(y,p){const g=p[y];return oa(g)?g:g[0]}function En(y){return 4==(4&y[2])}function Ln(y){return 128==(128&y[2])}function fn(y,p){return null==p?null:y[p]}function go(y){y[18]=0}function ou(y,p){y[5]+=p;let g=y,v=y[3];for(;null!==v&&(1===p&&1===g[5]||-1===p&&0===g[5]);)v[5]+=p,g=v,v=v[3]}const wn={lFrame:X2(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ph(){return wn.bindingsEnabled}function Sr(){return wn.lFrame.lView}function ti(){return wn.lFrame.tView}function Do(){let y=K2();for(;null!==y&&64===y.type;)y=y.parent;return y}function K2(){return wn.lFrame.currentTNode}function Ya(y,p){const g=wn.lFrame;g.currentTNode=y,g.isParent=p}function tg(){return wn.lFrame.isParent}function Mp(){return wn.isInCheckNoChangesMode}function wp(y){wn.isInCheckNoChangesMode=y}function Vc(){return wn.lFrame.bindingIndex++}function a3(y,p){const g=wn.lFrame;g.bindingIndex=g.bindingRootIndex=y,ng(p)}function ng(y){wn.lFrame.currentDirectiveIndex=y}function H2(){return wn.lFrame.currentQueryIndex}function og(y){wn.lFrame.currentQueryIndex=y}function u3(y){const p=y[1];return 2===p.type?p.declTNode:1===p.type?y[6]:null}function J2(y,p,g){if(g&cr.SkipSelf){let _=p,E=y;for(;!(_=_.parent,null!==_||g&cr.Host||(_=u3(E),null===_||(E=E[15],10&_.type))););if(null===_)return!1;p=_,y=E}const v=wn.lFrame=Y2();return v.currentTNode=p,v.lView=y,!0}function xp(y){const p=Y2(),g=y[1];wn.lFrame=p,p.currentTNode=g.firstChild,p.lView=y,p.tView=g,p.contextLView=y,p.bindingIndex=g.bindingStartIndex,p.inI18n=!1}function Y2(){const y=wn.lFrame,p=null===y?null:y.child;return null===p?X2(y):p}function X2(y){const p={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:y,child:null,inI18n:!1};return null!==y&&(y.child=p),p}function Q2(){const y=wn.lFrame;return wn.lFrame=y.parent,y.currentTNode=null,y.lView=null,y}const q2=Q2;function Dp(){const y=Q2();y.isParent=!0,y.tView=null,y.selectedIndex=-1,y.contextLView=null,y.elementDepthCount=0,y.currentDirectiveIndex=-1,y.currentNamespace=null,y.bindingRootIndex=-1,y.bindingIndex=-1,y.currentQueryIndex=0}function ys(){return wn.lFrame.selectedIndex}function su(y){wn.lFrame.selectedIndex=y}function Op(){wn.lFrame.currentNamespace="svg"}function Sp(){!function f3(){wn.lFrame.currentNamespace=null}()}function Ip(y,p){for(let g=p.directiveStart,v=p.directiveEnd;g<v;g++){const E=y.data[g].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:D,ngAfterViewInit:O,ngAfterViewChecked:L,ngOnDestroy:z}=E;w&&(y.contentHooks||(y.contentHooks=[])).push(-g,w),D&&((y.contentHooks||(y.contentHooks=[])).push(g,D),(y.contentCheckHooks||(y.contentCheckHooks=[])).push(g,D)),O&&(y.viewHooks||(y.viewHooks=[])).push(-g,O),L&&((y.viewHooks||(y.viewHooks=[])).push(g,L),(y.viewCheckHooks||(y.viewCheckHooks=[])).push(g,L)),null!=z&&(y.destroyHooks||(y.destroyHooks=[])).push(g,z)}}function Tp(y,p,g){eb(y,p,3,g)}function Pp(y,p,g,v){(3&y[2])===g&&eb(y,p,g,v)}function sg(y,p){let g=y[2];(3&g)===p&&(g&=2047,g+=1,y[2]=g)}function eb(y,p,g,v){const E=null!=v?v:-1,w=p.length-1;let D=0;for(let O=void 0!==v?65535&y[18]:0;O<w;O++)if("number"==typeof p[O+1]){if(D=p[O],null!=v&&D>=v)break}else p[O]<0&&(y[18]+=65536),(D<E||-1==E)&&(y3(y,g,p,O),y[18]=(4294901760&y[18])+O+2),O++}function y3(y,p,g,v){const _=g[v]<0,E=g[v+1],D=y[_?-g[v]:g[v]];if(_){if(y[2]>>11<y[18]>>16&&(3&y[2])===p){y[2]+=2048;try{E.call(D)}finally{}}}else try{E.call(D)}finally{}}class gh{constructor(p,g,v){this.factory=p,this.resolving=!1,this.canSeeViewProviders=g,this.injectImpl=v}}function Ap(y,p,g){const v=Ne(y);let _=0;for(;_<g.length;){const E=g[_];if("number"==typeof E){if(0!==E)break;_++;const w=g[_++],D=g[_++],O=g[_++];v?y.setAttribute(p,D,O,w):p.setAttributeNS(w,D,O)}else{const w=E,D=g[++_];lg(w)?v&&y.setProperty(p,w,D):v?y.setAttribute(p,w,D):p.setAttribute(w,D),_++}}return _}function tb(y){return 3===y||4===y||6===y}function lg(y){return 64===y.charCodeAt(0)}function Rp(y,p){if(null!==p&&0!==p.length)if(null===y||0===y.length)y=p.slice();else{let g=-1;for(let v=0;v<p.length;v++){const _=p[v];"number"==typeof _?g=_:0===g||rb(y,g,_,null,-1===g||2===g?p[++v]:null)}}return y}function rb(y,p,g,v,_){let E=0,w=y.length;if(-1===p)w=-1;else for(;E<y.length;){const D=y[E++];if("number"==typeof D){if(D===p){w=-1;break}if(D>p){w=E-1;break}}}for(;E<y.length;){const D=y[E];if("number"==typeof D)break;if(D===g){if(null===v)return void(null!==_&&(y[E+1]=_));if(v===y[E+1])return void(y[E+2]=_)}E++,null!==v&&E++,null!==_&&E++}-1!==w&&(y.splice(w,0,p),E=w+1),y.splice(E++,0,g),null!==v&&y.splice(E++,0,v),null!==_&&y.splice(E++,0,_)}function nb(y){return-1!==y}function Wc(y){return 32767&y}function kc(y,p){let g=function b3(y){return y>>16}(y),v=p;for(;g>0;)v=v[15],g--;return v}let ug=!0;function Lp(y){const p=ug;return ug=y,p}let C3=0;function _h(y,p){const g=dg(y,p);if(-1!==g)return g;const v=p[1];v.firstCreatePass&&(y.injectorIndex=p.length,cg(v.data,y),cg(p,null),cg(v.blueprint,null));const _=Np(y,p),E=y.injectorIndex;if(nb(_)){const w=Wc(_),D=kc(_,p),O=D[1].data;for(let L=0;L<8;L++)p[E+L]=D[w+L]|O[w+L]}return p[E+8]=_,E}function cg(y,p){y.push(0,0,0,0,0,0,0,0,p)}function dg(y,p){return-1===y.injectorIndex||y.parent&&y.parent.injectorIndex===y.injectorIndex||null===p[y.injectorIndex+8]?-1:y.injectorIndex}function Np(y,p){if(y.parent&&-1!==y.parent.injectorIndex)return y.parent.injectorIndex;let g=0,v=null,_=p;for(;null!==_;){const E=_[1],w=E.type;if(v=2===w?E.declTNode:1===w?_[6]:null,null===v)return-1;if(g++,_=_[15],-1!==v.injectorIndex)return v.injectorIndex|g<<16}return-1}function Fp(y,p,g){!function M3(y,p,g){let v;"string"==typeof g?v=g.charCodeAt(0)||0:g.hasOwnProperty(Gu)&&(v=g[Gu]),null==v&&(v=g[Gu]=C3++);const _=255&v;p.data[y+(_>>5)]|=1<<_}(y,p,g)}function sb(y,p,g){if(g&cr.Optional)return y;ei(p,"NodeInjector")}function ab(y,p,g,v){if(g&cr.Optional&&void 0===v&&(v=null),0==(g&(cr.Self|cr.Host))){const _=y[9],E=je(void 0);try{return _?_.get(p,v,g&cr.Optional):rt(p,v,g&cr.Optional)}finally{je(E)}}return sb(v,p,g)}function lb(y,p,g,v=cr.Default,_){if(null!==y){const E=function O3(y){if("string"==typeof y)return y.charCodeAt(0)||0;const p=y.hasOwnProperty(Gu)?y[Gu]:void 0;return"number"==typeof p?p>=0?255&p:x3:p}(g);if("function"==typeof E){if(!J2(p,y,v))return v&cr.Host?sb(_,g,v):ab(p,g,v,_);try{const w=E(v);if(null!=w||v&cr.Optional)return w;ei(g)}finally{q2()}}else if("number"==typeof E){let w=null,D=dg(y,p),O=-1,L=v&cr.Host?p[16][6]:null;for((-1===D||v&cr.SkipSelf)&&(O=-1===D?Np(y,p):p[D+8],-1!==O&&db(v,!1)?(w=p[1],D=Wc(O),p=kc(O,p)):D=-1);-1!==D;){const z=p[1];if(cb(E,D,z.data)){const se=D3(D,p,g,w,v,L);if(se!==ub)return se}O=p[D+8],-1!==O&&db(v,p[1].data[D+8]===L)&&cb(E,D,p)?(w=z,D=Wc(O),p=kc(O,p)):D=-1}}}return ab(p,g,v,_)}const ub={};function x3(){return new Zc(Do(),Sr())}function D3(y,p,g,v,_,E){const w=p[1],D=w.data[y+8],z=jp(D,w,g,null==v?tu(D)&&ug:v!=w&&0!=(3&D.type),_&cr.Host&&E===D);return null!==z?Eh(p,w,z,D):ub}function jp(y,p,g,v,_){const E=y.providerIndexes,w=p.data,D=1048575&E,O=y.directiveStart,z=E>>20,Ee=_?D+z:y.directiveEnd;for(let Me=v?D:D+z;Me<Ee;Me++){const Ge=w[Me];if(Me<O&&g===Ge||Me>=O&&Ge.type===g)return Me}if(_){const Me=w[O];if(Me&&Hs(Me)&&Me.type===g)return O}return null}function Eh(y,p,g,v){let _=y[g];const E=p.data;if(function g3(y){return y instanceof gh}(_)){const w=_;w.resolving&&function Xn(y,p){const g=p?`. Dependency path: ${p.join(" > ")} > ${y}`:"";throw new Zr(-200,`Circular dependency in DI detected for ${y}${g}`)}(An(E[g]));const D=Lp(w.canSeeViewProviders);w.resolving=!0;const O=w.injectImpl?je(w.injectImpl):null;J2(y,v,cr.Default);try{_=y[g]=w.factory(void 0,E,y,v),p.firstCreatePass&&g>=v.directiveStart&&function m3(y,p,g){const{ngOnChanges:v,ngOnInit:_,ngDoCheck:E}=p.type.prototype;if(v){const w=nu(p);(g.preOrderHooks||(g.preOrderHooks=[])).push(y,w),(g.preOrderCheckHooks||(g.preOrderCheckHooks=[])).push(y,w)}_&&(g.preOrderHooks||(g.preOrderHooks=[])).push(0-y,_),E&&((g.preOrderHooks||(g.preOrderHooks=[])).push(y,E),(g.preOrderCheckHooks||(g.preOrderCheckHooks=[])).push(y,E))}(g,E[g],p)}finally{null!==O&&je(O),Lp(D),w.resolving=!1,q2()}}return _}function cb(y,p,g){return!!(g[p+(y>>5)]&1<<y)}function db(y,p){return!(y&cr.Self||y&cr.Host&&p)}class Zc{constructor(p,g){this._tNode=p,this._lView=g}get(p,g,v){return lb(this._tNode,this._lView,p,v,g)}}const Kc="__parameters__";function Gc(y,p,g){return Le(()=>{const v=function fg(y){return function(...g){if(y){const v=y(...g);for(const _ in v)this[_]=v[_]}}}(p);function _(...E){if(this instanceof _)return v.apply(this,E),this;const w=new _(...E);return D.annotation=w,D;function D(O,L,z){const se=O.hasOwnProperty(Kc)?O[Kc]:Object.defineProperty(O,Kc,{value:[]})[Kc];for(;se.length<=z;)se.push(null);return(se[z]=se[z]||[]).push(w),O}}return g&&(_.prototype=Object.create(g.prototype)),_.prototype.ngMetadataName=y,_.annotationCls=_,_})}class ln{constructor(p,g){this._desc=p,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof g?this.__NG_ELEMENT_ID__=g:void 0!==g&&(this.\u0275prov=xt({token:this,providedIn:g.providedIn||"root",factory:g.factory}))}toString(){return`InjectionToken ${this._desc}`}}const I3=new ln("AnalyzeForEntryComponents");function sa(y,p){void 0===p&&(p=y);for(let g=0;g<y.length;g++){let v=y[g];Array.isArray(v)?(p===y&&(p=y.slice(0,g)),sa(v,p)):p!==y&&p.push(v)}return p}function Xa(y,p){y.forEach(g=>Array.isArray(g)?Xa(g,p):p(g))}function fb(y,p,g){p>=y.length?y.push(g):y.splice(p,0,g)}function Up(y,p){return p>=y.length-1?y.pop():y.splice(p,1)[0]}function Ys(y,p,g){let v=Hc(y,p);return v>=0?y[1|v]=g:(v=~v,function A3(y,p,g,v){let _=y.length;if(_==p)y.push(g,v);else if(1===_)y.push(v,y[0]),y[0]=g;else{for(_--,y.push(y[_-1],y[_]);_>p;)y[_]=y[_-2],_--;y[p]=g,y[p+1]=v}}(y,v,p,g)),v}function mg(y,p){const g=Hc(y,p);if(g>=0)return y[1|g]}function Hc(y,p){return function yb(y,p,g){let v=0,_=y.length>>g;for(;_!==v;){const E=v+(_-v>>1),w=y[E<<g];if(p===w)return E<<g;w>p?_=E:v=E+1}return~(_<<g)}(y,p,1)}const xh={},gg="__NG_DI_FLAG__",Vp="ngTempTokenPath",B3=/\n/gm,vb="__source",W3=jt({provide:String,useValue:jt});let Dh;function _b(y){const p=Dh;return Dh=y,p}function k3(y,p=cr.Default){if(void 0===Dh)throw new Zr(203,"");return null===Dh?rt(y,void 0,p):Dh.get(y,p&cr.Optional?null:void 0,p)}function pn(y,p=cr.Default){return(function dn(){return Qr}()||k3)(wr(y),p)}const $i=pn;function vg(y){const p=[];for(let g=0;g<y.length;g++){const v=wr(y[g]);if(Array.isArray(v)){if(0===v.length)throw new Zr(900,"");let _,E=cr.Default;for(let w=0;w<v.length;w++){const D=v[w],O=Z3(D);"number"==typeof O?-1===O?_=D.token:E|=O:_=D}p.push(pn(_,E))}else p.push(pn(v))}return p}function Oh(y,p){return y[gg]=p,y.prototype[gg]=p,y}function Z3(y){return y[gg]}const Wp=Oh(Gc("Inject",y=>({token:y})),-1),lu=Oh(Gc("Optional"),8),Sh=Oh(Gc("SkipSelf"),4);class Sb{constructor(p){this.changingThisBreaksApplicationSecurity=p}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function uu(y){return y instanceof Sb?y.changingThisBreaksApplicationSecurity:y}const dR=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,hR=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var vo=(()=>((vo=vo||{})[vo.NONE=0]="NONE",vo[vo.HTML=1]="HTML",vo[vo.STYLE=2]="STYLE",vo[vo.SCRIPT=3]="SCRIPT",vo[vo.URL=4]="URL",vo[vo.RESOURCE_URL=5]="RESOURCE_URL",vo))();function Dg(y){const p=function Ah(){const y=Sr();return y&&y[12]}();return p?p.sanitize(vo.URL,y)||"":function Th(y,p){const g=function aR(y){return y instanceof Sb&&y.getTypeName()||null}(y);if(null!=g&&g!==p){if("ResourceURL"===g&&"URL"===p)return!0;throw new Error(`Required a safe ${p}, got a ${g} (see https://g.co/ng/security#xss)`)}return g===p}(y,"URL")?uu(y):function Kp(y){return(y=String(y)).match(dR)||y.match(hR)?y:"unsafe:"+y}(Or(y))}const Ub="__ngContext__";function ns(y,p){y[Ub]=p}function Sg(y){const p=function Rh(y){return y[Ub]||null}(y);return p?Array.isArray(p)?p:p.lView:null}function Tg(y){return y.ngOriginalError}function NR(y,...p){y.error(...p)}class Lh{constructor(){this._console=console}handleError(p){const g=this._findOriginalError(p),v=function LR(y){return y&&y.ngErrorLogger||NR}(p);v(this._console,"ERROR",p),g&&v(this._console,"ORIGINAL ERROR",g)}_findOriginalError(p){let g=p&&Tg(p);for(;g&&Tg(g);)g=Tg(g);return g||null}}const KR=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Nr))();function qa(y){return y instanceof Function?y():y}var Xs=(()=>((Xs=Xs||{})[Xs.Important=1]="Important",Xs[Xs.DashCase=2]="DashCase",Xs))();function Ag(y,p){return undefined(y,p)}function Nh(y){const p=y[3];return Gs(p)?p[3]:p}function Rg(y){return Gb(y[13])}function Lg(y){return Gb(y[4])}function Gb(y){for(;null!==y&&!Gs(y);)y=y[4];return y}function Qc(y,p,g,v,_){if(null!=v){let E,w=!1;Gs(v)?E=v:oa(v)&&(w=!0,v=v[0]);const D=qe(v);0===y&&null!==g?null==_?qb(p,g,D):qu(p,g,D,_||null,!0):1===y&&null!==g?qu(p,g,D,_||null,!0):2===y?function sC(y,p,g){const v=Gp(y,p);v&&function o8(y,p,g,v){Ne(y)?y.removeChild(p,g,v):p.removeChild(g)}(y,v,p,g)}(p,D,w):3===y&&p.destroyNode(D),null!=E&&function l8(y,p,g,v,_){const E=g[7];E!==qe(g)&&Qc(p,y,v,E,_);for(let D=10;D<g.length;D++){const O=g[D];Fh(O[1],O,y,p,v,E)}}(p,y,E,g,_)}}function Fg(y,p,g){if(Ne(y))return y.createElement(p,g);{const v=null!==g?function Qi(y){const p=y.toLowerCase();return"svg"===p?"http://www.w3.org/2000/svg":"math"===p?"http://www.w3.org/1998/MathML/":null}(g):null;return null===v?y.createElement(p):y.createElementNS(v,p)}}function Jb(y,p){const g=y[9],v=g.indexOf(p),_=p[3];1024&p[2]&&(p[2]&=-1025,ou(_,-1)),g.splice(v,1)}function jg(y,p){if(y.length<=10)return;const g=10+p,v=y[g];if(v){const _=v[17];null!==_&&_!==y&&Jb(_,v),p>0&&(y[g-1][4]=v[4]);const E=Up(y,10+p);!function XR(y,p){Fh(y,p,p[11],2,null,null),p[0]=null,p[6]=null}(v[1],v);const w=E[19];null!==w&&w.detachView(E[1]),v[3]=null,v[4]=null,v[2]&=-129}return v}function Yb(y,p){if(!(256&p[2])){const g=p[11];Ne(g)&&g.destroyNode&&Fh(y,p,g,3,null,null),function e8(y){let p=y[13];if(!p)return Ug(y[1],y);for(;p;){let g=null;if(oa(p))g=p[13];else{const v=p[10];v&&(g=v)}if(!g){for(;p&&!p[4]&&p!==y;)oa(p)&&Ug(p[1],p),p=p[3];null===p&&(p=y),oa(p)&&Ug(p[1],p),g=p&&p[4]}p=g}}(p)}}function Ug(y,p){if(!(256&p[2])){p[2]&=-129,p[2]|=256,function i8(y,p){let g;if(null!=y&&null!=(g=y.destroyHooks))for(let v=0;v<g.length;v+=2){const _=p[g[v]];if(!(_ instanceof gh)){const E=g[v+1];if(Array.isArray(E))for(let w=0;w<E.length;w+=2){const D=_[E[w]],O=E[w+1];try{O.call(D)}finally{}}else try{E.call(_)}finally{}}}}(y,p),function n8(y,p){const g=y.cleanup,v=p[7];let _=-1;if(null!==g)for(let E=0;E<g.length-1;E+=2)if("string"==typeof g[E]){const w=g[E+1],D="function"==typeof w?w(p):qe(p[w]),O=v[_=g[E+2]],L=g[E+3];"boolean"==typeof L?D.removeEventListener(g[E],O,L):L>=0?v[_=L]():v[_=-L].unsubscribe(),E+=2}else{const w=v[_=g[E+1]];g[E].call(w)}if(null!==v){for(let E=_+1;E<v.length;E++)v[E]();p[7]=null}}(y,p),1===p[1].type&&Ne(p[11])&&p[11].destroy();const g=p[17];if(null!==g&&Gs(p[3])){g!==p[3]&&Jb(g,p);const v=p[19];null!==v&&v.detachView(y)}}}function Xb(y,p,g){return function Qb(y,p,g){let v=p;for(;null!==v&&40&v.type;)v=(p=v).parent;if(null===v)return g[0];if(2&v.flags){const _=y.data[v.directiveStart].encapsulation;if(_===Bt.None||_===Bt.Emulated)return null}return ur(v,g)}(y,p.parent,g)}function qu(y,p,g,v,_){Ne(y)?y.insertBefore(p,g,v,_):p.insertBefore(g,v,_)}function qb(y,p,g){Ne(y)?y.appendChild(p,g):p.appendChild(g)}function eC(y,p,g,v,_){null!==v?qu(y,p,g,v,_):qb(y,p,g)}function Gp(y,p){return Ne(y)?y.parentNode(p):p.parentNode}let nC=function rC(y,p,g){return 40&y.type?ur(y,g):null};function Hp(y,p,g,v){const _=Xb(y,v,p),E=p[11],D=function tC(y,p,g){return nC(y,p,g)}(v.parent||p[6],v,p);if(null!=_)if(Array.isArray(g))for(let O=0;O<g.length;O++)eC(E,_,g[O],D,!1);else eC(E,_,g,D,!1)}function Jp(y,p){if(null!==p){const g=p.type;if(3&g)return ur(p,y);if(4&g)return Vg(-1,y[p.index]);if(8&g){const v=p.child;if(null!==v)return Jp(y,v);{const _=y[p.index];return Gs(_)?Vg(-1,_):qe(_)}}if(32&g)return Ag(p,y)()||qe(y[p.index]);{const v=oC(y,p);return null!==v?Array.isArray(v)?v[0]:Jp(Nh(y[16]),v):Jp(y,p.next)}}return null}function oC(y,p){return null!==p?y[16][6].projection[p.projection]:null}function Vg(y,p){const g=10+y+1;if(g<p.length){const v=p[g],_=v[1].firstChild;if(null!==_)return Jp(v,_)}return p[7]}function Wg(y,p,g,v,_,E,w){for(;null!=g;){const D=v[g.index],O=g.type;if(w&&0===p&&(D&&ns(qe(D),v),g.flags|=4),64!=(64&g.flags))if(8&O)Wg(y,p,g.child,v,_,E,!1),Qc(p,y,_,D,E);else if(32&O){const L=Ag(g,v);let z;for(;z=L();)Qc(p,y,_,z,E);Qc(p,y,_,D,E)}else 16&O?aC(y,p,v,g,_,E):Qc(p,y,_,D,E);g=w?g.projectionNext:g.next}}function Fh(y,p,g,v,_,E){Wg(g,v,y.firstChild,p,_,E,!1)}function aC(y,p,g,v,_,E){const w=g[16],O=w[6].projection[v.projection];if(Array.isArray(O))for(let L=0;L<O.length;L++)Qc(p,y,_,O[L],E);else Wg(y,p,O,w[3],_,E,!0)}function lC(y,p,g){Ne(y)?y.setAttribute(p,"style",g):p.style.cssText=g}function kg(y,p,g){Ne(y)?""===g?y.removeAttribute(p,"class"):y.setAttribute(p,"class",g):p.className=g}function uC(y,p,g){let v=y.length;for(;;){const _=y.indexOf(p,g);if(-1===_)return _;if(0===_||y.charCodeAt(_-1)<=32){const E=p.length;if(_+E===v||y.charCodeAt(_+E)<=32)return _}g=_+1}}const cC="ng-template";function c8(y,p,g){let v=0;for(;v<y.length;){let _=y[v++];if(g&&"class"===_){if(_=y[v],-1!==uC(_.toLowerCase(),p,0))return!0}else if(1===_){for(;v<y.length&&"string"==typeof(_=y[v++]);)if(_.toLowerCase()===p)return!0;return!1}}return!1}function dC(y){return 4===y.type&&y.value!==cC}function d8(y,p,g){return p===(4!==y.type||g?y.value:cC)}function h8(y,p,g){let v=4;const _=y.attrs||[],E=function m8(y){for(let p=0;p<y.length;p++)if(tb(y[p]))return p;return y.length}(_);let w=!1;for(let D=0;D<p.length;D++){const O=p[D];if("number"!=typeof O){if(!w)if(4&v){if(v=2|1&v,""!==O&&!d8(y,O,g)||""===O&&1===p.length){if(Oa(v))return!1;w=!0}}else{const L=8&v?O:p[++D];if(8&v&&null!==y.attrs){if(!c8(y.attrs,L,g)){if(Oa(v))return!1;w=!0}continue}const se=f8(8&v?"class":O,_,dC(y),g);if(-1===se){if(Oa(v))return!1;w=!0;continue}if(""!==L){let Ee;Ee=se>E?"":_[se+1].toLowerCase();const Me=8&v?Ee:null;if(Me&&-1!==uC(Me,L,0)||2&v&&L!==Ee){if(Oa(v))return!1;w=!0}}}}else{if(!w&&!Oa(v)&&!Oa(O))return!1;if(w&&Oa(O))continue;w=!1,v=O|1&v}}return Oa(v)||w}function Oa(y){return 0==(1&y)}function f8(y,p,g,v){if(null===p)return-1;let _=0;if(v||!g){let E=!1;for(;_<p.length;){const w=p[_];if(w===y)return _;if(3===w||6===w)E=!0;else{if(1===w||2===w){let D=p[++_];for(;"string"==typeof D;)D=p[++_];continue}if(4===w)break;if(0===w){_+=4;continue}}_+=E?1:2}return-1}return function y8(y,p){let g=y.indexOf(4);if(g>-1)for(g++;g<y.length;){const v=y[g];if("number"==typeof v)return-1;if(v===p)return g;g++}return-1}(p,y)}function hC(y,p,g=!1){for(let v=0;v<p.length;v++)if(h8(y,p[v],g))return!0;return!1}function fC(y,p){return y?":not("+p.trim()+")":p}function v8(y){let p=y[0],g=1,v=2,_="",E=!1;for(;g<y.length;){let w=y[g];if("string"==typeof w)if(2&v){const D=y[++g];_+="["+w+(D.length>0?'="'+D+'"':"")+"]"}else 8&v?_+="."+w:4&v&&(_+=" "+w);else""!==_&&!Oa(w)&&(p+=fC(E,_),_=""),v=w,E=E||!Oa(v);g++}return""!==_&&(p+=fC(E,_)),p}const Nn={};function mC(y,p,g,v){if(!v)if(3==(3&p[2])){const E=y.preOrderCheckHooks;null!==E&&Tp(p,E,g)}else{const E=y.preOrderHooks;null!==E&&Pp(p,E,0,g)}su(g)}function Yp(y,p){return y<<17|p<<2}function Sa(y){return y>>17&32767}function Zg(y){return 2|y}function Il(y){return(131068&y)>>2}function $g(y,p){return-131069&y|p<<2}function Kg(y){return 1|y}function DC(y,p){const g=y.contentQueries;if(null!==g)for(let v=0;v<g.length;v+=2){const _=g[v],E=g[v+1];if(-1!==E){const w=y.data[E];og(_),w.contentQueries(2,p[E],E)}}}function jh(y,p,g,v,_,E,w,D,O,L){const z=p.blueprint.slice();return z[0]=_,z[2]=140|v,go(z),z[3]=z[15]=y,z[8]=g,z[10]=w||y&&y[10],z[11]=D||y&&y[11],z[12]=O||y&&y[12]||null,z[9]=L||y&&y[9]||null,z[6]=E,z[16]=2==p.type?y[16]:z,z}function qc(y,p,g,v,_){let E=y.data[p];if(null===E)E=function ev(y,p,g,v,_){const E=K2(),w=tg(),O=y.data[p]=function F8(y,p,g,v,_,E){return{type:g,index:v,insertBeforeIndex:null,injectorIndex:p?p.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:_,attrs:E,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:p,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?E:E&&E.parent,g,p,v,_);return null===y.firstChild&&(y.firstChild=O),null!==E&&(w?null==E.child&&null!==O.parent&&(E.child=O):null===E.next&&(E.next=O)),O}(y,p,g,v,_),function s3(){return wn.lFrame.inI18n}()&&(E.flags|=64);else if(64&E.type){E.type=g,E.value=v,E.attrs=_;const w=function yh(){const y=wn.lFrame,p=y.currentTNode;return y.isParent?p:p.parent}();E.injectorIndex=null===w?-1:w.injectorIndex}return Ya(E,!0),E}function ed(y,p,g,v){if(0===g)return-1;const _=p.length;for(let E=0;E<g;E++)p.push(v),y.blueprint.push(v),y.data.push(null);return _}function Uh(y,p,g){xp(p);try{const v=y.viewQuery;null!==v&&uv(1,v,g);const _=y.template;null!==_&&OC(y,p,_,1,g),y.firstCreatePass&&(y.firstCreatePass=!1),y.staticContentQueries&&DC(y,p),y.staticViewQueries&&uv(2,y.viewQuery,g);const E=y.components;null!==E&&function R8(y,p){for(let g=0;g<p.length;g++)e6(y,p[g])}(p,E)}catch(v){throw y.firstCreatePass&&(y.incompleteFirstPass=!0,y.firstCreatePass=!1),v}finally{p[2]&=-5,Dp()}}function td(y,p,g,v){const _=p[2];if(256==(256&_))return;xp(p);const E=Mp();try{go(p),function z2(y){return wn.lFrame.bindingIndex=y}(y.bindingStartIndex),null!==g&&OC(y,p,g,2,v);const w=3==(3&_);if(!E)if(w){const L=y.preOrderCheckHooks;null!==L&&Tp(p,L,null)}else{const L=y.preOrderHooks;null!==L&&Pp(p,L,0,null),sg(p,0)}if(function Q8(y){for(let p=Rg(y);null!==p;p=Lg(p)){if(!p[2])continue;const g=p[9];for(let v=0;v<g.length;v++){const _=g[v],E=_[3];0==(1024&_[2])&&ou(E,1),_[2]|=1024}}}(p),function X8(y){for(let p=Rg(y);null!==p;p=Lg(p))for(let g=10;g<p.length;g++){const v=p[g],_=v[1];Ln(v)&&td(_,v,_.template,v[8])}}(p),null!==y.contentQueries&&DC(y,p),!E)if(w){const L=y.contentCheckHooks;null!==L&&Tp(p,L)}else{const L=y.contentHooks;null!==L&&Pp(p,L,1),sg(p,1)}!function P8(y,p){const g=y.hostBindingOpCodes;if(null!==g)try{for(let v=0;v<g.length;v++){const _=g[v];if(_<0)su(~_);else{const E=_,w=g[++v],D=g[++v];a3(w,E),D(2,p[E])}}}finally{su(-1)}}(y,p);const D=y.components;null!==D&&function A8(y,p){for(let g=0;g<p.length;g++)q8(y,p[g])}(p,D);const O=y.viewQuery;if(null!==O&&uv(2,O,v),!E)if(w){const L=y.viewCheckHooks;null!==L&&Tp(p,L)}else{const L=y.viewHooks;null!==L&&Pp(p,L,2),sg(p,2)}!0===y.firstUpdatePass&&(y.firstUpdatePass=!1),E||(p[2]&=-73),1024&p[2]&&(p[2]&=-1025,ou(p[3],-1))}finally{Dp()}}function L8(y,p,g,v){const _=p[10],E=!Mp(),w=En(p);try{E&&!w&&_.begin&&_.begin(),w&&Uh(y,p,v),td(y,p,g,v)}finally{E&&!w&&_.end&&_.end()}}function OC(y,p,g,v,_){const E=ys(),w=2&v;try{su(-1),w&&p.length>20&&mC(y,p,20,Mp()),g(v,_)}finally{su(E)}}function IC(y){const p=y.tView;return null===p||p.incompleteFirstPass?y.tView=qp(1,null,y.template,y.decls,y.vars,y.directiveDefs,y.pipeDefs,y.viewQuery,y.schemas,y.consts):p}function qp(y,p,g,v,_,E,w,D,O,L){const z=20+v,se=z+_,Ee=function N8(y,p){const g=[];for(let v=0;v<p;v++)g.push(v<y?null:Nn);return g}(z,se),Me="function"==typeof L?L():L;return Ee[1]={type:y,blueprint:Ee,template:g,queries:null,viewQuery:D,declTNode:p,data:Ee.slice().fill(null,z),bindingStartIndex:z,expandoStartIndex:se,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof E?E():E,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:O,consts:Me,incompleteFirstPass:!1}}function AC(y,p,g,v){const _=kC(p);null===g?_.push(v):(_.push(g),y.firstCreatePass&&ZC(y).push(v,_.length-1))}function RC(y,p,g){for(let v in y)if(y.hasOwnProperty(v)){const _=y[v];(g=null===g?{}:g).hasOwnProperty(v)?g[v].push(p,_):g[v]=[p,_]}return g}function NC(y,p,g,v,_,E){const w=E.hostBindings;if(w){let D=y.hostBindingOpCodes;null===D&&(D=y.hostBindingOpCodes=[]);const O=~p.index;(function k8(y){let p=y.length;for(;p>0;){const g=y[--p];if("number"==typeof g&&g<0)return g}return 0})(D)!=O&&D.push(O),D.push(v,_,w)}}function FC(y,p){null!==y.hostBindings&&y.hostBindings(1,p)}function jC(y,p){p.flags|=2,(y.components||(y.components=[])).push(p.index)}function G8(y,p,g){if(g){if(p.exportAs)for(let v=0;v<p.exportAs.length;v++)g[p.exportAs[v]]=y;Hs(p)&&(g[""]=y)}}function UC(y,p,g){y.flags|=1,y.directiveStart=p,y.directiveEnd=p+g,y.providerIndexes=p}function BC(y,p,g,v,_){y.data[v]=_;const E=_.factory||(_.factory=Ja(_.type)),w=new gh(E,Hs(_),null);y.blueprint[v]=w,g[v]=w,NC(y,p,0,v,ed(y,g,_.hostVars,Nn),_)}function H8(y,p,g){const v=ur(p,y),_=IC(g),E=y[10],w=e0(y,jh(y,_,null,g.onPush?64:16,v,p,E,E.createRenderer(v,g),null,null));y[p.index]=w}function el(y,p,g,v,_,E){const w=ur(y,p);!function iv(y,p,g,v,_,E,w){if(null==E)Ne(y)?y.removeAttribute(p,_,g):p.removeAttribute(_);else{const D=null==w?Or(E):w(E,v||"",_);Ne(y)?y.setAttribute(p,_,D,g):g?p.setAttributeNS(g,_,D):p.setAttribute(_,D)}}(p[11],w,E,y.value,g,v,_)}function J8(y,p,g,v,_,E){const w=E[p];if(null!==w){const D=v.setInput;for(let O=0;O<w.length;){const L=w[O++],z=w[O++],se=w[O++];null!==D?v.setInput(g,se,L,z):g[z]=se}}}function Y8(y,p){let g=null,v=0;for(;v<p.length;){const _=p[v];if(0!==_)if(5!==_){if("number"==typeof _)break;y.hasOwnProperty(_)&&(null===g&&(g=[]),g.push(_,y[_],p[v+1])),v+=2}else v+=2;else v+=4}return g}function q8(y,p){const g=Hr(p,y);if(Ln(g)){const v=g[1];80&g[2]?td(v,g,v.template,g[8]):g[5]>0&&ov(g)}}function ov(y){for(let v=Rg(y);null!==v;v=Lg(v))for(let _=10;_<v.length;_++){const E=v[_];if(1024&E[2]){const w=E[1];td(w,E,w.template,E[8])}else E[5]>0&&ov(E)}const g=y[1].components;if(null!==g)for(let v=0;v<g.length;v++){const _=Hr(g[v],y);Ln(_)&&_[5]>0&&ov(_)}}function e6(y,p){const g=Hr(p,y),v=g[1];(function t6(y,p){for(let g=p.length;g<y.blueprint.length;g++)p.push(y.blueprint[g])})(v,g),Uh(v,g,g[8])}function e0(y,p){return y[13]?y[14][4]=p:y[13]=p,y[14]=p,p}function sv(y){for(;y;){y[2]|=64;const p=Nh(y);if(Fy(y)&&!p)return y;y=p}return null}function lv(y,p,g){const v=p[10];v.begin&&v.begin();try{td(y,p,y.template,g)}catch(_){throw KC(p,_),_}finally{v.end&&v.end()}}function WC(y){!function av(y){for(let p=0;p<y.components.length;p++){const g=y.components[p],v=Sg(g),_=v[1];L8(_,v,_.template,g)}}(y[8])}function uv(y,p,g){og(0),p(y,g)}const o6=(()=>Promise.resolve(null))();function kC(y){return y[7]||(y[7]=[])}function ZC(y){return y.cleanup||(y.cleanup=[])}function KC(y,p){const g=y[9],v=g?g.get(Lh,null):null;v&&v.handleError(p)}function Tl(y,p,g){const v=Kt(p,y);!function Hb(y,p,g){Ne(y)?y.setValue(p,g):p.textContent=g}(y[11],v,g)}function t0(y,p,g){let v=g?y.styles:null,_=g?y.classes:null,E=0;if(null!==p)for(let w=0;w<p.length;w++){const D=p[w];"number"==typeof D?E=D:1==E?_=Kr(_,D):2==E&&(v=Kr(v,D+": "+p[++w]+";"))}g?y.styles=v:y.stylesWithoutHost=v,g?y.classes=_:y.classesWithoutHost=_}const cv=new ln("INJECTOR",-1);class GC{get(p,g=xh){if(g===xh){const v=new Error(`NullInjectorError: No provider for ${_r(p)}!`);throw v.name="NullInjectorError",v}return g}}const dv=new ln("Set Injector scope."),Bh={},l6={};let hv;function HC(){return void 0===hv&&(hv=new GC),hv}function JC(y,p=null,g=null,v){const _=YC(y,p,g,v);return _._resolveInjectorDefTypes(),_}function YC(y,p=null,g=null,v){return new u6(y,g,p||HC(),v)}class u6{constructor(p,g,v,_=null){this.parent=v,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const E=[];g&&Xa(g,D=>this.processProvider(D,p,g)),Xa([p],D=>this.processInjectorType(D,[],E)),this.records.set(cv,rd(void 0,this));const w=this.records.get(dv);this.scope=null!=w?w.value:null,this.source=_||("object"==typeof p?null:_r(p))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(p=>p.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(p,g=xh,v=cr.Default){this.assertNotDestroyed();const _=_b(this),E=je(void 0);try{if(!(v&cr.SkipSelf)){let D=this.records.get(p);if(void 0===D){const O=function g6(y){return"function"==typeof y||"object"==typeof y&&y instanceof ln}(p)&&sr(p);D=O&&this.injectableDefInScope(O)?rd(fv(p),Bh):null,this.records.set(p,D)}if(null!=D)return this.hydrate(p,D)}return(v&cr.Self?HC():this.parent).get(p,g=v&cr.Optional&&g===xh?null:g)}catch(w){if("NullInjectorError"===w.name){if((w[Vp]=w[Vp]||[]).unshift(_r(p)),_)throw w;return function $3(y,p,g,v){const _=y[Vp];throw p[vb]&&_.unshift(p[vb]),y.message=function K3(y,p,g,v=null){y=y&&"\n"===y.charAt(0)&&"\u0275"==y.charAt(1)?y.substr(2):y;let _=_r(p);if(Array.isArray(p))_=p.map(_r).join(" -> ");else if("object"==typeof p){let E=[];for(let w in p)if(p.hasOwnProperty(w)){let D=p[w];E.push(w+":"+("string"==typeof D?JSON.stringify(D):_r(D)))}_=`{${E.join(", ")}}`}return`${g}${v?"("+v+")":""}[${_}]: ${y.replace(B3,"\n  ")}`}("\n"+y.message,_,g,v),y.ngTokenPath=_,y[Vp]=null,y}(w,p,"R3InjectorError",this.source)}throw w}finally{je(E),_b(_)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(p=>this.get(p))}toString(){const p=[];return this.records.forEach((v,_)=>p.push(_r(_))),`R3Injector[${p.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Zr(205,!1)}processInjectorType(p,g,v){if(!(p=wr(p)))return!1;let _=_t(p);const E=null==_&&p.ngModule||void 0,w=void 0===E?p:E,D=-1!==v.indexOf(w);if(void 0!==E&&(_=_t(E)),null==_)return!1;if(null!=_.imports&&!D){let z;v.push(w);try{Xa(_.imports,se=>{this.processInjectorType(se,g,v)&&(void 0===z&&(z=[]),z.push(se))})}finally{}if(void 0!==z)for(let se=0;se<z.length;se++){const{ngModule:Ee,providers:Me}=z[se];Xa(Me,Ge=>this.processProvider(Ge,Ee,Me||gn))}}this.injectorDefTypes.add(w);const O=Ja(w)||(()=>new w);this.records.set(w,rd(O,Bh));const L=_.providers;if(null!=L&&!D){const z=p;Xa(L,se=>this.processProvider(se,z,L))}return void 0!==E&&void 0!==p.providers}processProvider(p,g,v){let _=nd(p=wr(p))?p:wr(p&&p.provide);const E=function d6(y,p,g){return QC(y)?rd(void 0,y.useValue):rd(function XC(y,p,g){let v;if(nd(y)){const _=wr(y);return Ja(_)||fv(_)}if(QC(y))v=()=>wr(y.useValue);else if(function f6(y){return!(!y||!y.useFactory)}(y))v=()=>y.useFactory(...vg(y.deps||[]));else if(function h6(y){return!(!y||!y.useExisting)}(y))v=()=>pn(wr(y.useExisting));else{const _=wr(y&&(y.useClass||y.provide));if(!function m6(y){return!!y.deps}(y))return Ja(_)||fv(_);v=()=>new _(...vg(y.deps))}return v}(y),Bh)}(p);if(nd(p)||!0!==p.multi)this.records.get(_);else{let w=this.records.get(_);w||(w=rd(void 0,Bh,!0),w.factory=()=>vg(w.multi),this.records.set(_,w)),_=p,w.multi.push(p)}this.records.set(_,E)}hydrate(p,g){return g.value===Bh&&(g.value=l6,g.value=g.factory()),"object"==typeof g.value&&g.value&&function y6(y){return null!==y&&"object"==typeof y&&"function"==typeof y.ngOnDestroy}(g.value)&&this.onDestroy.add(g.value),g.value}injectableDefInScope(p){if(!p.providedIn)return!1;const g=wr(p.providedIn);return"string"==typeof g?"any"===g||g===this.scope:this.injectorDefTypes.has(g)}}function fv(y){const p=sr(y),g=null!==p?p.factory:Ja(y);if(null!==g)return g;if(y instanceof ln)throw new Zr(204,!1);if(y instanceof Function)return function c6(y){const p=y.length;if(p>0)throw function wh(y,p){const g=[];for(let v=0;v<y;v++)g.push(p);return g}(p,"?"),new Zr(204,!1);const g=function hr(y){const p=y&&(y[Ft]||y[pr]);if(p){const g=function nr(y){if(y.hasOwnProperty("name"))return y.name;const p=(""+y).match(/^function\s*([^\s(]+)/);return null===p?"":p[1]}(y);return console.warn(`DEPRECATED: DI is instantiating a token "${g}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${g}" class.`),p}return null}(y);return null!==g?()=>g.factory(y):()=>new y}(y);throw new Zr(204,!1)}function rd(y,p,g=!1){return{factory:y,value:p,multi:g?[]:void 0}}function QC(y){return null!==y&&"object"==typeof y&&W3 in y}function nd(y){return"function"==typeof y}let is=(()=>{class y{static create(g,v){var _;if(Array.isArray(g))return JC({name:""},v,g,"");{const E=null!==(_=g.name)&&void 0!==_?_:"";return JC({name:E},g.parent,g.providers,E)}}}return y.THROW_IF_NOT_FOUND=xh,y.NULL=new GC,y.\u0275prov=xt({token:y,providedIn:"any",factory:()=>pn(cv)}),y.__NG_ELEMENT_ID__=-1,y})();function x6(y,p){Ip(Sg(y)[1],Do())}let r0=null;function id(){if(!r0){const y=Nr.Symbol;if(y&&y.iterator)r0=y.iterator;else{const p=Object.getOwnPropertyNames(Map.prototype);for(let g=0;g<p.length;++g){const v=p[g];"entries"!==v&&"size"!==v&&Map.prototype[v]===Map.prototype.entries&&(r0=v)}}}return r0}function os(y,p,g){return!Object.is(y[p],g)&&(y[p]=g,!0)}function rl(y,p,g,v){const _=Sr();return os(_,Vc(),p)&&(ti(),el(function qi(){const y=wn.lFrame;return Ir(y.tView,y.selectedIndex)}(),_,y,p,g,v)),rl}function Ar(y,p=cr.Default){const g=Sr();return null===g?pn(y,p):lb(Do(),g,wr(y),p)}function Cv(){throw new Error("invalid")}function Mv(y,p,g,v,_){const w=_?"class":"style";!function zC(y,p,g,v,_){for(let E=0;E<g.length;){const w=g[E++],D=g[E++],O=p[w],L=y.data[w];null!==L.setInput?L.setInput(O,_,v,D):O[D]=_}}(y,g,p.inputs[w],w,v)}function _o(y,p,g,v){const _=Sr(),E=ti(),w=20+y,D=_[11],O=_[w]=Fg(D,p,function p3(){return wn.lFrame.currentNamespace}()),L=E.firstCreatePass?function o4(y,p,g,v,_,E,w){const D=p.consts,L=qc(p,y,2,_,fn(D,E));return function nv(y,p,g,v){let _=!1;if(ph()){const E=function K8(y,p,g){const v=y.directiveRegistry;let _=null;if(v)for(let E=0;E<v.length;E++){const w=v[E];hC(g,w.selectors,!1)&&(_||(_=[]),Fp(_h(g,p),y,w.type),Hs(w)?(jC(y,g),_.unshift(w)):_.push(w))}return _}(y,p,g),w=null===v?null:{"":-1};if(null!==E){_=!0,UC(g,y.data.length,E.length);for(let z=0;z<E.length;z++){const se=E[z];se.providersResolver&&se.providersResolver(se)}let D=!1,O=!1,L=ed(y,p,E.length,null);for(let z=0;z<E.length;z++){const se=E[z];g.mergedAttrs=Rp(g.mergedAttrs,se.hostAttrs),BC(y,g,p,L,se),G8(L,se,w),null!==se.contentQueries&&(g.flags|=8),(null!==se.hostBindings||null!==se.hostAttrs||0!==se.hostVars)&&(g.flags|=128);const Ee=se.type.prototype;!D&&(Ee.ngOnChanges||Ee.ngOnInit||Ee.ngDoCheck)&&((y.preOrderHooks||(y.preOrderHooks=[])).push(g.index),D=!0),!O&&(Ee.ngOnChanges||Ee.ngDoCheck)&&((y.preOrderCheckHooks||(y.preOrderCheckHooks=[])).push(g.index),O=!0),L++}!function j8(y,p){const v=p.directiveEnd,_=y.data,E=p.attrs,w=[];let D=null,O=null;for(let L=p.directiveStart;L<v;L++){const z=_[L],se=z.inputs,Ee=null===E||dC(p)?null:Y8(se,E);w.push(Ee),D=RC(se,L,D),O=RC(z.outputs,L,O)}null!==D&&(D.hasOwnProperty("class")&&(p.flags|=16),D.hasOwnProperty("style")&&(p.flags|=32)),p.initialInputs=w,p.inputs=D,p.outputs=O}(y,g)}w&&function z8(y,p,g){if(p){const v=y.localNames=[];for(let _=0;_<p.length;_+=2){const E=g[p[_+1]];if(null==E)throw new Zr(-301,!1);v.push(p[_],E)}}}(g,v,w)}return g.mergedAttrs=Rp(g.mergedAttrs,g.attrs),_}(p,g,L,fn(D,w)),null!==L.attrs&&t0(L,L.attrs,!1),null!==L.mergedAttrs&&t0(L,L.mergedAttrs,!0),null!==p.queries&&p.queries.elementStart(p,L),L}(w,E,_,0,p,g,v):E.data[w];Ya(L,!0);const z=L.mergedAttrs;null!==z&&Ap(D,O,z);const se=L.classes;null!==se&&kg(D,O,se);const Ee=L.styles;return null!==Ee&&lC(D,O,Ee),64!=(64&L.flags)&&Hp(E,_,O,L),0===function Qu(){return wn.lFrame.elementDepthCount}()&&ns(O,_),function Qy(){wn.lFrame.elementDepthCount++}(),Lc(L)&&(function tv(y,p,g){!ph()||(function Z8(y,p,g,v){const _=g.directiveStart,E=g.directiveEnd;y.firstCreatePass||_h(g,p),ns(v,p);const w=g.initialInputs;for(let D=_;D<E;D++){const O=y.data[D],L=Hs(O);L&&H8(p,g,O);const z=Eh(p,y,D,g);ns(z,p),null!==w&&J8(0,D-_,z,O,0,w),L&&(Hr(g.index,p)[8]=z)}}(y,p,g,ur(g,p)),128==(128&g.flags)&&function $8(y,p,g){const v=g.directiveStart,_=g.directiveEnd,w=g.index,D=function l3(){return wn.lFrame.currentDirectiveIndex}();try{su(w);for(let O=v;O<_;O++){const L=y.data[O],z=p[O];ng(O),(null!==L.hostBindings||0!==L.hostVars||null!==L.hostAttrs)&&FC(L,z)}}finally{su(-1),ng(D)}}(y,p,g))}(E,_,L),function SC(y,p,g){if(dh(p)){const _=p.directiveEnd;for(let E=p.directiveStart;E<_;E++){const w=y.data[E];w.contentQueries&&w.contentQueries(1,g[E],E)}}}(E,L,_)),null!==v&&function rv(y,p,g=ur){const v=p.localNames;if(null!==v){let _=p.index+1;for(let E=0;E<v.length;E+=2){const w=v[E+1],D=-1===w?g(p,y):y[w];y[_++]=D}}}(_,L),_o}function Eo(){let y=Do();tg()?function rg(){wn.lFrame.isParent=!1}():(y=y.parent,Ya(y,!1));const p=y;!function qy(){wn.lFrame.elementDepthCount--}();const g=ti();return g.firstCreatePass&&(Ip(g,y),dh(y)&&g.queries.elementEnd(y)),null!=p.classesWithoutHost&&function _3(y){return 0!=(16&y.flags)}(p)&&Mv(g,p,Sr(),p.classesWithoutHost,!0),null!=p.stylesWithoutHost&&function E3(y){return 0!=(32&y.flags)}(p)&&Mv(g,p,Sr(),p.stylesWithoutHost,!1),Eo}function Ta(y,p,g,v){return _o(y,p,g,v),Eo(),Ta}function kh(y){return!!y&&"function"==typeof y.then}const Dv=function AM(y){return!!y&&"function"==typeof y.subscribe};function vs(y,p,g,v){const _=Sr(),E=ti(),w=Do();return function LM(y,p,g,v,_,E,w,D){const O=Lc(v),z=y.firstCreatePass&&ZC(y),se=p[8],Ee=kC(p);let Me=!0;if(3&v.type||D){const vt=ur(v,p),Ct=D?D(vt):vt,pt=Ee.length,Nt=D?zt=>D(qe(zt[v.index])):v.index;if(Ne(g)){let zt=null;if(!D&&O&&(zt=function l4(y,p,g,v){const _=y.cleanup;if(null!=_)for(let E=0;E<_.length-1;E+=2){const w=_[E];if(w===g&&_[E+1]===v){const D=p[7],O=_[E+2];return D.length>O?D[O]:null}"string"==typeof w&&(E+=2)}return null}(y,p,_,v.index)),null!==zt)(zt.__ngLastListenerFn__||zt).__ngNextListenerFn__=E,zt.__ngLastListenerFn__=E,Me=!1;else{E=Ov(v,p,se,E,!1);const ar=g.listen(Ct,_,E);Ee.push(E,ar),z&&z.push(_,Nt,pt,pt+1)}}else E=Ov(v,p,se,E,!0),Ct.addEventListener(_,E,w),Ee.push(E),z&&z.push(_,Nt,pt,w)}else E=Ov(v,p,se,E,!1);const Ge=v.outputs;let st;if(Me&&null!==Ge&&(st=Ge[_])){const vt=st.length;if(vt)for(let Ct=0;Ct<vt;Ct+=2){const Mr=p[st[Ct]][st[Ct+1]].subscribe(E),jr=Ee.length;Ee.push(E,Mr),z&&z.push(_,v.index,jr,-(jr+1))}}}(E,_,_[11],w,y,p,!!g,v),vs}function NM(y,p,g,v){try{return!1!==g(v)}catch(_){return KC(y,_),!1}}function Ov(y,p,g,v,_){return function E(w){if(w===Function)return v;const D=2&y.flags?Hr(y.index,p):p;0==(32&p[2])&&sv(D);let O=NM(p,0,v,w),L=E.__ngNextListenerFn__;for(;L;)O=NM(p,0,L,w)&&O,L=L.__ngNextListenerFn__;return _&&!1===O&&(w.preventDefault(),w.returnValue=!1),O}}function KM(y,p,g,v,_){const E=y[g+1],w=null===p;let D=v?Sa(E):Il(E),O=!1;for(;0!==D&&(!1===O||w);){const z=y[D+1];m4(y[D],p)&&(O=!0,y[D+1]=v?Kg(z):Zg(z)),D=v?Sa(z):Il(z)}O&&(y[g+1]=v?Zg(E):Kg(E))}function m4(y,p){return null===y||null==p||(Array.isArray(y)?y[1]:y)===p||!(!Array.isArray(y)||"string"!=typeof p)&&Hc(y,p)>=0}function Iv(y,p,g){return function Pa(y,p,g,v){const _=Sr(),E=ti(),w=function Sl(y){const p=wn.lFrame,g=p.bindingIndex;return p.bindingIndex=p.bindingIndex+y,g}(2);E.firstUpdatePass&&function qM(y,p,g,v){const _=y.data;if(null===_[g+1]){const E=_[ys()],w=function QM(y,p){return p>=y.expandoStartIndex}(y,g);(function nw(y,p){return 0!=(y.flags&(p?16:32))})(E,v)&&null===p&&!w&&(p=!1),p=function w4(y,p,g,v){const _=function ig(y){const p=wn.lFrame.currentDirectiveIndex;return-1===p?null:y[p]}(y);let E=v?p.residualClasses:p.residualStyles;if(null===_)0===(v?p.classBindings:p.styleBindings)&&(g=Zh(g=Tv(null,y,p,g,v),p.attrs,v),E=null);else{const w=p.directiveStylingLast;if(-1===w||y[w]!==_)if(g=Tv(_,y,p,g,v),null===E){let O=function x4(y,p,g){const v=g?p.classBindings:p.styleBindings;if(0!==Il(v))return y[Sa(v)]}(y,p,v);void 0!==O&&Array.isArray(O)&&(O=Tv(null,y,p,O[1],v),O=Zh(O,p.attrs,v),function D4(y,p,g,v){y[Sa(g?p.classBindings:p.styleBindings)]=v}(y,p,v,O))}else E=function O4(y,p,g){let v;const _=p.directiveEnd;for(let E=1+p.directiveStylingLast;E<_;E++)v=Zh(v,y[E].hostAttrs,g);return Zh(v,p.attrs,g)}(y,p,v)}return void 0!==E&&(v?p.residualClasses=E:p.residualStyles=E),g}(_,E,p,v),function f4(y,p,g,v,_,E){let w=E?p.classBindings:p.styleBindings,D=Sa(w),O=Il(w);y[v]=g;let z,L=!1;if(Array.isArray(g)){const se=g;z=se[1],(null===z||Hc(se,z)>0)&&(L=!0)}else z=g;if(_)if(0!==O){const Ee=Sa(y[D+1]);y[v+1]=Yp(Ee,D),0!==Ee&&(y[Ee+1]=$g(y[Ee+1],v)),y[D+1]=function b8(y,p){return 131071&y|p<<17}(y[D+1],v)}else y[v+1]=Yp(D,0),0!==D&&(y[D+1]=$g(y[D+1],v)),D=v;else y[v+1]=Yp(O,0),0===D?D=v:y[O+1]=$g(y[O+1],v),O=v;L&&(y[v+1]=Zg(y[v+1])),KM(y,z,v,!0),KM(y,z,v,!1),function p4(y,p,g,v,_){const E=_?y.residualClasses:y.residualStyles;null!=E&&"string"==typeof p&&Hc(E,p)>=0&&(g[v+1]=Kg(g[v+1]))}(p,z,y,v,E),w=Yp(D,O),E?p.classBindings=w:p.styleBindings=w}(_,E,p,g,w,v)}}(E,y,w,v),p!==Nn&&os(_,w,p)&&function tw(y,p,g,v,_,E,w,D){if(!(3&p.type))return;const O=y.data,L=O[D+1];a0(function vC(y){return 1==(1&y)}(L)?rw(O,p,g,_,Il(L),w):void 0)||(a0(E)||function gC(y){return 2==(2&y)}(L)&&(E=rw(O,null,g,_,D,w)),function u8(y,p,g,v,_){const E=Ne(y);if(p)_?E?y.addClass(g,v):g.classList.add(v):E?y.removeClass(g,v):g.classList.remove(v);else{let w=-1===v.indexOf("-")?void 0:Xs.DashCase;if(null==_)E?y.removeStyle(g,v,w):g.style.removeProperty(v);else{const D="string"==typeof _&&_.endsWith("!important");D&&(_=_.slice(0,-10),w|=Xs.Important),E?y.setStyle(g,v,_,w):g.style.setProperty(v,_,D?"important":"")}}}(v,w,Kt(ys(),g),_,E))}(E,E.data[ys()],_,_[11],y,_[w+1]=function T4(y,p){return null==y||("string"==typeof p?y+=p:"object"==typeof y&&(y=_r(uu(y)))),y}(p,g),v,w)}(y,p,g,!1),Iv}function Tv(y,p,g,v,_){let E=null;const w=g.directiveEnd;let D=g.directiveStylingLast;for(-1===D?D=g.directiveStart:D++;D<w&&(E=p[D],v=Zh(v,E.hostAttrs,_),E!==y);)D++;return null!==y&&(g.directiveStylingLast=D),v}function Zh(y,p,g){const v=g?1:2;let _=-1;if(null!==p)for(let E=0;E<p.length;E++){const w=p[E];"number"==typeof w?_=w:_===v&&(Array.isArray(y)||(y=void 0===y?[]:["",y]),Ys(y,w,!!g||p[++E]))}return void 0===y?null:y}function rw(y,p,g,v,_,E){const w=null===p;let D;for(;_>0;){const O=y[_],L=Array.isArray(O),z=L?O[1]:O,se=null===z;let Ee=g[_+1];Ee===Nn&&(Ee=se?gn:void 0);let Me=se?mg(Ee,v):z===v?Ee:void 0;if(L&&!a0(Me)&&(Me=mg(O,v)),a0(Me)&&(D=Me,w))return D;const Ge=y[_+1];_=w?Sa(Ge):Il(Ge)}if(null!==p){let O=E?p.residualClasses:p.residualStyles;null!=O&&(D=mg(O,v))}return D}function a0(y){return void 0!==y}function la(y,p=""){const g=Sr(),v=ti(),_=y+20,E=v.firstCreatePass?qc(v,_,1,p,null):v.data[_],w=g[_]=function Ng(y,p){return Ne(y)?y.createText(p):y.createTextNode(p)}(g[11],p);Hp(v,g,w,E),Ya(E,!1)}function l0(y,p,g){const v=Sr(),_=function sd(y,p,g,v){return os(y,Vc(),g)?p+Or(g)+v:Nn}(v,y,p,g);return _!==Nn&&Tl(v,ys(),_),l0}const u0="en-US";let Dw=u0;class Xw{}class QL{resolveComponentFactory(p){throw function XL(y){const p=Error(`No component factory found for ${_r(y)}. Did you add it to @NgModule.entryComponents?`);return p.ngComponent=y,p}(p)}}let Hh=(()=>{class y{}return y.NULL=new QL,y})();function qL(){return vd(Do(),Sr())}function vd(y,p){return new qs(ur(y,p))}let qs=(()=>{class y{constructor(g){this.nativeElement=g}}return y.__NG_ELEMENT_ID__=qL,y})();function e5(y){return y instanceof qs?y.nativeElement:y}class qw{}let n5=(()=>{class y{}return y.\u0275prov=xt({token:y,providedIn:"root",factory:()=>null}),y})();class Jh{constructor(p){this.full=p,this.major=p.split(".")[0],this.minor=p.split(".")[1],this.patch=p.split(".").slice(2).join(".")}}const i5=new Jh("13.2.7"),jv={};function p0(y,p,g,v,_=!1){for(;null!==g;){const E=p[g.index];if(null!==E&&v.push(qe(E)),Gs(E))for(let D=10;D<E.length;D++){const O=E[D],L=O[1].firstChild;null!==L&&p0(O[1],O,L,v)}const w=g.type;if(8&w)p0(y,p,g.child,v);else if(32&w){const D=Ag(g,p);let O;for(;O=D();)v.push(O)}else if(16&w){const D=oC(p,g);if(Array.isArray(D))v.push(...D);else{const O=Nh(p[16]);p0(O[1],O,D,v,!0)}}g=_?g.projectionNext:g.next}return v}class Yh{constructor(p,g){this._lView=p,this._cdRefInjectingView=g,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const p=this._lView,g=p[1];return p0(g,p,g.firstChild,[])}get context(){return this._lView[8]}set context(p){this._lView[8]=p}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const p=this._lView[3];if(Gs(p)){const g=p[8],v=g?g.indexOf(this):-1;v>-1&&(jg(p,v),Up(g,v))}this._attachedToViewContainer=!1}Yb(this._lView[1],this._lView)}onDestroy(p){AC(this._lView[1],this._lView,null,p)}markForCheck(){sv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){lv(this._lView[1],this._lView,this.context)}checkNoChanges(){!function n6(y,p,g){wp(!0);try{lv(y,p,g)}finally{wp(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Zr(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function qR(y,p){Fh(y,p,p[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(p){if(this._attachedToViewContainer)throw new Zr(902,"");this._appRef=p}}class o5 extends Yh{constructor(p){super(p),this._view=p}detectChanges(){WC(this._view)}checkNoChanges(){!function i6(y){wp(!0);try{WC(y)}finally{wp(!1)}}(this._view)}get context(){return null}}class ex extends Hh{constructor(p){super(),this.ngModule=p}resolveComponentFactory(p){const g=Fo(p);return new Uv(g,this.ngModule)}}function tx(y){const p=[];for(let g in y)y.hasOwnProperty(g)&&p.push({propName:y[g],templateName:g});return p}class Uv extends Xw{constructor(p,g){super(),this.componentDef=p,this.ngModule=g,this.componentType=p.type,this.selector=function _8(y){return y.map(v8).join(",")}(p.selectors),this.ngContentSelectors=p.ngContentSelectors?p.ngContentSelectors:[],this.isBoundToModule=!!g}get inputs(){return tx(this.componentDef.inputs)}get outputs(){return tx(this.componentDef.outputs)}create(p,g,v,_){const E=(_=_||this.ngModule)?function a5(y,p){return{get:(g,v,_)=>{const E=y.get(g,jv,_);return E!==jv||v===jv?E:p.get(g,v,_)}}}(p,_.injector):p,w=E.get(qw,Oe),D=E.get(n5,null),O=w.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",z=v?function PC(y,p,g){if(Ne(y))return y.selectRootElement(p,g===Bt.ShadowDom);let v="string"==typeof p?y.querySelector(p):p;return v.textContent="",v}(O,v,this.componentDef.encapsulation):Fg(w.createRenderer(null,this.componentDef),L,function s5(y){const p=y.toLowerCase();return"svg"===p?"svg":"math"===p?"math":null}(L)),se=this.componentDef.onPush?576:528,Ee=function uM(y,p){return{components:[],scheduler:y||KR,clean:o6,playerHandler:p||null,flags:0}}(),Me=qp(0,null,null,1,0,null,null,null,null,null),Ge=jh(null,Me,Ee,se,null,null,w,O,D,E);let st,vt;xp(Ge);try{const Ct=function aM(y,p,g,v,_,E){const w=g[1];g[20]=y;const O=qc(w,20,2,"#host",null),L=O.mergedAttrs=p.hostAttrs;null!==L&&(t0(O,L,!0),null!==y&&(Ap(_,y,L),null!==O.classes&&kg(_,y,O.classes),null!==O.styles&&lC(_,y,O.styles)));const z=v.createRenderer(y,p),se=jh(g,IC(p),null,p.onPush?64:16,g[20],O,v,z,E||null,null);return w.firstCreatePass&&(Fp(_h(O,g),w,p.type),jC(w,O),UC(O,g.length,1)),e0(g,se),g[20]=se}(z,this.componentDef,Ge,w,O);if(z)if(v)Ap(O,z,["ng-version",i5.full]);else{const{attrs:pt,classes:Nt}=function E8(y){const p=[],g=[];let v=1,_=2;for(;v<y.length;){let E=y[v];if("string"==typeof E)2===_?""!==E&&p.push(E,y[++v]):8===_&&g.push(E);else{if(!Oa(_))break;_=E}v++}return{attrs:p,classes:g}}(this.componentDef.selectors[0]);pt&&Ap(O,z,pt),Nt&&Nt.length>0&&kg(O,z,Nt.join(" "))}if(vt=Ir(Me,20),void 0!==g){const pt=vt.projection=[];for(let Nt=0;Nt<this.ngContentSelectors.length;Nt++){const zt=g[Nt];pt.push(null!=zt?Array.from(zt):null)}}st=function lM(y,p,g,v,_){const E=g[1],w=function W8(y,p,g){const v=Do();y.firstCreatePass&&(g.providersResolver&&g.providersResolver(g),BC(y,v,p,ed(y,p,1,null),g));const _=Eh(p,y,v.directiveStart,v);ns(_,p);const E=ur(v,p);return E&&ns(E,p),_}(E,g,p);if(v.components.push(w),y[8]=w,_&&_.forEach(O=>O(w,p)),p.contentQueries){const O=Do();p.contentQueries(1,w,O.directiveStart)}const D=Do();return!E.firstCreatePass||null===p.hostBindings&&null===p.hostAttrs||(su(D.index),NC(g[1],D,0,D.directiveStart,D.directiveEnd,p),FC(p,w)),w}(Ct,this.componentDef,Ge,Ee,[x6]),Uh(Me,Ge,null)}finally{Dp()}return new u5(this.componentType,st,vd(vt,Ge),Ge,vt)}}class u5 extends class YL{}{constructor(p,g,v,_,E){super(),this.location=v,this._rootLView=_,this._tNode=E,this.instance=g,this.hostView=this.changeDetectorRef=new o5(_),this.componentType=p}get injector(){return new Zc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(p){this.hostView.onDestroy(p)}}class Al{}class rx{}const _d=new Map;class ox extends Al{constructor(p,g){super(),this._parent=g,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ex(this);const v=mo(p);this._bootstrapComponents=qa(v.bootstrap),this._r3Injector=YC(p,g,[{provide:Al,useValue:this},{provide:Hh,useValue:this.componentFactoryResolver}],_r(p)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(p)}get(p,g=is.THROW_IF_NOT_FOUND,v=cr.Default){return p===is||p===Al||p===cv?this:this._r3Injector.get(p,g,v)}destroy(){const p=this._r3Injector;!p.destroyed&&p.destroy(),this.destroyCbs.forEach(g=>g()),this.destroyCbs=null}onDestroy(p){this.destroyCbs.push(p)}}class Bv extends rx{constructor(p){super(),this.moduleType=p,null!==mo(p)&&function d5(y){const p=new Set;!function g(v){const _=mo(v,!0),E=_.id;null!==E&&(function nx(y,p,g){if(p&&p!==g)throw new Error(`Duplicate module registered for ${y} - ${_r(p)} vs ${_r(p.name)}`)}(E,_d.get(E),v),_d.set(E,v));const w=qa(_.imports);for(const D of w)p.has(D)||(p.add(D),g(D))}(y)}(p)}create(p){return new ox(this.moduleType,p)}}function Vv(y){return p=>{setTimeout(y,void 0,p)}}const ii=class I5 extends we{constructor(p=!1){super(),this.__isAsync=p}emit(p){super.next(p)}subscribe(p,g,v){var _,E,w;let D=p,O=g||(()=>null),L=v;if(p&&"object"==typeof p){const se=p;D=null===(_=se.next)||void 0===_?void 0:_.bind(se),O=null===(E=se.error)||void 0===E?void 0:E.bind(se),L=null===(w=se.complete)||void 0===w?void 0:w.bind(se)}this.__isAsync&&(O=Vv(O),D&&(D=Vv(D)),L&&(L=Vv(L)));const z=super.subscribe({next:D,error:O,complete:L});return p instanceof ee&&p.add(z),z}};function T5(){return this._results[id()]()}class Wv{constructor(p=!1){this._emitDistinctChangesOnly=p,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const g=id(),v=Wv.prototype;v[g]||(v[g]=T5)}get changes(){return this._changes||(this._changes=new ii)}get(p){return this._results[p]}map(p){return this._results.map(p)}filter(p){return this._results.filter(p)}find(p){return this._results.find(p)}reduce(p,g){return this._results.reduce(p,g)}forEach(p){this._results.forEach(p)}some(p){return this._results.some(p)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(p,g){const v=this;v.dirty=!1;const _=sa(p);(this._changesDetected=!function T3(y,p,g){if(y.length!==p.length)return!1;for(let v=0;v<y.length;v++){let _=y[v],E=p[v];if(g&&(_=g(_),E=g(E)),E!==_)return!1}return!0}(v._results,_,g))&&(v._results=_,v.length=_.length,v.last=_[this.length-1],v.first=_[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Rl=(()=>{class y{}return y.__NG_ELEMENT_ID__=R5,y})();const P5=Rl,A5=class extends P5{constructor(p,g,v){super(),this._declarationLView=p,this._declarationTContainer=g,this.elementRef=v}createEmbeddedView(p){const g=this._declarationTContainer.tViews,v=jh(this._declarationLView,g,p,16,null,g.declTNode,null,null,null,null);v[17]=this._declarationLView[this._declarationTContainer.index];const E=this._declarationLView[19];return null!==E&&(v[19]=E.createEmbeddedView(g)),Uh(g,v,p),new Yh(v)}};function R5(){return m0(Do(),Sr())}function m0(y,p){return 4&y.type?new A5(p,y,vd(y,p)):null}let Ra=(()=>{class y{}return y.__NG_ELEMENT_ID__=L5,y})();function L5(){return fx(Do(),Sr())}const N5=Ra,dx=class extends N5{constructor(p,g,v){super(),this._lContainer=p,this._hostTNode=g,this._hostLView=v}get element(){return vd(this._hostTNode,this._hostLView)}get injector(){return new Zc(this._hostTNode,this._hostLView)}get parentInjector(){const p=Np(this._hostTNode,this._hostLView);if(nb(p)){const g=kc(p,this._hostLView),v=Wc(p);return new Zc(g[1].data[v+8],g)}return new Zc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(p){const g=hx(this._lContainer);return null!==g&&g[p]||null}get length(){return this._lContainer.length-10}createEmbeddedView(p,g,v){const _=p.createEmbeddedView(g||{});return this.insert(_,v),_}createComponent(p,g,v,_,E){const w=p&&!function Mh(y){return"function"==typeof y}(p);let D;if(w)D=g;else{const se=g||{};D=se.index,v=se.injector,_=se.projectableNodes,E=se.ngModuleRef}const O=w?p:new Uv(Fo(p)),L=v||this.parentInjector;if(!E&&null==O.ngModule){const Ee=(w?L:this.parentInjector).get(Al,null);Ee&&(E=Ee)}const z=O.create(L,_,void 0,E);return this.insert(z.hostView,D),z}insert(p,g){const v=p._lView,_=v[1];if(function kn(y){return Gs(y[3])}(v)){const z=this.indexOf(p);if(-1!==z)this.detach(z);else{const se=v[3],Ee=new dx(se,se[6],se[3]);Ee.detach(Ee.indexOf(p))}}const E=this._adjustIndex(g),w=this._lContainer;!function t8(y,p,g,v){const _=10+v,E=g.length;v>0&&(g[_-1][4]=p),v<E-10?(p[4]=g[_],fb(g,10+v,p)):(g.push(p),p[4]=null),p[3]=g;const w=p[17];null!==w&&g!==w&&function r8(y,p){const g=y[9];p[16]!==p[3][3][16]&&(y[2]=!0),null===g?y[9]=[p]:g.push(p)}(w,p);const D=p[19];null!==D&&D.insertView(y),p[2]|=128}(_,v,w,E);const D=Vg(E,w),O=v[11],L=Gp(O,w[7]);return null!==L&&function QR(y,p,g,v,_,E){v[0]=_,v[6]=p,Fh(y,v,g,1,_,E)}(_,w[6],O,v,L,D),p.attachToViewContainerRef(),fb(kv(w),E,p),p}move(p,g){return this.insert(p,g)}indexOf(p){const g=hx(this._lContainer);return null!==g?g.indexOf(p):-1}remove(p){const g=this._adjustIndex(p,-1),v=jg(this._lContainer,g);v&&(Up(kv(this._lContainer),g),Yb(v[1],v))}detach(p){const g=this._adjustIndex(p,-1),v=jg(this._lContainer,g);return v&&null!=Up(kv(this._lContainer),g)?new Yh(v):null}_adjustIndex(p,g=0){return null==p?this.length+g:p}};function hx(y){return y[8]}function kv(y){return y[8]||(y[8]=[])}function fx(y,p){let g;const v=p[y.index];if(Gs(v))g=v;else{let _;if(8&y.type)_=qe(v);else{const E=p[11];_=E.createComment("");const w=ur(y,p);qu(E,Gp(E,w),_,function s8(y,p){return Ne(y)?y.nextSibling(p):p.nextSibling}(E,w),!1)}p[y.index]=g=function VC(y,p,g,v){return new Array(y,!0,!1,p,null,0,v,g,null,null)}(v,p,_,y),e0(p,g)}return new dx(g,y,p)}class Zv{constructor(p){this.queryList=p,this.matches=null}clone(){return new Zv(this.queryList)}setDirty(){this.queryList.setDirty()}}class $v{constructor(p=[]){this.queries=p}createEmbeddedView(p){const g=p.queries;if(null!==g){const v=null!==p.contentQueries?p.contentQueries[0]:g.length,_=[];for(let E=0;E<v;E++){const w=g.getByIndex(E);_.push(this.queries[w.indexInDeclarationView].clone())}return new $v(_)}return null}insertView(p){this.dirtyQueriesWithMatches(p)}detachView(p){this.dirtyQueriesWithMatches(p)}dirtyQueriesWithMatches(p){for(let g=0;g<this.queries.length;g++)null!==vx(p,g).matches&&this.queries[g].setDirty()}}class px{constructor(p,g,v=null){this.predicate=p,this.flags=g,this.read=v}}class Kv{constructor(p=[]){this.queries=p}elementStart(p,g){for(let v=0;v<this.queries.length;v++)this.queries[v].elementStart(p,g)}elementEnd(p){for(let g=0;g<this.queries.length;g++)this.queries[g].elementEnd(p)}embeddedTView(p){let g=null;for(let v=0;v<this.length;v++){const _=null!==g?g.length:0,E=this.getByIndex(v).embeddedTView(p,_);E&&(E.indexInDeclarationView=v,null!==g?g.push(E):g=[E])}return null!==g?new Kv(g):null}template(p,g){for(let v=0;v<this.queries.length;v++)this.queries[v].template(p,g)}getByIndex(p){return this.queries[p]}get length(){return this.queries.length}track(p){this.queries.push(p)}}class zv{constructor(p,g=-1){this.metadata=p,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=g}elementStart(p,g){this.isApplyingToNode(g)&&this.matchTNode(p,g)}elementEnd(p){this._declarationNodeIndex===p.index&&(this._appliesToNextNode=!1)}template(p,g){this.elementStart(p,g)}embeddedTView(p,g){return this.isApplyingToNode(p)?(this.crossesNgTemplate=!0,this.addMatch(-p.index,g),new zv(this.metadata)):null}isApplyingToNode(p){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const g=this._declarationNodeIndex;let v=p.parent;for(;null!==v&&8&v.type&&v.index!==g;)v=v.parent;return g===(null!==v?v.index:-1)}return this._appliesToNextNode}matchTNode(p,g){const v=this.metadata.predicate;if(Array.isArray(v))for(let _=0;_<v.length;_++){const E=v[_];this.matchTNodeWithReadOption(p,g,U5(g,E)),this.matchTNodeWithReadOption(p,g,jp(g,p,E,!1,!1))}else v===Rl?4&g.type&&this.matchTNodeWithReadOption(p,g,-1):this.matchTNodeWithReadOption(p,g,jp(g,p,v,!1,!1))}matchTNodeWithReadOption(p,g,v){if(null!==v){const _=this.metadata.read;if(null!==_)if(_===qs||_===Ra||_===Rl&&4&g.type)this.addMatch(g.index,-2);else{const E=jp(g,p,_,!1,!1);null!==E&&this.addMatch(g.index,E)}else this.addMatch(g.index,v)}}addMatch(p,g){null===this.matches?this.matches=[p,g]:this.matches.push(p,g)}}function U5(y,p){const g=y.localNames;if(null!==g)for(let v=0;v<g.length;v+=2)if(g[v]===p)return g[v+1];return null}function V5(y,p,g,v){return-1===g?function B5(y,p){return 11&y.type?vd(y,p):4&y.type?m0(y,p):null}(p,y):-2===g?function W5(y,p,g){return g===qs?vd(p,y):g===Rl?m0(p,y):g===Ra?fx(p,y):void 0}(y,p,v):Eh(y,y[1],g,p)}function mx(y,p,g,v){const _=p[19].queries[v];if(null===_.matches){const E=y.data,w=g.matches,D=[];for(let O=0;O<w.length;O+=2){const L=w[O];D.push(L<0?null:V5(p,E[L],w[O+1],g.metadata.read))}_.matches=D}return _.matches}function Gv(y,p,g,v){const _=y.queries.getByIndex(g),E=_.matches;if(null!==E){const w=mx(y,p,_,g);for(let D=0;D<E.length;D+=2){const O=E[D];if(O>0)v.push(w[D/2]);else{const L=E[D+1],z=p[-O];for(let se=10;se<z.length;se++){const Ee=z[se];Ee[17]===Ee[3]&&Gv(Ee[1],Ee,L,v)}if(null!==z[9]){const se=z[9];for(let Ee=0;Ee<se.length;Ee++){const Me=se[Ee];Gv(Me[1],Me,L,v)}}}}}return v}function qh(y){const p=Sr(),g=ti(),v=H2();og(v+1);const _=vx(g,v);if(y.dirty&&En(p)===(2==(2&_.metadata.flags))){if(null===_.matches)y.reset([]);else{const E=_.crossesNgTemplate?Gv(g,p,v,[]):mx(g,p,_,v);y.reset(E,e5),y.notifyOnChanges()}return!0}return!1}function Hv(y,p,g){const v=ti();v.firstCreatePass&&(function gx(y,p,g){null===y.queries&&(y.queries=new Kv),y.queries.track(new zv(p,g))}(v,new px(y,p,g),-1),2==(2&p)&&(v.staticViewQueries=!0)),function yx(y,p,g){const v=new Wv(4==(4&g));AC(y,p,v,v.destroy),null===p[19]&&(p[19]=new $v),p[19].queries.push(new Zv(v))}(v,Sr(),p)}function ef(){return function k5(y,p){return y[19].queries[p].queryList}(Sr(),H2())}function vx(y,p){return y.queries.getByIndex(p)}function v0(...y){}const _0=new ln("Application Initializer");let t_=(()=>{class y{constructor(g){this.appInits=g,this.resolve=v0,this.reject=v0,this.initialized=!1,this.done=!1,this.donePromise=new Promise((v,_)=>{this.resolve=v,this.reject=_})}runInitializers(){if(this.initialized)return;const g=[],v=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let _=0;_<this.appInits.length;_++){const E=this.appInits[_]();if(kh(E))g.push(E);else if(Dv(E)){const w=new Promise((D,O)=>{E.subscribe({complete:D,error:O})});g.push(w)}}Promise.all(g).then(()=>{v()}).catch(_=>{this.reject(_)}),0===g.length&&v(),this.initialized=!0}}return y.\u0275fac=function(g){return new(g||y)(pn(_0,8))},y.\u0275prov=xt({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const rf=new ln("AppId",{providedIn:"root",factory:function Nx(){return`${r_()}${r_()}${r_()}`}});function r_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Fx=new ln("Platform Initializer"),nf=new ln("Platform ID"),jx=new ln("appBootstrapListener");let Ux=(()=>{class y{log(g){console.log(g)}warn(g){console.warn(g)}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=xt({token:y,factory:y.\u0275fac}),y})();const hu=new ln("LocaleId",{providedIn:"root",factory:()=>$i(hu,cr.Optional|cr.SkipSelf)||function a7(){return"undefined"!=typeof $localize&&$localize.locale||u0}()});class u7{constructor(p,g){this.ngModuleFactory=p,this.componentFactories=g}}let Bx=(()=>{class y{compileModuleSync(g){return new Bv(g)}compileModuleAsync(g){return Promise.resolve(this.compileModuleSync(g))}compileModuleAndAllComponentsSync(g){const v=this.compileModuleSync(g),E=qa(mo(g).declarations).reduce((w,D)=>{const O=Fo(D);return O&&w.push(new Uv(O)),w},[]);return new u7(v,E)}compileModuleAndAllComponentsAsync(g){return Promise.resolve(this.compileModuleAndAllComponentsSync(g))}clearCache(){}clearCacheFor(g){}getModuleId(g){}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=xt({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const d7=(()=>Promise.resolve(0))();function n_(y){"undefined"==typeof Zone?d7.then(()=>{y&&y.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",y)}class Bo{constructor({enableLongStackTrace:p=!1,shouldCoalesceEventChangeDetection:g=!1,shouldCoalesceRunChangeDetection:v=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ii(!1),this.onMicrotaskEmpty=new ii(!1),this.onStable=new ii(!1),this.onError=new ii(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const _=this;_._nesting=0,_._outer=_._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(_._inner=_._inner.fork(new Zone.TaskTrackingZoneSpec)),p&&Zone.longStackTraceZoneSpec&&(_._inner=_._inner.fork(Zone.longStackTraceZoneSpec)),_.shouldCoalesceEventChangeDetection=!v&&g,_.shouldCoalesceRunChangeDetection=v,_.lastRequestAnimationFrameId=-1,_.nativeRequestAnimationFrame=function h7(){let y=Nr.requestAnimationFrame,p=Nr.cancelAnimationFrame;if("undefined"!=typeof Zone&&y&&p){const g=y[Zone.__symbol__("OriginalDelegate")];g&&(y=g);const v=p[Zone.__symbol__("OriginalDelegate")];v&&(p=v)}return{nativeRequestAnimationFrame:y,nativeCancelAnimationFrame:p}}().nativeRequestAnimationFrame,function m7(y){const p=()=>{!function p7(y){y.isCheckStableRunning||-1!==y.lastRequestAnimationFrameId||(y.lastRequestAnimationFrameId=y.nativeRequestAnimationFrame.call(Nr,()=>{y.fakeTopEventTask||(y.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{y.lastRequestAnimationFrameId=-1,o_(y),y.isCheckStableRunning=!0,i_(y),y.isCheckStableRunning=!1},void 0,()=>{},()=>{})),y.fakeTopEventTask.invoke()}),o_(y))}(y)};y._inner=y._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(g,v,_,E,w,D)=>{try{return Vx(y),g.invokeTask(_,E,w,D)}finally{(y.shouldCoalesceEventChangeDetection&&"eventTask"===E.type||y.shouldCoalesceRunChangeDetection)&&p(),Wx(y)}},onInvoke:(g,v,_,E,w,D,O)=>{try{return Vx(y),g.invoke(_,E,w,D,O)}finally{y.shouldCoalesceRunChangeDetection&&p(),Wx(y)}},onHasTask:(g,v,_,E)=>{g.hasTask(_,E),v===_&&("microTask"==E.change?(y._hasPendingMicrotasks=E.microTask,o_(y),i_(y)):"macroTask"==E.change&&(y.hasPendingMacrotasks=E.macroTask))},onHandleError:(g,v,_,E)=>(g.handleError(_,E),y.runOutsideAngular(()=>y.onError.emit(E)),!1)})}(_)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Bo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Bo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(p,g,v){return this._inner.run(p,g,v)}runTask(p,g,v,_){const E=this._inner,w=E.scheduleEventTask("NgZoneEvent: "+_,p,f7,v0,v0);try{return E.runTask(w,g,v)}finally{E.cancelTask(w)}}runGuarded(p,g,v){return this._inner.runGuarded(p,g,v)}runOutsideAngular(p){return this._outer.run(p)}}const f7={};function i_(y){if(0==y._nesting&&!y.hasPendingMicrotasks&&!y.isStable)try{y._nesting++,y.onMicrotaskEmpty.emit(null)}finally{if(y._nesting--,!y.hasPendingMicrotasks)try{y.runOutsideAngular(()=>y.onStable.emit(null))}finally{y.isStable=!0}}}function o_(y){y.hasPendingMicrotasks=!!(y._hasPendingMicrotasks||(y.shouldCoalesceEventChangeDetection||y.shouldCoalesceRunChangeDetection)&&-1!==y.lastRequestAnimationFrameId)}function Vx(y){y._nesting++,y.isStable&&(y.isStable=!1,y.onUnstable.emit(null))}function Wx(y){y._nesting--,i_(y)}class y7{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ii,this.onMicrotaskEmpty=new ii,this.onStable=new ii,this.onError=new ii}run(p,g,v){return p.apply(g,v)}runGuarded(p,g,v){return p.apply(g,v)}runOutsideAngular(p){return p()}runTask(p,g,v,_){return p.apply(g,v)}}let s_=(()=>{class y{constructor(g){this._ngZone=g,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),g.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Bo.assertNotInAngularZone(),n_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())n_(()=>{for(;0!==this._callbacks.length;){let g=this._callbacks.pop();clearTimeout(g.timeoutId),g.doneCb(this._didWork)}this._didWork=!1});else{let g=this.getPendingTasks();this._callbacks=this._callbacks.filter(v=>!v.updateCb||!v.updateCb(g)||(clearTimeout(v.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(g=>({source:g.source,creationLocation:g.creationLocation,data:g.data})):[]}addCallback(g,v,_){let E=-1;v&&v>0&&(E=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==E),g(this._didWork,this.getPendingTasks())},v)),this._callbacks.push({doneCb:g,timeoutId:E,updateCb:_})}whenStable(g,v,_){if(_&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(g,v,_),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(g,v,_){return[]}}return y.\u0275fac=function(g){return new(g||y)(pn(Bo))},y.\u0275prov=xt({token:y,factory:y.\u0275fac}),y})(),kx=(()=>{class y{constructor(){this._applications=new Map,a_.addToWindow(this)}registerApplication(g,v){this._applications.set(g,v)}unregisterApplication(g){this._applications.delete(g)}unregisterAllApplications(){this._applications.clear()}getTestability(g){return this._applications.get(g)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(g,v=!0){return a_.findTestabilityInTree(this,g,v)}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=xt({token:y,factory:y.\u0275fac}),y})();class g7{addToWindow(p){}findTestabilityInTree(p,g,v){return null}}let La,a_=new g7;const Zx=new ln("AllowMultipleToken");class $x{constructor(p,g){this.name=p,this.token=g}}function Kx(y,p,g=[]){const v=`Platform: ${p}`,_=new ln(v);return(E=[])=>{let w=zx();if(!w||w.injector.get(Zx,!1))if(y)y(g.concat(E).concat({provide:_,useValue:!0}));else{const D=g.concat(E).concat({provide:_,useValue:!0},{provide:dv,useValue:"platform"});!function b7(y){if(La&&!La.destroyed&&!La.injector.get(Zx,!1))throw new Zr(400,"");La=y.get(Gx);const p=y.get(Fx,null);p&&p.forEach(g=>g())}(is.create({providers:D,name:v}))}return function C7(y){const p=zx();if(!p)throw new Zr(401,"");return p}()}}function zx(){return La&&!La.destroyed?La:null}let Gx=(()=>{class y{constructor(g){this._injector=g,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(g,v){const D=function M7(y,p){let g;return g="noop"===y?new y7:("zone.js"===y?void 0:y)||new Bo({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==p?void 0:p.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==p?void 0:p.ngZoneRunCoalescing)}),g}(v?v.ngZone:void 0,{ngZoneEventCoalescing:v&&v.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:v&&v.ngZoneRunCoalescing||!1}),O=[{provide:Bo,useValue:D}];return D.run(()=>{const L=is.create({providers:O,parent:this.injector,name:g.moduleType.name}),z=g.create(L),se=z.injector.get(Lh,null);if(!se)throw new Zr(402,"");return D.runOutsideAngular(()=>{const Ee=D.onError.subscribe({next:Me=>{se.handleError(Me)}});z.onDestroy(()=>{l_(this._modules,z),Ee.unsubscribe()})}),function w7(y,p,g){try{const v=g();return kh(v)?v.catch(_=>{throw p.runOutsideAngular(()=>y.handleError(_)),_}):v}catch(v){throw p.runOutsideAngular(()=>y.handleError(v)),v}}(se,D,()=>{const Ee=z.injector.get(t_);return Ee.runInitializers(),Ee.donePromise.then(()=>(function tL(y){Zn(y,"Expected localeId to be defined"),"string"==typeof y&&(Dw=y.toLowerCase().replace(/_/g,"-"))}(z.injector.get(hu,u0)||u0),this._moduleDoBootstrap(z),z))})})}bootstrapModule(g,v=[]){const _=Hx({},v);return function _7(y,p,g){const v=new Bv(g);return Promise.resolve(v)}(0,0,g).then(E=>this.bootstrapModuleFactory(E,_))}_moduleDoBootstrap(g){const v=g.injector.get(E0);if(g._bootstrapComponents.length>0)g._bootstrapComponents.forEach(_=>v.bootstrap(_));else{if(!g.instance.ngDoBootstrap)throw new Zr(403,"");g.instance.ngDoBootstrap(v)}this._modules.push(g)}onDestroy(g){this._destroyListeners.push(g)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Zr(404,"");this._modules.slice().forEach(g=>g.destroy()),this._destroyListeners.forEach(g=>g()),this._destroyed=!0}get destroyed(){return this._destroyed}}return y.\u0275fac=function(g){return new(g||y)(pn(is))},y.\u0275prov=xt({token:y,factory:y.\u0275fac}),y})();function Hx(y,p){return Array.isArray(p)?p.reduce(Hx,y):Object.assign(Object.assign({},y),p)}let E0=(()=>{class y{constructor(g,v,_,E,w){this._zone=g,this._injector=v,this._exceptionHandler=_,this._componentFactoryResolver=E,this._initStatus=w,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const D=new fe(L=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{L.next(this._stable),L.complete()})}),O=new fe(L=>{let z;this._zone.runOutsideAngular(()=>{z=this._zone.onStable.subscribe(()=>{Bo.assertNotInAngularZone(),n_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,L.next(!0))})})});const se=this._zone.onUnstable.subscribe(()=>{Bo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{L.next(!1)}))});return()=>{z.unsubscribe(),se.unsubscribe()}});this.isStable=oo(D,O.pipe(Ve()))}bootstrap(g,v){if(!this._initStatus.done)throw new Zr(405,"");let _;_=g instanceof Xw?g:this._componentFactoryResolver.resolveComponentFactory(g),this.componentTypes.push(_.componentType);const E=function E7(y){return y.isBoundToModule}(_)?void 0:this._injector.get(Al),D=_.create(is.NULL,[],v||_.selector,E),O=D.location.nativeElement,L=D.injector.get(s_,null),z=L&&D.injector.get(kx);return L&&z&&z.registerApplication(O,L),D.onDestroy(()=>{this.detachView(D.hostView),l_(this.components,D),z&&z.unregisterApplication(O)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new Zr(101,"");try{this._runningTick=!0;for(let g of this._views)g.detectChanges()}catch(g){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(g))}finally{this._runningTick=!1}}attachView(g){const v=g;this._views.push(v),v.attachToAppRef(this)}detachView(g){const v=g;l_(this._views,v),v.detachFromAppRef()}_loadComponent(g){this.attachView(g.hostView),this.tick(),this.components.push(g),this._injector.get(jx,[]).concat(this._bootstrapListeners).forEach(_=>_(g))}ngOnDestroy(){this._views.slice().forEach(g=>g.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return y.\u0275fac=function(g){return new(g||y)(pn(Bo),pn(is),pn(Lh),pn(Hh),pn(t_))},y.\u0275prov=xt({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function l_(y,p){const g=y.indexOf(p);g>-1&&y.splice(g,1)}let Yx=!0,b0=(()=>{class y{}return y.__NG_ELEMENT_ID__=O7,y})();function O7(y){return function S7(y,p,g){if(tu(y)&&!g){const v=Hr(y.index,p);return new Yh(v,v)}return 47&y.type?new Yh(p[16],p):null}(Do(),Sr(),16==(16&y))}const W7=Kx(null,"core",[{provide:nf,useValue:"unknown"},{provide:Gx,deps:[is]},{provide:kx,deps:[]},{provide:Ux,deps:[]}]);let k7=(()=>{class y{constructor(g){}}return y.\u0275fac=function(g){return new(g||y)(pn(E0))},y.\u0275mod=Os({type:y}),y.\u0275inj=At({}),y})(),x0=null;function ol(){return x0}const Is=new ln("DocumentToken");let nc=(()=>{class y{historyGo(g){throw new Error("Not implemented")}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=xt({token:y,factory:function(){return function z7(){return pn(aD)}()},providedIn:"platform"}),y})();const G7=new ln("Location Initialized");let aD=(()=>{class y extends nc{constructor(g){super(),this._doc=g,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ol().getBaseHref(this._doc)}onPopState(g){const v=ol().getGlobalEventTarget(this._doc,"window");return v.addEventListener("popstate",g,!1),()=>v.removeEventListener("popstate",g)}onHashChange(g){const v=ol().getGlobalEventTarget(this._doc,"window");return v.addEventListener("hashchange",g,!1),()=>v.removeEventListener("hashchange",g)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(g){this.location.pathname=g}pushState(g,v,_){lD()?this._history.pushState(g,v,_):this.location.hash=_}replaceState(g,v,_){lD()?this._history.replaceState(g,v,_):this.location.hash=_}forward(){this._history.forward()}back(){this._history.back()}historyGo(g=0){this._history.go(g)}getState(){return this._history.state}}return y.\u0275fac=function(g){return new(g||y)(pn(Is))},y.\u0275prov=xt({token:y,factory:function(){return function H7(){return new aD(pn(Is))}()},providedIn:"platform"}),y})();function lD(){return!!window.history.pushState}function f_(y,p){if(0==y.length)return p;if(0==p.length)return y;let g=0;return y.endsWith("/")&&g++,p.startsWith("/")&&g++,2==g?y+p.substring(1):1==g?y+p:y+"/"+p}function uD(y){const p=y.match(/#|\?|$/),g=p&&p.index||y.length;return y.slice(0,g-("/"===y[g-1]?1:0))+y.slice(g)}function Ll(y){return y&&"?"!==y[0]?"?"+y:y}let bd=(()=>{class y{historyGo(g){throw new Error("Not implemented")}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=xt({token:y,factory:function(){return function J7(y){const p=pn(Is).location;return new cD(pn(nc),p&&p.origin||"")}()},providedIn:"root"}),y})();const p_=new ln("appBaseHref");let cD=(()=>{class y extends bd{constructor(g,v){if(super(),this._platformLocation=g,this._removeListenerFns=[],null==v&&(v=this._platformLocation.getBaseHrefFromDOM()),null==v)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=v}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(g){this._removeListenerFns.push(this._platformLocation.onPopState(g),this._platformLocation.onHashChange(g))}getBaseHref(){return this._baseHref}prepareExternalUrl(g){return f_(this._baseHref,g)}path(g=!1){const v=this._platformLocation.pathname+Ll(this._platformLocation.search),_=this._platformLocation.hash;return _&&g?`${v}${_}`:v}pushState(g,v,_,E){const w=this.prepareExternalUrl(_+Ll(E));this._platformLocation.pushState(g,v,w)}replaceState(g,v,_,E){const w=this.prepareExternalUrl(_+Ll(E));this._platformLocation.replaceState(g,v,w)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(g=0){var v,_;null===(_=(v=this._platformLocation).historyGo)||void 0===_||_.call(v,g)}}return y.\u0275fac=function(g){return new(g||y)(pn(nc),pn(p_,8))},y.\u0275prov=xt({token:y,factory:y.\u0275fac}),y})(),Y7=(()=>{class y extends bd{constructor(g,v){super(),this._platformLocation=g,this._baseHref="",this._removeListenerFns=[],null!=v&&(this._baseHref=v)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(g){this._removeListenerFns.push(this._platformLocation.onPopState(g),this._platformLocation.onHashChange(g))}getBaseHref(){return this._baseHref}path(g=!1){let v=this._platformLocation.hash;return null==v&&(v="#"),v.length>0?v.substring(1):v}prepareExternalUrl(g){const v=f_(this._baseHref,g);return v.length>0?"#"+v:v}pushState(g,v,_,E){let w=this.prepareExternalUrl(_+Ll(E));0==w.length&&(w=this._platformLocation.pathname),this._platformLocation.pushState(g,v,w)}replaceState(g,v,_,E){let w=this.prepareExternalUrl(_+Ll(E));0==w.length&&(w=this._platformLocation.pathname),this._platformLocation.replaceState(g,v,w)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(g=0){var v,_;null===(_=(v=this._platformLocation).historyGo)||void 0===_||_.call(v,g)}}return y.\u0275fac=function(g){return new(g||y)(pn(nc),pn(p_,8))},y.\u0275prov=xt({token:y,factory:y.\u0275fac}),y})(),m_=(()=>{class y{constructor(g,v){this._subject=new ii,this._urlChangeListeners=[],this._platformStrategy=g;const _=this._platformStrategy.getBaseHref();this._platformLocation=v,this._baseHref=uD(dD(_)),this._platformStrategy.onPopState(E=>{this._subject.emit({url:this.path(!0),pop:!0,state:E.state,type:E.type})})}path(g=!1){return this.normalize(this._platformStrategy.path(g))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(g,v=""){return this.path()==this.normalize(g+Ll(v))}normalize(g){return y.stripTrailingSlash(function Q7(y,p){return y&&p.startsWith(y)?p.substring(y.length):p}(this._baseHref,dD(g)))}prepareExternalUrl(g){return g&&"/"!==g[0]&&(g="/"+g),this._platformStrategy.prepareExternalUrl(g)}go(g,v="",_=null){this._platformStrategy.pushState(_,"",g,v),this._notifyUrlChangeListeners(this.prepareExternalUrl(g+Ll(v)),_)}replaceState(g,v="",_=null){this._platformStrategy.replaceState(_,"",g,v),this._notifyUrlChangeListeners(this.prepareExternalUrl(g+Ll(v)),_)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(g=0){var v,_;null===(_=(v=this._platformStrategy).historyGo)||void 0===_||_.call(v,g)}onUrlChange(g){this._urlChangeListeners.push(g),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(v=>{this._notifyUrlChangeListeners(v.url,v.state)}))}_notifyUrlChangeListeners(g="",v){this._urlChangeListeners.forEach(_=>_(g,v))}subscribe(g,v,_){return this._subject.subscribe({next:g,error:v,complete:_})}}return y.normalizeQueryParams=Ll,y.joinWithSlash=f_,y.stripTrailingSlash=uD,y.\u0275fac=function(g){return new(g||y)(pn(bd),pn(nc))},y.\u0275prov=xt({token:y,factory:function(){return function X7(){return new m_(pn(bd),pn(nc))}()},providedIn:"root"}),y})();function dD(y){return y.replace(/\/index.html$/,"")}let wD=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275mod=Os({type:y}),y.\u0275inj=At({}),y})();const xD="browser";function DD(y){return y===xD}let gN=(()=>{class y{}return y.\u0275prov=xt({token:y,providedIn:"root",factory:()=>new vN(pn(Is),window)}),y})();class vN{constructor(p,g){this.document=p,this.window=g,this.offset=()=>[0,0]}setOffset(p){this.offset=Array.isArray(p)?()=>p:p}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(p){this.supportsScrolling()&&this.window.scrollTo(p[0],p[1])}scrollToAnchor(p){if(!this.supportsScrolling())return;const g=function _N(y,p){const g=y.getElementById(p)||y.getElementsByName(p)[0];if(g)return g;if("function"==typeof y.createTreeWalker&&y.body&&(y.body.createShadowRoot||y.body.attachShadow)){const v=y.createTreeWalker(y.body,NodeFilter.SHOW_ELEMENT);let _=v.currentNode;for(;_;){const E=_.shadowRoot;if(E){const w=E.getElementById(p)||E.querySelector(`[name="${p}"]`);if(w)return w}_=v.nextNode()}}return null}(this.document,p);g&&(this.scrollToElement(g),g.focus())}setHistoryScrollRestoration(p){if(this.supportScrollRestoration()){const g=this.window.history;g&&g.scrollRestoration&&(g.scrollRestoration=p)}}scrollToElement(p){const g=p.getBoundingClientRect(),v=g.left+this.window.pageXOffset,_=g.top+this.window.pageYOffset,E=this.offset();this.window.scrollTo(v-E[0],_-E[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const p=OD(this.window.history)||OD(Object.getPrototypeOf(this.window.history));return!(!p||!p.writable&&!p.set)}catch(p){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(p){return!1}}}function OD(y){return Object.getOwnPropertyDescriptor(y,"scrollRestoration")}class I_ extends class bN extends class K7{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function $7(y){x0||(x0=y)}(new I_)}onAndCancel(p,g,v){return p.addEventListener(g,v,!1),()=>{p.removeEventListener(g,v,!1)}}dispatchEvent(p,g){p.dispatchEvent(g)}remove(p){p.parentNode&&p.parentNode.removeChild(p)}createElement(p,g){return(g=g||this.getDefaultDocument()).createElement(p)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(p){return p.nodeType===Node.ELEMENT_NODE}isShadowRoot(p){return p instanceof DocumentFragment}getGlobalEventTarget(p,g){return"window"===g?window:"document"===g?p:"body"===g?p.body:null}getBaseHref(p){const g=function CN(){return lf=lf||document.querySelector("base"),lf?lf.getAttribute("href"):null}();return null==g?null:function MN(y){N0=N0||document.createElement("a"),N0.setAttribute("href",y);const p=N0.pathname;return"/"===p.charAt(0)?p:`/${p}`}(g)}resetBaseElement(){lf=null}getUserAgent(){return window.navigator.userAgent}getCookie(p){return function N9(y,p){p=encodeURIComponent(p);for(const g of y.split(";")){const v=g.indexOf("="),[_,E]=-1==v?[g,""]:[g.slice(0,v),g.slice(v+1)];if(_.trim()===p)return decodeURIComponent(E)}return null}(document.cookie,p)}}let N0,lf=null;const SD=new ln("TRANSITION_ID"),xN=[{provide:_0,useFactory:function wN(y,p,g){return()=>{g.get(t_).donePromise.then(()=>{const v=ol(),_=p.querySelectorAll(`style[ng-transition="${y}"]`);for(let E=0;E<_.length;E++)v.remove(_[E])})}},deps:[SD,Is,is],multi:!0}];class T_{static init(){!function v7(y){a_=y}(new T_)}addToWindow(p){Nr.getAngularTestability=(v,_=!0)=>{const E=p.findTestabilityInTree(v,_);if(null==E)throw new Error("Could not find testability for element.");return E},Nr.getAllAngularTestabilities=()=>p.getAllTestabilities(),Nr.getAllAngularRootElements=()=>p.getAllRootElements(),Nr.frameworkStabilizers||(Nr.frameworkStabilizers=[]),Nr.frameworkStabilizers.push(v=>{const _=Nr.getAllAngularTestabilities();let E=_.length,w=!1;const D=function(O){w=w||O,E--,0==E&&v(w)};_.forEach(function(O){O.whenStable(D)})})}findTestabilityInTree(p,g,v){if(null==g)return null;const _=p.getTestability(g);return null!=_?_:v?ol().isShadowRoot(g)?this.findTestabilityInTree(p,g.host,!0):this.findTestabilityInTree(p,g.parentElement,!0):null}}let DN=(()=>{class y{build(){return new XMLHttpRequest}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=xt({token:y,factory:y.\u0275fac}),y})();const F0=new ln("EventManagerPlugins");let j0=(()=>{class y{constructor(g,v){this._zone=v,this._eventNameToPlugin=new Map,g.forEach(_=>_.manager=this),this._plugins=g.slice().reverse()}addEventListener(g,v,_){return this._findPluginFor(v).addEventListener(g,v,_)}addGlobalEventListener(g,v,_){return this._findPluginFor(v).addGlobalEventListener(g,v,_)}getZone(){return this._zone}_findPluginFor(g){const v=this._eventNameToPlugin.get(g);if(v)return v;const _=this._plugins;for(let E=0;E<_.length;E++){const w=_[E];if(w.supports(g))return this._eventNameToPlugin.set(g,w),w}throw new Error(`No event manager plugin found for event ${g}`)}}return y.\u0275fac=function(g){return new(g||y)(pn(F0),pn(Bo))},y.\u0275prov=xt({token:y,factory:y.\u0275fac}),y})();class ID{constructor(p){this._doc=p}addGlobalEventListener(p,g,v){const _=ol().getGlobalEventTarget(this._doc,p);if(!_)throw new Error(`Unsupported event target ${_} for event ${g}`);return this.addEventListener(_,g,v)}}let TD=(()=>{class y{constructor(){this._stylesSet=new Set}addStyles(g){const v=new Set;g.forEach(_=>{this._stylesSet.has(_)||(this._stylesSet.add(_),v.add(_))}),this.onStylesAdded(v)}onStylesAdded(g){}getAllStyles(){return Array.from(this._stylesSet)}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=xt({token:y,factory:y.\u0275fac}),y})(),uf=(()=>{class y extends TD{constructor(g){super(),this._doc=g,this._hostNodes=new Map,this._hostNodes.set(g.head,[])}_addStylesToHost(g,v,_){g.forEach(E=>{const w=this._doc.createElement("style");w.textContent=E,_.push(v.appendChild(w))})}addHost(g){const v=[];this._addStylesToHost(this._stylesSet,g,v),this._hostNodes.set(g,v)}removeHost(g){const v=this._hostNodes.get(g);v&&v.forEach(PD),this._hostNodes.delete(g)}onStylesAdded(g){this._hostNodes.forEach((v,_)=>{this._addStylesToHost(g,_,v)})}ngOnDestroy(){this._hostNodes.forEach(g=>g.forEach(PD))}}return y.\u0275fac=function(g){return new(g||y)(pn(Is))},y.\u0275prov=xt({token:y,factory:y.\u0275fac}),y})();function PD(y){ol().remove(y)}const P_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},A_=/%COMP%/g;function U0(y,p,g){for(let v=0;v<p.length;v++){let _=p[v];Array.isArray(_)?U0(y,_,g):(_=_.replace(A_,y),g.push(_))}return g}function LD(y){return p=>{if("__ngUnwrap__"===p)return y;!1===y(p)&&(p.preventDefault(),p.returnValue=!1)}}let R_=(()=>{class y{constructor(g,v,_){this.eventManager=g,this.sharedStylesHost=v,this.appId=_,this.rendererByCompId=new Map,this.defaultRenderer=new L_(g)}createRenderer(g,v){if(!g||!v)return this.defaultRenderer;switch(v.encapsulation){case Bt.Emulated:{let _=this.rendererByCompId.get(v.id);return _||(_=new AN(this.eventManager,this.sharedStylesHost,v,this.appId),this.rendererByCompId.set(v.id,_)),_.applyToHost(g),_}case 1:case Bt.ShadowDom:return new RN(this.eventManager,this.sharedStylesHost,g,v);default:if(!this.rendererByCompId.has(v.id)){const _=U0(v.id,v.styles,[]);this.sharedStylesHost.addStyles(_),this.rendererByCompId.set(v.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return y.\u0275fac=function(g){return new(g||y)(pn(j0),pn(uf),pn(rf))},y.\u0275prov=xt({token:y,factory:y.\u0275fac}),y})();class L_{constructor(p){this.eventManager=p,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(p,g){return g?document.createElementNS(P_[g]||g,p):document.createElement(p)}createComment(p){return document.createComment(p)}createText(p){return document.createTextNode(p)}appendChild(p,g){p.appendChild(g)}insertBefore(p,g,v){p&&p.insertBefore(g,v)}removeChild(p,g){p&&p.removeChild(g)}selectRootElement(p,g){let v="string"==typeof p?document.querySelector(p):p;if(!v)throw new Error(`The selector "${p}" did not match any elements`);return g||(v.textContent=""),v}parentNode(p){return p.parentNode}nextSibling(p){return p.nextSibling}setAttribute(p,g,v,_){if(_){g=_+":"+g;const E=P_[_];E?p.setAttributeNS(E,g,v):p.setAttribute(g,v)}else p.setAttribute(g,v)}removeAttribute(p,g,v){if(v){const _=P_[v];_?p.removeAttributeNS(_,g):p.removeAttribute(`${v}:${g}`)}else p.removeAttribute(g)}addClass(p,g){p.classList.add(g)}removeClass(p,g){p.classList.remove(g)}setStyle(p,g,v,_){_&(Xs.DashCase|Xs.Important)?p.style.setProperty(g,v,_&Xs.Important?"important":""):p.style[g]=v}removeStyle(p,g,v){v&Xs.DashCase?p.style.removeProperty(g):p.style[g]=""}setProperty(p,g,v){p[g]=v}setValue(p,g){p.nodeValue=g}listen(p,g,v){return"string"==typeof p?this.eventManager.addGlobalEventListener(p,g,LD(v)):this.eventManager.addEventListener(p,g,LD(v))}}class AN extends L_{constructor(p,g,v,_){super(p),this.component=v;const E=U0(_+"-"+v.id,v.styles,[]);g.addStyles(E),this.contentAttr=function IN(y){return"_ngcontent-%COMP%".replace(A_,y)}(_+"-"+v.id),this.hostAttr=function TN(y){return"_nghost-%COMP%".replace(A_,y)}(_+"-"+v.id)}applyToHost(p){super.setAttribute(p,this.hostAttr,"")}createElement(p,g){const v=super.createElement(p,g);return super.setAttribute(v,this.contentAttr,""),v}}class RN extends L_{constructor(p,g,v,_){super(p),this.sharedStylesHost=g,this.hostEl=v,this.shadowRoot=v.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const E=U0(_.id,_.styles,[]);for(let w=0;w<E.length;w++){const D=document.createElement("style");D.textContent=E[w],this.shadowRoot.appendChild(D)}}nodeOrShadowRoot(p){return p===this.hostEl?this.shadowRoot:p}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(p,g){return super.appendChild(this.nodeOrShadowRoot(p),g)}insertBefore(p,g,v){return super.insertBefore(this.nodeOrShadowRoot(p),g,v)}removeChild(p,g){return super.removeChild(this.nodeOrShadowRoot(p),g)}parentNode(p){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(p)))}}let LN=(()=>{class y extends ID{constructor(g){super(g)}supports(g){return!0}addEventListener(g,v,_){return g.addEventListener(v,_,!1),()=>this.removeEventListener(g,v,_)}removeEventListener(g,v,_){return g.removeEventListener(v,_)}}return y.\u0275fac=function(g){return new(g||y)(pn(Is))},y.\u0275prov=xt({token:y,factory:y.\u0275fac}),y})();const FD=["alt","control","meta","shift"],FN={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jD={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},jN={alt:y=>y.altKey,control:y=>y.ctrlKey,meta:y=>y.metaKey,shift:y=>y.shiftKey};let UN=(()=>{class y extends ID{constructor(g){super(g)}supports(g){return null!=y.parseEventName(g)}addEventListener(g,v,_){const E=y.parseEventName(v),w=y.eventCallback(E.fullKey,_,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ol().onAndCancel(g,E.domEventName,w))}static parseEventName(g){const v=g.toLowerCase().split("."),_=v.shift();if(0===v.length||"keydown"!==_&&"keyup"!==_)return null;const E=y._normalizeKey(v.pop());let w="";if(FD.forEach(O=>{const L=v.indexOf(O);L>-1&&(v.splice(L,1),w+=O+".")}),w+=E,0!=v.length||0===E.length)return null;const D={};return D.domEventName=_,D.fullKey=w,D}static getEventFullKey(g){let v="",_=function BN(y){let p=y.key;if(null==p){if(p=y.keyIdentifier,null==p)return"Unidentified";p.startsWith("U+")&&(p=String.fromCharCode(parseInt(p.substring(2),16)),3===y.location&&jD.hasOwnProperty(p)&&(p=jD[p]))}return FN[p]||p}(g);return _=_.toLowerCase()," "===_?_="space":"."===_&&(_="dot"),FD.forEach(E=>{E!=_&&jN[E](g)&&(v+=E+".")}),v+=_,v}static eventCallback(g,v,_){return E=>{y.getEventFullKey(E)===g&&_.runGuarded(()=>v(E))}}static _normalizeKey(g){return"esc"===g?"escape":g}}return y.\u0275fac=function(g){return new(g||y)(pn(Is))},y.\u0275prov=xt({token:y,factory:y.\u0275fac}),y})();const ZN=Kx(W7,"browser",[{provide:nf,useValue:xD},{provide:Fx,useValue:function VN(){I_.makeCurrent(),T_.init()},multi:!0},{provide:Is,useFactory:function kN(){return function Yy(y){Dl=y}(document),document},deps:[]}]),$N=[{provide:dv,useValue:"root"},{provide:Lh,useFactory:function WN(){return new Lh},deps:[]},{provide:F0,useClass:LN,multi:!0,deps:[Is,Bo,nf]},{provide:F0,useClass:UN,multi:!0,deps:[Is]},{provide:R_,useClass:R_,deps:[j0,uf,rf]},{provide:qw,useExisting:R_},{provide:TD,useExisting:uf},{provide:uf,useClass:uf,deps:[Is]},{provide:s_,useClass:s_,deps:[Bo]},{provide:j0,useClass:j0,deps:[F0,Bo]},{provide:class EN{},useClass:DN,deps:[]}];let KN=(()=>{class y{constructor(g){if(g)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(g){return{ngModule:y,providers:[{provide:rf,useValue:g.appId},{provide:SD,useExisting:rf},xN]}}}return y.\u0275fac=function(g){return new(g||y)(pn(y,12))},y.\u0275mod=Os({type:y}),y.\u0275inj=At({providers:$N,imports:[wD,k7]}),y})();function Fn(...y){return Sn(y,$n(y))}"undefined"!=typeof window&&window;class da extends we{constructor(p){super(),this._value=p}get value(){return this.getValue()}_subscribe(p){const g=super._subscribe(p);return!g.closed&&p.next(this._value),g}getValue(){const{hasError:p,thrownError:g,_value:v}=this;if(p)throw g;return this._throwIfClosed(),v}next(p){super.next(this._value=p)}}const{isArray:rF}=Array,{getPrototypeOf:nF,prototype:iF,keys:oF}=Object;const{isArray:aF}=Array;function F_(y){return Te(p=>function lF(y,p){return aF(p)?y(...p):y(p)}(y,p))}function uF(...y){const p=$n(y),g=function Ui(y){return x(no(y))?y.pop():void 0}(y),{args:v,keys:_}=function VD(y){if(1===y.length){const p=y[0];if(rF(p))return{args:p,keys:null};if(function sF(y){return y&&"object"==typeof y&&nF(y)===iF}(p)){const g=oF(p);return{args:g.map(v=>p[v]),keys:g}}}return{args:y,keys:null}}(y);if(0===v.length)return Sn([],p);const E=new fe(function cF(y,p,g=ue){return v=>{kD(p,()=>{const{length:_}=y,E=new Array(_);let w=_,D=_;for(let O=0;O<_;O++)kD(p,()=>{const L=Sn(y[O],p);let z=!1;L.subscribe(Re(v,se=>{E[O]=se,z||(z=!0,D--),D||v.next(g(E.slice()))},()=>{--w||v.complete()}))},v)},v)}}(v,p,_?w=>function WD(y,p){return y.reduce((g,v,_)=>(g[v]=p[_],g),{})}(_,w):ue));return g?E.pipe(F_(g)):E}function kD(y,p,g){y?xr(g,y,p):p()}function cf(y,p){const g=x(y)?y:()=>y,v=_=>_.error(g());return new fe(p?_=>p.schedule(v,0,_):v)}const B0=T(y=>function(){y(this),this.name="EmptyError",this.message="no elements in sequence"});function df(...y){return function dF(){return nn(1)}()(Sn(y,$n(y)))}function V0(y){return new fe(p=>{ze(y()).subscribe(p)})}function ZD(){return tt((y,p)=>{let g=null;y._refCount++;const v=Re(p,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(g=null);const _=y._connection,E=g;g=null,_&&(!E||_===E)&&_.unsubscribe(),p.unsubscribe()});y.subscribe(v),v.closed||(g=y.connect())})}class $D extends fe{constructor(p,g){super(),this.source=p,this.subjectFactory=g,this._subject=null,this._refCount=0,this._connection=null,Fe(p)&&(this.lift=p.lift)}_subscribe(p){return this.getSubject().subscribe(p)}getSubject(){const p=this._subject;return(!p||p.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:p}=this;this._subject=this._connection=null,null==p||p.unsubscribe()}connect(){let p=this._connection;if(!p){p=this._connection=new ee;const g=this.getSubject();p.add(this.source.subscribe(Re(g,void 0,()=>{this._teardown(),g.complete()},v=>{this._teardown(),g.error(v)},()=>this._teardown()))),p.closed&&(this._connection=null,p=ee.EMPTY)}return p}refCount(){return ZD()(this)}}function ja(y,p){return tt((g,v)=>{let _=null,E=0,w=!1;const D=()=>w&&!_&&v.complete();g.subscribe(Re(v,O=>{null==_||_.unsubscribe();let L=0;const z=E++;ze(y(O,z)).subscribe(_=Re(v,se=>v.next(p?p(O,se,z,L++):se),()=>{_=null,D()}))},()=>{w=!0,D()}))})}function KD(...y){const p=$n(y);return tt((g,v)=>{(p?df(y,g,p):df(y,g)).subscribe(v)})}function hF(y,p,g,v,_){return(E,w)=>{let D=g,O=p,L=0;E.subscribe(Re(w,z=>{const se=L++;O=D?y(O,z,se):(D=!0,z),v&&w.next(O)},_&&(()=>{D&&w.next(O),w.complete()})))}}function zD(y,p){return tt(hF(y,p,arguments.length>=2,!0))}function ha(y,p){return tt((g,v)=>{let _=0;g.subscribe(Re(v,E=>y.call(p,E,_++)&&v.next(E)))})}function pu(y){return tt((p,g)=>{let E,v=null,_=!1;v=p.subscribe(Re(g,void 0,void 0,w=>{E=ze(y(w,pu(y)(p))),v?(v.unsubscribe(),v=null,E.subscribe(g)):_=!0})),_&&(v.unsubscribe(),v=null,E.subscribe(g))})}function hf(y,p){return x(p)?Br(y,p,1):Br(y,1)}function j_(y){return y<=0?()=>jn:tt((p,g)=>{let v=[];p.subscribe(Re(g,_=>{v.push(_),y<v.length&&v.shift()},()=>{for(const _ of v)g.next(_);g.complete()},void 0,()=>{v=null}))})}function GD(y=fF){return tt((p,g)=>{let v=!1;p.subscribe(Re(g,_=>{v=!0,g.next(_)},()=>v?g.complete():g.error(y())))})}function fF(){return new B0}function HD(y){return tt((p,g)=>{let v=!1;p.subscribe(Re(g,_=>{v=!0,g.next(_)},()=>{v||g.next(y),g.complete()}))})}function Cd(y,p){const g=arguments.length>=2;return v=>v.pipe(y?ha((_,E)=>y(_,E,v)):ue,Kn(1),g?HD(p):GD(()=>new B0))}function Ps(y,p,g){const v=x(y)||p||g?{next:y,error:p,complete:g}:y;return v?tt((_,E)=>{var w;null===(w=v.subscribe)||void 0===w||w.call(v);let D=!0;_.subscribe(Re(E,O=>{var L;null===(L=v.next)||void 0===L||L.call(v,O),E.next(O)},()=>{var O;D=!1,null===(O=v.complete)||void 0===O||O.call(v),E.complete()},O=>{var L;D=!1,null===(L=v.error)||void 0===L||L.call(v,O),E.error(O)},()=>{var O,L;D&&(null===(O=v.unsubscribe)||void 0===O||O.call(v)),null===(L=v.finalize)||void 0===L||L.call(v)}))}):ue}function JD(y){return tt((p,g)=>{try{p.subscribe(g)}finally{g.add(y)}})}class Fl{constructor(p,g){this.id=p,this.url=g}}class U_ extends Fl{constructor(p,g,v="imperative",_=null){super(p,g),this.navigationTrigger=v,this.restoredState=_}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ff extends Fl{constructor(p,g,v){super(p,g),this.urlAfterRedirects=v}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class YD extends Fl{constructor(p,g,v){super(p,g),this.reason=v}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mF extends Fl{constructor(p,g,v){super(p,g),this.error=v}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yF extends Fl{constructor(p,g,v,_){super(p,g),this.urlAfterRedirects=v,this.state=_}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gF extends Fl{constructor(p,g,v,_){super(p,g),this.urlAfterRedirects=v,this.state=_}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vF extends Fl{constructor(p,g,v,_,E){super(p,g),this.urlAfterRedirects=v,this.state=_,this.shouldActivate=E}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _F extends Fl{constructor(p,g,v,_){super(p,g),this.urlAfterRedirects=v,this.state=_}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EF extends Fl{constructor(p,g,v,_){super(p,g),this.urlAfterRedirects=v,this.state=_}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XD{constructor(p){this.route=p}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class QD{constructor(p){this.route=p}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class bF{constructor(p){this.snapshot=p}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CF{constructor(p){this.snapshot=p}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MF{constructor(p){this.snapshot=p}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wF{constructor(p){this.snapshot=p}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qD{constructor(p,g,v){this.routerEvent=p,this.position=g,this.anchor=v}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Gn="primary";class xF{constructor(p){this.params=p||{}}has(p){return Object.prototype.hasOwnProperty.call(this.params,p)}get(p){if(this.has(p)){const g=this.params[p];return Array.isArray(g)?g[0]:g}return null}getAll(p){if(this.has(p)){const g=this.params[p];return Array.isArray(g)?g:[g]}return[]}get keys(){return Object.keys(this.params)}}function Md(y){return new xF(y)}const eO="ngNavigationCancelingError";function B_(y){const p=Error("NavigationCancelingError: "+y);return p[eO]=!0,p}function OF(y,p,g){const v=g.path.split("/");if(v.length>y.length||"full"===g.pathMatch&&(p.hasChildren()||v.length<y.length))return null;const _={};for(let E=0;E<v.length;E++){const w=v[E],D=y[E];if(w.startsWith(":"))_[w.substring(1)]=D;else if(w!==D.path)return null}return{consumed:y.slice(0,v.length),posParams:_}}function sl(y,p){const g=y?Object.keys(y):void 0,v=p?Object.keys(p):void 0;if(!g||!v||g.length!=v.length)return!1;let _;for(let E=0;E<g.length;E++)if(_=g[E],!tO(y[_],p[_]))return!1;return!0}function tO(y,p){if(Array.isArray(y)&&Array.isArray(p)){if(y.length!==p.length)return!1;const g=[...y].sort(),v=[...p].sort();return g.every((_,E)=>v[E]===_)}return y===p}function rO(y){return Array.prototype.concat.apply([],y)}function nO(y){return y.length>0?y[y.length-1]:null}function Ho(y,p){for(const g in y)y.hasOwnProperty(g)&&p(y[g],g)}function al(y){return Dv(y)?y:kh(y)?Sn(Promise.resolve(y)):Fn(y)}const TF={exact:function sO(y,p,g){if(!oc(y.segments,p.segments)||!W0(y.segments,p.segments,g)||y.numberOfChildren!==p.numberOfChildren)return!1;for(const v in p.children)if(!y.children[v]||!sO(y.children[v],p.children[v],g))return!1;return!0},subset:aO},iO={exact:function PF(y,p){return sl(y,p)},subset:function AF(y,p){return Object.keys(p).length<=Object.keys(y).length&&Object.keys(p).every(g=>tO(y[g],p[g]))},ignored:()=>!0};function oO(y,p,g){return TF[g.paths](y.root,p.root,g.matrixParams)&&iO[g.queryParams](y.queryParams,p.queryParams)&&!("exact"===g.fragment&&y.fragment!==p.fragment)}function aO(y,p,g){return lO(y,p,p.segments,g)}function lO(y,p,g,v){if(y.segments.length>g.length){const _=y.segments.slice(0,g.length);return!(!oc(_,g)||p.hasChildren()||!W0(_,g,v))}if(y.segments.length===g.length){if(!oc(y.segments,g)||!W0(y.segments,g,v))return!1;for(const _ in p.children)if(!y.children[_]||!aO(y.children[_],p.children[_],v))return!1;return!0}{const _=g.slice(0,y.segments.length),E=g.slice(y.segments.length);return!!(oc(y.segments,_)&&W0(y.segments,_,v)&&y.children[Gn])&&lO(y.children[Gn],p,E,v)}}function W0(y,p,g){return p.every((v,_)=>iO[g](y[_].parameters,v.parameters))}class ic{constructor(p,g,v){this.root=p,this.queryParams=g,this.fragment=v}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Md(this.queryParams)),this._queryParamMap}toString(){return NF.serialize(this)}}class ri{constructor(p,g){this.segments=p,this.children=g,this.parent=null,Ho(g,(v,_)=>v.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return k0(this)}}class pf{constructor(p,g){this.path=p,this.parameters=g}get parameterMap(){return this._parameterMap||(this._parameterMap=Md(this.parameters)),this._parameterMap}toString(){return fO(this)}}function oc(y,p){return y.length===p.length&&y.every((g,v)=>g.path===p[v].path)}class uO{}class cO{parse(p){const g=new $F(p);return new ic(g.parseRootSegment(),g.parseQueryParams(),g.parseFragment())}serialize(p){const g=`/${mf(p.root,!0)}`,v=function UF(y){const p=Object.keys(y).map(g=>{const v=y[g];return Array.isArray(v)?v.map(_=>`${Z0(g)}=${Z0(_)}`).join("&"):`${Z0(g)}=${Z0(v)}`}).filter(g=>!!g);return p.length?`?${p.join("&")}`:""}(p.queryParams);return`${g}${v}${"string"==typeof p.fragment?`#${function FF(y){return encodeURI(y)}(p.fragment)}`:""}`}}const NF=new cO;function k0(y){return y.segments.map(p=>fO(p)).join("/")}function mf(y,p){if(!y.hasChildren())return k0(y);if(p){const g=y.children[Gn]?mf(y.children[Gn],!1):"",v=[];return Ho(y.children,(_,E)=>{E!==Gn&&v.push(`${E}:${mf(_,!1)}`)}),v.length>0?`${g}(${v.join("//")})`:g}{const g=function LF(y,p){let g=[];return Ho(y.children,(v,_)=>{_===Gn&&(g=g.concat(p(v,_)))}),Ho(y.children,(v,_)=>{_!==Gn&&(g=g.concat(p(v,_)))}),g}(y,(v,_)=>_===Gn?[mf(y.children[Gn],!1)]:[`${_}:${mf(v,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[Gn]?`${k0(y)}/${g[0]}`:`${k0(y)}/(${g.join("//")})`}}function dO(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Z0(y){return dO(y).replace(/%3B/gi,";")}function V_(y){return dO(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $0(y){return decodeURIComponent(y)}function hO(y){return $0(y.replace(/\+/g,"%20"))}function fO(y){return`${V_(y.path)}${function jF(y){return Object.keys(y).map(p=>`;${V_(p)}=${V_(y[p])}`).join("")}(y.parameters)}`}const BF=/^[^\/()?;=#]+/;function K0(y){const p=y.match(BF);return p?p[0]:""}const VF=/^[^=?&#]+/,kF=/^[^&#]+/;class $F{constructor(p){this.url=p,this.remaining=p}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ri([],{}):new ri([],this.parseChildren())}parseQueryParams(){const p={};if(this.consumeOptional("?"))do{this.parseQueryParam(p)}while(this.consumeOptional("&"));return p}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const p=[];for(this.peekStartsWith("(")||p.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),p.push(this.parseSegment());let g={};this.peekStartsWith("/(")&&(this.capture("/"),g=this.parseParens(!0));let v={};return this.peekStartsWith("(")&&(v=this.parseParens(!1)),(p.length>0||Object.keys(g).length>0)&&(v[Gn]=new ri(p,g)),v}parseSegment(){const p=K0(this.remaining);if(""===p&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(p),new pf($0(p),this.parseMatrixParams())}parseMatrixParams(){const p={};for(;this.consumeOptional(";");)this.parseParam(p);return p}parseParam(p){const g=K0(this.remaining);if(!g)return;this.capture(g);let v="";if(this.consumeOptional("=")){const _=K0(this.remaining);_&&(v=_,this.capture(v))}p[$0(g)]=$0(v)}parseQueryParam(p){const g=function WF(y){const p=y.match(VF);return p?p[0]:""}(this.remaining);if(!g)return;this.capture(g);let v="";if(this.consumeOptional("=")){const w=function ZF(y){const p=y.match(kF);return p?p[0]:""}(this.remaining);w&&(v=w,this.capture(v))}const _=hO(g),E=hO(v);if(p.hasOwnProperty(_)){let w=p[_];Array.isArray(w)||(w=[w],p[_]=w),w.push(E)}else p[_]=E}parseParens(p){const g={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const v=K0(this.remaining),_=this.remaining[v.length];if("/"!==_&&")"!==_&&";"!==_)throw new Error(`Cannot parse url '${this.url}'`);let E;v.indexOf(":")>-1?(E=v.substr(0,v.indexOf(":")),this.capture(E),this.capture(":")):p&&(E=Gn);const w=this.parseChildren();g[E]=1===Object.keys(w).length?w[Gn]:new ri([],w),this.consumeOptional("//")}return g}peekStartsWith(p){return this.remaining.startsWith(p)}consumeOptional(p){return!!this.peekStartsWith(p)&&(this.remaining=this.remaining.substring(p.length),!0)}capture(p){if(!this.consumeOptional(p))throw new Error(`Expected "${p}".`)}}class pO{constructor(p){this._root=p}get root(){return this._root.value}parent(p){const g=this.pathFromRoot(p);return g.length>1?g[g.length-2]:null}children(p){const g=W_(p,this._root);return g?g.children.map(v=>v.value):[]}firstChild(p){const g=W_(p,this._root);return g&&g.children.length>0?g.children[0].value:null}siblings(p){const g=k_(p,this._root);return g.length<2?[]:g[g.length-2].children.map(_=>_.value).filter(_=>_!==p)}pathFromRoot(p){return k_(p,this._root).map(g=>g.value)}}function W_(y,p){if(y===p.value)return p;for(const g of p.children){const v=W_(y,g);if(v)return v}return null}function k_(y,p){if(y===p.value)return[p];for(const g of p.children){const v=k_(y,g);if(v.length)return v.unshift(p),v}return[]}class jl{constructor(p,g){this.value=p,this.children=g}toString(){return`TreeNode(${this.value})`}}function wd(y){const p={};return y&&y.children.forEach(g=>p[g.value.outlet]=g),p}class mO extends pO{constructor(p,g){super(p),this.snapshot=g,Z_(this,p)}toString(){return this.snapshot.toString()}}function yO(y,p){const g=function KF(y,p){const w=new z0([],{},{},"",{},Gn,p,null,y.root,-1,{});return new vO("",new jl(w,[]))}(y,p),v=new da([new pf("",{})]),_=new da({}),E=new da({}),w=new da({}),D=new da(""),O=new xd(v,_,w,D,E,Gn,p,g.root);return O.snapshot=g.root,new mO(new jl(O,[]),g)}class xd{constructor(p,g,v,_,E,w,D,O){this.url=p,this.params=g,this.queryParams=v,this.fragment=_,this.data=E,this.outlet=w,this.component=D,this._futureSnapshot=O}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Te(p=>Md(p)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Te(p=>Md(p)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function gO(y,p="emptyOnly"){const g=y.pathFromRoot;let v=0;if("always"!==p)for(v=g.length-1;v>=1;){const _=g[v],E=g[v-1];if(_.routeConfig&&""===_.routeConfig.path)v--;else{if(E.component)break;v--}}return function zF(y){return y.reduce((p,g)=>({params:Object.assign(Object.assign({},p.params),g.params),data:Object.assign(Object.assign({},p.data),g.data),resolve:Object.assign(Object.assign({},p.resolve),g._resolvedData)}),{params:{},data:{},resolve:{}})}(g.slice(v))}class z0{constructor(p,g,v,_,E,w,D,O,L,z,se){this.url=p,this.params=g,this.queryParams=v,this.fragment=_,this.data=E,this.outlet=w,this.component=D,this.routeConfig=O,this._urlSegment=L,this._lastPathIndex=z,this._resolve=se}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Md(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Md(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(v=>v.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class vO extends pO{constructor(p,g){super(g),this.url=p,Z_(this,g)}toString(){return _O(this._root)}}function Z_(y,p){p.value._routerState=y,p.children.forEach(g=>Z_(y,g))}function _O(y){const p=y.children.length>0?` { ${y.children.map(_O).join(", ")} } `:"";return`${y.value}${p}`}function $_(y){if(y.snapshot){const p=y.snapshot,g=y._futureSnapshot;y.snapshot=g,sl(p.queryParams,g.queryParams)||y.queryParams.next(g.queryParams),p.fragment!==g.fragment&&y.fragment.next(g.fragment),sl(p.params,g.params)||y.params.next(g.params),function SF(y,p){if(y.length!==p.length)return!1;for(let g=0;g<y.length;++g)if(!sl(y[g],p[g]))return!1;return!0}(p.url,g.url)||y.url.next(g.url),sl(p.data,g.data)||y.data.next(g.data)}else y.snapshot=y._futureSnapshot,y.data.next(y._futureSnapshot.data)}function K_(y,p){const g=sl(y.params,p.params)&&function RF(y,p){return oc(y,p)&&y.every((g,v)=>sl(g.parameters,p[v].parameters))}(y.url,p.url);return g&&!(!y.parent!=!p.parent)&&(!y.parent||K_(y.parent,p.parent))}function yf(y,p,g){if(g&&y.shouldReuseRoute(p.value,g.value.snapshot)){const v=g.value;v._futureSnapshot=p.value;const _=function HF(y,p,g){return p.children.map(v=>{for(const _ of g.children)if(y.shouldReuseRoute(v.value,_.value.snapshot))return yf(y,v,_);return yf(y,v)})}(y,p,g);return new jl(v,_)}{if(y.shouldAttach(p.value)){const E=y.retrieve(p.value);if(null!==E){const w=E.route;return w.value._futureSnapshot=p.value,w.children=p.children.map(D=>yf(y,D)),w}}const v=function JF(y){return new xd(new da(y.url),new da(y.params),new da(y.queryParams),new da(y.fragment),new da(y.data),y.outlet,y.component,y)}(p.value),_=p.children.map(E=>yf(y,E));return new jl(v,_)}}function G0(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function gf(y){return"object"==typeof y&&null!=y&&y.outlets}function z_(y,p,g,v,_){let E={};if(v&&Ho(v,(D,O)=>{E[O]=Array.isArray(D)?D.map(L=>`${L}`):`${D}`}),y===p)return new ic(g,E,_);const w=EO(y,p,g);return new ic(w,E,_)}function EO(y,p,g){const v={};return Ho(y.children,(_,E)=>{v[E]=_===p?g:EO(_,p,g)}),new ri(y.segments,v)}class bO{constructor(p,g,v){if(this.isAbsolute=p,this.numberOfDoubleDots=g,this.commands=v,p&&v.length>0&&G0(v[0]))throw new Error("Root segment cannot have matrix parameters");const _=v.find(gf);if(_&&_!==nO(v))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class G_{constructor(p,g,v){this.segmentGroup=p,this.processChildren=g,this.index=v}}function CO(y,p,g){if(y||(y=new ri([],{})),0===y.segments.length&&y.hasChildren())return H0(y,p,g);const v=function tj(y,p,g){let v=0,_=p;const E={match:!1,pathIndex:0,commandIndex:0};for(;_<y.segments.length;){if(v>=g.length)return E;const w=y.segments[_],D=g[v];if(gf(D))break;const O=`${D}`,L=v<g.length-1?g[v+1]:null;if(_>0&&void 0===O)break;if(O&&L&&"object"==typeof L&&void 0===L.outlets){if(!wO(O,L,w))return E;v+=2}else{if(!wO(O,{},w))return E;v++}_++}return{match:!0,pathIndex:_,commandIndex:v}}(y,p,g),_=g.slice(v.commandIndex);if(v.match&&v.pathIndex<y.segments.length){const E=new ri(y.segments.slice(0,v.pathIndex),{});return E.children[Gn]=new ri(y.segments.slice(v.pathIndex),y.children),H0(E,0,_)}return v.match&&0===_.length?new ri(y.segments,{}):v.match&&!y.hasChildren()?H_(y,p,g):v.match?H0(y,0,_):H_(y,p,g)}function H0(y,p,g){if(0===g.length)return new ri(y.segments,{});{const v=function ej(y){return gf(y[0])?y[0].outlets:{[Gn]:y}}(g),_={};return Ho(v,(E,w)=>{"string"==typeof E&&(E=[E]),null!==E&&(_[w]=CO(y.children[w],p,E))}),Ho(y.children,(E,w)=>{void 0===v[w]&&(_[w]=E)}),new ri(y.segments,_)}}function H_(y,p,g){const v=y.segments.slice(0,p);let _=0;for(;_<g.length;){const E=g[_];if(gf(E)){const O=rj(E.outlets);return new ri(v,O)}if(0===_&&G0(g[0])){v.push(new pf(y.segments[p].path,MO(g[0]))),_++;continue}const w=gf(E)?E.outlets[Gn]:`${E}`,D=_<g.length-1?g[_+1]:null;w&&D&&G0(D)?(v.push(new pf(w,MO(D))),_+=2):(v.push(new pf(w,{})),_++)}return new ri(v,{})}function rj(y){const p={};return Ho(y,(g,v)=>{"string"==typeof g&&(g=[g]),null!==g&&(p[v]=H_(new ri([],{}),0,g))}),p}function MO(y){const p={};return Ho(y,(g,v)=>p[v]=`${g}`),p}function wO(y,p,g){return y==g.path&&sl(p,g.parameters)}class ij{constructor(p,g,v,_){this.routeReuseStrategy=p,this.futureState=g,this.currState=v,this.forwardEvent=_}activate(p){const g=this.futureState._root,v=this.currState?this.currState._root:null;this.deactivateChildRoutes(g,v,p),$_(this.futureState.root),this.activateChildRoutes(g,v,p)}deactivateChildRoutes(p,g,v){const _=wd(g);p.children.forEach(E=>{const w=E.value.outlet;this.deactivateRoutes(E,_[w],v),delete _[w]}),Ho(_,(E,w)=>{this.deactivateRouteAndItsChildren(E,v)})}deactivateRoutes(p,g,v){const _=p.value,E=g?g.value:null;if(_===E)if(_.component){const w=v.getContext(_.outlet);w&&this.deactivateChildRoutes(p,g,w.children)}else this.deactivateChildRoutes(p,g,v);else E&&this.deactivateRouteAndItsChildren(g,v)}deactivateRouteAndItsChildren(p,g){p.value.component&&this.routeReuseStrategy.shouldDetach(p.value.snapshot)?this.detachAndStoreRouteSubtree(p,g):this.deactivateRouteAndOutlet(p,g)}detachAndStoreRouteSubtree(p,g){const v=g.getContext(p.value.outlet),_=v&&p.value.component?v.children:g,E=wd(p);for(const w of Object.keys(E))this.deactivateRouteAndItsChildren(E[w],_);if(v&&v.outlet){const w=v.outlet.detach(),D=v.children.onOutletDeactivated();this.routeReuseStrategy.store(p.value.snapshot,{componentRef:w,route:p,contexts:D})}}deactivateRouteAndOutlet(p,g){const v=g.getContext(p.value.outlet),_=v&&p.value.component?v.children:g,E=wd(p);for(const w of Object.keys(E))this.deactivateRouteAndItsChildren(E[w],_);v&&v.outlet&&(v.outlet.deactivate(),v.children.onOutletDeactivated(),v.attachRef=null,v.resolver=null,v.route=null)}activateChildRoutes(p,g,v){const _=wd(g);p.children.forEach(E=>{this.activateRoutes(E,_[E.value.outlet],v),this.forwardEvent(new wF(E.value.snapshot))}),p.children.length&&this.forwardEvent(new CF(p.value.snapshot))}activateRoutes(p,g,v){const _=p.value,E=g?g.value:null;if($_(_),_===E)if(_.component){const w=v.getOrCreateContext(_.outlet);this.activateChildRoutes(p,g,w.children)}else this.activateChildRoutes(p,g,v);else if(_.component){const w=v.getOrCreateContext(_.outlet);if(this.routeReuseStrategy.shouldAttach(_.snapshot)){const D=this.routeReuseStrategy.retrieve(_.snapshot);this.routeReuseStrategy.store(_.snapshot,null),w.children.onOutletReAttached(D.contexts),w.attachRef=D.componentRef,w.route=D.route.value,w.outlet&&w.outlet.attach(D.componentRef,D.route.value),$_(D.route.value),this.activateChildRoutes(p,null,w.children)}else{const D=function oj(y){for(let p=y.parent;p;p=p.parent){const g=p.routeConfig;if(g&&g._loadedConfig)return g._loadedConfig;if(g&&g.component)return null}return null}(_.snapshot),O=D?D.module.componentFactoryResolver:null;w.attachRef=null,w.route=_,w.resolver=O,w.outlet&&w.outlet.activateWith(_,O),this.activateChildRoutes(p,null,w.children)}}else this.activateChildRoutes(p,null,v)}}class J_{constructor(p,g){this.routes=p,this.module=g}}function mu(y){return"function"==typeof y}function sc(y){return y instanceof ic}const vf=Symbol("INITIAL_VALUE");function _f(){return ja(y=>uF(y.map(p=>p.pipe(Kn(1),KD(vf)))).pipe(zD((p,g)=>{let v=!1;return g.reduce((_,E,w)=>_!==vf?_:(E===vf&&(v=!0),v||!1!==E&&w!==g.length-1&&!sc(E)?_:E),p)},vf),ha(p=>p!==vf),Te(p=>sc(p)?p:!0===p),Kn(1)))}class dj{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ef,this.attachRef=null}}class Ef{constructor(){this.contexts=new Map}onChildOutletCreated(p,g){const v=this.getOrCreateContext(p);v.outlet=g,this.contexts.set(p,v)}onChildOutletDestroyed(p){const g=this.getContext(p);g&&(g.outlet=null,g.attachRef=null)}onOutletDeactivated(){const p=this.contexts;return this.contexts=new Map,p}onOutletReAttached(p){this.contexts=p}getOrCreateContext(p){let g=this.getContext(p);return g||(g=new dj,this.contexts.set(p,g)),g}getContext(p){return this.contexts.get(p)||null}}let Y_=(()=>{class y{constructor(g,v,_,E,w){this.parentContexts=g,this.location=v,this.resolver=_,this.changeDetector=w,this.activated=null,this._activatedRoute=null,this.activateEvents=new ii,this.deactivateEvents=new ii,this.attachEvents=new ii,this.detachEvents=new ii,this.name=E||Gn,g.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const g=this.parentContexts.getContext(this.name);g&&g.route&&(g.attachRef?this.attach(g.attachRef,g.route):this.activateWith(g.route,g.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const g=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(g.instance),g}attach(g,v){this.activated=g,this._activatedRoute=v,this.location.insert(g.hostView),this.attachEvents.emit(g.instance)}deactivate(){if(this.activated){const g=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(g)}}activateWith(g,v){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=g;const w=(v=v||this.resolver).resolveComponentFactory(g._futureSnapshot.routeConfig.component),D=this.parentContexts.getOrCreateContext(this.name).children,O=new hj(g,D,this.location.injector);this.activated=this.location.createComponent(w,this.location.length,O),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return y.\u0275fac=function(g){return new(g||y)(Ar(Ef),Ar(Ra),Ar(Hh),function bh(y){return function w3(y,p){if("class"===p)return y.classes;if("style"===p)return y.styles;const g=y.attrs;if(g){const v=g.length;let _=0;for(;_<v;){const E=g[_];if(tb(E))break;if(0===E)_+=2;else if("number"==typeof E)for(_++;_<v&&"string"==typeof g[_];)_++;else{if(E===p)return g[_+1];_+=2}}}return null}(Do(),y)}("name"),Ar(b0))},y.\u0275dir=sn({type:y,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),y})();class hj{constructor(p,g,v){this.route=p,this.childContexts=g,this.parent=v}get(p,g){return p===xd?this.route:p===Ef?this.childContexts:this.parent.get(p,g)}}let xO=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275cmp=za({type:y,selectors:[["ng-component"]],decls:1,vars:0,template:function(g,v){1&g&&Ta(0,"router-outlet")},directives:[Y_],encapsulation:2}),y})();function DO(y,p=""){for(let g=0;g<y.length;g++){const v=y[g];fj(v,pj(p,v))}}function fj(y,p){y.children&&DO(y.children,p)}function pj(y,p){return p?y||p.path?y&&!p.path?`${y}/`:!y&&p.path?p.path:`${y}/${p.path}`:"":y}function X_(y){const p=y.children&&y.children.map(X_),g=p?Object.assign(Object.assign({},y),{children:p}):Object.assign({},y);return!g.component&&(p||g.loadChildren)&&g.outlet&&g.outlet!==Gn&&(g.component=xO),g}function fa(y){return y.outlet||Gn}function OO(y,p){const g=y.filter(v=>fa(v)===p);return g.push(...y.filter(v=>fa(v)!==p)),g}const SO={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function J0(y,p,g){var v;if(""===p.path)return"full"===p.pathMatch&&(y.hasChildren()||g.length>0)?Object.assign({},SO):{matched:!0,consumedSegments:[],remainingSegments:g,parameters:{},positionalParamSegments:{}};const E=(p.matcher||OF)(g,y,p);if(!E)return Object.assign({},SO);const w={};Ho(E.posParams,(O,L)=>{w[L]=O.path});const D=E.consumed.length>0?Object.assign(Object.assign({},w),E.consumed[E.consumed.length-1].parameters):w;return{matched:!0,consumedSegments:E.consumed,remainingSegments:g.slice(E.consumed.length),parameters:D,positionalParamSegments:null!==(v=E.posParams)&&void 0!==v?v:{}}}function Y0(y,p,g,v,_="corrected"){if(g.length>0&&function gj(y,p,g){return g.some(v=>X0(y,p,v)&&fa(v)!==Gn)}(y,g,v)){const w=new ri(p,function yj(y,p,g,v){const _={};_[Gn]=v,v._sourceSegment=y,v._segmentIndexShift=p.length;for(const E of g)if(""===E.path&&fa(E)!==Gn){const w=new ri([],{});w._sourceSegment=y,w._segmentIndexShift=p.length,_[fa(E)]=w}return _}(y,p,v,new ri(g,y.children)));return w._sourceSegment=y,w._segmentIndexShift=p.length,{segmentGroup:w,slicedSegments:[]}}if(0===g.length&&function vj(y,p,g){return g.some(v=>X0(y,p,v))}(y,g,v)){const w=new ri(y.segments,function mj(y,p,g,v,_,E){const w={};for(const D of v)if(X0(y,g,D)&&!_[fa(D)]){const O=new ri([],{});O._sourceSegment=y,O._segmentIndexShift="legacy"===E?y.segments.length:p.length,w[fa(D)]=O}return Object.assign(Object.assign({},_),w)}(y,p,g,v,y.children,_));return w._sourceSegment=y,w._segmentIndexShift=p.length,{segmentGroup:w,slicedSegments:g}}const E=new ri(y.segments,y.children);return E._sourceSegment=y,E._segmentIndexShift=p.length,{segmentGroup:E,slicedSegments:g}}function X0(y,p,g){return(!(y.hasChildren()||p.length>0)||"full"!==g.pathMatch)&&""===g.path}function IO(y,p,g,v){return!!(fa(y)===v||v!==Gn&&X0(p,g,y))&&("**"===y.path||J0(p,y,g).matched)}function TO(y,p,g){return 0===p.length&&!y.children[g]}class Q0{constructor(p){this.segmentGroup=p||null}}class PO{constructor(p){this.urlTree=p}}function bf(y){return cf(new Q0(y))}function AO(y){return cf(new PO(y))}class Cj{constructor(p,g,v,_,E){this.configLoader=g,this.urlSerializer=v,this.urlTree=_,this.config=E,this.allowRedirects=!0,this.ngModule=p.get(Al)}apply(){const p=Y0(this.urlTree.root,[],[],this.config).segmentGroup,g=new ri(p.segments,p.children);return this.expandSegmentGroup(this.ngModule,this.config,g,Gn).pipe(Te(E=>this.createUrlTree(Q_(E),this.urlTree.queryParams,this.urlTree.fragment))).pipe(pu(E=>{if(E instanceof PO)return this.allowRedirects=!1,this.match(E.urlTree);throw E instanceof Q0?this.noMatchError(E):E}))}match(p){return this.expandSegmentGroup(this.ngModule,this.config,p.root,Gn).pipe(Te(_=>this.createUrlTree(Q_(_),p.queryParams,p.fragment))).pipe(pu(_=>{throw _ instanceof Q0?this.noMatchError(_):_}))}noMatchError(p){return new Error(`Cannot match any routes. URL Segment: '${p.segmentGroup}'`)}createUrlTree(p,g,v){const _=p.segments.length>0?new ri([],{[Gn]:p}):p;return new ic(_,g,v)}expandSegmentGroup(p,g,v,_){return 0===v.segments.length&&v.hasChildren()?this.expandChildren(p,g,v).pipe(Te(E=>new ri([],E))):this.expandSegment(p,v,g,v.segments,_,!0)}expandChildren(p,g,v){const _=[];for(const E of Object.keys(v.children))"primary"===E?_.unshift(E):_.push(E);return Sn(_).pipe(hf(E=>{const w=v.children[E],D=OO(g,E);return this.expandSegmentGroup(p,D,w,E).pipe(Te(O=>({segment:O,outlet:E})))}),zD((E,w)=>(E[w.outlet]=w.segment,E),{}),function pF(y,p){const g=arguments.length>=2;return v=>v.pipe(y?ha((_,E)=>y(_,E,v)):ue,j_(1),g?HD(p):GD(()=>new B0))}())}expandSegment(p,g,v,_,E,w){return Sn(v).pipe(hf(D=>this.expandSegmentAgainstRoute(p,g,v,D,_,E,w).pipe(pu(L=>{if(L instanceof Q0)return Fn(null);throw L}))),Cd(D=>!!D),pu((D,O)=>{if(D instanceof B0||"EmptyError"===D.name)return TO(g,_,E)?Fn(new ri([],{})):bf(g);throw D}))}expandSegmentAgainstRoute(p,g,v,_,E,w,D){return IO(_,g,E,w)?void 0===_.redirectTo?this.matchSegmentAgainstRoute(p,g,_,E,w):D&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(p,g,v,_,E,w):bf(g):bf(g)}expandSegmentAgainstRouteUsingRedirect(p,g,v,_,E,w){return"**"===_.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(p,v,_,w):this.expandRegularSegmentAgainstRouteUsingRedirect(p,g,v,_,E,w)}expandWildCardWithParamsAgainstRouteUsingRedirect(p,g,v,_){const E=this.applyRedirectCommands([],v.redirectTo,{});return v.redirectTo.startsWith("/")?AO(E):this.lineralizeSegments(v,E).pipe(Br(w=>{const D=new ri(w,{});return this.expandSegment(p,D,g,w,_,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(p,g,v,_,E,w){const{matched:D,consumedSegments:O,remainingSegments:L,positionalParamSegments:z}=J0(g,_,E);if(!D)return bf(g);const se=this.applyRedirectCommands(O,_.redirectTo,z);return _.redirectTo.startsWith("/")?AO(se):this.lineralizeSegments(_,se).pipe(Br(Ee=>this.expandSegment(p,g,v,Ee.concat(L),w,!1)))}matchSegmentAgainstRoute(p,g,v,_,E){if("**"===v.path)return v.loadChildren?(v._loadedConfig?Fn(v._loadedConfig):this.configLoader.load(p.injector,v)).pipe(Te(se=>(v._loadedConfig=se,new ri(_,{})))):Fn(new ri(_,{}));const{matched:w,consumedSegments:D,remainingSegments:O}=J0(g,v,_);return w?this.getChildConfig(p,v,_).pipe(Br(z=>{const se=z.module,Ee=z.routes,{segmentGroup:Me,slicedSegments:Ge}=Y0(g,D,O,Ee),st=new ri(Me.segments,Me.children);if(0===Ge.length&&st.hasChildren())return this.expandChildren(se,Ee,st).pipe(Te(Nt=>new ri(D,Nt)));if(0===Ee.length&&0===Ge.length)return Fn(new ri(D,{}));const vt=fa(v)===E;return this.expandSegment(se,st,Ee,Ge,vt?Gn:E,!0).pipe(Te(pt=>new ri(D.concat(pt.segments),pt.children)))})):bf(g)}getChildConfig(p,g,v){return g.children?Fn(new J_(g.children,p)):g.loadChildren?void 0!==g._loadedConfig?Fn(g._loadedConfig):this.runCanLoadGuards(p.injector,g,v).pipe(Br(_=>_?this.configLoader.load(p.injector,g).pipe(Te(E=>(g._loadedConfig=E,E))):function Ej(y){return cf(B_(`Cannot load children because the guard of the route "path: '${y.path}'" returned false`))}(g))):Fn(new J_([],p))}runCanLoadGuards(p,g,v){const _=g.canLoad;return _&&0!==_.length?Fn(_.map(w=>{const D=p.get(w);let O;if(function aj(y){return y&&mu(y.canLoad)}(D))O=D.canLoad(g,v);else{if(!mu(D))throw new Error("Invalid CanLoad guard");O=D(g,v)}return al(O)})).pipe(_f(),Ps(w=>{if(!sc(w))return;const D=B_(`Redirecting to "${this.urlSerializer.serialize(w)}"`);throw D.url=w,D}),Te(w=>!0===w)):Fn(!0)}lineralizeSegments(p,g){let v=[],_=g.root;for(;;){if(v=v.concat(_.segments),0===_.numberOfChildren)return Fn(v);if(_.numberOfChildren>1||!_.children[Gn])return cf(new Error(`Only absolute redirects can have named outlets. redirectTo: '${p.redirectTo}'`));_=_.children[Gn]}}applyRedirectCommands(p,g,v){return this.applyRedirectCreatreUrlTree(g,this.urlSerializer.parse(g),p,v)}applyRedirectCreatreUrlTree(p,g,v,_){const E=this.createSegmentGroup(p,g.root,v,_);return new ic(E,this.createQueryParams(g.queryParams,this.urlTree.queryParams),g.fragment)}createQueryParams(p,g){const v={};return Ho(p,(_,E)=>{if("string"==typeof _&&_.startsWith(":")){const D=_.substring(1);v[E]=g[D]}else v[E]=_}),v}createSegmentGroup(p,g,v,_){const E=this.createSegments(p,g.segments,v,_);let w={};return Ho(g.children,(D,O)=>{w[O]=this.createSegmentGroup(p,D,v,_)}),new ri(E,w)}createSegments(p,g,v,_){return g.map(E=>E.path.startsWith(":")?this.findPosParam(p,E,_):this.findOrReturn(E,v))}findPosParam(p,g,v){const _=v[g.path.substring(1)];if(!_)throw new Error(`Cannot redirect to '${p}'. Cannot find '${g.path}'.`);return _}findOrReturn(p,g){let v=0;for(const _ of g){if(_.path===p.path)return g.splice(v),_;v++}return p}}function Q_(y){const p={};for(const v of Object.keys(y.children)){const E=Q_(y.children[v]);(E.segments.length>0||E.hasChildren())&&(p[v]=E)}return function Mj(y){if(1===y.numberOfChildren&&y.children[Gn]){const p=y.children[Gn];return new ri(y.segments.concat(p.segments),p.children)}return y}(new ri(y.segments,p))}class RO{constructor(p){this.path=p,this.route=this.path[this.path.length-1]}}class q0{constructor(p,g){this.component=p,this.route=g}}function xj(y,p,g){const v=y._root;return Cf(v,p?p._root:null,g,[v.value])}function em(y,p,g){const v=function Oj(y){if(!y)return null;for(let p=y.parent;p;p=p.parent){const g=p.routeConfig;if(g&&g._loadedConfig)return g._loadedConfig}return null}(p);return(v?v.module.injector:g).get(y)}function Cf(y,p,g,v,_={canDeactivateChecks:[],canActivateChecks:[]}){const E=wd(p);return y.children.forEach(w=>{(function Sj(y,p,g,v,_={canDeactivateChecks:[],canActivateChecks:[]}){const E=y.value,w=p?p.value:null,D=g?g.getContext(y.value.outlet):null;if(w&&E.routeConfig===w.routeConfig){const O=function Ij(y,p,g){if("function"==typeof g)return g(y,p);switch(g){case"pathParamsChange":return!oc(y.url,p.url);case"pathParamsOrQueryParamsChange":return!oc(y.url,p.url)||!sl(y.queryParams,p.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!K_(y,p)||!sl(y.queryParams,p.queryParams);default:return!K_(y,p)}}(w,E,E.routeConfig.runGuardsAndResolvers);O?_.canActivateChecks.push(new RO(v)):(E.data=w.data,E._resolvedData=w._resolvedData),Cf(y,p,E.component?D?D.children:null:g,v,_),O&&D&&D.outlet&&D.outlet.isActivated&&_.canDeactivateChecks.push(new q0(D.outlet.component,w))}else w&&Mf(p,D,_),_.canActivateChecks.push(new RO(v)),Cf(y,null,E.component?D?D.children:null:g,v,_)})(w,E[w.value.outlet],g,v.concat([w.value]),_),delete E[w.value.outlet]}),Ho(E,(w,D)=>Mf(w,g.getContext(D),_)),_}function Mf(y,p,g){const v=wd(y),_=y.value;Ho(v,(E,w)=>{Mf(E,_.component?p?p.children.getContext(w):null:p,g)}),g.canDeactivateChecks.push(new q0(_.component&&p&&p.outlet&&p.outlet.isActivated?p.outlet.component:null,_))}class Uj{}function LO(y){return new fe(p=>p.error(y))}class Vj{constructor(p,g,v,_,E,w){this.rootComponentType=p,this.config=g,this.urlTree=v,this.url=_,this.paramsInheritanceStrategy=E,this.relativeLinkResolution=w}recognize(){const p=Y0(this.urlTree.root,[],[],this.config.filter(w=>void 0===w.redirectTo),this.relativeLinkResolution).segmentGroup,g=this.processSegmentGroup(this.config,p,Gn);if(null===g)return null;const v=new z0([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Gn,this.rootComponentType,null,this.urlTree.root,-1,{}),_=new jl(v,g),E=new vO(this.url,_);return this.inheritParamsAndData(E._root),E}inheritParamsAndData(p){const g=p.value,v=gO(g,this.paramsInheritanceStrategy);g.params=Object.freeze(v.params),g.data=Object.freeze(v.data),p.children.forEach(_=>this.inheritParamsAndData(_))}processSegmentGroup(p,g,v){return 0===g.segments.length&&g.hasChildren()?this.processChildren(p,g):this.processSegment(p,g,g.segments,v)}processChildren(p,g){const v=[];for(const E of Object.keys(g.children)){const w=g.children[E],D=OO(p,E),O=this.processSegmentGroup(D,w,E);if(null===O)return null;v.push(...O)}const _=NO(v);return function Wj(y){y.sort((p,g)=>p.value.outlet===Gn?-1:g.value.outlet===Gn?1:p.value.outlet.localeCompare(g.value.outlet))}(_),_}processSegment(p,g,v,_){for(const E of p){const w=this.processSegmentAgainstRoute(E,g,v,_);if(null!==w)return w}return TO(g,v,_)?[]:null}processSegmentAgainstRoute(p,g,v,_){if(p.redirectTo||!IO(p,g,v,_))return null;let E,w=[],D=[];if("**"===p.path){const Me=v.length>0?nO(v).parameters:{};E=new z0(v,Me,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,UO(p),fa(p),p.component,p,FO(g),jO(g)+v.length,BO(p))}else{const Me=J0(g,p,v);if(!Me.matched)return null;w=Me.consumedSegments,D=Me.remainingSegments,E=new z0(w,Me.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,UO(p),fa(p),p.component,p,FO(g),jO(g)+w.length,BO(p))}const O=function kj(y){return y.children?y.children:y.loadChildren?y._loadedConfig.routes:[]}(p),{segmentGroup:L,slicedSegments:z}=Y0(g,w,D,O.filter(Me=>void 0===Me.redirectTo),this.relativeLinkResolution);if(0===z.length&&L.hasChildren()){const Me=this.processChildren(O,L);return null===Me?null:[new jl(E,Me)]}if(0===O.length&&0===z.length)return[new jl(E,[])];const se=fa(p)===_,Ee=this.processSegment(O,L,z,se?Gn:_);return null===Ee?null:[new jl(E,Ee)]}}function Zj(y){const p=y.value.routeConfig;return p&&""===p.path&&void 0===p.redirectTo}function NO(y){const p=[],g=new Set;for(const v of y){if(!Zj(v)){p.push(v);continue}const _=p.find(E=>v.value.routeConfig===E.value.routeConfig);void 0!==_?(_.children.push(...v.children),g.add(_)):p.push(v)}for(const v of g){const _=NO(v.children);p.push(new jl(v.value,_))}return p.filter(v=>!g.has(v))}function FO(y){let p=y;for(;p._sourceSegment;)p=p._sourceSegment;return p}function jO(y){let p=y,g=p._segmentIndexShift?p._segmentIndexShift:0;for(;p._sourceSegment;)p=p._sourceSegment,g+=p._segmentIndexShift?p._segmentIndexShift:0;return g-1}function UO(y){return y.data||{}}function BO(y){return y.resolve||{}}function VO(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}function q_(y){return ja(p=>{const g=y(p);return g?Sn(g).pipe(Te(()=>p)):Fn(p)})}class Xj extends class Yj{shouldDetach(p){return!1}store(p,g){}shouldAttach(p){return!1}retrieve(p){return null}shouldReuseRoute(p,g){return p.routeConfig===g.routeConfig}}{}const e1=new ln("ROUTES");class WO{constructor(p,g,v,_){this.injector=p,this.compiler=g,this.onLoadStartListener=v,this.onLoadEndListener=_}load(p,g){if(g._loader$)return g._loader$;this.onLoadStartListener&&this.onLoadStartListener(g);const _=this.loadModuleFactory(g.loadChildren).pipe(Te(E=>{this.onLoadEndListener&&this.onLoadEndListener(g);const w=E.create(p);return new J_(rO(w.injector.get(e1,void 0,cr.Self|cr.Optional)).map(X_),w)}),pu(E=>{throw g._loader$=void 0,E}));return g._loader$=new $D(_,()=>new we).pipe(ZD()),g._loader$}loadModuleFactory(p){return al(p()).pipe(Br(g=>g instanceof rx?Fn(g):Sn(this.compiler.compileModuleAsync(g))))}}class qj{shouldProcessUrl(p){return!0}extract(p){return p}merge(p,g){return p}}function eU(y){throw y}function tU(y,p,g){return p.parse("/")}function kO(y,p){return Fn(null)}const rU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ea=(()=>{class y{constructor(g,v,_,E,w,D,O){this.rootComponentType=g,this.urlSerializer=v,this.rootContexts=_,this.location=E,this.config=O,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new we,this.errorHandler=eU,this.malformedUriErrorHandler=tU,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:kO,afterPreactivation:kO},this.urlHandlingStrategy=new qj,this.routeReuseStrategy=new Xj,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=w.get(Al),this.console=w.get(Ux);const se=w.get(Bo);this.isNgZoneEnabled=se instanceof Bo&&Bo.isInAngularZone(),this.resetConfig(O),this.currentUrlTree=function IF(){return new ic(new ri([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new WO(w,D,Ee=>this.triggerEvent(new XD(Ee)),Ee=>this.triggerEvent(new QD(Ee))),this.routerState=yO(this.currentUrlTree,this.rootComponentType),this.transitions=new da({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var g;return null===(g=this.location.getState())||void 0===g?void 0:g.\u0275routerPageId}setupNavigations(g){const v=this.events;return g.pipe(ha(_=>0!==_.id),Te(_=>Object.assign(Object.assign({},_),{extractedUrl:this.urlHandlingStrategy.extract(_.rawUrl)})),ja(_=>{let E=!1,w=!1;return Fn(_).pipe(Ps(D=>{this.currentNavigation={id:D.id,initialUrl:D.currentRawUrl,extractedUrl:D.extractedUrl,trigger:D.source,extras:D.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ja(D=>{const O=this.browserUrlTree.toString(),L=!this.navigated||D.extractedUrl.toString()!==O||O!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||L)&&this.urlHandlingStrategy.shouldProcessUrl(D.rawUrl))return ZO(D.source)&&(this.browserUrlTree=D.extractedUrl),Fn(D).pipe(ja(se=>{const Ee=this.transitions.getValue();return v.next(new U_(se.id,this.serializeUrl(se.extractedUrl),se.source,se.restoredState)),Ee!==this.transitions.getValue()?jn:Promise.resolve(se)}),function wj(y,p,g,v){return ja(_=>function bj(y,p,g,v,_){return new Cj(y,p,g,v,_).apply()}(y,p,g,_.extractedUrl,v).pipe(Te(E=>Object.assign(Object.assign({},_),{urlAfterRedirects:E}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Ps(se=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:se.urlAfterRedirects})}),function $j(y,p,g,v,_){return Br(E=>function Bj(y,p,g,v,_="emptyOnly",E="legacy"){try{const w=new Vj(y,p,g,v,_,E).recognize();return null===w?LO(new Uj):Fn(w)}catch(w){return LO(w)}}(y,p,E.urlAfterRedirects,g(E.urlAfterRedirects),v,_).pipe(Te(w=>Object.assign(Object.assign({},E),{targetSnapshot:w}))))}(this.rootComponentType,this.config,se=>this.serializeUrl(se),this.paramsInheritanceStrategy,this.relativeLinkResolution),Ps(se=>{if("eager"===this.urlUpdateStrategy){if(!se.extras.skipLocationChange){const Me=this.urlHandlingStrategy.merge(se.urlAfterRedirects,se.rawUrl);this.setBrowserUrl(Me,se)}this.browserUrlTree=se.urlAfterRedirects}const Ee=new yF(se.id,this.serializeUrl(se.extractedUrl),this.serializeUrl(se.urlAfterRedirects),se.targetSnapshot);v.next(Ee)}));if(L&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Ee,extractedUrl:Me,source:Ge,restoredState:st,extras:vt}=D,Ct=new U_(Ee,this.serializeUrl(Me),Ge,st);v.next(Ct);const pt=yO(Me,this.rootComponentType).snapshot;return Fn(Object.assign(Object.assign({},D),{targetSnapshot:pt,urlAfterRedirects:Me,extras:Object.assign(Object.assign({},vt),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=D.rawUrl,D.resolve(null),jn}),q_(D=>{const{targetSnapshot:O,id:L,extractedUrl:z,rawUrl:se,extras:{skipLocationChange:Ee,replaceUrl:Me}}=D;return this.hooks.beforePreactivation(O,{navigationId:L,appliedUrlTree:z,rawUrlTree:se,skipLocationChange:!!Ee,replaceUrl:!!Me})}),Ps(D=>{const O=new gF(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(O)}),Te(D=>Object.assign(Object.assign({},D),{guards:xj(D.targetSnapshot,D.currentSnapshot,this.rootContexts)})),function Tj(y,p){return Br(g=>{const{targetSnapshot:v,currentSnapshot:_,guards:{canActivateChecks:E,canDeactivateChecks:w}}=g;return 0===w.length&&0===E.length?Fn(Object.assign(Object.assign({},g),{guardsResult:!0})):function Pj(y,p,g,v){return Sn(y).pipe(Br(_=>function jj(y,p,g,v,_){const E=p&&p.routeConfig?p.routeConfig.canDeactivate:null;return E&&0!==E.length?Fn(E.map(D=>{const O=em(D,p,_);let L;if(function cj(y){return y&&mu(y.canDeactivate)}(O))L=al(O.canDeactivate(y,p,g,v));else{if(!mu(O))throw new Error("Invalid CanDeactivate guard");L=al(O(y,p,g,v))}return L.pipe(Cd())})).pipe(_f()):Fn(!0)}(_.component,_.route,g,p,v)),Cd(_=>!0!==_,!0))}(w,v,_,y).pipe(Br(D=>D&&function sj(y){return"boolean"==typeof y}(D)?function Aj(y,p,g,v){return Sn(p).pipe(hf(_=>df(function Lj(y,p){return null!==y&&p&&p(new bF(y)),Fn(!0)}(_.route.parent,v),function Rj(y,p){return null!==y&&p&&p(new MF(y)),Fn(!0)}(_.route,v),function Fj(y,p,g){const v=p[p.length-1],E=p.slice(0,p.length-1).reverse().map(w=>function Dj(y){const p=y.routeConfig?y.routeConfig.canActivateChild:null;return p&&0!==p.length?{node:y,guards:p}:null}(w)).filter(w=>null!==w).map(w=>V0(()=>Fn(w.guards.map(O=>{const L=em(O,w.node,g);let z;if(function uj(y){return y&&mu(y.canActivateChild)}(L))z=al(L.canActivateChild(v,y));else{if(!mu(L))throw new Error("Invalid CanActivateChild guard");z=al(L(v,y))}return z.pipe(Cd())})).pipe(_f())));return Fn(E).pipe(_f())}(y,_.path,g),function Nj(y,p,g){const v=p.routeConfig?p.routeConfig.canActivate:null;if(!v||0===v.length)return Fn(!0);const _=v.map(E=>V0(()=>{const w=em(E,p,g);let D;if(function lj(y){return y&&mu(y.canActivate)}(w))D=al(w.canActivate(p,y));else{if(!mu(w))throw new Error("Invalid CanActivate guard");D=al(w(p,y))}return D.pipe(Cd())}));return Fn(_).pipe(_f())}(y,_.route,g))),Cd(_=>!0!==_,!0))}(v,E,y,p):Fn(D)),Te(D=>Object.assign(Object.assign({},g),{guardsResult:D})))})}(this.ngModule.injector,D=>this.triggerEvent(D)),Ps(D=>{if(sc(D.guardsResult)){const L=B_(`Redirecting to "${this.serializeUrl(D.guardsResult)}"`);throw L.url=D.guardsResult,L}const O=new vF(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot,!!D.guardsResult);this.triggerEvent(O)}),ha(D=>!!D.guardsResult||(this.restoreHistory(D),this.cancelNavigationTransition(D,""),!1)),q_(D=>{if(D.guards.canActivateChecks.length)return Fn(D).pipe(Ps(O=>{const L=new _F(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);this.triggerEvent(L)}),ja(O=>{let L=!1;return Fn(O).pipe(function Kj(y,p){return Br(g=>{const{targetSnapshot:v,guards:{canActivateChecks:_}}=g;if(!_.length)return Fn(g);let E=0;return Sn(_).pipe(hf(w=>function zj(y,p,g,v){return function Gj(y,p,g,v){const _=VO(y);if(0===_.length)return Fn({});const E={};return Sn(_).pipe(Br(w=>function Hj(y,p,g,v){const _=em(y,p,v);return al(_.resolve?_.resolve(p,g):_(p,g))}(y[w],p,g,v).pipe(Ps(D=>{E[w]=D}))),j_(1),Br(()=>VO(E).length===_.length?Fn(E):jn))}(y._resolve,y,p,v).pipe(Te(E=>(y._resolvedData=E,y.data=Object.assign(Object.assign({},y.data),gO(y,g).resolve),null)))}(w.route,v,y,p)),Ps(()=>E++),j_(1),Br(w=>E===_.length?Fn(g):jn))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Ps({next:()=>L=!0,complete:()=>{L||(this.restoreHistory(O),this.cancelNavigationTransition(O,"At least one route resolver didn't emit any value."))}}))}),Ps(O=>{const L=new EF(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);this.triggerEvent(L)}))}),q_(D=>{const{targetSnapshot:O,id:L,extractedUrl:z,rawUrl:se,extras:{skipLocationChange:Ee,replaceUrl:Me}}=D;return this.hooks.afterPreactivation(O,{navigationId:L,appliedUrlTree:z,rawUrlTree:se,skipLocationChange:!!Ee,replaceUrl:!!Me})}),Te(D=>{const O=function GF(y,p,g){const v=yf(y,p._root,g?g._root:void 0);return new mO(v,p)}(this.routeReuseStrategy,D.targetSnapshot,D.currentRouterState);return Object.assign(Object.assign({},D),{targetRouterState:O})}),Ps(D=>{this.currentUrlTree=D.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl),this.routerState=D.targetRouterState,"deferred"===this.urlUpdateStrategy&&(D.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,D),this.browserUrlTree=D.urlAfterRedirects)}),((y,p,g)=>Te(v=>(new ij(p,v.targetRouterState,v.currentRouterState,g).activate(y),v)))(this.rootContexts,this.routeReuseStrategy,D=>this.triggerEvent(D)),Ps({next(){E=!0},complete(){E=!0}}),JD(()=>{var D;E||w||this.cancelNavigationTransition(_,`Navigation ID ${_.id} is not equal to the current navigation id ${this.navigationId}`),(null===(D=this.currentNavigation)||void 0===D?void 0:D.id)===_.id&&(this.currentNavigation=null)}),pu(D=>{if(w=!0,function DF(y){return y&&y[eO]}(D)){const O=sc(D.url);O||(this.navigated=!0,this.restoreHistory(_,!0));const L=new YD(_.id,this.serializeUrl(_.extractedUrl),D.message);v.next(L),O?setTimeout(()=>{const z=this.urlHandlingStrategy.merge(D.url,this.rawUrlTree),se={skipLocationChange:_.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ZO(_.source)};this.scheduleNavigation(z,"imperative",null,se,{resolve:_.resolve,reject:_.reject,promise:_.promise})},0):_.resolve(!1)}else{this.restoreHistory(_,!0);const O=new mF(_.id,this.serializeUrl(_.extractedUrl),D);v.next(O);try{_.resolve(this.errorHandler(D))}catch(L){_.reject(L)}}return jn}))}))}resetRootComponentType(g){this.rootComponentType=g,this.routerState.root.component=this.rootComponentType}setTransition(g){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),g))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(g=>{const v="popstate"===g.type?"popstate":"hashchange";"popstate"===v&&setTimeout(()=>{var _;const E={replaceUrl:!0},w=(null===(_=g.state)||void 0===_?void 0:_.navigationId)?g.state:null;if(w){const O=Object.assign({},w);delete O.navigationId,delete O.\u0275routerPageId,0!==Object.keys(O).length&&(E.state=O)}const D=this.parseUrl(g.url);this.scheduleNavigation(D,v,w,E)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(g){this.events.next(g)}resetConfig(g){DO(g),this.config=g.map(X_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(g,v={}){const{relativeTo:_,queryParams:E,fragment:w,queryParamsHandling:D,preserveFragment:O}=v,L=_||this.routerState.root,z=O?this.currentUrlTree.fragment:w;let se=null;switch(D){case"merge":se=Object.assign(Object.assign({},this.currentUrlTree.queryParams),E);break;case"preserve":se=this.currentUrlTree.queryParams;break;default:se=E||null}return null!==se&&(se=this.removeEmptyProps(se)),function YF(y,p,g,v,_){if(0===g.length)return z_(p.root,p.root,p.root,v,_);const E=function XF(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new bO(!0,0,y);let p=0,g=!1;const v=y.reduce((_,E,w)=>{if("object"==typeof E&&null!=E){if(E.outlets){const D={};return Ho(E.outlets,(O,L)=>{D[L]="string"==typeof O?O.split("/"):O}),[..._,{outlets:D}]}if(E.segmentPath)return[..._,E.segmentPath]}return"string"!=typeof E?[..._,E]:0===w?(E.split("/").forEach((D,O)=>{0==O&&"."===D||(0==O&&""===D?g=!0:".."===D?p++:""!=D&&_.push(D))}),_):[..._,E]},[]);return new bO(g,p,v)}(g);if(E.toRoot())return z_(p.root,p.root,new ri([],{}),v,_);const w=function QF(y,p,g){if(y.isAbsolute)return new G_(p.root,!0,0);if(-1===g.snapshot._lastPathIndex){const E=g.snapshot._urlSegment;return new G_(E,E===p.root,0)}const v=G0(y.commands[0])?0:1;return function qF(y,p,g){let v=y,_=p,E=g;for(;E>_;){if(E-=_,v=v.parent,!v)throw new Error("Invalid number of '../'");_=v.segments.length}return new G_(v,!1,_-E)}(g.snapshot._urlSegment,g.snapshot._lastPathIndex+v,y.numberOfDoubleDots)}(E,p,y),D=w.processChildren?H0(w.segmentGroup,w.index,E.commands):CO(w.segmentGroup,w.index,E.commands);return z_(p.root,w.segmentGroup,D,v,_)}(L,this.currentUrlTree,g,se,null!=z?z:null)}navigateByUrl(g,v={skipLocationChange:!1}){const _=sc(g)?g:this.parseUrl(g),E=this.urlHandlingStrategy.merge(_,this.rawUrlTree);return this.scheduleNavigation(E,"imperative",null,v)}navigate(g,v={skipLocationChange:!1}){return function iU(y){for(let p=0;p<y.length;p++){const g=y[p];if(null==g)throw new Error(`The requested path contains ${g} segment at index ${p}`)}}(g),this.navigateByUrl(this.createUrlTree(g,v),v)}serializeUrl(g){return this.urlSerializer.serialize(g)}parseUrl(g){let v;try{v=this.urlSerializer.parse(g)}catch(_){v=this.malformedUriErrorHandler(_,this.urlSerializer,g)}return v}isActive(g,v){let _;if(_=!0===v?Object.assign({},rU):!1===v?Object.assign({},nU):v,sc(g))return oO(this.currentUrlTree,g,_);const E=this.parseUrl(g);return oO(this.currentUrlTree,E,_)}removeEmptyProps(g){return Object.keys(g).reduce((v,_)=>{const E=g[_];return null!=E&&(v[_]=E),v},{})}processNavigations(){this.navigations.subscribe(g=>{this.navigated=!0,this.lastSuccessfulId=g.id,this.currentPageId=g.targetPageId,this.events.next(new ff(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,g.resolve(!0)},g=>{this.console.warn(`Unhandled Navigation Error: ${g}`)})}scheduleNavigation(g,v,_,E,w){var D,O;if(this.disposed)return Promise.resolve(!1);let L,z,se;w?(L=w.resolve,z=w.reject,se=w.promise):se=new Promise((Ge,st)=>{L=Ge,z=st});const Ee=++this.navigationId;let Me;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(_=this.location.getState()),Me=_&&_.\u0275routerPageId?_.\u0275routerPageId:E.replaceUrl||E.skipLocationChange?null!==(D=this.browserPageId)&&void 0!==D?D:0:(null!==(O=this.browserPageId)&&void 0!==O?O:0)+1):Me=0,this.setTransition({id:Ee,targetPageId:Me,source:v,restoredState:_,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:g,extras:E,resolve:L,reject:z,promise:se,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),se.catch(Ge=>Promise.reject(Ge))}setBrowserUrl(g,v){const _=this.urlSerializer.serialize(g),E=Object.assign(Object.assign({},v.extras.state),this.generateNgRouterState(v.id,v.targetPageId));this.location.isCurrentPathEqualTo(_)||v.extras.replaceUrl?this.location.replaceState(_,"",E):this.location.go(_,"",E)}restoreHistory(g,v=!1){var _,E;if("computed"===this.canceledNavigationResolution){const w=this.currentPageId-g.targetPageId;"popstate"!==g.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(_=this.currentNavigation)||void 0===_?void 0:_.finalUrl)||0===w?this.currentUrlTree===(null===(E=this.currentNavigation)||void 0===E?void 0:E.finalUrl)&&0===w&&(this.resetState(g),this.browserUrlTree=g.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(w)}else"replace"===this.canceledNavigationResolution&&(v&&this.resetState(g),this.resetUrlToCurrentUrlTree())}resetState(g){this.routerState=g.currentRouterState,this.currentUrlTree=g.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,g.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(g,v){const _=new YD(g.id,this.serializeUrl(g.extractedUrl),v);this.triggerEvent(_),g.resolve(!1)}generateNgRouterState(g,v){return"computed"===this.canceledNavigationResolution?{navigationId:g,\u0275routerPageId:v}:{navigationId:g}}}return y.\u0275fac=function(g){Cv()},y.\u0275prov=xt({token:y,factory:y.\u0275fac}),y})();function ZO(y){return"imperative"!==y}let tm=(()=>{class y{constructor(g,v,_){this.router=g,this.route=v,this.locationStrategy=_,this.commands=null,this.href=null,this.onChanges=new we,this.subscription=g.events.subscribe(E=>{E instanceof ff&&this.updateTargetUrlAndHref()})}set routerLink(g){this.commands=null!=g?Array.isArray(g)?g:[g]:null}ngOnChanges(g){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(g,v,_,E,w){if(0!==g||v||_||E||w||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const D={skipLocationChange:Dd(this.skipLocationChange),replaceUrl:Dd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,D),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Dd(this.preserveFragment)})}}return y.\u0275fac=function(g){return new(g||y)(Ar(ea),Ar(xd),Ar(bd))},y.\u0275dir=sn({type:y,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(g,v){1&g&&vs("click",function(E){return v.onClick(E.button,E.ctrlKey,E.shiftKey,E.altKey,E.metaKey)}),2&g&&rl("target",v.target)("href",v.href,Dg)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[ps]}),y})();function Dd(y){return""===y||!!y}class $O{}class KO{preload(p,g){return Fn(null)}}let zO=(()=>{class y{constructor(g,v,_,E){this.router=g,this.injector=_,this.preloadingStrategy=E,this.loader=new WO(_,v,O=>g.triggerEvent(new XD(O)),O=>g.triggerEvent(new QD(O)))}setUpPreloading(){this.subscription=this.router.events.pipe(ha(g=>g instanceof ff),hf(()=>this.preload())).subscribe(()=>{})}preload(){const g=this.injector.get(Al);return this.processRoutes(g,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(g,v){const _=[];for(const E of v)if(E.loadChildren&&!E.canLoad&&E._loadedConfig){const w=E._loadedConfig;_.push(this.processRoutes(w.module,w.routes))}else E.loadChildren&&!E.canLoad?_.push(this.preloadConfig(g,E)):E.children&&_.push(this.processRoutes(g,E.children));return Sn(_).pipe(nn(),Te(E=>{}))}preloadConfig(g,v){return this.preloadingStrategy.preload(v,()=>(v._loadedConfig?Fn(v._loadedConfig):this.loader.load(g.injector,v)).pipe(Br(E=>(v._loadedConfig=E,this.processRoutes(E.module,E.routes)))))}}return y.\u0275fac=function(g){return new(g||y)(pn(ea),pn(Bx),pn(is),pn($O))},y.\u0275prov=xt({token:y,factory:y.\u0275fac}),y})(),r1=(()=>{class y{constructor(g,v,_={}){this.router=g,this.viewportScroller=v,this.options=_,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},_.scrollPositionRestoration=_.scrollPositionRestoration||"disabled",_.anchorScrolling=_.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(g=>{g instanceof U_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=g.navigationTrigger,this.restoredId=g.restoredState?g.restoredState.navigationId:0):g instanceof ff&&(this.lastId=g.id,this.scheduleScrollEvent(g,this.router.parseUrl(g.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(g=>{g instanceof qD&&(g.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(g.position):g.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(g.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(g,v){this.router.triggerEvent(new qD(g,"popstate"===this.lastSource?this.store[this.restoredId]:null,v))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return y.\u0275fac=function(g){Cv()},y.\u0275prov=xt({token:y,factory:y.\u0275fac}),y})();const ac=new ln("ROUTER_CONFIGURATION"),GO=new ln("ROUTER_FORROOT_GUARD"),lU=[m_,{provide:uO,useClass:cO},{provide:ea,useFactory:function fU(y,p,g,v,_,E,w={},D,O){const L=new ea(null,y,p,g,v,_,rO(E));return D&&(L.urlHandlingStrategy=D),O&&(L.routeReuseStrategy=O),function pU(y,p){y.errorHandler&&(p.errorHandler=y.errorHandler),y.malformedUriErrorHandler&&(p.malformedUriErrorHandler=y.malformedUriErrorHandler),y.onSameUrlNavigation&&(p.onSameUrlNavigation=y.onSameUrlNavigation),y.paramsInheritanceStrategy&&(p.paramsInheritanceStrategy=y.paramsInheritanceStrategy),y.relativeLinkResolution&&(p.relativeLinkResolution=y.relativeLinkResolution),y.urlUpdateStrategy&&(p.urlUpdateStrategy=y.urlUpdateStrategy),y.canceledNavigationResolution&&(p.canceledNavigationResolution=y.canceledNavigationResolution)}(w,L),w.enableTracing&&L.events.subscribe(z=>{var se,Ee;null===(se=console.group)||void 0===se||se.call(console,`Router Event: ${z.constructor.name}`),console.log(z.toString()),console.log(z),null===(Ee=console.groupEnd)||void 0===Ee||Ee.call(console)}),L},deps:[uO,Ef,m_,is,Bx,e1,ac,[class Qj{},new lu],[class Jj{},new lu]]},Ef,{provide:xd,useFactory:function mU(y){return y.routerState.root},deps:[ea]},zO,KO,class aU{preload(p,g){return g().pipe(pu(()=>Fn(null)))}},{provide:ac,useValue:{enableTracing:!1}}];function uU(){return new $x("Router",ea)}let HO=(()=>{class y{constructor(g,v){}static forRoot(g,v){return{ngModule:y,providers:[lU,JO(g),{provide:GO,useFactory:hU,deps:[[ea,new lu,new Sh]]},{provide:ac,useValue:v||{}},{provide:bd,useFactory:dU,deps:[nc,[new Wp(p_),new lu],ac]},{provide:r1,useFactory:cU,deps:[ea,gN,ac]},{provide:$O,useExisting:v&&v.preloadingStrategy?v.preloadingStrategy:KO},{provide:$x,multi:!0,useFactory:uU},[n1,{provide:_0,multi:!0,useFactory:yU,deps:[n1]},{provide:YO,useFactory:gU,deps:[n1]},{provide:jx,multi:!0,useExisting:YO}]]}}static forChild(g){return{ngModule:y,providers:[JO(g)]}}}return y.\u0275fac=function(g){return new(g||y)(pn(GO,8),pn(ea,8))},y.\u0275mod=Os({type:y}),y.\u0275inj=At({}),y})();function cU(y,p,g){return g.scrollOffset&&p.setOffset(g.scrollOffset),new r1(y,p,g)}function dU(y,p,g={}){return g.useHash?new Y7(y,p):new cD(y,p)}function hU(y){return"guarded"}function JO(y){return[{provide:I3,multi:!0,useValue:y},{provide:e1,multi:!0,useValue:y}]}let n1=(()=>{class y{constructor(g){this.injector=g,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new we}appInitializer(){return this.injector.get(G7,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let v=null;const _=new Promise(D=>v=D),E=this.injector.get(ea),w=this.injector.get(ac);return"disabled"===w.initialNavigation?(E.setUpLocationChangeListener(),v(!0)):"enabled"===w.initialNavigation||"enabledBlocking"===w.initialNavigation?(E.hooks.afterPreactivation=()=>this.initNavigation?Fn(null):(this.initNavigation=!0,v(!0),this.resultOfPreactivationDone),E.initialNavigation()):v(!0),_})}bootstrapListener(g){const v=this.injector.get(ac),_=this.injector.get(zO),E=this.injector.get(r1),w=this.injector.get(ea),D=this.injector.get(E0);g===D.components[0]&&(("enabledNonBlocking"===v.initialNavigation||void 0===v.initialNavigation)&&w.initialNavigation(),_.setUpPreloading(),E.init(),w.resetRootComponentType(D.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return y.\u0275fac=function(g){return new(g||y)(pn(is))},y.\u0275prov=xt({token:y,factory:y.\u0275fac}),y})();function yU(y){return y.appInitializer.bind(y)}function gU(y){return y.bootstrapListener.bind(y)}const YO=new ln("Router Initializer");let BS=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275mod=Os({type:y}),y.\u0275inj=At({}),y})(),vB=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275mod=Os({type:y}),y.\u0275inj=At({imports:[[BS]]}),y})(),_B=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275mod=Os({type:y}),y.\u0275inj=At({imports:[vB]}),y})();var y,bB=(y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)},function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}),CB=function(y){function p(g){var v=this.constructor,_=y.call(this,g)||this;return Object.defineProperty(_,"name",{value:v.name,enumerable:!1,configurable:!0}),function EB(y,p){var g=Object.setPrototypeOf;g?g(y,p):y.__proto__=p}(_,v.prototype),function nI(y,p){void 0===p&&(p=y.constructor);var g=Error.captureStackTrace;g&&g(y,p)}(_),_}return bB(p,y),p}(Error),wB=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),xB=function(y){function p(g){void 0===g&&(g=void 0);var v=y.call(this,g)||this;return v.message=g,v}return wB(p,y),p.prototype.getKind=function(){return this.constructor.kind},p.kind="Exception",p}(CB);const As=xB;var DB=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),OB=function(y){function p(){return null!==y&&y.apply(this,arguments)||this}return DB(p,y),p.kind="ArgumentException",p}(As);const uo=OB;var SB=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),IB=function(y){function p(){return null!==y&&y.apply(this,arguments)||this}return SB(p,y),p.kind="IllegalArgumentException",p}(As);const rn=IB;var TB=function(){function y(p){if(this.binarizer=p,null===p)throw new rn("Binarizer must be non-null.")}return y.prototype.getWidth=function(){return this.binarizer.getWidth()},y.prototype.getHeight=function(){return this.binarizer.getHeight()},y.prototype.getBlackRow=function(p,g){return this.binarizer.getBlackRow(p,g)},y.prototype.getBlackMatrix=function(){return null==this.matrix&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},y.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},y.prototype.crop=function(p,g,v,_){var E=this.binarizer.getLuminanceSource().crop(p,g,v,_);return new y(this.binarizer.createBinarizer(E))},y.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},y.prototype.rotateCounterClockwise=function(){var p=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new y(this.binarizer.createBinarizer(p))},y.prototype.rotateCounterClockwise45=function(){var p=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new y(this.binarizer.createBinarizer(p))},y.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch(p){return""}},y}();const iI=TB;var PB=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),AB=function(y){function p(){return null!==y&&y.apply(this,arguments)||this}return PB(p,y),p.getChecksumInstance=function(){return new p},p.kind="ChecksumException",p}(As);const Mo=AB;var RB=function(){function y(p){this.source=p}return y.prototype.getLuminanceSource=function(){return this.source},y.prototype.getWidth=function(){return this.source.getWidth()},y.prototype.getHeight=function(){return this.source.getHeight()},y}();const LB=RB;var NB=function(){function y(){}return y.arraycopy=function(p,g,v,_,E){for(;E--;)v[_++]=p[g++]},y.currentTimeMillis=function(){return Date.now()},y}();const Ti=NB;var FB=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),jB=function(y){function p(){return null!==y&&y.apply(this,arguments)||this}return FB(p,y),p.kind="IndexOutOfBoundsException",p}(As);const O1=jB;var UB=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),BB=function(y){function p(g,v){void 0===g&&(g=void 0),void 0===v&&(v=void 0);var _=y.call(this,v)||this;return _.index=g,_.message=v,_}return UB(p,y),p.kind="ArrayIndexOutOfBoundsException",p}(O1);const oI=BB;var WB=function(){function y(){}return y.fill=function(p,g){for(var v=0,_=p.length;v<_;v++)p[v]=g},y.fillWithin=function(p,g,v,_){y.rangeCheck(p.length,g,v);for(var E=g;E<v;E++)p[E]=_},y.rangeCheck=function(p,g,v){if(g>v)throw new rn("fromIndex("+g+") > toIndex("+v+")");if(g<0)throw new oI(g);if(v>p)throw new oI(v)},y.asList=function(){for(var p=[],g=0;g<arguments.length;g++)p[g]=arguments[g];return p},y.create=function(p,g,v){return Array.from({length:p}).map(function(E){return Array.from({length:g}).fill(v)})},y.createInt32Array=function(p,g,v){return Array.from({length:p}).map(function(E){return Int32Array.from({length:g}).fill(v)})},y.equals=function(p,g){if(!(p&&g&&p.length&&g.length&&p.length===g.length))return!1;for(var v=0,_=p.length;v<_;v++)if(p[v]!==g[v])return!1;return!0},y.hashCode=function(p){var g,v;if(null===p)return 0;var _=1;try{for(var E=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")}(p),w=E.next();!w.done;w=E.next())_=31*_+w.value}catch(O){g={error:O}}finally{try{w&&!w.done&&(v=E.return)&&v.call(E)}finally{if(g)throw g.error}}return _},y.fillUint8Array=function(p,g){for(var v=0;v!==p.length;v++)p[v]=g},y.copyOf=function(p,g){return p.slice(0,g)},y.copyOfUint8Array=function(p,g){if(p.length<=g){var v=new Uint8Array(g);return v.set(p),v}return p.slice(0,g)},y.copyOfRange=function(p,g,v){var _=v-g,E=new Int32Array(_);return Ti.arraycopy(p,g,E,0,_),E},y.binarySearch=function(p,g,v){void 0===v&&(v=y.numberComparator);for(var _=0,E=p.length-1;_<=E;){var w=E+_>>1,D=v(g,p[w]);if(D>0)_=w+1;else{if(!(D<0))return w;E=w-1}}return-_-1},y.numberComparator=function(p,g){return p-g},y}();const Rs=WB;var kB=function(){function y(){}return y.numberOfTrailingZeros=function(p){var g;if(0===p)return 32;var v=31;return 0!=(g=p<<16)&&(v-=16,p=g),0!=(g=p<<8)&&(v-=8,p=g),0!=(g=p<<4)&&(v-=4,p=g),0!=(g=p<<2)&&(v-=2,p=g),v-(p<<1>>>31)},y.numberOfLeadingZeros=function(p){if(0===p)return 32;var g=1;return p>>>16==0&&(g+=16,p<<=16),p>>>24==0&&(g+=8,p<<=8),p>>>28==0&&(g+=4,p<<=4),p>>>30==0&&(g+=2,p<<=2),g-(p>>>31)},y.toHexString=function(p){return p.toString(16)},y.toBinaryString=function(p){return String(parseInt(String(p),2))},y.bitCount=function(p){return p=(p=(858993459&(p-=p>>>1&1431655765))+(p>>>2&858993459))+(p>>>4)&252645135,63&(p+=p>>>8)+(p>>>16)},y.truncDivision=function(p,g){return Math.trunc(p/g)},y.parseInt=function(p,g){return void 0===g&&(g=void 0),parseInt(p,g)},y.MIN_VALUE_32_BITS=-2147483648,y.MAX_VALUE=Number.MAX_SAFE_INTEGER,y}();const ni=kB;var ZB=function(){function y(p,g){void 0===p?(this.size=0,this.bits=new Int32Array(1)):(this.size=p,this.bits=null==g?y.makeArray(p):g)}return y.prototype.getSize=function(){return this.size},y.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},y.prototype.ensureCapacity=function(p){if(p>32*this.bits.length){var g=y.makeArray(p);Ti.arraycopy(this.bits,0,g,0,this.bits.length),this.bits=g}},y.prototype.get=function(p){return 0!=(this.bits[Math.floor(p/32)]&1<<(31&p))},y.prototype.set=function(p){this.bits[Math.floor(p/32)]|=1<<(31&p)},y.prototype.flip=function(p){this.bits[Math.floor(p/32)]^=1<<(31&p)},y.prototype.getNextSet=function(p){var g=this.size;if(p>=g)return g;var v=this.bits,_=Math.floor(p/32),E=v[_];E&=~((1<<(31&p))-1);for(var w=v.length;0===E;){if(++_===w)return g;E=v[_]}var D=32*_+ni.numberOfTrailingZeros(E);return D>g?g:D},y.prototype.getNextUnset=function(p){var g=this.size;if(p>=g)return g;var v=this.bits,_=Math.floor(p/32),E=~v[_];E&=~((1<<(31&p))-1);for(var w=v.length;0===E;){if(++_===w)return g;E=~v[_]}var D=32*_+ni.numberOfTrailingZeros(E);return D>g?g:D},y.prototype.setBulk=function(p,g){this.bits[Math.floor(p/32)]=g},y.prototype.setRange=function(p,g){if(g<p||p<0||g>this.size)throw new rn;if(g!==p){g--;for(var v=Math.floor(p/32),_=Math.floor(g/32),E=this.bits,w=v;w<=_;w++)E[w]|=(2<<(w<_?31:31&g))-(1<<(w>v?0:31&p))}},y.prototype.clear=function(){for(var p=this.bits.length,g=this.bits,v=0;v<p;v++)g[v]=0},y.prototype.isRange=function(p,g,v){if(g<p||p<0||g>this.size)throw new rn;if(g===p)return!0;g--;for(var _=Math.floor(p/32),E=Math.floor(g/32),w=this.bits,D=_;D<=E;D++){var z=(2<<(D<E?31:31&g))-(1<<(D>_?0:31&p))&4294967295;if((w[D]&z)!==(v?z:0))return!1}return!0},y.prototype.appendBit=function(p){this.ensureCapacity(this.size+1),p&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++},y.prototype.appendBits=function(p,g){if(g<0||g>32)throw new rn("Num bits must be between 0 and 32");this.ensureCapacity(this.size+g);for(var v=g;v>0;v--)this.appendBit(1==(p>>v-1&1))},y.prototype.appendBitArray=function(p){var g=p.size;this.ensureCapacity(this.size+g);for(var v=0;v<g;v++)this.appendBit(p.get(v))},y.prototype.xor=function(p){if(this.size!==p.size)throw new rn("Sizes don't match");for(var g=this.bits,v=0,_=g.length;v<_;v++)g[v]^=p.bits[v]},y.prototype.toBytes=function(p,g,v,_){for(var E=0;E<_;E++){for(var w=0,D=0;D<8;D++)this.get(p)&&(w|=1<<7-D),p++;g[v+E]=w}},y.prototype.getBitArray=function(){return this.bits},y.prototype.reverse=function(){for(var p=new Int32Array(this.bits.length),g=Math.floor((this.size-1)/32),v=g+1,_=this.bits,E=0;E<v;E++){var w=_[E];p[g-E]=w=(w=(w=(w=(w=w>>1&1431655765|(1431655765&w)<<1)>>2&858993459|(858993459&w)<<2)>>4&252645135|(252645135&w)<<4)>>8&16711935|(16711935&w)<<8)>>16&65535|(65535&w)<<16}if(this.size!==32*v){var D=32*v-this.size,O=p[0]>>>D;for(E=1;E<v;E++){var L=p[E];p[E-1]=O|=L<<32-D,O=L>>>D}p[v-1]=O}this.bits=p},y.makeArray=function(p){return new Int32Array(Math.floor((p+31)/32))},y.prototype.equals=function(p){return p instanceof y&&(this.size===p.size&&Rs.equals(this.bits,p.bits))},y.prototype.hashCode=function(){return 31*this.size+Rs.hashCode(this.bits)},y.prototype.toString=function(){for(var p="",g=0,v=this.size;g<v;g++)0==(7&g)&&(p+=" "),p+=this.get(g)?"X":".";return p},y.prototype.clone=function(){return new y(this.size,this.bits.slice())},y}();const Vo=ZB;var dm=(()=>(function(y){y[y.OTHER=0]="OTHER",y[y.PURE_BARCODE=1]="PURE_BARCODE",y[y.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",y[y.TRY_HARDER=3]="TRY_HARDER",y[y.CHARACTER_SET=4]="CHARACTER_SET",y[y.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",y[y.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",y[y.ASSUME_GS1=7]="ASSUME_GS1",y[y.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",y[y.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",y[y.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"}(dm||(dm={})),dm))();const hi=dm;var $B=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),KB=function(y){function p(){return null!==y&&y.apply(this,arguments)||this}return $B(p,y),p.getFormatInstance=function(){return new p},p.kind="FormatException",p}(As);const $r=KB;var zB=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},fi=(()=>(function(y){y[y.Cp437=0]="Cp437",y[y.ISO8859_1=1]="ISO8859_1",y[y.ISO8859_2=2]="ISO8859_2",y[y.ISO8859_3=3]="ISO8859_3",y[y.ISO8859_4=4]="ISO8859_4",y[y.ISO8859_5=5]="ISO8859_5",y[y.ISO8859_6=6]="ISO8859_6",y[y.ISO8859_7=7]="ISO8859_7",y[y.ISO8859_8=8]="ISO8859_8",y[y.ISO8859_9=9]="ISO8859_9",y[y.ISO8859_10=10]="ISO8859_10",y[y.ISO8859_11=11]="ISO8859_11",y[y.ISO8859_13=12]="ISO8859_13",y[y.ISO8859_14=13]="ISO8859_14",y[y.ISO8859_15=14]="ISO8859_15",y[y.ISO8859_16=15]="ISO8859_16",y[y.SJIS=16]="SJIS",y[y.Cp1250=17]="Cp1250",y[y.Cp1251=18]="Cp1251",y[y.Cp1252=19]="Cp1252",y[y.Cp1256=20]="Cp1256",y[y.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",y[y.UTF8=22]="UTF8",y[y.ASCII=23]="ASCII",y[y.Big5=24]="Big5",y[y.GB18030=25]="GB18030",y[y.EUC_KR=26]="EUC_KR"}(fi||(fi={})),fi))(),GB=function(){function y(p,g,v){for(var _,E,w=[],D=3;D<arguments.length;D++)w[D-3]=arguments[D];this.valueIdentifier=p,this.name=v,this.values="number"==typeof g?Int32Array.from([g]):g,this.otherEncodingNames=w,y.VALUE_IDENTIFIER_TO_ECI.set(p,this),y.NAME_TO_ECI.set(v,this);for(var O=this.values,L=0,z=O.length;L!==z;L++){var se=O[L];y.VALUES_TO_ECI.set(se,this)}try{for(var Ee=zB(w),Me=Ee.next();!Me.done;Me=Ee.next()){var Ge=Me.value;y.NAME_TO_ECI.set(Ge,this)}}catch(st){_={error:st}}finally{try{Me&&!Me.done&&(E=Ee.return)&&E.call(Ee)}finally{if(_)throw _.error}}}return y.prototype.getValueIdentifier=function(){return this.valueIdentifier},y.prototype.getName=function(){return this.name},y.prototype.getValue=function(){return this.values[0]},y.getCharacterSetECIByValue=function(p){if(p<0||p>=900)throw new $r("incorect value");var g=y.VALUES_TO_ECI.get(p);if(void 0===g)throw new $r("incorect value");return g},y.getCharacterSetECIByName=function(p){var g=y.NAME_TO_ECI.get(p);if(void 0===g)throw new $r("incorect value");return g},y.prototype.equals=function(p){if(!(p instanceof y))return!1;var g=p;return this.getName()===g.getName()},y.VALUE_IDENTIFIER_TO_ECI=new Map,y.VALUES_TO_ECI=new Map,y.NAME_TO_ECI=new Map,y.Cp437=new y(fi.Cp437,Int32Array.from([0,2]),"Cp437"),y.ISO8859_1=new y(fi.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),y.ISO8859_2=new y(fi.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),y.ISO8859_3=new y(fi.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),y.ISO8859_4=new y(fi.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),y.ISO8859_5=new y(fi.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),y.ISO8859_6=new y(fi.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),y.ISO8859_7=new y(fi.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),y.ISO8859_8=new y(fi.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),y.ISO8859_9=new y(fi.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),y.ISO8859_10=new y(fi.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),y.ISO8859_11=new y(fi.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),y.ISO8859_13=new y(fi.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),y.ISO8859_14=new y(fi.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),y.ISO8859_15=new y(fi.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),y.ISO8859_16=new y(fi.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),y.SJIS=new y(fi.SJIS,20,"SJIS","Shift_JIS"),y.Cp1250=new y(fi.Cp1250,21,"Cp1250","windows-1250"),y.Cp1251=new y(fi.Cp1251,22,"Cp1251","windows-1251"),y.Cp1252=new y(fi.Cp1252,23,"Cp1252","windows-1252"),y.Cp1256=new y(fi.Cp1256,24,"Cp1256","windows-1256"),y.UnicodeBigUnmarked=new y(fi.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),y.UTF8=new y(fi.UTF8,26,"UTF8","UTF-8"),y.ASCII=new y(fi.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),y.Big5=new y(fi.Big5,28,"Big5"),y.GB18030=new y(fi.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),y.EUC_KR=new y(fi.EUC_KR,30,"EUC_KR","EUC-KR"),y}();const To=GB;var HB=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),JB=function(y){function p(){return null!==y&&y.apply(this,arguments)||this}return HB(p,y),p.kind="UnsupportedOperationException",p}(As);const hm=JB;var YB=function(){function y(){}return y.decode=function(p,g){var v=this.encodingName(g);return this.customDecoder?this.customDecoder(p,v):"undefined"==typeof TextDecoder||this.shouldDecodeOnFallback(v)?this.decodeFallback(p,v):new TextDecoder(v).decode(p)},y.shouldDecodeOnFallback=function(p){return!y.isBrowser()&&"ISO-8859-1"===p},y.encode=function(p,g){var v=this.encodingName(g);return this.customEncoder?this.customEncoder(p,v):"undefined"==typeof TextEncoder?this.encodeFallback(p):(new TextEncoder).encode(p)},y.isBrowser=function(){return"undefined"!=typeof window&&"[object Window]"==={}.toString.call(window)},y.encodingName=function(p){return"string"==typeof p?p:p.getName()},y.encodingCharacterSet=function(p){return p instanceof To?p:To.getCharacterSetECIByName(p)},y.decodeFallback=function(p,g){var v=this.encodingCharacterSet(g);if(y.isDecodeFallbackSupported(v)){for(var _="",E=0,w=p.length;E<w;E++){var D=p[E].toString(16);D.length<2&&(D="0"+D),_+="%"+D}return decodeURIComponent(_)}if(v.equals(To.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(p.buffer));throw new hm("Encoding "+this.encodingName(g)+" not supported by fallback.")},y.isDecodeFallbackSupported=function(p){return p.equals(To.UTF8)||p.equals(To.ISO8859_1)||p.equals(To.ASCII)},y.encodeFallback=function(p){for(var v=btoa(unescape(encodeURIComponent(p))).split(""),_=[],E=0;E<v.length;E++)_.push(v[E].charCodeAt(0));return new Uint8Array(_)},y}();const ul=YB;var XB=function(){function y(){}return y.castAsNonUtf8Char=function(p,g){void 0===g&&(g=null);var v=g?g.getName():this.ISO88591;return ul.decode(new Uint8Array([p]),v)},y.guessEncoding=function(p,g){if(null!=g&&void 0!==g.get(hi.CHARACTER_SET))return g.get(hi.CHARACTER_SET).toString();for(var v=p.length,_=!0,E=!0,w=!0,D=0,O=0,L=0,z=0,se=0,Ee=0,Me=0,Ge=0,st=0,vt=0,Ct=0,pt=p.length>3&&239===p[0]&&187===p[1]&&191===p[2],Nt=0;Nt<v&&(_||E||w);Nt++){var zt=255&p[Nt];w&&(D>0?0==(128&zt)?w=!1:D--:0!=(128&zt)&&(0==(64&zt)?w=!1:(D++,0==(32&zt)?O++:(D++,0==(16&zt)?L++:(D++,0==(8&zt)?z++:w=!1))))),_&&(zt>127&&zt<160?_=!1:zt>159&&(zt<192||215===zt||247===zt)&&Ct++),E&&(se>0?zt<64||127===zt||zt>252?E=!1:se--:128===zt||160===zt||zt>239?E=!1:zt>160&&zt<224?(Ee++,Ge=0,++Me>st&&(st=Me)):zt>127?(se++,Me=0,++Ge>vt&&(vt=Ge)):(Me=0,Ge=0))}return w&&D>0&&(w=!1),E&&se>0&&(E=!1),w&&(pt||O+L+z>0)?y.UTF8:E&&(y.ASSUME_SHIFT_JIS||st>=3||vt>=3)?y.SHIFT_JIS:_&&E?2===st&&2===Ee||10*Ct>=v?y.SHIFT_JIS:y.ISO88591:_?y.ISO88591:E?y.SHIFT_JIS:w?y.UTF8:y.PLATFORM_DEFAULT_ENCODING},y.format=function(p){for(var g=[],v=1;v<arguments.length;v++)g[v-1]=arguments[v];var _=-1;function E(D,O,L,z,se,Ee){if("%%"===D)return"%";if(void 0!==g[++_]){D=z?parseInt(z.substr(1)):void 0;var Ge,Me=se?parseInt(se.substr(1)):void 0;switch(Ee){case"s":Ge=g[_];break;case"c":Ge=g[_][0];break;case"f":Ge=parseFloat(g[_]).toFixed(D);break;case"p":Ge=parseFloat(g[_]).toPrecision(D);break;case"e":Ge=parseFloat(g[_]).toExponential(D);break;case"x":Ge=parseInt(g[_]).toString(Me||16);break;case"d":Ge=parseFloat(parseInt(g[_],Me||10).toPrecision(D)).toFixed(0)}Ge="object"==typeof Ge?JSON.stringify(Ge):(+Ge).toString(Me);for(var st=parseInt(L),vt=L&&L[0]+""=="0"?"0":" ";Ge.length<st;)Ge=void 0!==O?Ge+vt:vt+Ge;return Ge}}var w=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return p.replace(w,E)},y.getBytes=function(p,g){return ul.encode(p,g)},y.getCharCode=function(p,g){return void 0===g&&(g=0),p.charCodeAt(g)},y.getCharAt=function(p){return String.fromCharCode(p)},y.SHIFT_JIS=To.SJIS.getName(),y.GB2312="GB2312",y.ISO88591=To.ISO8859_1.getName(),y.EUC_JP="EUC_JP",y.UTF8=To.UTF8.getName(),y.PLATFORM_DEFAULT_ENCODING=y.UTF8,y.ASSUME_SHIFT_JIS=!1,y}();const xi=XB;var QB=function(){function y(p){void 0===p&&(p=""),this.value=p}return y.prototype.enableDecoding=function(p){return this.encoding=p,this},y.prototype.append=function(p){return this.value+="string"==typeof p?p.toString():this.encoding?xi.castAsNonUtf8Char(p,this.encoding):String.fromCharCode(p),this},y.prototype.appendChars=function(p,g,v){for(var _=g;g<g+v;_++)this.append(p[_]);return this},y.prototype.length=function(){return this.value.length},y.prototype.charAt=function(p){return this.value.charAt(p)},y.prototype.deleteCharAt=function(p){this.value=this.value.substr(0,p)+this.value.substring(p+1)},y.prototype.setCharAt=function(p,g){this.value=this.value.substr(0,p)+g+this.value.substr(p+1)},y.prototype.substring=function(p,g){return this.value.substring(p,g)},y.prototype.setLengthToZero=function(){this.value=""},y.prototype.toString=function(){return this.value},y.prototype.insert=function(p,g){this.value=this.value.substr(0,p)+g+this.value.substr(p+g.length)},y}();const Ei=QB;var qB=function(){function y(p,g,v,_){if(this.width=p,this.height=g,this.rowSize=v,this.bits=_,null==g&&(g=p),this.height=g,p<1||g<1)throw new rn("Both dimensions must be greater than 0");null==v&&(v=Math.floor((p+31)/32)),this.rowSize=v,null==_&&(this.bits=new Int32Array(this.rowSize*this.height))}return y.parseFromBooleanArray=function(p){for(var g=p.length,v=p[0].length,_=new y(v,g),E=0;E<g;E++)for(var w=p[E],D=0;D<v;D++)w[D]&&_.set(D,E);return _},y.parseFromString=function(p,g,v){if(null===p)throw new rn("stringRepresentation cannot be null");for(var _=new Array(p.length),E=0,w=0,D=-1,O=0,L=0;L<p.length;)if("\n"===p.charAt(L)||"\r"===p.charAt(L)){if(E>w){if(-1===D)D=E-w;else if(E-w!==D)throw new rn("row lengths do not match");w=E,O++}L++}else if(p.substring(L,L+g.length)===g)L+=g.length,_[E]=!0,E++;else{if(p.substring(L,L+v.length)!==v)throw new rn("illegal character encountered: "+p.substring(L));L+=v.length,_[E]=!1,E++}if(E>w){if(-1===D)D=E-w;else if(E-w!==D)throw new rn("row lengths do not match");O++}for(var z=new y(D,O),se=0;se<E;se++)_[se]&&z.set(Math.floor(se%D),Math.floor(se/D));return z},y.prototype.get=function(p,g){var v=g*this.rowSize+Math.floor(p/32);return 0!=(this.bits[v]>>>(31&p)&1)},y.prototype.set=function(p,g){var v=g*this.rowSize+Math.floor(p/32);this.bits[v]|=1<<(31&p)&4294967295},y.prototype.unset=function(p,g){var v=g*this.rowSize+Math.floor(p/32);this.bits[v]&=~(1<<(31&p)&4294967295)},y.prototype.flip=function(p,g){var v=g*this.rowSize+Math.floor(p/32);this.bits[v]^=1<<(31&p)&4294967295},y.prototype.xor=function(p){if(this.width!==p.getWidth()||this.height!==p.getHeight()||this.rowSize!==p.getRowSize())throw new rn("input matrix dimensions do not match");for(var g=new Vo(Math.floor(this.width/32)+1),v=this.rowSize,_=this.bits,E=0,w=this.height;E<w;E++)for(var D=E*v,O=p.getRow(E,g).getBitArray(),L=0;L<v;L++)_[D+L]^=O[L]},y.prototype.clear=function(){for(var p=this.bits,g=p.length,v=0;v<g;v++)p[v]=0},y.prototype.setRegion=function(p,g,v,_){if(g<0||p<0)throw new rn("Left and top must be nonnegative");if(_<1||v<1)throw new rn("Height and width must be at least 1");var E=p+v,w=g+_;if(w>this.height||E>this.width)throw new rn("The region must fit inside the matrix");for(var D=this.rowSize,O=this.bits,L=g;L<w;L++)for(var z=L*D,se=p;se<E;se++)O[z+Math.floor(se/32)]|=1<<(31&se)&4294967295},y.prototype.getRow=function(p,g){null==g||g.getSize()<this.width?g=new Vo(this.width):g.clear();for(var v=this.rowSize,_=this.bits,E=p*v,w=0;w<v;w++)g.setBulk(32*w,_[E+w]);return g},y.prototype.setRow=function(p,g){Ti.arraycopy(g.getBitArray(),0,this.bits,p*this.rowSize,this.rowSize)},y.prototype.rotate180=function(){for(var p=this.getWidth(),g=this.getHeight(),v=new Vo(p),_=new Vo(p),E=0,w=Math.floor((g+1)/2);E<w;E++)v=this.getRow(E,v),_=this.getRow(g-1-E,_),v.reverse(),_.reverse(),this.setRow(E,_),this.setRow(g-1-E,v)},y.prototype.getEnclosingRectangle=function(){for(var g=this.height,v=this.rowSize,_=this.bits,E=this.width,w=g,D=-1,O=-1,L=0;L<g;L++)for(var z=0;z<v;z++){var se=_[L*v+z];if(0!==se){if(L<w&&(w=L),L>O&&(O=L),32*z<E){for(var Ee=0;0==(se<<31-Ee&4294967295);)Ee++;32*z+Ee<E&&(E=32*z+Ee)}if(32*z+31>D){for(Ee=31;se>>>Ee==0;)Ee--;32*z+Ee>D&&(D=32*z+Ee)}}}return D<E||O<w?null:Int32Array.from([E,w,D-E+1,O-w+1])},y.prototype.getTopLeftOnBit=function(){for(var p=this.rowSize,g=this.bits,v=0;v<g.length&&0===g[v];)v++;if(v===g.length)return null;for(var _=v/p,E=v%p*32,w=g[v],D=0;0==(w<<31-D&4294967295);)D++;return Int32Array.from([E+=D,_])},y.prototype.getBottomRightOnBit=function(){for(var p=this.rowSize,g=this.bits,v=g.length-1;v>=0&&0===g[v];)v--;if(v<0)return null;for(var _=Math.floor(v/p),E=32*Math.floor(v%p),w=g[v],D=31;w>>>D==0;)D--;return Int32Array.from([E+=D,_])},y.prototype.getWidth=function(){return this.width},y.prototype.getHeight=function(){return this.height},y.prototype.getRowSize=function(){return this.rowSize},y.prototype.equals=function(p){return p instanceof y&&(this.width===p.width&&this.height===p.height&&this.rowSize===p.rowSize&&Rs.equals(this.bits,p.bits))},y.prototype.hashCode=function(){var p=this.width;return 31*(p=31*(p=31*(p=31*p+this.width)+this.height)+this.rowSize)+Rs.hashCode(this.bits)},y.prototype.toString=function(p,g,v){return void 0===p&&(p="X "),void 0===g&&(g="  "),void 0===v&&(v="\n"),this.buildToString(p,g,v)},y.prototype.buildToString=function(p,g,v){for(var _=new Ei,E=0,w=this.height;E<w;E++){for(var D=0,O=this.width;D<O;D++)_.append(this.get(D,E)?p:g);_.append(v)}return _.toString()},y.prototype.clone=function(){return new y(this.width,this.height,this.rowSize,this.bits.slice())},y}();const pa=qB;var eV=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),tV=function(y){function p(){return null!==y&&y.apply(this,arguments)||this}return eV(p,y),p.getNotFoundInstance=function(){return new p},p.kind="NotFoundException",p}(As);const Er=tV;var rV=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),nV=function(y){function p(g){var v=y.call(this,g)||this;return v.luminances=p.EMPTY,v.buckets=new Int32Array(p.LUMINANCE_BUCKETS),v}return rV(p,y),p.prototype.getBlackRow=function(g,v){var _=this.getLuminanceSource(),E=_.getWidth();null==v||v.getSize()<E?v=new Vo(E):v.clear(),this.initArrays(E);for(var w=_.getRow(g,this.luminances),D=this.buckets,O=0;O<E;O++)D[(255&w[O])>>p.LUMINANCE_SHIFT]++;var L=p.estimateBlackPoint(D);if(E<3)for(O=0;O<E;O++)(255&w[O])<L&&v.set(O);else{var z=255&w[0],se=255&w[1];for(O=1;O<E-1;O++){var Ee=255&w[O+1];(4*se-z-Ee)/2<L&&v.set(O),z=se,se=Ee}}return v},p.prototype.getBlackMatrix=function(){var g=this.getLuminanceSource(),v=g.getWidth(),_=g.getHeight(),E=new pa(v,_);this.initArrays(v);for(var w=this.buckets,D=1;D<5;D++)for(var O=Math.floor(_*D/5),L=g.getRow(O,this.luminances),z=Math.floor(4*v/5),se=Math.floor(v/5);se<z;se++)w[(255&L[se])>>p.LUMINANCE_SHIFT]++;var Me=p.estimateBlackPoint(w),Ge=g.getMatrix();for(D=0;D<_;D++){var st=D*v;for(se=0;se<v;se++)(255&Ge[st+se])<Me&&E.set(se,D)}return E},p.prototype.createBinarizer=function(g){return new p(g)},p.prototype.initArrays=function(g){this.luminances.length<g&&(this.luminances=new Uint8ClampedArray(g));for(var v=this.buckets,_=0;_<p.LUMINANCE_BUCKETS;_++)v[_]=0},p.estimateBlackPoint=function(g){for(var v=g.length,_=0,E=0,w=0,D=0;D<v;D++)g[D]>w&&(E=D,w=g[D]),g[D]>_&&(_=g[D]);var O=0,L=0;for(D=0;D<v;D++){var z=D-E;(se=g[D]*z*z)>L&&(O=D,L=se)}if(E>O){var Ee=E;E=O,O=Ee}if(O-E<=v/16)throw new Er;var Me=O-1,Ge=-1;for(D=O-1;D>E;D--){var se,st=D-E;(se=st*st*(O-D)*(_-g[D]))>Ge&&(Me=D,Ge=se)}return Me<<p.LUMINANCE_SHIFT},p.LUMINANCE_SHIFT=8-(p.LUMINANCE_BITS=5),p.LUMINANCE_BUCKETS=1<<p.LUMINANCE_BITS,p.EMPTY=Uint8ClampedArray.from([0]),p}(LB);const iV=nV;var oV=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),sV=function(y){function p(g){var v=y.call(this,g)||this;return v.matrix=null,v}return oV(p,y),p.prototype.getBlackMatrix=function(){if(null!==this.matrix)return this.matrix;var g=this.getLuminanceSource(),v=g.getWidth(),_=g.getHeight();if(v>=p.MINIMUM_DIMENSION&&_>=p.MINIMUM_DIMENSION){var E=g.getMatrix(),w=v>>p.BLOCK_SIZE_POWER;0!=(v&p.BLOCK_SIZE_MASK)&&w++;var D=_>>p.BLOCK_SIZE_POWER;0!=(_&p.BLOCK_SIZE_MASK)&&D++;var O=p.calculateBlackPoints(E,w,D,v,_),L=new pa(v,_);p.calculateThresholdForBlock(E,w,D,v,_,O,L),this.matrix=L}else this.matrix=y.prototype.getBlackMatrix.call(this);return this.matrix},p.prototype.createBinarizer=function(g){return new p(g)},p.calculateThresholdForBlock=function(g,v,_,E,w,D,O){for(var L=w-p.BLOCK_SIZE,z=E-p.BLOCK_SIZE,se=0;se<_;se++){var Ee=se<<p.BLOCK_SIZE_POWER;Ee>L&&(Ee=L);for(var Me=p.cap(se,2,_-3),Ge=0;Ge<v;Ge++){var st=Ge<<p.BLOCK_SIZE_POWER;st>z&&(st=z);for(var vt=p.cap(Ge,2,v-3),Ct=0,pt=-2;pt<=2;pt++){var Nt=D[Me+pt];Ct+=Nt[vt-2]+Nt[vt-1]+Nt[vt]+Nt[vt+1]+Nt[vt+2]}p.thresholdBlock(g,st,Ee,Ct/25,E,O)}}},p.cap=function(g,v,_){return g<v?v:g>_?_:g},p.thresholdBlock=function(g,v,_,E,w,D){for(var O=0,L=_*w+v;O<p.BLOCK_SIZE;O++,L+=w)for(var z=0;z<p.BLOCK_SIZE;z++)(255&g[L+z])<=E&&D.set(v+z,_+O)},p.calculateBlackPoints=function(g,v,_,E,w){for(var D=w-p.BLOCK_SIZE,O=E-p.BLOCK_SIZE,L=new Array(_),z=0;z<_;z++){L[z]=new Int32Array(v);var se=z<<p.BLOCK_SIZE_POWER;se>D&&(se=D);for(var Ee=0;Ee<v;Ee++){var Me=Ee<<p.BLOCK_SIZE_POWER;Me>O&&(Me=O);for(var Ge=0,st=255,vt=0,Ct=0,pt=se*E+Me;Ct<p.BLOCK_SIZE;Ct++,pt+=E){for(var Nt=0;Nt<p.BLOCK_SIZE;Nt++){var zt=255&g[pt+Nt];Ge+=zt,zt<st&&(st=zt),zt>vt&&(vt=zt)}if(vt-st>p.MIN_DYNAMIC_RANGE)for(Ct++,pt+=E;Ct<p.BLOCK_SIZE;Ct++,pt+=E)for(Nt=0;Nt<p.BLOCK_SIZE;Nt++)Ge+=255&g[pt+Nt]}var ar=Ge>>2*p.BLOCK_SIZE_POWER;if(vt-st<=p.MIN_DYNAMIC_RANGE&&(ar=st/2,z>0&&Ee>0)){var Mr=(L[z-1][Ee]+2*L[z][Ee-1]+L[z-1][Ee-1])/4;st<Mr&&(ar=Mr)}L[z][Ee]=ar}}return L},p.BLOCK_SIZE_MASK=(p.BLOCK_SIZE=1<<(p.BLOCK_SIZE_POWER=3))-1,p.MINIMUM_DIMENSION=5*p.BLOCK_SIZE,p.MIN_DYNAMIC_RANGE=24,p}(iV);const sI=sV;var aV=function(){function y(p,g){this.width=p,this.height=g}return y.prototype.getWidth=function(){return this.width},y.prototype.getHeight=function(){return this.height},y.prototype.isCropSupported=function(){return!1},y.prototype.crop=function(p,g,v,_){throw new hm("This luminance source does not support cropping.")},y.prototype.isRotateSupported=function(){return!1},y.prototype.rotateCounterClockwise=function(){throw new hm("This luminance source does not support rotation by 90 degrees.")},y.prototype.rotateCounterClockwise45=function(){throw new hm("This luminance source does not support rotation by 45 degrees.")},y.prototype.toString=function(){for(var p=new Uint8ClampedArray(this.width),g=new Ei,v=0;v<this.height;v++){for(var _=this.getRow(v,p),E=0;E<this.width;E++){var w=255&_[E];g.append(w<64?"#":w<128?"+":w<192?".":" ")}g.append("\n")}return g.toString()},y}();const Sf=aV;var lV=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),uV=function(y){function p(g){var v=y.call(this,g.getWidth(),g.getHeight())||this;return v.delegate=g,v}return lV(p,y),p.prototype.getRow=function(g,v){for(var _=this.delegate.getRow(g,v),E=this.getWidth(),w=0;w<E;w++)_[w]=255-(255&_[w]);return _},p.prototype.getMatrix=function(){for(var g=this.delegate.getMatrix(),v=this.getWidth()*this.getHeight(),_=new Uint8ClampedArray(v),E=0;E<v;E++)_[E]=255-(255&g[E]);return _},p.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},p.prototype.crop=function(g,v,_,E){return new p(this.delegate.crop(g,v,_,E))},p.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},p.prototype.invert=function(){return this.delegate},p.prototype.rotateCounterClockwise=function(){return new p(this.delegate.rotateCounterClockwise())},p.prototype.rotateCounterClockwise45=function(){return new p(this.delegate.rotateCounterClockwise45())},p}(Sf);const fm=uV;var cV=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),dV=function(y){function p(g){var v=y.call(this,g.width,g.height)||this;return v.canvas=g,v.tempCanvasElement=null,v.buffer=p.makeBufferFromCanvasImageData(g),v}return cV(p,y),p.makeBufferFromCanvasImageData=function(g){var v=g.getContext("2d").getImageData(0,0,g.width,g.height);return p.toGrayscaleBuffer(v.data,g.width,g.height)},p.toGrayscaleBuffer=function(g,v,_){for(var E=new Uint8ClampedArray(v*_),w=0,D=0,O=g.length;w<O;w+=4,D++){E[D]=0===g[w+3]?255:306*g[w]+601*g[w+1]+117*g[w+2]+512>>10}return E},p.prototype.getRow=function(g,v){if(g<0||g>=this.getHeight())throw new rn("Requested row is outside the image: "+g);var _=this.getWidth(),E=g*_;return null===v?v=this.buffer.slice(E,E+_):(v.length<_&&(v=new Uint8ClampedArray(_)),v.set(this.buffer.slice(E,E+_))),v},p.prototype.getMatrix=function(){return this.buffer},p.prototype.isCropSupported=function(){return!0},p.prototype.crop=function(g,v,_,E){return y.prototype.crop.call(this,g,v,_,E),this},p.prototype.isRotateSupported=function(){return!0},p.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},p.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},p.prototype.getTempCanvasElement=function(){if(null===this.tempCanvasElement){var g=this.canvas.ownerDocument.createElement("canvas");g.width=this.canvas.width,g.height=this.canvas.height,this.tempCanvasElement=g}return this.tempCanvasElement},p.prototype.rotate=function(g){var v=this.getTempCanvasElement(),_=v.getContext("2d"),E=g*p.DEGREE_TO_RADIANS,w=this.canvas.width,D=this.canvas.height,O=Math.ceil(Math.abs(Math.cos(E))*w+Math.abs(Math.sin(E))*D),L=Math.ceil(Math.abs(Math.sin(E))*w+Math.abs(Math.cos(E))*D);return v.width=O,v.height=L,_.translate(O/2,L/2),_.rotate(E),_.drawImage(this.canvas,w/-2,D/-2),this.buffer=p.makeBufferFromCanvasImageData(v),this},p.prototype.invert=function(){return new fm(this)},p.DEGREE_TO_RADIANS=Math.PI/180,p}(Sf),hV=function(){function y(p,g,v){this.deviceId=p,this.label=g,this.kind="videoinput",this.groupId=v||void 0}return y.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},y}(),Cs=function(y,p,g,v){return new(g||(g=Promise))(function(E,w){function D(z){try{L(v.next(z))}catch(se){w(se)}}function O(z){try{L(v.throw(z))}catch(se){w(se)}}function L(z){z.done?E(z.value):function _(E){return E instanceof g?E:new g(function(w){w(E)})}(z.value).then(D,O)}L((v=v.apply(y,p||[])).next())})},Ms=function(y,p){var v,_,E,w,g={label:0,sent:function(){if(1&E[0])throw E[1];return E[1]},trys:[],ops:[]};return w={next:D(0),throw:D(1),return:D(2)},"function"==typeof Symbol&&(w[Symbol.iterator]=function(){return this}),w;function D(L){return function(z){return function O(L){if(v)throw new TypeError("Generator is already executing.");for(;g;)try{if(v=1,_&&(E=2&L[0]?_.return:L[0]?_.throw||((E=_.return)&&E.call(_),0):_.next)&&!(E=E.call(_,L[1])).done)return E;switch(_=0,E&&(L=[2&L[0],E.value]),L[0]){case 0:case 1:E=L;break;case 4:return g.label++,{value:L[1],done:!1};case 5:g.label++,_=L[1],L=[0];continue;case 7:L=g.ops.pop(),g.trys.pop();continue;default:if(!(E=(E=g.trys).length>0&&E[E.length-1])&&(6===L[0]||2===L[0])){g=0;continue}if(3===L[0]&&(!E||L[1]>E[0]&&L[1]<E[3])){g.label=L[1];break}if(6===L[0]&&g.label<E[1]){g.label=E[1],E=L;break}if(E&&g.label<E[2]){g.label=E[2],g.ops.push(L);break}E[2]&&g.ops.pop(),g.trys.pop();continue}L=p.call(y,g)}catch(z){L=[6,z],_=0}finally{v=E=0}if(5&L[0])throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}([L,z])}}},Sd=function(){function y(p,g,v){void 0===g&&(g=500),this.reader=p,this.timeBetweenScansMillis=g,this._hints=v,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(y.prototype,"hasNavigator",{get:function(){return"undefined"!=typeof navigator},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"canEnumerateDevices",{get:function(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(p){this._timeBetweenDecodingAttempts=p<0?0:p},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"hints",{get:function(){return this._hints},set:function(p){this._hints=p||null},enumerable:!1,configurable:!0}),y.prototype.listVideoInputDevices=function(){return Cs(this,void 0,void 0,function(){var p,g,v,_,E,w,se,Ee;return Ms(this,function(Me){switch(Me.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:p=Me.sent(),g=[];try{for(v=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")}(p),_=v.next();!_.done;_=v.next())"videoinput"===(w="video"===(E=_.value).kind?"videoinput":E.kind)&&g.push({deviceId:E.deviceId||E.id,label:E.label||"Video device "+(g.length+1),kind:w,groupId:E.groupId})}catch(Ge){se={error:Ge}}finally{try{_&&!_.done&&(Ee=v.return)&&Ee.call(v)}finally{if(se)throw se.error}}return[2,g]}})})},y.prototype.getVideoInputDevices=function(){return Cs(this,void 0,void 0,function(){return Ms(this,function(g){switch(g.label){case 0:return[4,this.listVideoInputDevices()];case 1:return[2,g.sent().map(function(v){return new hV(v.deviceId,v.label)})]}})})},y.prototype.findDeviceById=function(p){return Cs(this,void 0,void 0,function(){var g;return Ms(this,function(v){switch(v.label){case 0:return[4,this.listVideoInputDevices()];case 1:return(g=v.sent())?[2,g.find(function(_){return _.deviceId===p})]:[2,null]}})})},y.prototype.decodeFromInputVideoDevice=function(p,g){return Cs(this,void 0,void 0,function(){return Ms(this,function(v){switch(v.label){case 0:return[4,this.decodeOnceFromVideoDevice(p,g)];case 1:return[2,v.sent()]}})})},y.prototype.decodeOnceFromVideoDevice=function(p,g){return Cs(this,void 0,void 0,function(){return Ms(this,function(E){switch(E.label){case 0:return this.reset(),[4,this.decodeOnceFromConstraints({video:p?{deviceId:{exact:p}}:{facingMode:"environment"}},g)];case 1:return[2,E.sent()]}})})},y.prototype.decodeOnceFromConstraints=function(p,g){return Cs(this,void 0,void 0,function(){var v;return Ms(this,function(_){switch(_.label){case 0:return[4,navigator.mediaDevices.getUserMedia(p)];case 1:return v=_.sent(),[4,this.decodeOnceFromStream(v,g)];case 2:return[2,_.sent()]}})})},y.prototype.decodeOnceFromStream=function(p,g){return Cs(this,void 0,void 0,function(){var v;return Ms(this,function(E){switch(E.label){case 0:return this.reset(),[4,this.attachStreamToVideo(p,g)];case 1:return v=E.sent(),[4,this.decodeOnce(v)];case 2:return[2,E.sent()]}})})},y.prototype.decodeFromInputVideoDeviceContinuously=function(p,g,v){return Cs(this,void 0,void 0,function(){return Ms(this,function(_){switch(_.label){case 0:return[4,this.decodeFromVideoDevice(p,g,v)];case 1:return[2,_.sent()]}})})},y.prototype.decodeFromVideoDevice=function(p,g,v){return Cs(this,void 0,void 0,function(){return Ms(this,function(w){switch(w.label){case 0:return[4,this.decodeFromConstraints({video:p?{deviceId:{exact:p}}:{facingMode:"environment"}},g,v)];case 1:return[2,w.sent()]}})})},y.prototype.decodeFromConstraints=function(p,g,v){return Cs(this,void 0,void 0,function(){var _;return Ms(this,function(E){switch(E.label){case 0:return[4,navigator.mediaDevices.getUserMedia(p)];case 1:return _=E.sent(),[4,this.decodeFromStream(_,g,v)];case 2:return[2,E.sent()]}})})},y.prototype.decodeFromStream=function(p,g,v){return Cs(this,void 0,void 0,function(){var _;return Ms(this,function(E){switch(E.label){case 0:return this.reset(),[4,this.attachStreamToVideo(p,g)];case 1:return _=E.sent(),[4,this.decodeContinuously(_,v)];case 2:return[2,E.sent()]}})})},y.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},y.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},y.prototype.attachStreamToVideo=function(p,g){return Cs(this,void 0,void 0,function(){var v;return Ms(this,function(_){switch(_.label){case 0:return v=this.prepareVideoElement(g),this.addVideoSource(v,p),this.videoElement=v,this.stream=p,[4,this.playVideoOnLoadAsync(v)];case 1:return _.sent(),[2,v]}})})},y.prototype.playVideoOnLoadAsync=function(p){var g=this;return new Promise(function(v,_){return g.playVideoOnLoad(p,function(){return v()})})},y.prototype.playVideoOnLoad=function(p,g){var v=this;this.videoEndedListener=function(){return v.stopStreams()},this.videoCanPlayListener=function(){return v.tryPlayVideo(p)},p.addEventListener("ended",this.videoEndedListener),p.addEventListener("canplay",this.videoCanPlayListener),p.addEventListener("playing",g),this.tryPlayVideo(p)},y.prototype.isVideoPlaying=function(p){return p.currentTime>0&&!p.paused&&!p.ended&&p.readyState>2},y.prototype.tryPlayVideo=function(p){return Cs(this,void 0,void 0,function(){return Ms(this,function(v){switch(v.label){case 0:if(this.isVideoPlaying(p))return console.warn("Trying to play video that is already playing."),[2];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,p.play()];case 2:return v.sent(),[3,4];case 3:return v.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},y.prototype.getMediaElement=function(p,g){var v=document.getElementById(p);if(!v)throw new uo("element with id '"+p+"' not found");if(v.nodeName.toLowerCase()!==g.toLowerCase())throw new uo("element with id '"+p+"' must be an "+g+" element");return v},y.prototype.decodeFromImage=function(p,g){if(!p&&!g)throw new uo("either imageElement with a src set or an url must be provided");return g&&!p?this.decodeFromImageUrl(g):this.decodeFromImageElement(p)},y.prototype.decodeFromVideo=function(p,g){if(!p&&!g)throw new uo("Either an element with a src set or an URL must be provided");return g&&!p?this.decodeFromVideoUrl(g):this.decodeFromVideoElement(p)},y.prototype.decodeFromVideoContinuously=function(p,g,v){if(void 0===p&&void 0===g)throw new uo("Either an element with a src set or an URL must be provided");return g&&!p?this.decodeFromVideoUrlContinuously(g,v):this.decodeFromVideoElementContinuously(p,v)},y.prototype.decodeFromImageElement=function(p){if(!p)throw new uo("An image element must be provided.");this.reset();var g=this.prepareImageElement(p);return this.imageElement=g,this.isImageLoaded(g)?this.decodeOnce(g,!1,!0):this._decodeOnLoadImage(g)},y.prototype.decodeFromVideoElement=function(p){var g=this._decodeFromVideoElementSetup(p);return this._decodeOnLoadVideo(g)},y.prototype.decodeFromVideoElementContinuously=function(p,g){var v=this._decodeFromVideoElementSetup(p);return this._decodeOnLoadVideoContinuously(v,g)},y.prototype._decodeFromVideoElementSetup=function(p){if(!p)throw new uo("A video element must be provided.");this.reset();var g=this.prepareVideoElement(p);return this.videoElement=g,g},y.prototype.decodeFromImageUrl=function(p){if(!p)throw new uo("An URL must be provided.");this.reset();var g=this.prepareImageElement();this.imageElement=g;var v=this._decodeOnLoadImage(g);return g.src=p,v},y.prototype.decodeFromVideoUrl=function(p){if(!p)throw new uo("An URL must be provided.");this.reset();var g=this.prepareVideoElement(),v=this.decodeFromVideoElement(g);return g.src=p,v},y.prototype.decodeFromVideoUrlContinuously=function(p,g){if(!p)throw new uo("An URL must be provided.");this.reset();var v=this.prepareVideoElement(),_=this.decodeFromVideoElementContinuously(v,g);return v.src=p,_},y.prototype._decodeOnLoadImage=function(p){var g=this;return new Promise(function(v,_){g.imageLoadedListener=function(){return g.decodeOnce(p,!1,!0).then(v,_)},p.addEventListener("load",g.imageLoadedListener)})},y.prototype._decodeOnLoadVideo=function(p){return Cs(this,void 0,void 0,function(){return Ms(this,function(g){switch(g.label){case 0:return[4,this.playVideoOnLoadAsync(p)];case 1:return g.sent(),[4,this.decodeOnce(p)];case 2:return[2,g.sent()]}})})},y.prototype._decodeOnLoadVideoContinuously=function(p,g){return Cs(this,void 0,void 0,function(){return Ms(this,function(v){switch(v.label){case 0:return[4,this.playVideoOnLoadAsync(p)];case 1:return v.sent(),this.decodeContinuously(p,g),[2]}})})},y.prototype.isImageLoaded=function(p){return!(!p.complete||0===p.naturalWidth)},y.prototype.prepareImageElement=function(p){var g;return void 0===p&&((g=document.createElement("img")).width=200,g.height=200),"string"==typeof p&&(g=this.getMediaElement(p,"img")),p instanceof HTMLImageElement&&(g=p),g},y.prototype.prepareVideoElement=function(p){var g;return!p&&"undefined"!=typeof document&&((g=document.createElement("video")).width=200,g.height=200),"string"==typeof p&&(g=this.getMediaElement(p,"video")),p instanceof HTMLVideoElement&&(g=p),g.setAttribute("autoplay","true"),g.setAttribute("muted","true"),g.setAttribute("playsinline","true"),g},y.prototype.decodeOnce=function(p,g,v){var _=this;void 0===g&&(g=!0),void 0===v&&(v=!0),this._stopAsyncDecode=!1;var E=function(w,D){if(_._stopAsyncDecode)return D(new Er("Video stream has ended before any code could be detected.")),void(_._stopAsyncDecode=void 0);try{w(_.decode(p))}catch(Ee){if(g&&Ee instanceof Er||(Ee instanceof Mo||Ee instanceof $r)&&v)return setTimeout(E,_._timeBetweenDecodingAttempts,w,D);D(Ee)}};return new Promise(function(w,D){return E(w,D)})},y.prototype.decodeContinuously=function(p,g){var v=this;this._stopContinuousDecode=!1;var _=function(){if(v._stopContinuousDecode)v._stopContinuousDecode=void 0;else try{var E=v.decode(p);g(E,null),setTimeout(_,v.timeBetweenScansMillis)}catch(O){g(null,O),(O instanceof Mo||O instanceof $r||O instanceof Er)&&setTimeout(_,v._timeBetweenDecodingAttempts)}};_()},y.prototype.decode=function(p){var g=this.createBinaryBitmap(p);return this.decodeBitmap(g)},y.prototype._isHTMLVideoElement=function(p){return 0!==p.videoWidth},y.prototype.createBinaryBitmap=function(p){this.getCaptureCanvasContext(p),this._isHTMLVideoElement(p)?this.drawFrameOnCanvas(p):this.drawImageOnCanvas(p);var v=this.getCaptureCanvas(p),_=new dV(v),E=new sI(_);return new iI(E)},y.prototype.getCaptureCanvasContext=function(p){if(!this.captureCanvasContext){var v=this.getCaptureCanvas(p).getContext("2d");this.captureCanvasContext=v}return this.captureCanvasContext},y.prototype.getCaptureCanvas=function(p){if(!this.captureCanvas){var g=this.createCaptureCanvas(p);this.captureCanvas=g}return this.captureCanvas},y.prototype.drawFrameOnCanvas=function(p,g,v){void 0===g&&(g={sx:0,sy:0,sWidth:p.videoWidth,sHeight:p.videoHeight,dx:0,dy:0,dWidth:p.videoWidth,dHeight:p.videoHeight}),void 0===v&&(v=this.captureCanvasContext),v.drawImage(p,g.sx,g.sy,g.sWidth,g.sHeight,g.dx,g.dy,g.dWidth,g.dHeight)},y.prototype.drawImageOnCanvas=function(p,g,v){void 0===g&&(g={sx:0,sy:0,sWidth:p.naturalWidth,sHeight:p.naturalHeight,dx:0,dy:0,dWidth:p.naturalWidth,dHeight:p.naturalHeight}),void 0===v&&(v=this.captureCanvasContext),v.drawImage(p,g.sx,g.sy,g.sWidth,g.sHeight,g.dx,g.dy,g.dWidth,g.dHeight)},y.prototype.decodeBitmap=function(p){return this.reader.decode(p,this._hints)},y.prototype.createCaptureCanvas=function(p){if("undefined"==typeof document)return this._destroyCaptureCanvas(),null;var v,_,g=document.createElement("canvas");return void 0!==p&&(p instanceof HTMLVideoElement?(v=p.videoWidth,_=p.videoHeight):p instanceof HTMLImageElement&&(v=p.naturalWidth||p.width,_=p.naturalHeight||p.height)),g.style.width=v+"px",g.style.height=_+"px",g.width=v,g.height=_,g},y.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(p){return p.stop()}),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()},y.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},y.prototype._destroyVideoElement=function(){!this.videoElement||(void 0!==this.videoEndedListener&&this.videoElement.removeEventListener("ended",this.videoEndedListener),void 0!==this.videoPlayingEventListener&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),void 0!==this.videoCanPlayListener&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},y.prototype._destroyImageElement=function(){!this.imageElement||(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},y.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},y.prototype.addVideoSource=function(p,g){try{p.srcObject=g}catch(v){p.src=URL.createObjectURL(g)}},y.prototype.cleanVideoSource=function(p){try{p.srcObject=null}catch(g){p.src=""}this.videoElement.removeAttribute("src")},y}(),pV=function(){function y(p,g,v,_,E,w){void 0===v&&(v=null==g?0:8*g.length),void 0===w&&(w=Ti.currentTimeMillis()),this.text=p,this.rawBytes=g,this.numBits=v,this.resultPoints=_,this.format=E,this.timestamp=w,this.text=p,this.rawBytes=g,this.numBits=null==v?null==g?0:8*g.length:v,this.resultPoints=_,this.format=E,this.resultMetadata=null,this.timestamp=null==w?Ti.currentTimeMillis():w}return y.prototype.getText=function(){return this.text},y.prototype.getRawBytes=function(){return this.rawBytes},y.prototype.getNumBits=function(){return this.numBits},y.prototype.getResultPoints=function(){return this.resultPoints},y.prototype.getBarcodeFormat=function(){return this.format},y.prototype.getResultMetadata=function(){return this.resultMetadata},y.prototype.putMetadata=function(p,g){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(p,g)},y.prototype.putAllMetadata=function(p){null!==p&&(this.resultMetadata=null===this.resultMetadata?p:new Map(p))},y.prototype.addResultPoints=function(p){var g=this.resultPoints;if(null===g)this.resultPoints=p;else if(null!==p&&p.length>0){var v=new Array(g.length+p.length);Ti.arraycopy(g,0,v,0,g.length),Ti.arraycopy(p,0,v,g.length,p.length),this.resultPoints=v}},y.prototype.getTimestamp=function(){return this.timestamp},y.prototype.toString=function(){return this.text},y}();const Ls=pV;var pm=(()=>(function(y){y[y.AZTEC=0]="AZTEC",y[y.CODABAR=1]="CODABAR",y[y.CODE_39=2]="CODE_39",y[y.CODE_93=3]="CODE_93",y[y.CODE_128=4]="CODE_128",y[y.DATA_MATRIX=5]="DATA_MATRIX",y[y.EAN_8=6]="EAN_8",y[y.EAN_13=7]="EAN_13",y[y.ITF=8]="ITF",y[y.MAXICODE=9]="MAXICODE",y[y.PDF_417=10]="PDF_417",y[y.QR_CODE=11]="QR_CODE",y[y.RSS_14=12]="RSS_14",y[y.RSS_EXPANDED=13]="RSS_EXPANDED",y[y.UPC_A=14]="UPC_A",y[y.UPC_E=15]="UPC_E",y[y.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"}(pm||(pm={})),pm))();const mn=pm;var mm=(()=>(function(y){y[y.OTHER=0]="OTHER",y[y.ORIENTATION=1]="ORIENTATION",y[y.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",y[y.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",y[y.ISSUE_NUMBER=4]="ISSUE_NUMBER",y[y.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",y[y.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",y[y.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",y[y.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",y[y.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",y[y.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"}(mm||(mm={})),mm))();const Jo=mm;var mV=function(){function y(p,g,v,_,E,w){void 0===E&&(E=-1),void 0===w&&(w=-1),this.rawBytes=p,this.text=g,this.byteSegments=v,this.ecLevel=_,this.structuredAppendSequenceNumber=E,this.structuredAppendParity=w,this.numBits=null==p?0:8*p.length}return y.prototype.getRawBytes=function(){return this.rawBytes},y.prototype.getNumBits=function(){return this.numBits},y.prototype.setNumBits=function(p){this.numBits=p},y.prototype.getText=function(){return this.text},y.prototype.getByteSegments=function(){return this.byteSegments},y.prototype.getECLevel=function(){return this.ecLevel},y.prototype.getErrorsCorrected=function(){return this.errorsCorrected},y.prototype.setErrorsCorrected=function(p){this.errorsCorrected=p},y.prototype.getErasures=function(){return this.erasures},y.prototype.setErasures=function(p){this.erasures=p},y.prototype.getOther=function(){return this.other},y.prototype.setOther=function(p){this.other=p},y.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},y.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},y.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},y}();const ym=mV;var yV=function(){function y(){}return y.prototype.exp=function(p){return this.expTable[p]},y.prototype.log=function(p){if(0===p)throw new rn;return this.logTable[p]},y.addOrSubtract=function(p,g){return p^g},y}();const If=yV;var gV=function(){function y(p,g){if(0===g.length)throw new rn;this.field=p;var v=g.length;if(v>1&&0===g[0]){for(var _=1;_<v&&0===g[_];)_++;_===v?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(v-_),Ti.arraycopy(g,_,this.coefficients,0,this.coefficients.length))}else this.coefficients=g}return y.prototype.getCoefficients=function(){return this.coefficients},y.prototype.getDegree=function(){return this.coefficients.length-1},y.prototype.isZero=function(){return 0===this.coefficients[0]},y.prototype.getCoefficient=function(p){return this.coefficients[this.coefficients.length-1-p]},y.prototype.evaluateAt=function(p){if(0===p)return this.getCoefficient(0);var v,g=this.coefficients;if(1===p){v=0;for(var _=0,E=g.length;_!==E;_++)v=If.addOrSubtract(v,g[_]);return v}v=g[0];var D=g.length,O=this.field;for(_=1;_<D;_++)v=If.addOrSubtract(O.multiply(p,v),g[_]);return v},y.prototype.addOrSubtract=function(p){if(!this.field.equals(p.field))throw new rn("GenericGFPolys do not have same GenericGF field");if(this.isZero())return p;if(p.isZero())return this;var g=this.coefficients,v=p.coefficients;if(g.length>v.length){var _=g;g=v,v=_}var E=new Int32Array(v.length),w=v.length-g.length;Ti.arraycopy(v,0,E,0,w);for(var D=w;D<v.length;D++)E[D]=If.addOrSubtract(g[D-w],v[D]);return new y(this.field,E)},y.prototype.multiply=function(p){if(!this.field.equals(p.field))throw new rn("GenericGFPolys do not have same GenericGF field");if(this.isZero()||p.isZero())return this.field.getZero();for(var g=this.coefficients,v=g.length,_=p.coefficients,E=_.length,w=new Int32Array(v+E-1),D=this.field,O=0;O<v;O++)for(var L=g[O],z=0;z<E;z++)w[O+z]=If.addOrSubtract(w[O+z],D.multiply(L,_[z]));return new y(D,w)},y.prototype.multiplyScalar=function(p){if(0===p)return this.field.getZero();if(1===p)return this;for(var g=this.coefficients.length,v=this.field,_=new Int32Array(g),E=this.coefficients,w=0;w<g;w++)_[w]=v.multiply(E[w],p);return new y(v,_)},y.prototype.multiplyByMonomial=function(p,g){if(p<0)throw new rn;if(0===g)return this.field.getZero();for(var v=this.coefficients,_=v.length,E=new Int32Array(_+p),w=this.field,D=0;D<_;D++)E[D]=w.multiply(v[D],g);return new y(w,E)},y.prototype.divide=function(p){if(!this.field.equals(p.field))throw new rn("GenericGFPolys do not have same GenericGF field");if(p.isZero())throw new rn("Divide by 0");for(var g=this.field,v=g.getZero(),_=this,E=p.getCoefficient(p.getDegree()),w=g.inverse(E);_.getDegree()>=p.getDegree()&&!_.isZero();){var D=_.getDegree()-p.getDegree(),O=g.multiply(_.getCoefficient(_.getDegree()),w),L=p.multiplyByMonomial(D,O),z=g.buildMonomial(D,O);v=v.addOrSubtract(z),_=_.addOrSubtract(L)}return[v,_]},y.prototype.toString=function(){for(var p="",g=this.getDegree();g>=0;g--){var v=this.getCoefficient(g);if(0!==v){if(v<0?(p+=" - ",v=-v):p.length>0&&(p+=" + "),0===g||1!==v){var _=this.field.log(v);0===_?p+="1":1===_?p+="a":(p+="a^",p+=_)}0!==g&&(1===g?p+="x":(p+="x^",p+=g))}}return p},y}();const _u=gV;var vV=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),_V=function(y){function p(){return null!==y&&y.apply(this,arguments)||this}return vV(p,y),p.kind="ArithmeticException",p}(As);const aI=_V;var EV=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),bV=function(y){function p(g,v,_){var E=y.call(this)||this;E.primitive=g,E.size=v,E.generatorBase=_;for(var w=new Int32Array(v),D=1,O=0;O<v;O++)w[O]=D,(D*=2)>=v&&(D^=g,D&=v-1);E.expTable=w;var L=new Int32Array(v);for(O=0;O<v-1;O++)L[w[O]]=O;return E.logTable=L,E.zero=new _u(E,Int32Array.from([0])),E.one=new _u(E,Int32Array.from([1])),E}return EV(p,y),p.prototype.getZero=function(){return this.zero},p.prototype.getOne=function(){return this.one},p.prototype.buildMonomial=function(g,v){if(g<0)throw new rn;if(0===v)return this.zero;var _=new Int32Array(g+1);return _[0]=v,new _u(this,_)},p.prototype.inverse=function(g){if(0===g)throw new aI;return this.expTable[this.size-this.logTable[g]-1]},p.prototype.multiply=function(g,v){return 0===g||0===v?0:this.expTable[(this.logTable[g]+this.logTable[v])%(this.size-1)]},p.prototype.getSize=function(){return this.size},p.prototype.getGeneratorBase=function(){return this.generatorBase},p.prototype.toString=function(){return"GF(0x"+ni.toHexString(this.primitive)+","+this.size+")"},p.prototype.equals=function(g){return g===this},p.AZTEC_DATA_12=new p(4201,4096,1),p.AZTEC_DATA_10=new p(1033,1024,1),p.AZTEC_DATA_6=new p(67,64,1),p.AZTEC_PARAM=new p(19,16,1),p.QR_CODE_FIELD_256=new p(285,256,0),p.DATA_MATRIX_FIELD_256=new p(301,256,1),p.AZTEC_DATA_8=p.DATA_MATRIX_FIELD_256,p.MAXICODE_FIELD_64=p.AZTEC_DATA_6,p}(If);const Ns=bV;var CV=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),MV=function(y){function p(){return null!==y&&y.apply(this,arguments)||this}return CV(p,y),p.kind="ReedSolomonException",p}(As);const gm=MV;var wV=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),xV=function(y){function p(){return null!==y&&y.apply(this,arguments)||this}return wV(p,y),p.kind="IllegalStateException",p}(As);const cl=xV;var DV=function(){function y(p){this.field=p}return y.prototype.decode=function(p,g){for(var v=this.field,_=new _u(v,p),E=new Int32Array(g),w=!0,D=0;D<g;D++){var O=_.evaluateAt(v.exp(D+v.getGeneratorBase()));E[E.length-1-D]=O,0!==O&&(w=!1)}if(!w){var L=new _u(v,E),z=this.runEuclideanAlgorithm(v.buildMonomial(g,1),L,g),Ee=z[1],Me=this.findErrorLocations(z[0]),Ge=this.findErrorMagnitudes(Ee,Me);for(D=0;D<Me.length;D++){var st=p.length-1-v.log(Me[D]);if(st<0)throw new gm("Bad error location");p[st]=Ns.addOrSubtract(p[st],Ge[D])}}},y.prototype.runEuclideanAlgorithm=function(p,g,v){if(p.getDegree()<g.getDegree()){var _=p;p=g,g=_}for(var E=this.field,w=p,D=g,O=E.getZero(),L=E.getOne();D.getDegree()>=(v/2|0);){var z=w,se=O;if(O=L,(w=D).isZero())throw new gm("r_{i-1} was zero");D=z;for(var Ee=E.getZero(),Me=w.getCoefficient(w.getDegree()),Ge=E.inverse(Me);D.getDegree()>=w.getDegree()&&!D.isZero();){var st=D.getDegree()-w.getDegree(),vt=E.multiply(D.getCoefficient(D.getDegree()),Ge);Ee=Ee.addOrSubtract(E.buildMonomial(st,vt)),D=D.addOrSubtract(w.multiplyByMonomial(st,vt))}if(L=Ee.multiply(O).addOrSubtract(se),D.getDegree()>=w.getDegree())throw new cl("Division algorithm failed to reduce polynomial?")}var Ct=L.getCoefficient(0);if(0===Ct)throw new gm("sigmaTilde(0) was zero");var pt=E.inverse(Ct);return[L.multiplyScalar(pt),D.multiplyScalar(pt)]},y.prototype.findErrorLocations=function(p){var g=p.getDegree();if(1===g)return Int32Array.from([p.getCoefficient(1)]);for(var v=new Int32Array(g),_=0,E=this.field,w=1;w<E.getSize()&&_<g;w++)0===p.evaluateAt(w)&&(v[_]=E.inverse(w),_++);if(_!==g)throw new gm("Error locator degree does not match number of roots");return v},y.prototype.findErrorMagnitudes=function(p,g){for(var v=g.length,_=new Int32Array(v),E=this.field,w=0;w<v;w++){for(var D=E.inverse(g[w]),O=1,L=0;L<v;L++)if(w!==L){var z=E.multiply(g[L],D);O=E.multiply(O,0==(1&z)?1|z:-2&z)}_[w]=E.multiply(p.evaluateAt(D),E.inverse(O)),0!==E.getGeneratorBase()&&(_[w]=E.multiply(_[w],D))}return _},y}();const vm=DV;var Wo=(()=>(function(y){y[y.UPPER=0]="UPPER",y[y.LOWER=1]="LOWER",y[y.MIXED=2]="MIXED",y[y.DIGIT=3]="DIGIT",y[y.PUNCT=4]="PUNCT",y[y.BINARY=5]="BINARY"}(Wo||(Wo={})),Wo))(),OV=function(){function y(){}return y.prototype.decode=function(p){this.ddata=p;var g=p.getBits(),v=this.extractBits(g),_=this.correctBits(v),E=y.convertBoolArrayToByteArray(_),w=y.getEncodedData(_),D=new ym(E,w,null,null);return D.setNumBits(_.length),D},y.highLevelDecode=function(p){return this.getEncodedData(p)},y.getEncodedData=function(p){for(var g=p.length,v=Wo.UPPER,_=Wo.UPPER,E="",w=0;w<g;)if(_===Wo.BINARY){if(g-w<5)break;var D=y.readCode(p,w,5);if(w+=5,0===D){if(g-w<11)break;D=y.readCode(p,w,11)+31,w+=11}for(var O=0;O<D;O++){if(g-w<8){w=g;break}var L=y.readCode(p,w,8);E+=xi.castAsNonUtf8Char(L),w+=8}_=v}else{var z=_===Wo.DIGIT?4:5;if(g-w<z)break;L=y.readCode(p,w,z),w+=z;var se=y.getCharacter(_,L);se.startsWith("CTRL_")?(v=_,_=y.getTable(se.charAt(5)),"L"===se.charAt(6)&&(v=_)):(E+=se,_=v)}return E},y.getTable=function(p){switch(p){case"L":return Wo.LOWER;case"P":return Wo.PUNCT;case"M":return Wo.MIXED;case"D":return Wo.DIGIT;case"B":return Wo.BINARY;default:return Wo.UPPER}},y.getCharacter=function(p,g){switch(p){case Wo.UPPER:return y.UPPER_TABLE[g];case Wo.LOWER:return y.LOWER_TABLE[g];case Wo.MIXED:return y.MIXED_TABLE[g];case Wo.PUNCT:return y.PUNCT_TABLE[g];case Wo.DIGIT:return y.DIGIT_TABLE[g];default:throw new cl("Bad table")}},y.prototype.correctBits=function(p){var g,v;this.ddata.getNbLayers()<=2?(v=6,g=Ns.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(v=8,g=Ns.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(v=10,g=Ns.AZTEC_DATA_10):(v=12,g=Ns.AZTEC_DATA_12);var _=this.ddata.getNbDatablocks(),E=p.length/v;if(E<_)throw new $r;for(var w=p.length%v,D=new Int32Array(E),O=0;O<E;O++,w+=v)D[O]=y.readCode(p,w,v);try{new vm(g).decode(D,E-_)}catch(vt){throw new $r(vt)}var z=(1<<v)-1,se=0;for(O=0;O<_;O++){if(0===(Ee=D[O])||Ee===z)throw new $r;(1===Ee||Ee===z-1)&&se++}var Me=new Array(_*v-se),Ge=0;for(O=0;O<_;O++){var Ee;if(1===(Ee=D[O])||Ee===z-1)Me.fill(Ee>1,Ge,Ge+v-1),Ge+=v-1;else for(var st=v-1;st>=0;--st)Me[Ge++]=0!=(Ee&1<<st)}return Me},y.prototype.extractBits=function(p){var g=this.ddata.isCompact(),v=this.ddata.getNbLayers(),_=(g?11:14)+4*v,E=new Int32Array(_),w=new Array(this.totalBitsInLayer(v,g));if(g)for(var D=0;D<E.length;D++)E[D]=D;else{var O=_+1+2*ni.truncDivision(ni.truncDivision(_,2)-1,15),L=_/2,z=ni.truncDivision(O,2);for(D=0;D<L;D++){var se=D+ni.truncDivision(D,15);E[L-D-1]=z-se-1,E[L+D]=z+se+1}}D=0;for(var Ee=0;D<v;D++){for(var Me=4*(v-D)+(g?9:12),Ge=2*D,st=_-1-Ge,vt=0;vt<Me;vt++)for(var Ct=2*vt,pt=0;pt<2;pt++)w[Ee+Ct+pt]=p.get(E[Ge+pt],E[Ge+vt]),w[Ee+2*Me+Ct+pt]=p.get(E[Ge+vt],E[st-pt]),w[Ee+4*Me+Ct+pt]=p.get(E[st-pt],E[st-vt]),w[Ee+6*Me+Ct+pt]=p.get(E[st-vt],E[Ge+pt]);Ee+=8*Me}return w},y.readCode=function(p,g,v){for(var _=0,E=g;E<g+v;E++)_<<=1,p[E]&&(_|=1);return _},y.readByte=function(p,g){var v=p.length-g;return v>=8?y.readCode(p,g,8):y.readCode(p,g,v)<<8-v},y.convertBoolArrayToByteArray=function(p){for(var g=new Uint8Array((p.length+7)/8),v=0;v<g.length;v++)g[v]=y.readByte(p,8*v);return g},y.prototype.totalBitsInLayer=function(p,g){return((g?88:112)+16*p)*p},y.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],y.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],y.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","\t","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],y.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],y.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],y}();const lI=OV;var SV=function(){function y(){}return y.round=function(p){return NaN===p?0:p<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:p>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:p+(p<0?-.5:.5)|0},y.distance=function(p,g,v,_){var E=p-v,w=g-_;return Math.sqrt(E*E+w*w)},y.sum=function(p){for(var g=0,v=0,_=p.length;v!==_;v++)g+=p[v];return g},y}();const ui=SV;var IV=function(){function y(){}return y.floatToIntBits=function(p){return p},y.MAX_VALUE=Number.MAX_SAFE_INTEGER,y}();const S1=IV;var TV=function(){function y(p,g){this.x=p,this.y=g}return y.prototype.getX=function(){return this.x},y.prototype.getY=function(){return this.y},y.prototype.equals=function(p){return p instanceof y&&(this.x===p.x&&this.y===p.y)},y.prototype.hashCode=function(){return 31*S1.floatToIntBits(this.x)+S1.floatToIntBits(this.y)},y.prototype.toString=function(){return"("+this.x+","+this.y+")"},y.orderBestPatterns=function(p){var E,w,D,g=this.distance(p[0],p[1]),v=this.distance(p[1],p[2]),_=this.distance(p[0],p[2]);if(v>=g&&v>=_?(w=p[0],E=p[1],D=p[2]):_>=v&&_>=g?(w=p[1],E=p[0],D=p[2]):(w=p[2],E=p[0],D=p[1]),this.crossProductZ(E,w,D)<0){var O=E;E=D,D=O}p[0]=E,p[1]=w,p[2]=D},y.distance=function(p,g){return ui.distance(p.x,p.y,g.x,g.y)},y.crossProductZ=function(p,g,v){var _=g.x,E=g.y;return(v.x-_)*(p.y-E)-(v.y-E)*(p.x-_)},y}();const un=TV;var PV=function(){function y(p,g){this.bits=p,this.points=g}return y.prototype.getBits=function(){return this.bits},y.prototype.getPoints=function(){return this.points},y}();const I1=PV;var AV=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),RV=function(y){function p(g,v,_,E,w){var D=y.call(this,g,v)||this;return D.compact=_,D.nbDatablocks=E,D.nbLayers=w,D}return AV(p,y),p.prototype.getNbLayers=function(){return this.nbLayers},p.prototype.getNbDatablocks=function(){return this.nbDatablocks},p.prototype.isCompact=function(){return this.compact},p}(I1);const LV=RV;var NV=function(){function y(p,g,v,_){this.image=p,this.height=p.getHeight(),this.width=p.getWidth(),null==g&&(g=y.INIT_SIZE),null==v&&(v=p.getWidth()/2|0),null==_&&(_=p.getHeight()/2|0);var E=g/2|0;if(this.leftInit=v-E,this.rightInit=v+E,this.upInit=_-E,this.downInit=_+E,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Er}return y.prototype.detect=function(){for(var p=this.leftInit,g=this.rightInit,v=this.upInit,_=this.downInit,E=!1,w=!0,D=!1,O=!1,L=!1,z=!1,se=!1,Ee=this.width,Me=this.height;w;){w=!1;for(var Ge=!0;(Ge||!O)&&g<Ee;)(Ge=this.containsBlackPoint(v,_,g,!1))?(g++,w=!0,O=!0):O||g++;if(g>=Ee){E=!0;break}for(var st=!0;(st||!L)&&_<Me;)(st=this.containsBlackPoint(p,g,_,!0))?(_++,w=!0,L=!0):L||_++;if(_>=Me){E=!0;break}for(var vt=!0;(vt||!z)&&p>=0;)(vt=this.containsBlackPoint(v,_,p,!1))?(p--,w=!0,z=!0):z||p--;if(p<0){E=!0;break}for(var Ct=!0;(Ct||!se)&&v>=0;)(Ct=this.containsBlackPoint(p,g,v,!0))?(v--,w=!0,se=!0):se||v--;if(v<0){E=!0;break}w&&(D=!0)}if(!E&&D){for(var pt=g-p,Nt=null,zt=1;null===Nt&&zt<pt;zt++)Nt=this.getBlackPointOnSegment(p,_-zt,p+zt,_);if(null==Nt)throw new Er;var ar=null;for(zt=1;null===ar&&zt<pt;zt++)ar=this.getBlackPointOnSegment(p,v+zt,p+zt,v);if(null==ar)throw new Er;var Mr=null;for(zt=1;null===Mr&&zt<pt;zt++)Mr=this.getBlackPointOnSegment(g,v+zt,g-zt,v);if(null==Mr)throw new Er;var jr=null;for(zt=1;null===jr&&zt<pt;zt++)jr=this.getBlackPointOnSegment(g,_-zt,g-zt,_);if(null==jr)throw new Er;return this.centerEdges(jr,Nt,Mr,ar)}throw new Er},y.prototype.getBlackPointOnSegment=function(p,g,v,_){for(var E=ui.round(ui.distance(p,g,v,_)),w=(v-p)/E,D=(_-g)/E,O=this.image,L=0;L<E;L++){var z=ui.round(p+L*w),se=ui.round(g+L*D);if(O.get(z,se))return new un(z,se)}return null},y.prototype.centerEdges=function(p,g,v,_){var E=p.getX(),w=p.getY(),D=g.getX(),O=g.getY(),L=v.getX(),z=v.getY(),se=_.getX(),Ee=_.getY(),Me=y.CORR;return E<this.width/2?[new un(se-Me,Ee+Me),new un(D+Me,O+Me),new un(L-Me,z-Me),new un(E+Me,w-Me)]:[new un(se+Me,Ee+Me),new un(D+Me,O-Me),new un(L-Me,z+Me),new un(E-Me,w-Me)]},y.prototype.containsBlackPoint=function(p,g,v,_){var E=this.image;if(_){for(var w=p;w<=g;w++)if(E.get(w,v))return!0}else for(var D=p;D<=g;D++)if(E.get(v,D))return!0;return!1},y.INIT_SIZE=10,y.CORR=1,y}();const T1=NV;var FV=function(){function y(){}return y.checkAndNudgePoints=function(p,g){for(var v=p.getWidth(),_=p.getHeight(),E=!0,w=0;w<g.length&&E;w+=2){var D=Math.floor(g[w]),O=Math.floor(g[w+1]);if(D<-1||D>v||O<-1||O>_)throw new Er;E=!1,-1===D?(g[w]=0,E=!0):D===v&&(g[w]=v-1,E=!0),-1===O?(g[w+1]=0,E=!0):O===_&&(g[w+1]=_-1,E=!0)}for(E=!0,w=g.length-2;w>=0&&E;w-=2){if(D=Math.floor(g[w]),O=Math.floor(g[w+1]),D<-1||D>v||O<-1||O>_)throw new Er;E=!1,-1===D?(g[w]=0,E=!0):D===v&&(g[w]=v-1,E=!0),-1===O?(g[w+1]=0,E=!0):O===_&&(g[w+1]=_-1,E=!0)}},y}();const uI=FV;var jV=function(){function y(p,g,v,_,E,w,D,O,L){this.a11=p,this.a21=g,this.a31=v,this.a12=_,this.a22=E,this.a32=w,this.a13=D,this.a23=O,this.a33=L}return y.quadrilateralToQuadrilateral=function(p,g,v,_,E,w,D,O,L,z,se,Ee,Me,Ge,st,vt){var Ct=y.quadrilateralToSquare(p,g,v,_,E,w,D,O);return y.squareToQuadrilateral(L,z,se,Ee,Me,Ge,st,vt).times(Ct)},y.prototype.transformPoints=function(p){for(var g=p.length,v=this.a11,_=this.a12,E=this.a13,w=this.a21,D=this.a22,O=this.a23,L=this.a31,z=this.a32,se=this.a33,Ee=0;Ee<g;Ee+=2){var Me=p[Ee],Ge=p[Ee+1],st=E*Me+O*Ge+se;p[Ee]=(v*Me+w*Ge+L)/st,p[Ee+1]=(_*Me+D*Ge+z)/st}},y.prototype.transformPointsWithValues=function(p,g){for(var v=this.a11,_=this.a12,E=this.a13,w=this.a21,D=this.a22,O=this.a23,L=this.a31,z=this.a32,se=this.a33,Ee=p.length,Me=0;Me<Ee;Me++){var Ge=p[Me],st=g[Me],vt=E*Ge+O*st+se;p[Me]=(v*Ge+w*st+L)/vt,g[Me]=(_*Ge+D*st+z)/vt}},y.squareToQuadrilateral=function(p,g,v,_,E,w,D,O){var L=p-v+E-D,z=g-_+w-O;if(0===L&&0===z)return new y(v-p,E-v,p,_-g,w-_,g,0,0,1);var se=v-E,Ee=D-E,Me=_-w,Ge=O-w,st=se*Ge-Ee*Me,vt=(L*Ge-Ee*z)/st,Ct=(se*z-L*Me)/st;return new y(v-p+vt*v,D-p+Ct*D,p,_-g+vt*_,O-g+Ct*O,g,vt,Ct,1)},y.quadrilateralToSquare=function(p,g,v,_,E,w,D,O){return y.squareToQuadrilateral(p,g,v,_,E,w,D,O).buildAdjoint()},y.prototype.buildAdjoint=function(){return new y(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},y.prototype.times=function(p){return new y(this.a11*p.a11+this.a21*p.a12+this.a31*p.a13,this.a11*p.a21+this.a21*p.a22+this.a31*p.a23,this.a11*p.a31+this.a21*p.a32+this.a31*p.a33,this.a12*p.a11+this.a22*p.a12+this.a32*p.a13,this.a12*p.a21+this.a22*p.a22+this.a32*p.a23,this.a12*p.a31+this.a22*p.a32+this.a32*p.a33,this.a13*p.a11+this.a23*p.a12+this.a33*p.a13,this.a13*p.a21+this.a23*p.a22+this.a33*p.a23,this.a13*p.a31+this.a23*p.a32+this.a33*p.a33)},y}();const cI=jV;var UV=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),BV=function(y){function p(){return null!==y&&y.apply(this,arguments)||this}return UV(p,y),p.prototype.sampleGrid=function(g,v,_,E,w,D,O,L,z,se,Ee,Me,Ge,st,vt,Ct,pt,Nt,zt){var ar=cI.quadrilateralToQuadrilateral(E,w,D,O,L,z,se,Ee,Me,Ge,st,vt,Ct,pt,Nt,zt);return this.sampleGridWithTransform(g,v,_,ar)},p.prototype.sampleGridWithTransform=function(g,v,_,E){if(v<=0||_<=0)throw new Er;for(var w=new pa(v,_),D=new Float32Array(2*v),O=0;O<_;O++){for(var L=D.length,z=O+.5,se=0;se<L;se+=2)D[se]=se/2+.5,D[se+1]=z;E.transformPoints(D),uI.checkAndNudgePoints(g,D);try{for(se=0;se<L;se+=2)g.get(Math.floor(D[se]),Math.floor(D[se+1]))&&w.set(se/2,O)}catch(Ee){throw new Er}}return w},p}(uI);const VV=BV;var WV=function(){function y(){}return y.setGridSampler=function(p){y.gridSampler=p},y.getInstance=function(){return y.gridSampler},y.gridSampler=new VV,y}();const P1=WV;var Fs=function(){function y(p,g){this.x=p,this.y=g}return y.prototype.toResultPoint=function(){return new un(this.getX(),this.getY())},y.prototype.getX=function(){return this.x},y.prototype.getY=function(){return this.y},y}(),kV=function(){function y(p){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=p}return y.prototype.detect=function(){return this.detectMirror(!1)},y.prototype.detectMirror=function(p){var g=this.getMatrixCenter(),v=this.getBullsEyeCorners(g);if(p){var _=v[0];v[0]=v[2],v[2]=_}this.extractParameters(v);var E=this.sampleGrid(this.image,v[this.shift%4],v[(this.shift+1)%4],v[(this.shift+2)%4],v[(this.shift+3)%4]),w=this.getMatrixCornerPoints(v);return new LV(E,w,this.compact,this.nbDataBlocks,this.nbLayers)},y.prototype.extractParameters=function(p){if(!(this.isValidPoint(p[0])&&this.isValidPoint(p[1])&&this.isValidPoint(p[2])&&this.isValidPoint(p[3])))throw new Er;var g=2*this.nbCenterLayers,v=new Int32Array([this.sampleLine(p[0],p[1],g),this.sampleLine(p[1],p[2],g),this.sampleLine(p[2],p[3],g),this.sampleLine(p[3],p[0],g)]);this.shift=this.getRotation(v,g);for(var _=0,E=0;E<4;E++){var w=v[(this.shift+E)%4];this.compact?(_<<=7,_+=w>>1&127):(_<<=10,_+=(w>>2&992)+(w>>1&31))}var D=this.getCorrectedParameterData(_,this.compact);this.compact?(this.nbLayers=1+(D>>6),this.nbDataBlocks=1+(63&D)):(this.nbLayers=1+(D>>11),this.nbDataBlocks=1+(2047&D))},y.prototype.getRotation=function(p,g){var v=0;p.forEach(function(E,w,D){v=(E>>g-2<<1)+(1&E)+(v<<3)}),v=((1&v)<<11)+(v>>1);for(var _=0;_<4;_++)if(ni.bitCount(v^this.EXPECTED_CORNER_BITS[_])<=2)return _;throw new Er},y.prototype.getCorrectedParameterData=function(p,g){var v,_;g?(v=7,_=2):(v=10,_=4);for(var E=v-_,w=new Int32Array(v),D=v-1;D>=0;--D)w[D]=15&p,p>>=4;try{new vm(Ns.AZTEC_PARAM).decode(w,E)}catch(z){throw new Er}var L=0;for(D=0;D<_;D++)L=(L<<4)+w[D];return L},y.prototype.getBullsEyeCorners=function(p){var g=p,v=p,_=p,E=p,w=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var D=this.getFirstDifferent(g,w,1,-1),O=this.getFirstDifferent(v,w,1,1),L=this.getFirstDifferent(_,w,-1,1),z=this.getFirstDifferent(E,w,-1,-1);if(this.nbCenterLayers>2){var se=this.distancePoint(z,D)*this.nbCenterLayers/(this.distancePoint(E,g)*(this.nbCenterLayers+2));if(se<.75||se>1.25||!this.isWhiteOrBlackRectangle(D,O,L,z))break}g=D,v=O,_=L,E=z,w=!w}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new Er;this.compact=5===this.nbCenterLayers;var Ee=new un(g.getX()+.5,g.getY()-.5),Me=new un(v.getX()+.5,v.getY()+.5),Ge=new un(_.getX()-.5,_.getY()+.5),st=new un(E.getX()-.5,E.getY()-.5);return this.expandSquare([Ee,Me,Ge,st],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},y.prototype.getMatrixCenter=function(){var p,g,v,_;try{p=(E=new T1(this.image).detect())[0],g=E[1],v=E[2],_=E[3]}catch(z){var w=this.image.getWidth()/2,D=this.image.getHeight()/2;p=this.getFirstDifferent(new Fs(w+7,D-7),!1,1,-1).toResultPoint(),g=this.getFirstDifferent(new Fs(w+7,D+7),!1,1,1).toResultPoint(),v=this.getFirstDifferent(new Fs(w-7,D+7),!1,-1,1).toResultPoint(),_=this.getFirstDifferent(new Fs(w-7,D-7),!1,-1,-1).toResultPoint()}var O=ui.round((p.getX()+_.getX()+g.getX()+v.getX())/4),L=ui.round((p.getY()+_.getY()+g.getY()+v.getY())/4);try{var E;p=(E=new T1(this.image,15,O,L).detect())[0],g=E[1],v=E[2],_=E[3]}catch(z){p=this.getFirstDifferent(new Fs(O+7,L-7),!1,1,-1).toResultPoint(),g=this.getFirstDifferent(new Fs(O+7,L+7),!1,1,1).toResultPoint(),v=this.getFirstDifferent(new Fs(O-7,L+7),!1,-1,1).toResultPoint(),_=this.getFirstDifferent(new Fs(O-7,L-7),!1,-1,-1).toResultPoint()}return O=ui.round((p.getX()+_.getX()+g.getX()+v.getX())/4),L=ui.round((p.getY()+_.getY()+g.getY()+v.getY())/4),new Fs(O,L)},y.prototype.getMatrixCornerPoints=function(p){return this.expandSquare(p,2*this.nbCenterLayers,this.getDimension())},y.prototype.sampleGrid=function(p,g,v,_,E){var w=P1.getInstance(),D=this.getDimension(),O=D/2-this.nbCenterLayers,L=D/2+this.nbCenterLayers;return w.sampleGrid(p,D,D,O,O,L,O,L,L,O,L,g.getX(),g.getY(),v.getX(),v.getY(),_.getX(),_.getY(),E.getX(),E.getY())},y.prototype.sampleLine=function(p,g,v){for(var _=0,E=this.distanceResultPoint(p,g),w=E/v,D=p.getX(),O=p.getY(),L=w*(g.getX()-p.getX())/E,z=w*(g.getY()-p.getY())/E,se=0;se<v;se++)this.image.get(ui.round(D+se*L),ui.round(O+se*z))&&(_|=1<<v-se-1);return _},y.prototype.isWhiteOrBlackRectangle=function(p,g,v,_){p=new Fs(p.getX()-3,p.getY()+3),g=new Fs(g.getX()-3,g.getY()-3),v=new Fs(v.getX()+3,v.getY()-3),_=new Fs(_.getX()+3,_.getY()+3);var w=this.getColor(_,p);if(0===w)return!1;var D=this.getColor(p,g);return D===w&&(D=this.getColor(g,v))===w&&(D=this.getColor(v,_))===w},y.prototype.getColor=function(p,g){for(var v=this.distancePoint(p,g),_=(g.getX()-p.getX())/v,E=(g.getY()-p.getY())/v,w=0,D=p.getX(),O=p.getY(),L=this.image.get(p.getX(),p.getY()),z=Math.ceil(v),se=0;se<z;se++)O+=E,this.image.get(ui.round(D+=_),ui.round(O))!==L&&w++;var Ee=w/v;return Ee>.1&&Ee<.9?0:Ee<=.1===L?1:-1},y.prototype.getFirstDifferent=function(p,g,v,_){for(var E=p.getX()+v,w=p.getY()+_;this.isValid(E,w)&&this.image.get(E,w)===g;)E+=v,w+=_;for(E-=v,w-=_;this.isValid(E,w)&&this.image.get(E,w)===g;)E+=v;for(E-=v;this.isValid(E,w)&&this.image.get(E,w)===g;)w+=_;return new Fs(E,w-=_)},y.prototype.expandSquare=function(p,g,v){var _=v/(2*g),E=p[0].getX()-p[2].getX(),w=p[0].getY()-p[2].getY(),D=(p[0].getX()+p[2].getX())/2,O=(p[0].getY()+p[2].getY())/2,L=new un(D+_*E,O+_*w),z=new un(D-_*E,O-_*w);return E=p[1].getX()-p[3].getX(),w=p[1].getY()-p[3].getY(),D=(p[1].getX()+p[3].getX())/2,O=(p[1].getY()+p[3].getY())/2,[L,new un(D+_*E,O+_*w),z,new un(D-_*E,O-_*w)]},y.prototype.isValid=function(p,g){return p>=0&&p<this.image.getWidth()&&g>0&&g<this.image.getHeight()},y.prototype.isValidPoint=function(p){var g=ui.round(p.getX()),v=ui.round(p.getY());return this.isValid(g,v)},y.prototype.distancePoint=function(p,g){return ui.distance(p.getX(),p.getY(),g.getX(),g.getY())},y.prototype.distanceResultPoint=function(p,g){return ui.distance(p.getX(),p.getY(),g.getX(),g.getY())},y.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(ni.truncDivision(this.nbLayers-4,8)+1)+15},y}();const ZV=kV;var $V=function(){function y(){}return y.prototype.decode=function(p,g){void 0===g&&(g=null);var v=null,_=new ZV(p.getBlackMatrix()),E=null,w=null;try{E=(D=_.detectMirror(!1)).getPoints(),this.reportFoundResultPoints(g,E),w=(new lI).decode(D)}catch(se){v=se}if(null==w)try{var D;E=(D=_.detectMirror(!0)).getPoints(),this.reportFoundResultPoints(g,E),w=(new lI).decode(D)}catch(se){throw null!=v?v:se}var O=new Ls(w.getText(),w.getRawBytes(),w.getNumBits(),E,mn.AZTEC,Ti.currentTimeMillis()),L=w.getByteSegments();null!=L&&O.putMetadata(Jo.BYTE_SEGMENTS,L);var z=w.getECLevel();return null!=z&&O.putMetadata(Jo.ERROR_CORRECTION_LEVEL,z),O},y.prototype.reportFoundResultPoints=function(p,g){if(null!=p){var v=p.get(hi.NEED_RESULT_POINT_CALLBACK);null!=v&&g.forEach(function(_,E,w){v.foundPossibleResultPoint(_)})}},y.prototype.reset=function(){},y}();const _m=$V;var KV=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),zV=(function(y){KV(function p(g){return void 0===g&&(g=500),y.call(this,new _m,g)||this},y)}(Sd),function(){function y(){}return y.prototype.decode=function(p,g){try{return this.doDecode(p,g)}catch(se){if(g&&!0===g.get(hi.TRY_HARDER)&&p.isRotateSupported()){var _=p.rotateCounterClockwise(),E=this.doDecode(_,g),w=E.getResultMetadata(),D=270;null!==w&&!0===w.get(Jo.ORIENTATION)&&(D+=w.get(Jo.ORIENTATION)%360),E.putMetadata(Jo.ORIENTATION,D);var O=E.getResultPoints();if(null!==O)for(var L=_.getHeight(),z=0;z<O.length;z++)O[z]=new un(L-O[z].getY()-1,O[z].getX());return E}throw new Er}},y.prototype.reset=function(){},y.prototype.doDecode=function(p,g){var O,v=p.getWidth(),_=p.getHeight(),E=new Vo(v),w=g&&!0===g.get(hi.TRY_HARDER),D=Math.max(1,_>>(w?8:5));O=w?_:15;for(var L=Math.trunc(_/2),z=0;z<O;z++){var se=Math.trunc((z+1)/2),Me=L+D*(0==(1&z)?se:-se);if(Me<0||Me>=_)break;try{E=p.getBlackRow(Me,E)}catch(pt){continue}for(var Ge=function(pt){if(1===pt&&(E.reverse(),g&&!0===g.get(hi.NEED_RESULT_POINT_CALLBACK))){var Nt=new Map;g.forEach(function(Mr,jr){return Nt.set(jr,Mr)}),Nt.delete(hi.NEED_RESULT_POINT_CALLBACK),g=Nt}try{var zt=st.decodeRow(Me,E,g);if(1===pt){zt.putMetadata(Jo.ORIENTATION,180);var ar=zt.getResultPoints();null!==ar&&(ar[0]=new un(v-ar[0].getX()-1,ar[0].getY()),ar[1]=new un(v-ar[1].getX()-1,ar[1].getY()))}return{value:zt}}catch(Mr){}},st=this,vt=0;vt<2;vt++){var Ct=Ge(vt);if("object"==typeof Ct)return Ct.value}}throw new Er},y.recordPattern=function(p,g,v){for(var _=v.length,E=0;E<_;E++)v[E]=0;var w=p.getSize();if(g>=w)throw new Er;for(var D=!p.get(g),O=0,L=g;L<w;){if(p.get(L)!==D)v[O]++;else{if(++O===_)break;v[O]=1,D=!D}L++}if(O!==_&&(O!==_-1||L!==w))throw new Er},y.recordPatternInReverse=function(p,g,v){for(var _=v.length,E=p.get(g);g>0&&_>=0;)p.get(--g)!==E&&(_--,E=!E);if(_>=0)throw new Er;y.recordPattern(p,g+1,v)},y.patternMatchVariance=function(p,g,v){for(var _=p.length,E=0,w=0,D=0;D<_;D++)E+=p[D],w+=g[D];if(E<w)return Number.POSITIVE_INFINITY;var O=E/w;v*=O;for(var L=0,z=0;z<_;z++){var se=p[z],Ee=g[z]*O,Me=se>Ee?se-Ee:Ee-se;if(Me>v)return Number.POSITIVE_INFINITY;L+=Me}return L/E},y}());const Yo=zV;var GV=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),HV=function(y){function p(){return null!==y&&y.apply(this,arguments)||this}return GV(p,y),p.findStartPattern=function(g){for(var v=g.getSize(),_=g.getNextSet(0),E=0,w=Int32Array.from([0,0,0,0,0,0]),D=_,O=!1,z=_;z<v;z++)if(g.get(z)!==O)w[E]++;else{if(5===E){for(var se=p.MAX_AVG_VARIANCE,Ee=-1,Me=p.CODE_START_A;Me<=p.CODE_START_C;Me++){var Ge=Yo.patternMatchVariance(w,p.CODE_PATTERNS[Me],p.MAX_INDIVIDUAL_VARIANCE);Ge<se&&(se=Ge,Ee=Me)}if(Ee>=0&&g.isRange(Math.max(0,D-(z-D)/2),D,!1))return Int32Array.from([D,z,Ee]);D+=w[0]+w[1],(w=w.slice(2,w.length-1))[E-1]=0,w[E]=0,E--}else E++;w[E]=1,O=!O}throw new Er},p.decodeCode=function(g,v,_){Yo.recordPattern(g,_,v);for(var E=p.MAX_AVG_VARIANCE,w=-1,D=0;D<p.CODE_PATTERNS.length;D++){var L=this.patternMatchVariance(v,p.CODE_PATTERNS[D],p.MAX_INDIVIDUAL_VARIANCE);L<E&&(E=L,w=D)}if(w>=0)return w;throw new Er},p.prototype.decodeRow=function(g,v,_){var z,E=_&&!0===_.get(hi.ASSUME_GS1),w=p.findStartPattern(v),D=w[2],O=0,L=new Uint8Array(20);switch(L[O++]=D,D){case p.CODE_START_A:z=p.CODE_CODE_A;break;case p.CODE_START_B:z=p.CODE_CODE_B;break;case p.CODE_START_C:z=p.CODE_CODE_C;break;default:throw new $r}for(var se=!1,Ee=!1,Me="",Ge=w[0],st=w[1],vt=Int32Array.from([0,0,0,0,0,0]),Ct=0,pt=0,Nt=D,zt=0,ar=!0,Mr=!1,jr=!1;!se;){var en=Ee;switch(Ee=!1,Ct=pt,pt=p.decodeCode(v,vt,st),L[O++]=pt,pt!==p.CODE_STOP&&(ar=!0),pt!==p.CODE_STOP&&(Nt+=++zt*pt),Ge=st,st+=vt.reduce(function(W2,k2){return W2+k2},0),pt){case p.CODE_START_A:case p.CODE_START_B:case p.CODE_START_C:throw new $r}switch(z){case p.CODE_CODE_A:if(pt<64)Me+=String.fromCharCode(jr===Mr?" ".charCodeAt(0)+pt:" ".charCodeAt(0)+pt+128),jr=!1;else if(pt<96)Me+=String.fromCharCode(jr===Mr?pt-64:pt+64),jr=!1;else switch(pt!==p.CODE_STOP&&(ar=!1),pt){case p.CODE_FNC_1:E&&(Me+=0===Me.length?"]C1":String.fromCharCode(29));break;case p.CODE_FNC_2:case p.CODE_FNC_3:break;case p.CODE_FNC_4_A:!Mr&&jr?(Mr=!0,jr=!1):Mr&&jr?(Mr=!1,jr=!1):jr=!0;break;case p.CODE_SHIFT:Ee=!0,z=p.CODE_CODE_B;break;case p.CODE_CODE_B:z=p.CODE_CODE_B;break;case p.CODE_CODE_C:z=p.CODE_CODE_C;break;case p.CODE_STOP:se=!0}break;case p.CODE_CODE_B:if(pt<96)Me+=String.fromCharCode(jr===Mr?" ".charCodeAt(0)+pt:" ".charCodeAt(0)+pt+128),jr=!1;else switch(pt!==p.CODE_STOP&&(ar=!1),pt){case p.CODE_FNC_1:E&&(Me+=0===Me.length?"]C1":String.fromCharCode(29));break;case p.CODE_FNC_2:case p.CODE_FNC_3:break;case p.CODE_FNC_4_B:!Mr&&jr?(Mr=!0,jr=!1):Mr&&jr?(Mr=!1,jr=!1):jr=!0;break;case p.CODE_SHIFT:Ee=!0,z=p.CODE_CODE_A;break;case p.CODE_CODE_A:z=p.CODE_CODE_A;break;case p.CODE_CODE_C:z=p.CODE_CODE_C;break;case p.CODE_STOP:se=!0}break;case p.CODE_CODE_C:if(pt<100)pt<10&&(Me+="0"),Me+=pt;else switch(pt!==p.CODE_STOP&&(ar=!1),pt){case p.CODE_FNC_1:E&&(Me+=0===Me.length?"]C1":String.fromCharCode(29));break;case p.CODE_CODE_A:z=p.CODE_CODE_A;break;case p.CODE_CODE_B:z=p.CODE_CODE_B;break;case p.CODE_STOP:se=!0}}en&&(z=z===p.CODE_CODE_A?p.CODE_CODE_B:p.CODE_CODE_A)}var On=st-Ge;if(st=v.getNextUnset(st),!v.isRange(st,Math.min(v.getSize(),st+(st-Ge)/2),!1))throw new Er;if((Nt-=zt*Ct)%103!==Ct)throw new Mo;var _n=Me.length;if(0===_n)throw new Er;_n>0&&ar&&(Me=Me.substring(0,z===p.CODE_CODE_C?_n-2:_n-1));for(var ji=(w[1]+w[0])/2,qn=Ge+On/2,Di=L.length,ls=new Uint8Array(Di),Ma=0;Ma<Di;Ma++)ls[Ma]=L[Ma];var Pc=[new un(ji,g),new un(qn,g)];return new Ls(Me,ls,0,Pc,mn.CODE_128,(new Date).getTime())},p.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],p.MAX_AVG_VARIANCE=.25,p.MAX_INDIVIDUAL_VARIANCE=.7,p.CODE_SHIFT=98,p.CODE_CODE_C=99,p.CODE_CODE_B=100,p.CODE_CODE_A=101,p.CODE_FNC_1=102,p.CODE_FNC_2=97,p.CODE_FNC_3=96,p.CODE_FNC_4_A=101,p.CODE_FNC_4_B=100,p.CODE_START_A=103,p.CODE_START_B=104,p.CODE_START_C=105,p.CODE_STOP=106,p}(Yo);const dI=HV;var JV=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),A1=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},YV=function(y){function p(g,v){void 0===g&&(g=!1),void 0===v&&(v=!1);var _=y.call(this)||this;return _.usingCheckDigit=g,_.extendedMode=v,_.decodeRowResult="",_.counters=new Int32Array(9),_}return JV(p,y),p.prototype.decodeRow=function(g,v,_){var E,w,D,O,L=this.counters;L.fill(0),this.decodeRowResult="";var Me,Ge,z=p.findAsteriskPattern(v,L),se=v.getNextSet(z[1]),Ee=v.getSize();do{p.recordPattern(v,se,L);var st=p.toNarrowWidePattern(L);if(st<0)throw new Er;Me=p.patternToChar(st),this.decodeRowResult+=Me,Ge=se;try{for(var vt=(E=void 0,A1(L)),Ct=vt.next();!Ct.done;Ct=vt.next())se+=Ct.value}catch(Di){E={error:Di}}finally{try{Ct&&!Ct.done&&(w=vt.return)&&w.call(vt)}finally{if(E)throw E.error}}se=v.getNextSet(se)}while("*"!==Me);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var _n,Nt=0;try{for(var zt=A1(L),ar=zt.next();!ar.done;ar=zt.next())Nt+=ar.value}catch(Di){D={error:Di}}finally{try{ar&&!ar.done&&(O=zt.return)&&O.call(zt)}finally{if(D)throw D.error}}if(se!==Ee&&2*(se-Ge-Nt)<Nt)throw new Er;if(this.usingCheckDigit){for(var jr=this.decodeRowResult.length-1,en=0,On=0;On<jr;On++)en+=p.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(On));if(this.decodeRowResult.charAt(jr)!==p.ALPHABET_STRING.charAt(en%43))throw new Mo;this.decodeRowResult=this.decodeRowResult.substring(0,jr)}if(0===this.decodeRowResult.length)throw new Er;_n=this.extendedMode?p.decodeExtended(this.decodeRowResult):this.decodeRowResult;var qn=Ge+Nt/2;return new Ls(_n,null,0,[new un((z[1]+z[0])/2,g),new un(qn,g)],mn.CODE_39,(new Date).getTime())},p.findAsteriskPattern=function(g,v){for(var _=g.getSize(),E=g.getNextSet(0),w=0,D=E,O=!1,L=v.length,z=E;z<_;z++)if(g.get(z)!==O)v[w]++;else{if(w===L-1){if(this.toNarrowWidePattern(v)===p.ASTERISK_ENCODING&&g.isRange(Math.max(0,D-Math.floor((z-D)/2)),D,!1))return[D,z];D+=v[0]+v[1],v.copyWithin(0,2,2+w-1),v[w-1]=0,v[w]=0,w--}else w++;v[w]=1,O=!O}throw new Er},p.toNarrowWidePattern=function(g){var v,_,D,E=g.length,w=0;do{var O=2147483647;try{for(var L=(v=void 0,A1(g)),z=L.next();!z.done;z=L.next())(se=z.value)<O&&se>w&&(O=se)}catch(st){v={error:st}}finally{try{z&&!z.done&&(_=L.return)&&_.call(L)}finally{if(v)throw v.error}}w=O,D=0;for(var Ee=0,Me=0,Ge=0;Ge<E;Ge++)(se=g[Ge])>w&&(Me|=1<<E-1-Ge,D++,Ee+=se);if(3===D){for(Ge=0;Ge<E&&D>0;Ge++){var se;if((se=g[Ge])>w&&(D--,2*se>=Ee))return-1}return Me}}while(D>3);return-1},p.patternToChar=function(g){for(var v=0;v<p.CHARACTER_ENCODINGS.length;v++)if(p.CHARACTER_ENCODINGS[v]===g)return p.ALPHABET_STRING.charAt(v);if(g===p.ASTERISK_ENCODING)return"*";throw new Er},p.decodeExtended=function(g){for(var v=g.length,_="",E=0;E<v;E++){var w=g.charAt(E);if("+"===w||"$"===w||"%"===w||"/"===w){var D=g.charAt(E+1),O="\0";switch(w){case"+":if(!(D>="A"&&D<="Z"))throw new $r;O=String.fromCharCode(D.charCodeAt(0)+32);break;case"$":if(!(D>="A"&&D<="Z"))throw new $r;O=String.fromCharCode(D.charCodeAt(0)-64);break;case"%":if(D>="A"&&D<="E")O=String.fromCharCode(D.charCodeAt(0)-38);else if(D>="F"&&D<="J")O=String.fromCharCode(D.charCodeAt(0)-11);else if(D>="K"&&D<="O")O=String.fromCharCode(D.charCodeAt(0)+16);else if(D>="P"&&D<="T")O=String.fromCharCode(D.charCodeAt(0)+43);else if("U"===D)O="\0";else if("V"===D)O="@";else if("W"===D)O="`";else{if("X"!==D&&"Y"!==D&&"Z"!==D)throw new $r;O="\x7f"}break;case"/":if(D>="A"&&D<="O")O=String.fromCharCode(D.charCodeAt(0)-32);else{if("Z"!==D)throw new $r;O=":"}}_+=O,E++}else _+=w}return _},p.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",p.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],p.ASTERISK_ENCODING=148,p}(Yo);const hI=YV;var XV=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),qV=function(y){function p(){var g=null!==y&&y.apply(this,arguments)||this;return g.narrowLineWidth=-1,g}return XV(p,y),p.prototype.decodeRow=function(g,v,_){var E,w,D=this.decodeStart(v),O=this.decodeEnd(v),L=new Ei;p.decodeMiddle(v,D[1],O[0],L);var z=L.toString(),se=null;null!=_&&(se=_.get(hi.ALLOWED_LENGTHS)),null==se&&(se=p.DEFAULT_ALLOWED_LENGTHS);var Ee=z.length,Me=!1,Ge=0;try{for(var st=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),vt=st.next();!vt.done;vt=st.next()){var Ct=vt.value;if(Ee===Ct){Me=!0;break}Ct>Ge&&(Ge=Ct)}}catch(zt){E={error:zt}}finally{try{vt&&!vt.done&&(w=st.return)&&w.call(st)}finally{if(E)throw E.error}}if(!Me&&Ee>Ge&&(Me=!0),!Me)throw new $r;var pt=[new un(D[1],g),new un(O[0],g)];return new Ls(z,null,0,pt,mn.ITF,(new Date).getTime())},p.decodeMiddle=function(g,v,_,E){var w=new Int32Array(10),D=new Int32Array(5),O=new Int32Array(5);for(w.fill(0),D.fill(0),O.fill(0);v<_;){Yo.recordPattern(g,v,w);for(var L=0;L<5;L++){var z=2*L;D[L]=w[z],O[L]=w[z+1]}var se=p.decodeDigit(D);E.append(se.toString()),se=this.decodeDigit(O),E.append(se.toString()),w.forEach(function(Ee){v+=Ee})}},p.prototype.decodeStart=function(g){var v=p.skipWhiteSpace(g),_=p.findGuardPattern(g,v,p.START_PATTERN);return this.narrowLineWidth=(_[1]-_[0])/4,this.validateQuietZone(g,_[0]),_},p.prototype.validateQuietZone=function(g,v){var _=10*this.narrowLineWidth;_=_<v?_:v;for(var E=v-1;_>0&&E>=0&&!g.get(E);E--)_--;if(0!==_)throw new Er},p.skipWhiteSpace=function(g){var v=g.getSize(),_=g.getNextSet(0);if(_===v)throw new Er;return _},p.prototype.decodeEnd=function(g){g.reverse();try{var v=p.skipWhiteSpace(g),_=void 0;try{_=p.findGuardPattern(g,v,p.END_PATTERN_REVERSED[0])}catch(w){w instanceof Er&&(_=p.findGuardPattern(g,v,p.END_PATTERN_REVERSED[1]))}this.validateQuietZone(g,_[0]);var E=_[0];return _[0]=g.getSize()-_[1],_[1]=g.getSize()-E,_}finally{g.reverse()}},p.findGuardPattern=function(g,v,_){var E=_.length,w=new Int32Array(E),D=g.getSize(),O=!1,L=0,z=v;w.fill(0);for(var se=v;se<D;se++)if(g.get(se)!==O)w[L]++;else{if(L===E-1){if(Yo.patternMatchVariance(w,_,p.MAX_INDIVIDUAL_VARIANCE)<p.MAX_AVG_VARIANCE)return[z,se];z+=w[0]+w[1],Ti.arraycopy(w,2,w,0,L-1),w[L-1]=0,w[L]=0,L--}else L++;w[L]=1,O=!O}throw new Er},p.decodeDigit=function(g){for(var v=p.MAX_AVG_VARIANCE,_=-1,E=p.PATTERNS.length,w=0;w<E;w++){var O=Yo.patternMatchVariance(g,p.PATTERNS[w],p.MAX_INDIVIDUAL_VARIANCE);O<v?(v=O,_=w):O===v&&(_=-1)}if(_>=0)return _%10;throw new Er},p.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],p.MAX_AVG_VARIANCE=.38,p.MAX_INDIVIDUAL_VARIANCE=.5,p.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],p.START_PATTERN=Int32Array.from([1,1,1,1]),p.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],p}(Yo);const fI=qV;var eW=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),tW=function(y){function p(){var g=null!==y&&y.apply(this,arguments)||this;return g.decodeRowStringBuffer="",g}return eW(p,y),p.findStartGuardPattern=function(g){for(var _,v=!1,E=0,w=Int32Array.from([0,0,0]);!v;){w=Int32Array.from([0,0,0]);var D=(_=p.findGuardPattern(g,E,!1,this.START_END_PATTERN,w))[0],O=D-((E=_[1])-D);O>=0&&(v=g.isRange(O,D,!1))}return _},p.checkChecksum=function(g){return p.checkStandardUPCEANChecksum(g)},p.checkStandardUPCEANChecksum=function(g){var v=g.length;if(0===v)return!1;var _=parseInt(g.charAt(v-1),10);return p.getStandardUPCEANChecksum(g.substring(0,v-1))===_},p.getStandardUPCEANChecksum=function(g){for(var v=g.length,_=0,E=v-1;E>=0;E-=2){if((w=g.charAt(E).charCodeAt(0)-"0".charCodeAt(0))<0||w>9)throw new $r;_+=w}for(_*=3,E=v-2;E>=0;E-=2){var w;if((w=g.charAt(E).charCodeAt(0)-"0".charCodeAt(0))<0||w>9)throw new $r;_+=w}return(1e3-_)%10},p.decodeEnd=function(g,v){return p.findGuardPattern(g,v,!1,p.START_END_PATTERN,new Int32Array(p.START_END_PATTERN.length).fill(0))},p.findGuardPatternWithoutCounters=function(g,v,_,E){return this.findGuardPattern(g,v,_,E,new Int32Array(E.length))},p.findGuardPattern=function(g,v,_,E,w){for(var D=g.getSize(),O=0,L=v=_?g.getNextUnset(v):g.getNextSet(v),z=E.length,se=_,Ee=v;Ee<D;Ee++)if(g.get(Ee)!==se)w[O]++;else{if(O===z-1){if(Yo.patternMatchVariance(w,E,p.MAX_INDIVIDUAL_VARIANCE)<p.MAX_AVG_VARIANCE)return Int32Array.from([L,Ee]);L+=w[0]+w[1];for(var Me=w.slice(2,w.length-1),Ge=0;Ge<O-1;Ge++)w[Ge]=Me[Ge];w[O-1]=0,w[O]=0,O--}else O++;w[O]=1,se=!se}throw new Er},p.decodeDigit=function(g,v,_,E){this.recordPattern(g,_,v);for(var w=this.MAX_AVG_VARIANCE,D=-1,O=E.length,L=0;L<O;L++){var se=Yo.patternMatchVariance(v,E[L],p.MAX_INDIVIDUAL_VARIANCE);se<w&&(w=se,D=L)}if(D>=0)return D;throw new Er},p.MAX_AVG_VARIANCE=.48,p.MAX_INDIVIDUAL_VARIANCE=.7,p.START_END_PATTERN=Int32Array.from([1,1,1]),p.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),p.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),p.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],p}(Yo);const Id=tW;var rW=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},nW=function(){function y(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return y.prototype.decodeRow=function(p,g,v){var _=this.decodeRowStringBuffer,E=this.decodeMiddle(g,v,_),w=_.toString(),D=y.parseExtensionString(w),O=[new un((v[0]+v[1])/2,p),new un(E,p)],L=new Ls(w,null,0,O,mn.UPC_EAN_EXTENSION,(new Date).getTime());return null!=D&&L.putAllMetadata(D),L},y.prototype.decodeMiddle=function(p,g,v){var _,E,w=this.decodeMiddleCounters;w[0]=0,w[1]=0,w[2]=0,w[3]=0;for(var D=p.getSize(),O=g[1],L=0,z=0;z<5&&O<D;z++){var se=Id.decodeDigit(p,w,O,Id.L_AND_G_PATTERNS);v+=String.fromCharCode("0".charCodeAt(0)+se%10);try{for(var Ee=(_=void 0,rW(w)),Me=Ee.next();!Me.done;Me=Ee.next())O+=Me.value}catch(vt){_={error:vt}}finally{try{Me&&!Me.done&&(E=Ee.return)&&E.call(Ee)}finally{if(_)throw _.error}}se>=10&&(L|=1<<4-z),4!==z&&(O=p.getNextSet(O),O=p.getNextUnset(O))}if(5!==v.length)throw new Er;var st=this.determineCheckDigit(L);if(y.extensionChecksum(v.toString())!==st)throw new Er;return O},y.extensionChecksum=function(p){for(var g=p.length,v=0,_=g-2;_>=0;_-=2)v+=p.charAt(_).charCodeAt(0)-"0".charCodeAt(0);for(v*=3,_=g-1;_>=0;_-=2)v+=p.charAt(_).charCodeAt(0)-"0".charCodeAt(0);return(v*=3)%10},y.prototype.determineCheckDigit=function(p){for(var g=0;g<10;g++)if(p===this.CHECK_DIGIT_ENCODINGS[g])return g;throw new Er},y.parseExtensionString=function(p){if(5!==p.length)return null;var g=y.parseExtension5String(p);return null==g?null:new Map([[Jo.SUGGESTED_PRICE,g]])},y.parseExtension5String=function(p){var g;switch(p.charAt(0)){case"0":g="\xa3";break;case"5":g="$";break;case"9":switch(p){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}g="";break;default:g=""}var v=parseInt(p.substring(1)),E=v%100;return g+(v/100).toString()+"."+(E<10?"0"+E:E.toString())},y}();const iW=nW;var oW=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},sW=function(){function y(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return y.prototype.decodeRow=function(p,g,v){var _=this.decodeRowStringBuffer,E=this.decodeMiddle(g,v,_),w=_.toString(),D=y.parseExtensionString(w),O=[new un((v[0]+v[1])/2,p),new un(E,p)],L=new Ls(w,null,0,O,mn.UPC_EAN_EXTENSION,(new Date).getTime());return null!=D&&L.putAllMetadata(D),L},y.prototype.decodeMiddle=function(p,g,v){var _,E,w=this.decodeMiddleCounters;w[0]=0,w[1]=0,w[2]=0,w[3]=0;for(var D=p.getSize(),O=g[1],L=0,z=0;z<2&&O<D;z++){var se=Id.decodeDigit(p,w,O,Id.L_AND_G_PATTERNS);v+=String.fromCharCode("0".charCodeAt(0)+se%10);try{for(var Ee=(_=void 0,oW(w)),Me=Ee.next();!Me.done;Me=Ee.next())O+=Me.value}catch(st){_={error:st}}finally{try{Me&&!Me.done&&(E=Ee.return)&&E.call(Ee)}finally{if(_)throw _.error}}se>=10&&(L|=1<<1-z),1!==z&&(O=p.getNextSet(O),O=p.getNextUnset(O))}if(2!==v.length)throw new Er;if(parseInt(v.toString())%4!==L)throw new Er;return O},y.parseExtensionString=function(p){return 2!==p.length?null:new Map([[Jo.ISSUE_NUMBER,parseInt(p)]])},y}();const aW=sW;var lW=function(){function y(){}return y.decodeRow=function(p,g,v){var _=Id.findGuardPattern(g,v,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new iW).decodeRow(p,g,_)}catch(D){return(new aW).decodeRow(p,g,_)}},y.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),y}();const uW=lW;var cW=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),dW=function(y){function p(){var g=y.call(this)||this;g.decodeRowStringBuffer="",p.L_AND_G_PATTERNS=p.L_PATTERNS.map(function(D){return Int32Array.from(D)});for(var v=10;v<20;v++){for(var _=p.L_PATTERNS[v-10],E=new Int32Array(_.length),w=0;w<_.length;w++)E[w]=_[_.length-w-1];p.L_AND_G_PATTERNS[v]=E}return g}return cW(p,y),p.prototype.decodeRow=function(g,v,_){var E=p.findStartGuardPattern(v),w=null==_?null:_.get(hi.NEED_RESULT_POINT_CALLBACK);if(null!=w){var D=new un((E[0]+E[1])/2,g);w.foundPossibleResultPoint(D)}var O=this.decodeMiddle(v,E,this.decodeRowStringBuffer),L=O.rowOffset,z=O.resultString;if(null!=w){var se=new un(L,g);w.foundPossibleResultPoint(se)}var Ee=p.decodeEnd(v,L);if(null!=w){var Me=new un((Ee[0]+Ee[1])/2,g);w.foundPossibleResultPoint(Me)}var Ge=Ee[1],st=Ge+(Ge-Ee[0]);if(st>=v.getSize()||!v.isRange(Ge,st,!1))throw new Er;var vt=z.toString();if(vt.length<8)throw new $r;if(!p.checkChecksum(vt))throw new Mo;var Ct=(E[1]+E[0])/2,pt=(Ee[1]+Ee[0])/2,Nt=this.getBarcodeFormat(),zt=[new un(Ct,g),new un(pt,g)],ar=new Ls(vt,null,0,zt,Nt,(new Date).getTime()),Mr=0;try{var jr=uW.decodeRow(g,v,Ee[1]);ar.putMetadata(Jo.UPC_EAN_EXTENSION,jr.getText()),ar.putAllMetadata(jr.getResultMetadata()),ar.addResultPoints(jr.getResultPoints()),Mr=jr.getText().length}catch(ji){}var en=null==_?null:_.get(hi.ALLOWED_EAN_EXTENSIONS);if(null!=en){var On=!1;for(var _n in en)if(Mr.toString()===_n){On=!0;break}if(!On)throw new Er}return ar},p.checkChecksum=function(g){return p.checkStandardUPCEANChecksum(g)},p.checkStandardUPCEANChecksum=function(g){var v=g.length;if(0===v)return!1;var _=parseInt(g.charAt(v-1),10);return p.getStandardUPCEANChecksum(g.substring(0,v-1))===_},p.getStandardUPCEANChecksum=function(g){for(var v=g.length,_=0,E=v-1;E>=0;E-=2){if((w=g.charAt(E).charCodeAt(0)-"0".charCodeAt(0))<0||w>9)throw new $r;_+=w}for(_*=3,E=v-2;E>=0;E-=2){var w;if((w=g.charAt(E).charCodeAt(0)-"0".charCodeAt(0))<0||w>9)throw new $r;_+=w}return(1e3-_)%10},p.decodeEnd=function(g,v){return p.findGuardPattern(g,v,!1,p.START_END_PATTERN,new Int32Array(p.START_END_PATTERN.length).fill(0))},p}(Id);const Po=dW;var hW=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),pI=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},fW=function(y){function p(){var g=y.call(this)||this;return g.decodeMiddleCounters=Int32Array.from([0,0,0,0]),g}return hW(p,y),p.prototype.decodeMiddle=function(g,v,_){var E,w,D,O,L=this.decodeMiddleCounters;L[0]=0,L[1]=0,L[2]=0,L[3]=0;for(var z=g.getSize(),se=v[1],Ee=0,Me=0;Me<6&&se<z;Me++){var Ge=Po.decodeDigit(g,L,se,Po.L_AND_G_PATTERNS);_+=String.fromCharCode("0".charCodeAt(0)+Ge%10);try{for(var st=(E=void 0,pI(L)),vt=st.next();!vt.done;vt=st.next())se+=vt.value}catch(ar){E={error:ar}}finally{try{vt&&!vt.done&&(w=st.return)&&w.call(st)}finally{if(E)throw E.error}}Ge>=10&&(Ee|=1<<5-Me)}for(_=p.determineFirstDigit(_,Ee),se=Po.findGuardPattern(g,se,!0,Po.MIDDLE_PATTERN,new Int32Array(Po.MIDDLE_PATTERN.length).fill(0))[1],Me=0;Me<6&&se<z;Me++){Ge=Po.decodeDigit(g,L,se,Po.L_PATTERNS),_+=String.fromCharCode("0".charCodeAt(0)+Ge);try{for(var Nt=(D=void 0,pI(L)),zt=Nt.next();!zt.done;zt=Nt.next())se+=zt.value}catch(jr){D={error:jr}}finally{try{zt&&!zt.done&&(O=Nt.return)&&O.call(Nt)}finally{if(D)throw D.error}}}return{rowOffset:se,resultString:_}},p.prototype.getBarcodeFormat=function(){return mn.EAN_13},p.determineFirstDigit=function(g,v){for(var _=0;_<10;_++)if(v===this.FIRST_DIGIT_ENCODINGS[_])return String.fromCharCode("0".charCodeAt(0)+_)+g;throw new Er},p.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],p}(Po);const R1=fW;var pW=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),mI=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},mW=function(y){function p(){var g=y.call(this)||this;return g.decodeMiddleCounters=Int32Array.from([0,0,0,0]),g}return pW(p,y),p.prototype.decodeMiddle=function(g,v,_){var E,w,D,O,L=this.decodeMiddleCounters;L[0]=0,L[1]=0,L[2]=0,L[3]=0;for(var z=g.getSize(),se=v[1],Ee=0;Ee<4&&se<z;Ee++){var Me=Po.decodeDigit(g,L,se,Po.L_PATTERNS);_+=String.fromCharCode("0".charCodeAt(0)+Me);try{for(var Ge=(E=void 0,mI(L)),st=Ge.next();!st.done;st=Ge.next())se+=st.value}catch(zt){E={error:zt}}finally{try{st&&!st.done&&(w=Ge.return)&&w.call(Ge)}finally{if(E)throw E.error}}}for(se=Po.findGuardPattern(g,se,!0,Po.MIDDLE_PATTERN,new Int32Array(Po.MIDDLE_PATTERN.length).fill(0))[1],Ee=0;Ee<4&&se<z;Ee++){Me=Po.decodeDigit(g,L,se,Po.L_PATTERNS),_+=String.fromCharCode("0".charCodeAt(0)+Me);try{for(var pt=(D=void 0,mI(L)),Nt=pt.next();!Nt.done;Nt=pt.next())se+=Nt.value}catch(Mr){D={error:Mr}}finally{try{Nt&&!Nt.done&&(O=pt.return)&&O.call(pt)}finally{if(D)throw D.error}}}return{rowOffset:se,resultString:_}},p.prototype.getBarcodeFormat=function(){return mn.EAN_8},p}(Po);const yI=mW;var yW=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),gW=function(y){function p(){var g=null!==y&&y.apply(this,arguments)||this;return g.ean13Reader=new R1,g}return yW(p,y),p.prototype.getBarcodeFormat=function(){return mn.UPC_A},p.prototype.decode=function(g,v){return this.maybeReturnResult(this.ean13Reader.decode(g))},p.prototype.decodeRow=function(g,v,_){return this.maybeReturnResult(this.ean13Reader.decodeRow(g,v,_))},p.prototype.decodeMiddle=function(g,v,_){return this.ean13Reader.decodeMiddle(g,v,_)},p.prototype.maybeReturnResult=function(g){var v=g.getText();if("0"===v.charAt(0)){var _=new Ls(v.substring(1),null,null,g.getResultPoints(),mn.UPC_A);return null!=g.getResultMetadata()&&_.putAllMetadata(g.getResultMetadata()),_}throw new Er},p.prototype.reset=function(){this.ean13Reader.reset()},p}(Po);const gI=gW;var vW=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),_W=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},EW=function(y){function p(){var g=y.call(this)||this;return g.decodeMiddleCounters=new Int32Array(4),g}return vW(p,y),p.prototype.decodeMiddle=function(g,v,_){var E,w,D=this.decodeMiddleCounters.map(function(vt){return vt});D[0]=0,D[1]=0,D[2]=0,D[3]=0;for(var O=g.getSize(),L=v[1],z=0,se=0;se<6&&L<O;se++){var Ee=p.decodeDigit(g,D,L,p.L_AND_G_PATTERNS);_+=String.fromCharCode("0".charCodeAt(0)+Ee%10);try{for(var Me=(E=void 0,_W(D)),Ge=Me.next();!Ge.done;Ge=Me.next())L+=Ge.value}catch(vt){E={error:vt}}finally{try{Ge&&!Ge.done&&(w=Me.return)&&w.call(Me)}finally{if(E)throw E.error}}Ee>=10&&(z|=1<<5-se)}return p.determineNumSysAndCheckDigit(new Ei(_),z),L},p.prototype.decodeEnd=function(g,v){return p.findGuardPatternWithoutCounters(g,v,!0,p.MIDDLE_END_PATTERN)},p.prototype.checkChecksum=function(g){return Po.checkChecksum(p.convertUPCEtoUPCA(g))},p.determineNumSysAndCheckDigit=function(g,v){for(var _=0;_<=1;_++)for(var E=0;E<10;E++)if(v===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[_][E])return g.insert(0,"0"+_),void g.append("0"+E);throw Er.getNotFoundInstance()},p.prototype.getBarcodeFormat=function(){return mn.UPC_E},p.convertUPCEtoUPCA=function(g){var v=g.slice(1,7).split("").map(function(w){return w.charCodeAt(0)}),_=new Ei;_.append(g.charAt(0));var E=v[5];switch(E){case 0:case 1:case 2:_.appendChars(v,0,2),_.append(E),_.append("0000"),_.appendChars(v,2,3);break;case 3:_.appendChars(v,0,3),_.append("00000"),_.appendChars(v,3,2);break;case 4:_.appendChars(v,0,4),_.append("00000"),_.append(v[4]);break;default:_.appendChars(v,0,5),_.append("0000"),_.append(E)}return g.length>=8&&_.append(g.charAt(7)),_.toString()},p.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),p.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],p}(Po);const vI=EW;var bW=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),_I=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},CW=function(y){function p(g){var v=y.call(this)||this,_=null==g?null:g.get(hi.POSSIBLE_FORMATS),E=[];return null!=_&&(_.indexOf(mn.EAN_13)>-1&&E.push(new R1),_.indexOf(mn.UPC_A)>-1&&E.push(new gI),_.indexOf(mn.EAN_8)>-1&&E.push(new yI),_.indexOf(mn.UPC_E)>-1&&E.push(new vI)),0===E.length&&(E.push(new R1),E.push(new gI),E.push(new yI),E.push(new vI)),v.readers=E,v}return bW(p,y),p.prototype.decodeRow=function(g,v,_){var E,w;try{for(var D=_I(this.readers),O=D.next();!O.done;O=D.next()){var L=O.value;try{var z=L.decodeRow(g,v,_),se=z.getBarcodeFormat()===mn.EAN_13&&"0"===z.getText().charAt(0),Ee=null==_?null:_.get(hi.POSSIBLE_FORMATS),Me=null==Ee||Ee.includes(mn.UPC_A);if(se&&Me){var Ge=z.getRawBytes(),st=new Ls(z.getText().substring(1),Ge,Ge?Ge.length:null,z.getResultPoints(),mn.UPC_A);return st.putAllMetadata(z.getResultMetadata()),st}return z}catch(vt){}}}catch(vt){E={error:vt}}finally{try{O&&!O.done&&(w=D.return)&&w.call(D)}finally{if(E)throw E.error}}throw new Er},p.prototype.reset=function(){var g,v;try{for(var _=_I(this.readers),E=_.next();!E.done;E=_.next())E.value.reset()}catch(D){g={error:D}}finally{try{E&&!E.done&&(v=_.return)&&v.call(_)}finally{if(g)throw g.error}}},p}(Yo);const L1=CW;var MW=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),xW=function(y){function p(){var g=y.call(this)||this;return g.decodeFinderCounters=new Int32Array(4),g.dataCharacterCounters=new Int32Array(8),g.oddRoundingErrors=new Array(4),g.evenRoundingErrors=new Array(4),g.oddCounts=new Array(g.dataCharacterCounters.length/2),g.evenCounts=new Array(g.dataCharacterCounters.length/2),g}return MW(p,y),p.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},p.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},p.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},p.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},p.prototype.getOddCounts=function(){return this.oddCounts},p.prototype.getEvenCounts=function(){return this.evenCounts},p.prototype.parseFinderValue=function(g,v){for(var _=0;_<v.length;_++)if(Yo.patternMatchVariance(g,v[_],p.MAX_INDIVIDUAL_VARIANCE)<p.MAX_AVG_VARIANCE)return _;throw new Er},p.count=function(g){return ui.sum(new Int32Array(g))},p.increment=function(g,v){for(var _=0,E=v[0],w=1;w<g.length;w++)v[w]>E&&(E=v[w],_=w);g[_]++},p.decrement=function(g,v){for(var _=0,E=v[0],w=1;w<g.length;w++)v[w]<E&&(E=v[w],_=w);g[_]--},p.isFinderPattern=function(g){var v,_,E=g[0]+g[1],D=E/(E+g[2]+g[3]);if(D>=p.MIN_FINDER_PATTERN_RATIO&&D<=p.MAX_FINDER_PATTERN_RATIO){var O=Number.MAX_SAFE_INTEGER,L=Number.MIN_SAFE_INTEGER;try{for(var z=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")}(g),se=z.next();!se.done;se=z.next()){var Ee=se.value;Ee>L&&(L=Ee),Ee<O&&(O=Ee)}}catch(Me){v={error:Me}}finally{try{se&&!se.done&&(_=z.return)&&_.call(z)}finally{if(v)throw v.error}}return L<10*O}return!1},p.MAX_AVG_VARIANCE=.2,p.MAX_INDIVIDUAL_VARIANCE=.45,p.MIN_FINDER_PATTERN_RATIO=9.5/12,p.MAX_FINDER_PATTERN_RATIO=12.5/14,p}(Yo);const cc=xW;var DW=function(){function y(p,g){this.value=p,this.checksumPortion=g}return y.prototype.getValue=function(){return this.value},y.prototype.getChecksumPortion=function(){return this.checksumPortion},y.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},y.prototype.equals=function(p){return p instanceof y&&(this.value===p.value&&this.checksumPortion===p.checksumPortion)},y.prototype.hashCode=function(){return this.value^this.checksumPortion},y}();const Em=DW;var OW=function(){function y(p,g,v,_,E){this.value=p,this.startEnd=g,this.value=p,this.startEnd=g,this.resultPoints=new Array,this.resultPoints.push(new un(v,E)),this.resultPoints.push(new un(_,E))}return y.prototype.getValue=function(){return this.value},y.prototype.getStartEnd=function(){return this.startEnd},y.prototype.getResultPoints=function(){return this.resultPoints},y.prototype.equals=function(p){return p instanceof y&&this.value===p.value},y.prototype.hashCode=function(){return this.value},y}();const EI=OW;var IW=function(){function y(){}return y.getRSSvalue=function(p,g,v){var _,E,w=0;try{for(var D=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")}(p),O=D.next();!O.done;O=D.next())w+=O.value}catch(pt){_={error:pt}}finally{try{O&&!O.done&&(E=D.return)&&E.call(D)}finally{if(_)throw _.error}}for(var z=0,se=0,Ee=p.length,Me=0;Me<Ee-1;Me++){var Ge=void 0;for(Ge=1,se|=1<<Me;Ge<p[Me];Ge++,se&=~(1<<Me)){var st=y.combins(w-Ge-1,Ee-Me-2);if(v&&0===se&&w-Ge-(Ee-Me-1)>=Ee-Me-1&&(st-=y.combins(w-Ge-(Ee-Me),Ee-Me-2)),Ee-Me-1>1){for(var vt=0,Ct=w-Ge-(Ee-Me-2);Ct>g;Ct--)vt+=y.combins(w-Ge-Ct-1,Ee-Me-3);st-=vt*(Ee-1-Me)}else w-Ge>g&&st--;z+=st}w-=Ge}return z},y.combins=function(p,g){var v,_;p-g>g?(_=g,v=p-g):(_=p-g,v=g);for(var E=1,w=1,D=p;D>v;D--)E*=D,w<=_&&(E/=w,w++);for(;w<=_;)E/=w,w++;return E},y}();const Td=IW;var TW=function(){function y(){}return y.buildBitArray=function(p){var g=2*p.length-1;null==p[p.length-1].getRightChar()&&(g-=1);for(var _=new Vo(12*g),E=0,D=p[0].getRightChar().getValue(),O=11;O>=0;--O)0!=(D&1<<O)&&_.set(E),E++;for(O=1;O<p.length;++O){for(var L=p[O],z=L.getLeftChar().getValue(),se=11;se>=0;--se)0!=(z&1<<se)&&_.set(E),E++;if(null!=L.getRightChar()){var Ee=L.getRightChar().getValue();for(se=11;se>=0;--se)0!=(Ee&1<<se)&&_.set(E),E++}}return _},y}();const PW=TW;var AW=function(){function y(p,g){g?this.decodedInformation=null:(this.finished=p,this.decodedInformation=g)}return y.prototype.getDecodedInformation=function(){return this.decodedInformation},y.prototype.isFinished=function(){return this.finished},y}();const dc=AW;var RW=function(){function y(p){this.newPosition=p}return y.prototype.getNewPosition=function(){return this.newPosition},y}();const N1=RW;var LW=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),NW=function(y){function p(g,v){var _=y.call(this,g)||this;return _.value=v,_}return LW(p,y),p.prototype.getValue=function(){return this.value},p.prototype.isFNC1=function(){return this.value===p.FNC1},p.FNC1="$",p}(N1);const Ua=NW;var FW=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),jW=function(y){function p(g,v,_){var E=y.call(this,g)||this;return _?(E.remaining=!0,E.remainingValue=E.remainingValue):(E.remaining=!1,E.remainingValue=0),E.newString=v,E}return FW(p,y),p.prototype.getNewString=function(){return this.newString},p.prototype.isRemaining=function(){return this.remaining},p.prototype.getRemainingValue=function(){return this.remainingValue},p}(N1);const hc=jW;var UW=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),BW=function(y){function p(g,v,_){var E=y.call(this,g)||this;if(v<0||v>10||_<0||_>10)throw new $r;return E.firstDigit=v,E.secondDigit=_,E}return UW(p,y),p.prototype.getFirstDigit=function(){return this.firstDigit},p.prototype.getSecondDigit=function(){return this.secondDigit},p.prototype.getValue=function(){return 10*this.firstDigit+this.secondDigit},p.prototype.isFirstDigitFNC1=function(){return this.firstDigit===p.FNC1},p.prototype.isSecondDigitFNC1=function(){return this.secondDigit===p.FNC1},p.prototype.isAnyFNC1=function(){return this.firstDigit===p.FNC1||this.secondDigit===p.FNC1},p.FNC1=10,p}(N1);const Pd=BW;var bm=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},VW=function(){function y(){}return y.parseFieldsInGeneralPurpose=function(p){var g,v,_,E,w,D,O,L;if(!p)return null;if(p.length<2)throw new Er;var z=p.substring(0,2);try{for(var se=bm(y.TWO_DIGIT_DATA_LENGTH),Ee=se.next();!Ee.done;Ee=se.next())if((Me=Ee.value)[0]===z)return Me[1]===y.VARIABLE_LENGTH?y.processVariableAI(2,Me[2],p):y.processFixedAI(2,Me[1],p)}catch(Mr){g={error:Mr}}finally{try{Ee&&!Ee.done&&(v=se.return)&&v.call(se)}finally{if(g)throw g.error}}if(p.length<3)throw new Er;var Ge=p.substring(0,3);try{for(var st=bm(y.THREE_DIGIT_DATA_LENGTH),vt=st.next();!vt.done;vt=st.next())if((Me=vt.value)[0]===Ge)return Me[1]===y.VARIABLE_LENGTH?y.processVariableAI(3,Me[2],p):y.processFixedAI(3,Me[1],p)}catch(Mr){_={error:Mr}}finally{try{vt&&!vt.done&&(E=st.return)&&E.call(st)}finally{if(_)throw _.error}}try{for(var Ct=bm(y.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),pt=Ct.next();!pt.done;pt=Ct.next())if((Me=pt.value)[0]===Ge)return Me[1]===y.VARIABLE_LENGTH?y.processVariableAI(4,Me[2],p):y.processFixedAI(4,Me[1],p)}catch(Mr){w={error:Mr}}finally{try{pt&&!pt.done&&(D=Ct.return)&&D.call(Ct)}finally{if(w)throw w.error}}if(p.length<4)throw new Er;var Nt=p.substring(0,4);try{for(var zt=bm(y.FOUR_DIGIT_DATA_LENGTH),ar=zt.next();!ar.done;ar=zt.next()){var Me;if((Me=ar.value)[0]===Nt)return Me[1]===y.VARIABLE_LENGTH?y.processVariableAI(4,Me[2],p):y.processFixedAI(4,Me[1],p)}}catch(Mr){O={error:Mr}}finally{try{ar&&!ar.done&&(L=zt.return)&&L.call(zt)}finally{if(O)throw O.error}}throw new Er},y.processFixedAI=function(p,g,v){if(v.length<p)throw new Er;var _=v.substring(0,p);if(v.length<p+g)throw new Er;var E=v.substring(p,p+g),w=v.substring(p+g),D="("+_+")"+E,O=y.parseFieldsInGeneralPurpose(w);return null==O?D:D+O},y.processVariableAI=function(p,g,v){var E,_=v.substring(0,p),w=v.substring(p,E=v.length<p+g?v.length:p+g),D=v.substring(E),O="("+_+")"+w,L=y.parseFieldsInGeneralPurpose(D);return null==L?O:O+L},y.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",y.VARIABLE_LENGTH=[],20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",y.VARIABLE_LENGTH,20],["22",y.VARIABLE_LENGTH,29],["30",y.VARIABLE_LENGTH,8],["37",y.VARIABLE_LENGTH,8],["90",y.VARIABLE_LENGTH,30],["91",y.VARIABLE_LENGTH,30],["92",y.VARIABLE_LENGTH,30],["93",y.VARIABLE_LENGTH,30],["94",y.VARIABLE_LENGTH,30],["95",y.VARIABLE_LENGTH,30],["96",y.VARIABLE_LENGTH,30],["97",y.VARIABLE_LENGTH,3],["98",y.VARIABLE_LENGTH,30],["99",y.VARIABLE_LENGTH,30]],y.THREE_DIGIT_DATA_LENGTH=[["240",y.VARIABLE_LENGTH,30],["241",y.VARIABLE_LENGTH,30],["242",y.VARIABLE_LENGTH,6],["250",y.VARIABLE_LENGTH,30],["251",y.VARIABLE_LENGTH,30],["253",y.VARIABLE_LENGTH,17],["254",y.VARIABLE_LENGTH,20],["400",y.VARIABLE_LENGTH,30],["401",y.VARIABLE_LENGTH,30],["402",17],["403",y.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",y.VARIABLE_LENGTH,20],["421",y.VARIABLE_LENGTH,15],["422",3],["423",y.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],y.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",y.VARIABLE_LENGTH,15],["391",y.VARIABLE_LENGTH,18],["392",y.VARIABLE_LENGTH,15],["393",y.VARIABLE_LENGTH,18],["703",y.VARIABLE_LENGTH,30]],y.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",y.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",y.VARIABLE_LENGTH,20],["8003",y.VARIABLE_LENGTH,30],["8004",y.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",y.VARIABLE_LENGTH,30],["8008",y.VARIABLE_LENGTH,12],["8018",18],["8020",y.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",y.VARIABLE_LENGTH,70],["8200",y.VARIABLE_LENGTH,70]],y}();const WW=VW;var kW=function(){function y(p){this.buffer=new Ei,this.information=p}return y.prototype.decodeAllCodes=function(p,g){for(var v=g,_=null;;){var E=this.decodeGeneralPurposeField(v,_),w=WW.parseFieldsInGeneralPurpose(E.getNewString());if(null!=w&&p.append(w),_=E.isRemaining()?""+E.getRemainingValue():null,v===E.getNewPosition())break;v=E.getNewPosition()}return p.toString()},y.prototype.isStillNumeric=function(p){if(p+7>this.information.getSize())return p+4<=this.information.getSize();for(var g=p;g<p+3;++g)if(this.information.get(g))return!0;return this.information.get(p+3)},y.prototype.decodeNumeric=function(p){if(p+7>this.information.getSize()){var g=this.extractNumericValueFromBitArray(p,4);return new Pd(this.information.getSize(),0===g?Pd.FNC1:g-1,Pd.FNC1)}var v=this.extractNumericValueFromBitArray(p,7);return new Pd(p+7,(v-8)/11,(v-8)%11)},y.prototype.extractNumericValueFromBitArray=function(p,g){return y.extractNumericValueFromBitArray(this.information,p,g)},y.extractNumericValueFromBitArray=function(p,g,v){for(var _=0,E=0;E<v;++E)p.get(g+E)&&(_|=1<<v-E-1);return _},y.prototype.decodeGeneralPurposeField=function(p,g){this.buffer.setLengthToZero(),null!=g&&this.buffer.append(g),this.current.setPosition(p);var v=this.parseBlocks();return null!=v&&v.isRemaining()?new hc(this.current.getPosition(),this.buffer.toString(),v.getRemainingValue()):new hc(this.current.getPosition(),this.buffer.toString())},y.prototype.parseBlocks=function(){var p,g;do{var v=this.current.getPosition();if(p=this.current.isAlpha()?(g=this.parseAlphaBlock()).isFinished():this.current.isIsoIec646()?(g=this.parseIsoIec646Block()).isFinished():(g=this.parseNumericBlock()).isFinished(),v===this.current.getPosition()&&!p)break}while(!p);return g.getDecodedInformation()},y.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var p=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(p.getNewPosition()),p.isFirstDigitFNC1()){var g=void 0;return g=p.isSecondDigitFNC1()?new hc(this.current.getPosition(),this.buffer.toString()):new hc(this.current.getPosition(),this.buffer.toString(),p.getSecondDigit()),new dc(!0,g)}if(this.buffer.append(p.getFirstDigit()),p.isSecondDigitFNC1())return g=new hc(this.current.getPosition(),this.buffer.toString()),new dc(!0,g);this.buffer.append(p.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new dc(!1)},y.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var p=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(p.getNewPosition()),p.isFNC1()){var g=new hc(this.current.getPosition(),this.buffer.toString());return new dc(!0,g)}this.buffer.append(p.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new dc(!1)},y.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var p=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(p.getNewPosition()),p.isFNC1()){var g=new hc(this.current.getPosition(),this.buffer.toString());return new dc(!0,g)}this.buffer.append(p.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new dc(!1)},y.prototype.isStillIsoIec646=function(p){if(p+5>this.information.getSize())return!1;var g=this.extractNumericValueFromBitArray(p,5);if(g>=5&&g<16)return!0;if(p+7>this.information.getSize())return!1;var v=this.extractNumericValueFromBitArray(p,7);if(v>=64&&v<116)return!0;if(p+8>this.information.getSize())return!1;var _=this.extractNumericValueFromBitArray(p,8);return _>=232&&_<253},y.prototype.decodeIsoIec646=function(p){var g=this.extractNumericValueFromBitArray(p,5);if(15===g)return new Ua(p+5,Ua.FNC1);if(g>=5&&g<15)return new Ua(p+5,"0"+(g-5));var E,v=this.extractNumericValueFromBitArray(p,7);if(v>=64&&v<90)return new Ua(p+7,""+(v+1));if(v>=90&&v<116)return new Ua(p+7,""+(v+7));switch(this.extractNumericValueFromBitArray(p,8)){case 232:E="!";break;case 233:E='"';break;case 234:E="%";break;case 235:E="&";break;case 236:E="'";break;case 237:E="(";break;case 238:E=")";break;case 239:E="*";break;case 240:E="+";break;case 241:E=",";break;case 242:E="-";break;case 243:E=".";break;case 244:E="/";break;case 245:E=":";break;case 246:E=";";break;case 247:E="<";break;case 248:E="=";break;case 249:E=">";break;case 250:E="?";break;case 251:E="_";break;case 252:E=" ";break;default:throw new $r}return new Ua(p+8,E)},y.prototype.isStillAlpha=function(p){if(p+5>this.information.getSize())return!1;var g=this.extractNumericValueFromBitArray(p,5);if(g>=5&&g<16)return!0;if(p+6>this.information.getSize())return!1;var v=this.extractNumericValueFromBitArray(p,6);return v>=16&&v<63},y.prototype.decodeAlphanumeric=function(p){var g=this.extractNumericValueFromBitArray(p,5);if(15===g)return new Ua(p+5,Ua.FNC1);if(g>=5&&g<15)return new Ua(p+5,"0"+(g-5));var _,v=this.extractNumericValueFromBitArray(p,6);if(v>=32&&v<58)return new Ua(p+6,""+(v+33));switch(v){case 58:_="*";break;case 59:_=",";break;case 60:_="-";break;case 61:_=".";break;case 62:_="/";break;default:throw new cl("Decoding invalid alphanumeric value: "+v)}return new Ua(p+6,_)},y.prototype.isAlphaTo646ToAlphaLatch=function(p){if(p+1>this.information.getSize())return!1;for(var g=0;g<5&&g+p<this.information.getSize();++g)if(2===g){if(!this.information.get(p+2))return!1}else if(this.information.get(p+g))return!1;return!0},y.prototype.isAlphaOr646ToNumericLatch=function(p){if(p+3>this.information.getSize())return!1;for(var g=p;g<p+3;++g)if(this.information.get(g))return!1;return!0},y.prototype.isNumericToAlphaNumericLatch=function(p){if(p+1>this.information.getSize())return!1;for(var g=0;g<4&&g+p<this.information.getSize();++g)if(this.information.get(p+g))return!1;return!0},y}();const Cm=kW;var ZW=function(){function y(p){this.information=p,this.generalDecoder=new Cm(p)}return y.prototype.getInformation=function(){return this.information},y.prototype.getGeneralDecoder=function(){return this.generalDecoder},y}();const bI=ZW;var $W=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),KW=function(y){function p(g){return y.call(this,g)||this}return $W(p,y),p.prototype.encodeCompressedGtin=function(g,v){g.append("(01)");var _=g.length();g.append("9"),this.encodeCompressedGtinWithoutAI(g,v,_)},p.prototype.encodeCompressedGtinWithoutAI=function(g,v,_){for(var E=0;E<4;++E){var w=this.getGeneralDecoder().extractNumericValueFromBitArray(v+10*E,10);w/100==0&&g.append("0"),w/10==0&&g.append("0"),g.append(w)}p.appendCheckDigit(g,_)},p.appendCheckDigit=function(g,v){for(var _=0,E=0;E<13;E++){var w=g.charAt(E+v).charCodeAt(0)-"0".charCodeAt(0);_+=0==(1&E)?3*w:w}10==(_=10-_%10)&&(_=0),g.append(_)},p.GTIN_SIZE=40,p}(bI);const Ba=KW;var zW=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),GW=function(y){function p(g){return y.call(this,g)||this}return zW(p,y),p.prototype.parseInformation=function(){var g=new Ei;g.append("(01)");var v=g.length(),_=this.getGeneralDecoder().extractNumericValueFromBitArray(p.HEADER_SIZE,4);return g.append(_),this.encodeCompressedGtinWithoutAI(g,p.HEADER_SIZE+4,v),this.getGeneralDecoder().decodeAllCodes(g,p.HEADER_SIZE+44)},p.HEADER_SIZE=4,p}(Ba);const HW=GW;var JW=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),YW=function(y){function p(g){return y.call(this,g)||this}return JW(p,y),p.prototype.parseInformation=function(){var g=new Ei;return this.getGeneralDecoder().decodeAllCodes(g,p.HEADER_SIZE)},p.HEADER_SIZE=5,p}(bI);const XW=YW;var QW=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),qW=function(y){function p(g){return y.call(this,g)||this}return QW(p,y),p.prototype.encodeCompressedWeight=function(g,v,_){var E=this.getGeneralDecoder().extractNumericValueFromBitArray(v,_);this.addWeightCode(g,E);for(var w=this.checkWeight(E),D=1e5,O=0;O<5;++O)w/D==0&&g.append("0"),D/=10;g.append(w)},p}(Ba);const Mm=qW;var ek=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),tk=function(y){function p(g){return y.call(this,g)||this}return ek(p,y),p.prototype.parseInformation=function(){if(this.getInformation().getSize()!=p.HEADER_SIZE+Mm.GTIN_SIZE+p.WEIGHT_SIZE)throw new Er;var g=new Ei;return this.encodeCompressedGtin(g,p.HEADER_SIZE),this.encodeCompressedWeight(g,p.HEADER_SIZE+Mm.GTIN_SIZE,p.WEIGHT_SIZE),g.toString()},p.HEADER_SIZE=5,p.WEIGHT_SIZE=15,p}(Mm);const CI=tk;var rk=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),nk=function(y){function p(g){return y.call(this,g)||this}return rk(p,y),p.prototype.addWeightCode=function(g,v){g.append("(3103)")},p.prototype.checkWeight=function(g){return g},p}(CI);const ik=nk;var ok=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),sk=function(y){function p(g){return y.call(this,g)||this}return ok(p,y),p.prototype.addWeightCode=function(g,v){g.append(v<1e4?"(3202)":"(3203)")},p.prototype.checkWeight=function(g){return g<1e4?g:g-1e4},p}(CI);const ak=sk;var lk=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),uk=function(y){function p(g){return y.call(this,g)||this}return lk(p,y),p.prototype.parseInformation=function(){if(this.getInformation().getSize()<p.HEADER_SIZE+Ba.GTIN_SIZE)throw new Er;var g=new Ei;this.encodeCompressedGtin(g,p.HEADER_SIZE);var v=this.getGeneralDecoder().extractNumericValueFromBitArray(p.HEADER_SIZE+Ba.GTIN_SIZE,p.LAST_DIGIT_SIZE);g.append("(392"),g.append(v),g.append(")");var _=this.getGeneralDecoder().decodeGeneralPurposeField(p.HEADER_SIZE+Ba.GTIN_SIZE+p.LAST_DIGIT_SIZE,null);return g.append(_.getNewString()),g.toString()},p.HEADER_SIZE=8,p.LAST_DIGIT_SIZE=2,p}(Ba);const ck=uk;var dk=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),hk=function(y){function p(g){return y.call(this,g)||this}return dk(p,y),p.prototype.parseInformation=function(){if(this.getInformation().getSize()<p.HEADER_SIZE+Ba.GTIN_SIZE)throw new Er;var g=new Ei;this.encodeCompressedGtin(g,p.HEADER_SIZE);var v=this.getGeneralDecoder().extractNumericValueFromBitArray(p.HEADER_SIZE+Ba.GTIN_SIZE,p.LAST_DIGIT_SIZE);g.append("(393"),g.append(v),g.append(")");var _=this.getGeneralDecoder().extractNumericValueFromBitArray(p.HEADER_SIZE+Ba.GTIN_SIZE+p.LAST_DIGIT_SIZE,p.FIRST_THREE_DIGITS_SIZE);_/100==0&&g.append("0"),_/10==0&&g.append("0"),g.append(_);var E=this.getGeneralDecoder().decodeGeneralPurposeField(p.HEADER_SIZE+Ba.GTIN_SIZE+p.LAST_DIGIT_SIZE+p.FIRST_THREE_DIGITS_SIZE,null);return g.append(E.getNewString()),g.toString()},p.HEADER_SIZE=8,p.LAST_DIGIT_SIZE=2,p.FIRST_THREE_DIGITS_SIZE=10,p}(Ba);const fk=hk;var pk=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),mk=function(y){function p(g,v,_){var E=y.call(this,g)||this;return E.dateCode=_,E.firstAIdigits=v,E}return pk(p,y),p.prototype.parseInformation=function(){if(this.getInformation().getSize()!=p.HEADER_SIZE+p.GTIN_SIZE+p.WEIGHT_SIZE+p.DATE_SIZE)throw new Er;var g=new Ei;return this.encodeCompressedGtin(g,p.HEADER_SIZE),this.encodeCompressedWeight(g,p.HEADER_SIZE+p.GTIN_SIZE,p.WEIGHT_SIZE),this.encodeCompressedDate(g,p.HEADER_SIZE+p.GTIN_SIZE+p.WEIGHT_SIZE),g.toString()},p.prototype.encodeCompressedDate=function(g,v){var _=this.getGeneralDecoder().extractNumericValueFromBitArray(v,p.DATE_SIZE);if(38400!=_){g.append("("),g.append(this.dateCode),g.append(")");var E=_%32,w=(_/=32)%12+1,D=_/=12;D/10==0&&g.append("0"),g.append(D),w/10==0&&g.append("0"),g.append(w),E/10==0&&g.append("0"),g.append(E)}},p.prototype.addWeightCode=function(g,v){g.append("("),g.append(this.firstAIdigits),g.append(v/1e5),g.append(")")},p.prototype.checkWeight=function(g){return g%1e5},p.HEADER_SIZE=8,p.WEIGHT_SIZE=20,p.DATE_SIZE=16,p}(Mm);const Eu=mk;var gk=function(){function y(p,g,v,_){this.leftchar=p,this.rightchar=g,this.finderpattern=v,this.maybeLast=_}return y.prototype.mayBeLast=function(){return this.maybeLast},y.prototype.getLeftChar=function(){return this.leftchar},y.prototype.getRightChar=function(){return this.rightchar},y.prototype.getFinderPattern=function(){return this.finderpattern},y.prototype.mustBeLast=function(){return null==this.rightchar},y.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"},y.equals=function(p,g){return p instanceof y&&y.equalsOrNull(p.leftchar,g.leftchar)&&y.equalsOrNull(p.rightchar,g.rightchar)&&y.equalsOrNull(p.finderpattern,g.finderpattern)},y.equalsOrNull=function(p,g){return null===p?null===g:y.equals(p,g)},y.prototype.hashCode=function(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()},y}();const MI=gk;var vk=function(){function y(p,g,v){this.pairs=p,this.rowNumber=g,this.wasReversed=v}return y.prototype.getPairs=function(){return this.pairs},y.prototype.getRowNumber=function(){return this.rowNumber},y.prototype.isReversed=function(){return this.wasReversed},y.prototype.isEquivalent=function(p){return this.checkEqualitity(this,p)},y.prototype.toString=function(){return"{ "+this.pairs+" }"},y.prototype.equals=function(p,g){return p instanceof y&&this.checkEqualitity(p,g)&&p.wasReversed===g.wasReversed},y.prototype.checkEqualitity=function(p,g){var v;if(p&&g)return p.forEach(function(_,E){g.forEach(function(w){_.getLeftChar().getValue()===w.getLeftChar().getValue()&&_.getRightChar().getValue()===w.getRightChar().getValue()&&_.getFinderPatter().getValue()===w.getFinderPatter().getValue()&&(v=!0)})}),v},y}();const _k=vk;var Ek=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),bu=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},bk=function(y){function p(){var g=null!==y&&y.apply(this,arguments)||this;return g.pairs=new Array(p.MAX_PAIRS),g.rows=new Array,g.startEnd=[2],g}return Ek(p,y),p.prototype.decodeRow=function(g,v,_){this.pairs.length=0,this.startFromEven=!1;try{return p.constructResult(this.decodeRow2pairs(g,v))}catch(E){}return this.pairs.length=0,this.startFromEven=!0,p.constructResult(this.decodeRow2pairs(g,v))},p.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},p.prototype.decodeRow2pairs=function(g,v){for(var _=!1;!_;)try{this.pairs.push(this.retrieveNextPair(v,this.pairs,g))}catch(D){if(D instanceof Er){if(!this.pairs.length)throw new Er;_=!0}}if(this.checkChecksum())return this.pairs;var E;if(E=!!this.rows.length,this.storeRow(g,!1),E){var w=this.checkRowsBoolean(!1);if(null!=w||null!=(w=this.checkRowsBoolean(!0)))return w}throw new Er},p.prototype.checkRowsBoolean=function(g){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,g&&(this.rows=this.rows.reverse());var v=null;try{v=this.checkRows(new Array,0)}catch(_){console.log(_)}return g&&(this.rows=this.rows.reverse()),v},p.prototype.checkRows=function(g,v){for(var _,E,w=v;w<this.rows.length;w++){var D=this.rows[w];this.pairs.length=0;try{for(var O=(_=void 0,bu(g)),L=O.next();!L.done;L=O.next())this.pairs.push(L.value.getPairs())}catch(Ee){_={error:Ee}}finally{try{L&&!L.done&&(E=O.return)&&E.call(O)}finally{if(_)throw _.error}}if(this.pairs.push(D.getPairs()),p.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var se=new Array(g);se.push(D);try{return this.checkRows(se,w+1)}catch(Ee){console.log(Ee)}}}throw new Er},p.isValidSequence=function(g){var v,_;try{for(var E=bu(p.FINDER_PATTERN_SEQUENCES),w=E.next();!w.done;w=E.next()){var D=w.value;if(!(g.length>D.length)){for(var O=!0,L=0;L<g.length;L++)if(g[L].getFinderPattern().getValue()!=D[L]){O=!1;break}if(O)return!0}}}catch(z){v={error:z}}finally{try{w&&!w.done&&(_=E.return)&&_.call(E)}finally{if(v)throw v.error}}return!1},p.prototype.storeRow=function(g,v){for(var _=0,E=!1,w=!1;_<this.rows.length;){var D=this.rows[_];if(D.getRowNumber()>g){w=D.isEquivalent(this.pairs);break}E=D.isEquivalent(this.pairs),_++}w||E||p.isPartialRow(this.pairs,this.rows)||(this.rows.push(_,new _k(this.pairs,g,v)),this.removePartialRows(this.pairs,this.rows))},p.prototype.removePartialRows=function(g,v){var _,E,w,D,O,L;try{for(var z=bu(v),se=z.next();!se.done;se=z.next()){var Ee=se.value;if(Ee.getPairs().length!==g.length)try{for(var Ge=(w=void 0,bu(Ee.getPairs())),st=Ge.next();!st.done;st=Ge.next()){var vt=st.value;try{for(var pt=(O=void 0,bu(g)),Nt=pt.next();!Nt.done;Nt=pt.next())if(MI.equals(vt,Nt.value)){!0;break}}catch(ar){O={error:ar}}finally{try{Nt&&!Nt.done&&(L=pt.return)&&L.call(pt)}finally{if(O)throw O.error}}}}catch(ar){w={error:ar}}finally{try{st&&!st.done&&(D=Ge.return)&&D.call(Ge)}finally{if(w)throw w.error}}}}catch(ar){_={error:ar}}finally{try{se&&!se.done&&(E=z.return)&&E.call(z)}finally{if(_)throw _.error}}},p.isPartialRow=function(g,v){var _,E,w,D,O,L;try{for(var z=bu(v),se=z.next();!se.done;se=z.next()){var Ee=se.value,Me=!0;try{for(var Ge=(w=void 0,bu(g)),st=Ge.next();!st.done;st=Ge.next()){var vt=st.value,Ct=!1;try{for(var pt=(O=void 0,bu(Ee.getPairs())),Nt=pt.next();!Nt.done;Nt=pt.next())if(vt.equals(Nt.value)){Ct=!0;break}}catch(ar){O={error:ar}}finally{try{Nt&&!Nt.done&&(L=pt.return)&&L.call(pt)}finally{if(O)throw O.error}}if(!Ct){Me=!1;break}}}catch(ar){w={error:ar}}finally{try{st&&!st.done&&(D=Ge.return)&&D.call(Ge)}finally{if(w)throw w.error}}if(Me)return!0}}catch(ar){_={error:ar}}finally{try{se&&!se.done&&(E=z.return)&&E.call(z)}finally{if(_)throw _.error}}return!1},p.prototype.getRows=function(){return this.rows},p.constructResult=function(g){var _=function yk(y){try{if(y.get(1))return new HW(y);if(!y.get(2))return new XW(y);switch(Cm.extractNumericValueFromBitArray(y,1,4)){case 4:return new ik(y);case 5:return new ak(y)}switch(Cm.extractNumericValueFromBitArray(y,1,5)){case 12:return new ck(y);case 13:return new fk(y)}switch(Cm.extractNumericValueFromBitArray(y,1,7)){case 56:return new Eu(y,"310","11");case 57:return new Eu(y,"320","11");case 58:return new Eu(y,"310","13");case 59:return new Eu(y,"320","13");case 60:return new Eu(y,"310","15");case 61:return new Eu(y,"320","15");case 62:return new Eu(y,"310","17");case 63:return new Eu(y,"320","17")}}catch(_){throw console.log(_),new cl("unknown decoder: "+y)}}(PW.buildBitArray(g)),E=_.parseInformation(),w=g[0].getFinderPattern().getResultPoints(),D=g[g.length-1].getFinderPattern().getResultPoints();return new Ls(E,null,null,[w[0],w[1],D[0],D[1]],mn.RSS_EXPANDED,null)},p.prototype.checkChecksum=function(){var g=this.pairs.get(0),v=g.getLeftChar(),_=g.getRightChar();if(null==_)return!1;for(var E=_.getChecksumPortion(),w=2,D=1;D<this.pairs.size();++D){var O=this.pairs.get(D);E+=O.getLeftChar().getChecksumPortion(),w++;var L=O.getRightChar();null!=L&&(E+=L.getChecksumPortion(),w++)}return 211*(w-4)+(E%=211)==v.getValue()},p.getNextSecondBar=function(g,v){var _;return g.get(v)?(_=g.getNextUnset(v),_=g.getNextSet(_)):(_=g.getNextSet(v),_=g.getNextUnset(_)),_},p.prototype.retrieveNextPair=function(g,v,_){var E=v.length%2==0;this.startFromEven&&(E=!E);var w,D=!0,O=-1;do{this.findNextPair(g,v,O),null==(w=this.parseFoundFinderPattern(g,_,E))?O=p.getNextSecondBar(g,this.startEnd[0]):D=!1}while(D);var z,L=this.decodeDataCharacter(g,w,E,!0);if(!this.isEmptyPair(v)&&v[v.length-1].mustBeLast())throw new Er;try{z=this.decodeDataCharacter(g,w,E,!1)}catch(se){z=null,console.log(se)}return new MI(L,z,w,!0)},p.prototype.isEmptyPair=function(g){return 0===g.length},p.prototype.findNextPair=function(g,v,_){var E=this.getDecodeFinderCounters();E[0]=0,E[1]=0,E[2]=0,E[3]=0;var D,w=g.getSize();D=_>=0?_:this.isEmptyPair(v)?0:v[v.length-1].getFinderPattern().getStartEnd()[1];var L=v.length%2!=0;this.startFromEven&&(L=!L);for(var z=!1;D<w&&(z=!g.get(D));)D++;for(var se=0,Ee=D,Me=D;Me<w;Me++)if(g.get(Me)!=z)E[se]++;else{if(3==se){if(L&&p.reverseCounters(E),p.isFinderPattern(E))return this.startEnd[0]=Ee,void(this.startEnd[1]=Me);L&&p.reverseCounters(E),Ee+=E[0]+E[1],E[0]=E[2],E[1]=E[3],E[2]=0,E[3]=0,se--}else se++;E[se]=1,z=!z}throw new Er},p.reverseCounters=function(g){for(var v=g.length,_=0;_<v/2;++_){var E=g[_];g[_]=g[v-_-1],g[v-_-1]=E}},p.prototype.parseFoundFinderPattern=function(g,v,_){var E,w,D;if(_){for(var O=this.startEnd[0]-1;O>=0&&!g.get(O);)O--;O++,E=this.startEnd[0]-O,w=O,D=this.startEnd[1]}else w=this.startEnd[0],E=(D=g.getNextUnset(this.startEnd[1]+1))-this.startEnd[1];var z,L=this.getDecodeFinderCounters();Ti.arraycopy(L,0,L,1,L.length-1),L[0]=E;try{z=this.parseFinderValue(L,p.FINDER_PATTERNS)}catch(se){return null}return new EI(z,[w,D],w,D,v)},p.prototype.decodeDataCharacter=function(g,v,_,E){for(var w=this.getDataCharacterCounters(),D=0;D<w.length;D++)w[D]=0;if(E)p.recordPatternInReverse(g,v.getStartEnd()[0],w);else{p.recordPattern(g,v.getStartEnd()[1],w);for(var O=0,L=w.length-1;O<L;O++,L--){var z=w[O];w[O]=w[L],w[L]=z}}var Ee=ui.sum(new Int32Array(w))/17,Me=(v.getStartEnd()[1]-v.getStartEnd()[0])/15;if(Math.abs(Ee-Me)/Me>.3)throw new Er;var Ge=this.getOddCounts(),st=this.getEvenCounts(),vt=this.getOddRoundingErrors(),Ct=this.getEvenRoundingErrors();for(O=0;O<w.length;O++){var pt=1*w[O]/Ee,Nt=pt+.5;if(Nt<1){if(pt<.3)throw new Er;Nt=1}else if(Nt>8){if(pt>8.7)throw new Er;Nt=8}var zt=O/2;0==(1&O)?(Ge[zt]=Nt,vt[zt]=pt-Nt):(st[zt]=Nt,Ct[zt]=pt-Nt)}this.adjustOddEvenCounts(17);var ar=4*v.getValue()+(_?0:2)+(E?0:1)-1,Mr=0,jr=0;for(O=Ge.length-1;O>=0;O--)p.isNotA1left(v,_,E)&&(jr+=Ge[O]*p.WEIGHTS[ar][2*O]),Mr+=Ge[O];var On=0;for(O=st.length-1;O>=0;O--)p.isNotA1left(v,_,E)&&(On+=st[O]*p.WEIGHTS[ar][2*O+1]);var _n=jr+On;if(0!=(1&Mr)||Mr>13||Mr<4)throw new Er;var ji=(13-Mr)/2,qn=p.SYMBOL_WIDEST[ji],Di=9-qn,ls=Td.getRSSvalue(Ge,qn,!0),Ma=Td.getRSSvalue(st,Di,!1);return new Em(ls*p.EVEN_TOTAL_SUBSET[ji]+Ma+p.GSUM[ji],_n)},p.isNotA1left=function(g,v,_){return!(0==g.getValue()&&v&&_)},p.prototype.adjustOddEvenCounts=function(g){var v=ui.sum(new Int32Array(this.getOddCounts())),_=ui.sum(new Int32Array(this.getEvenCounts())),E=!1,w=!1;v>13?w=!0:v<4&&(E=!0);var D=!1,O=!1;_>13?O=!0:_<4&&(D=!0);var L=v+_-g,z=1==(1&v),se=0==(1&_);if(1==L)if(z){if(se)throw new Er;w=!0}else{if(!se)throw new Er;O=!0}else if(-1==L)if(z){if(se)throw new Er;E=!0}else{if(!se)throw new Er;D=!0}else{if(0!=L)throw new Er;if(z){if(!se)throw new Er;v<_?(E=!0,O=!0):(w=!0,D=!0)}else if(se)throw new Er}if(E){if(w)throw new Er;p.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(w&&p.decrement(this.getOddCounts(),this.getOddRoundingErrors()),D){if(O)throw new Er;p.increment(this.getEvenCounts(),this.getOddRoundingErrors())}O&&p.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},p.SYMBOL_WIDEST=[7,5,4,3,1],p.EVEN_TOTAL_SUBSET=[4,20,52,104,204],p.GSUM=[0,348,1388,2948,3988],p.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],p.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],p.FINDER_PATTERN_SEQUENCES=[[p.FINDER_PAT_A=0,p.FINDER_PAT_A],[p.FINDER_PAT_A,p.FINDER_PAT_B=1,p.FINDER_PAT_B],[p.FINDER_PAT_A,p.FINDER_PAT_C=2,p.FINDER_PAT_B,p.FINDER_PAT_D=3],[p.FINDER_PAT_A,p.FINDER_PAT_E=4,p.FINDER_PAT_B,p.FINDER_PAT_D,p.FINDER_PAT_C],[p.FINDER_PAT_A,p.FINDER_PAT_E,p.FINDER_PAT_B,p.FINDER_PAT_D,p.FINDER_PAT_D,p.FINDER_PAT_F=5],[p.FINDER_PAT_A,p.FINDER_PAT_E,p.FINDER_PAT_B,p.FINDER_PAT_D,p.FINDER_PAT_E,p.FINDER_PAT_F,p.FINDER_PAT_F],[p.FINDER_PAT_A,p.FINDER_PAT_A,p.FINDER_PAT_B,p.FINDER_PAT_B,p.FINDER_PAT_C,p.FINDER_PAT_C,p.FINDER_PAT_D,p.FINDER_PAT_D],[p.FINDER_PAT_A,p.FINDER_PAT_A,p.FINDER_PAT_B,p.FINDER_PAT_B,p.FINDER_PAT_C,p.FINDER_PAT_C,p.FINDER_PAT_D,p.FINDER_PAT_E,p.FINDER_PAT_E],[p.FINDER_PAT_A,p.FINDER_PAT_A,p.FINDER_PAT_B,p.FINDER_PAT_B,p.FINDER_PAT_C,p.FINDER_PAT_C,p.FINDER_PAT_D,p.FINDER_PAT_E,p.FINDER_PAT_F,p.FINDER_PAT_F],[p.FINDER_PAT_A,p.FINDER_PAT_A,p.FINDER_PAT_B,p.FINDER_PAT_B,p.FINDER_PAT_C,p.FINDER_PAT_D,p.FINDER_PAT_D,p.FINDER_PAT_E,p.FINDER_PAT_E,p.FINDER_PAT_F,p.FINDER_PAT_F]],p.MAX_PAIRS=11,p}(cc);const Ck=bk;var Mk=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),wk=function(y){function p(g,v,_){var E=y.call(this,g,v)||this;return E.count=0,E.finderPattern=_,E}return Mk(p,y),p.prototype.getFinderPattern=function(){return this.finderPattern},p.prototype.getCount=function(){return this.count},p.prototype.incrementCount=function(){this.count++},p}(Em);const xk=wk;var Dk=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),F1=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},Ok=function(y){function p(){var g=null!==y&&y.apply(this,arguments)||this;return g.possibleLeftPairs=[],g.possibleRightPairs=[],g}return Dk(p,y),p.prototype.decodeRow=function(g,v,_){var E,w,D,O,L=this.decodePair(v,!1,g,_);p.addOrTally(this.possibleLeftPairs,L),v.reverse();var z=this.decodePair(v,!0,g,_);p.addOrTally(this.possibleRightPairs,z),v.reverse();try{for(var se=F1(this.possibleLeftPairs),Ee=se.next();!Ee.done;Ee=se.next()){var Me=Ee.value;if(Me.getCount()>1)try{for(var Ge=(D=void 0,F1(this.possibleRightPairs)),st=Ge.next();!st.done;st=Ge.next()){var vt=st.value;if(vt.getCount()>1&&p.checkChecksum(Me,vt))return p.constructResult(Me,vt)}}catch(Ct){D={error:Ct}}finally{try{st&&!st.done&&(O=Ge.return)&&O.call(Ge)}finally{if(D)throw D.error}}}}catch(Ct){E={error:Ct}}finally{try{Ee&&!Ee.done&&(w=se.return)&&w.call(se)}finally{if(E)throw E.error}}throw new Er},p.addOrTally=function(g,v){var _,E;if(null!=v){var w=!1;try{for(var D=F1(g),O=D.next();!O.done;O=D.next()){var L=O.value;if(L.getValue()===v.getValue()){L.incrementCount(),w=!0;break}}}catch(z){_={error:z}}finally{try{O&&!O.done&&(E=D.return)&&E.call(D)}finally{if(_)throw _.error}}w||g.push(v)}},p.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},p.constructResult=function(g,v){for(var _=4537077*g.getValue()+v.getValue(),E=new String(_).toString(),w=new Ei,D=13-E.length;D>0;D--)w.append("0");w.append(E);var O=0;for(D=0;D<13;D++){var L=w.charAt(D).charCodeAt(0)-"0".charCodeAt(0);O+=0==(1&D)?3*L:L}10==(O=10-O%10)&&(O=0),w.append(O.toString());var z=g.getFinderPattern().getResultPoints(),se=v.getFinderPattern().getResultPoints();return new Ls(w.toString(),null,0,[z[0],z[1],se[0],se[1]],mn.RSS_14,(new Date).getTime())},p.checkChecksum=function(g,v){var _=(g.getChecksumPortion()+16*v.getChecksumPortion())%79,E=9*g.getFinderPattern().getValue()+v.getFinderPattern().getValue();return E>72&&E--,E>8&&E--,_===E},p.prototype.decodePair=function(g,v,_,E){try{var w=this.findFinderPattern(g,v),D=this.parseFoundFinderPattern(g,_,v,w),O=null==E?null:E.get(hi.NEED_RESULT_POINT_CALLBACK);if(null!=O){var L=(w[0]+w[1])/2;v&&(L=g.getSize()-1-L),O.foundPossibleResultPoint(new un(L,_))}var z=this.decodeDataCharacter(g,D,!0),se=this.decodeDataCharacter(g,D,!1);return new xk(1597*z.getValue()+se.getValue(),z.getChecksumPortion()+4*se.getChecksumPortion(),D)}catch(Ee){return null}},p.prototype.decodeDataCharacter=function(g,v,_){for(var E=this.getDataCharacterCounters(),w=0;w<E.length;w++)E[w]=0;if(_)Yo.recordPatternInReverse(g,v.getStartEnd()[0],E);else{Yo.recordPattern(g,v.getStartEnd()[1]+1,E);for(var D=0,O=E.length-1;D<O;D++,O--){var L=E[D];E[D]=E[O],E[O]=L}}var z=_?16:15,se=ui.sum(new Int32Array(E))/z,Ee=this.getOddCounts(),Me=this.getEvenCounts(),Ge=this.getOddRoundingErrors(),st=this.getEvenRoundingErrors();for(D=0;D<E.length;D++){var vt=E[D]/se,Ct=Math.floor(vt+.5);Ct<1?Ct=1:Ct>8&&(Ct=8);var pt=Math.floor(D/2);0==(1&D)?(Ee[pt]=Ct,Ge[pt]=vt-Ct):(Me[pt]=Ct,st[pt]=vt-Ct)}this.adjustOddEvenCounts(_,z);var Nt=0,zt=0;for(D=Ee.length-1;D>=0;D--)zt*=9,zt+=Ee[D],Nt+=Ee[D];var ar=0,Mr=0;for(D=Me.length-1;D>=0;D--)ar*=9,ar+=Me[D],Mr+=Me[D];var en,On,jr=zt+3*ar;if(_){if(0!=(1&Nt)||Nt>12||Nt<4)throw new Er;var _n=9-(On=p.OUTSIDE_ODD_WIDEST[en=(12-Nt)/2]),ji=Td.getRSSvalue(Ee,On,!1),qn=Td.getRSSvalue(Me,_n,!0);return new Em(ji*p.OUTSIDE_EVEN_TOTAL_SUBSET[en]+qn+p.OUTSIDE_GSUM[en],jr)}if(0!=(1&Mr)||Mr>10||Mr<4)throw new Er;return _n=9-(On=p.INSIDE_ODD_WIDEST[en=(10-Mr)/2]),ji=Td.getRSSvalue(Ee,On,!0),qn=Td.getRSSvalue(Me,_n,!1),new Em(qn*p.INSIDE_ODD_TOTAL_SUBSET[en]+ji+p.INSIDE_GSUM[en],jr)},p.prototype.findFinderPattern=function(g,v){var _=this.getDecodeFinderCounters();_[0]=0,_[1]=0,_[2]=0,_[3]=0;for(var E=g.getSize(),w=!1,D=0;D<E&&v!==(w=!g.get(D));)D++;for(var O=0,L=D,z=D;z<E;z++)if(g.get(z)!==w)_[O]++;else{if(3===O){if(cc.isFinderPattern(_))return[L,z];L+=_[0]+_[1],_[0]=_[2],_[1]=_[3],_[2]=0,_[3]=0,O--}else O++;_[O]=1,w=!w}throw new Er},p.prototype.parseFoundFinderPattern=function(g,v,_,E){for(var w=g.get(E[0]),D=E[0]-1;D>=0&&w!==g.get(D);)D--;D++;var O=E[0]-D,L=this.getDecodeFinderCounters(),z=new Int32Array(L.length);Ti.arraycopy(L,0,z,1,L.length-1),z[0]=O;var se=this.parseFinderValue(z,p.FINDER_PATTERNS),Ee=D,Me=E[1];return _&&(Ee=g.getSize()-1-Ee,Me=g.getSize()-1-Me),new EI(se,[D,E[1]],Ee,Me,v)},p.prototype.adjustOddEvenCounts=function(g,v){var _=ui.sum(new Int32Array(this.getOddCounts())),E=ui.sum(new Int32Array(this.getEvenCounts())),w=!1,D=!1,O=!1,L=!1;g?(_>12?D=!0:_<4&&(w=!0),E>12?L=!0:E<4&&(O=!0)):(_>11?D=!0:_<5&&(w=!0),E>10?L=!0:E<4&&(O=!0));var z=_+E-v,se=(1&_)==(g?1:0),Ee=1==(1&E);if(1===z)if(se){if(Ee)throw new Er;D=!0}else{if(!Ee)throw new Er;L=!0}else if(-1===z)if(se){if(Ee)throw new Er;w=!0}else{if(!Ee)throw new Er;O=!0}else{if(0!==z)throw new Er;if(se){if(!Ee)throw new Er;_<E?(w=!0,L=!0):(D=!0,O=!0)}else if(Ee)throw new Er}if(w){if(D)throw new Er;cc.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(D&&cc.decrement(this.getOddCounts(),this.getOddRoundingErrors()),O){if(L)throw new Er;cc.increment(this.getEvenCounts(),this.getOddRoundingErrors())}L&&cc.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},p.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],p.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],p.OUTSIDE_GSUM=[0,161,961,2015,2715],p.INSIDE_GSUM=[0,336,1036,1516],p.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],p.INSIDE_ODD_WIDEST=[2,4,6,8],p.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],p}(cc);const wI=Ok;var Sk=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),Ik=function(y){function p(g){var v=y.call(this)||this;v.readers=[];var _=g?g.get(hi.POSSIBLE_FORMATS):null,E=g&&void 0!==g.get(hi.ASSUME_CODE_39_CHECK_DIGIT);return _&&((_.includes(mn.EAN_13)||_.includes(mn.UPC_A)||_.includes(mn.EAN_8)||_.includes(mn.UPC_E))&&v.readers.push(new L1(g)),_.includes(mn.CODE_39)&&v.readers.push(new hI(E)),_.includes(mn.CODE_128)&&v.readers.push(new dI),_.includes(mn.ITF)&&v.readers.push(new fI),_.includes(mn.RSS_14)&&v.readers.push(new wI),_.includes(mn.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),v.readers.push(new Ck))),0===v.readers.length&&(v.readers.push(new L1(g)),v.readers.push(new hI),v.readers.push(new L1(g)),v.readers.push(new dI),v.readers.push(new fI),v.readers.push(new wI)),v}return Sk(p,y),p.prototype.decodeRow=function(g,v,_){for(var E=0;E<this.readers.length;E++)try{return this.readers[E].decodeRow(g,v,_)}catch(w){}throw new Er},p.prototype.reset=function(){this.readers.forEach(function(g){return g.reset()})},p}(Yo);const Ad=Ik;var Tk=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),xI=(function(y){Tk(function p(g,v){return void 0===g&&(g=500),y.call(this,new Ad(v),g,v)||this},y)}(Sd),function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")}),pi=function(){function y(p,g,v){this.ecCodewords=p,this.ecBlocks=[g],v&&this.ecBlocks.push(v)}return y.prototype.getECCodewords=function(){return this.ecCodewords},y.prototype.getECBlocks=function(){return this.ecBlocks},y}(),ci=function(){function y(p,g){this.count=p,this.dataCodewords=g}return y.prototype.getCount=function(){return this.count},y.prototype.getDataCodewords=function(){return this.dataCodewords},y}(),Pk=function(){function y(p,g,v,_,E,w){var D,O;this.versionNumber=p,this.symbolSizeRows=g,this.symbolSizeColumns=v,this.dataRegionSizeRows=_,this.dataRegionSizeColumns=E,this.ecBlocks=w;var L=0,z=w.getECCodewords(),se=w.getECBlocks();try{for(var Ee=xI(se),Me=Ee.next();!Me.done;Me=Ee.next()){var Ge=Me.value;L+=Ge.getCount()*(Ge.getDataCodewords()+z)}}catch(st){D={error:st}}finally{try{Me&&!Me.done&&(O=Ee.return)&&O.call(Ee)}finally{if(D)throw D.error}}this.totalCodewords=L}return y.prototype.getVersionNumber=function(){return this.versionNumber},y.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},y.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},y.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},y.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},y.prototype.getTotalCodewords=function(){return this.totalCodewords},y.prototype.getECBlocks=function(){return this.ecBlocks},y.getVersionForDimensions=function(p,g){var v,_;if(0!=(1&p)||0!=(1&g))throw new $r;try{for(var E=xI(y.VERSIONS),w=E.next();!w.done;w=E.next()){var D=w.value;if(D.symbolSizeRows===p&&D.symbolSizeColumns===g)return D}}catch(O){v={error:O}}finally{try{w&&!w.done&&(_=E.return)&&_.call(E)}finally{if(v)throw v.error}}throw new $r},y.prototype.toString=function(){return""+this.versionNumber},y.buildVersions=function(){return[new y(1,10,10,8,8,new pi(5,new ci(1,3))),new y(2,12,12,10,10,new pi(7,new ci(1,5))),new y(3,14,14,12,12,new pi(10,new ci(1,8))),new y(4,16,16,14,14,new pi(12,new ci(1,12))),new y(5,18,18,16,16,new pi(14,new ci(1,18))),new y(6,20,20,18,18,new pi(18,new ci(1,22))),new y(7,22,22,20,20,new pi(20,new ci(1,30))),new y(8,24,24,22,22,new pi(24,new ci(1,36))),new y(9,26,26,24,24,new pi(28,new ci(1,44))),new y(10,32,32,14,14,new pi(36,new ci(1,62))),new y(11,36,36,16,16,new pi(42,new ci(1,86))),new y(12,40,40,18,18,new pi(48,new ci(1,114))),new y(13,44,44,20,20,new pi(56,new ci(1,144))),new y(14,48,48,22,22,new pi(68,new ci(1,174))),new y(15,52,52,24,24,new pi(42,new ci(2,102))),new y(16,64,64,14,14,new pi(56,new ci(2,140))),new y(17,72,72,16,16,new pi(36,new ci(4,92))),new y(18,80,80,18,18,new pi(48,new ci(4,114))),new y(19,88,88,20,20,new pi(56,new ci(4,144))),new y(20,96,96,22,22,new pi(68,new ci(4,174))),new y(21,104,104,24,24,new pi(56,new ci(6,136))),new y(22,120,120,18,18,new pi(68,new ci(6,175))),new y(23,132,132,20,20,new pi(62,new ci(8,163))),new y(24,144,144,22,22,new pi(62,new ci(8,156),new ci(2,155))),new y(25,8,18,6,16,new pi(7,new ci(1,5))),new y(26,8,32,6,14,new pi(11,new ci(1,10))),new y(27,12,26,10,24,new pi(14,new ci(1,16))),new y(28,12,36,10,16,new pi(18,new ci(1,22))),new y(29,16,36,14,16,new pi(24,new ci(1,32))),new y(30,16,48,14,22,new pi(28,new ci(1,49)))]},y.VERSIONS=y.buildVersions(),y}();const Ak=Pk;var Rk=function(){function y(p){var g=p.getHeight();if(g<8||g>144||0!=(1&g))throw new $r;this.version=y.readVersion(p),this.mappingBitMatrix=this.extractDataRegion(p),this.readMappingMatrix=new pa(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return y.prototype.getVersion=function(){return this.version},y.readVersion=function(p){var g=p.getHeight(),v=p.getWidth();return Ak.getVersionForDimensions(g,v)},y.prototype.readCodewords=function(){var p=new Int8Array(this.version.getTotalCodewords()),g=0,v=4,_=0,E=this.mappingBitMatrix.getHeight(),w=this.mappingBitMatrix.getWidth(),D=!1,O=!1,L=!1,z=!1;do{if(v!==E||0!==_||D)if(v!==E-2||0!==_||0==(3&w)||O)if(v!==E+4||2!==_||0!=(7&w)||L)if(v!==E-2||0!==_||4!=(7&w)||z){do{v<E&&_>=0&&!this.readMappingMatrix.get(_,v)&&(p[g++]=255&this.readUtah(v,_,E,w)),v-=2,_+=2}while(v>=0&&_<w);v+=1,_+=3;do{v>=0&&_<w&&!this.readMappingMatrix.get(_,v)&&(p[g++]=255&this.readUtah(v,_,E,w)),v+=2,_-=2}while(v<E&&_>=0);v+=3,_+=1}else p[g++]=255&this.readCorner4(E,w),v-=2,_+=2,z=!0;else p[g++]=255&this.readCorner3(E,w),v-=2,_+=2,L=!0;else p[g++]=255&this.readCorner2(E,w),v-=2,_+=2,O=!0;else p[g++]=255&this.readCorner1(E,w),v-=2,_+=2,D=!0}while(v<E||_<w);if(g!==this.version.getTotalCodewords())throw new $r;return p},y.prototype.readModule=function(p,g,v,_){return p<0&&(p+=v,g+=4-(v+4&7)),g<0&&(g+=_,p+=4-(_+4&7)),this.readMappingMatrix.set(g,p),this.mappingBitMatrix.get(g,p)},y.prototype.readUtah=function(p,g,v,_){var E=0;return this.readModule(p-2,g-2,v,_)&&(E|=1),E<<=1,this.readModule(p-2,g-1,v,_)&&(E|=1),E<<=1,this.readModule(p-1,g-2,v,_)&&(E|=1),E<<=1,this.readModule(p-1,g-1,v,_)&&(E|=1),E<<=1,this.readModule(p-1,g,v,_)&&(E|=1),E<<=1,this.readModule(p,g-2,v,_)&&(E|=1),E<<=1,this.readModule(p,g-1,v,_)&&(E|=1),E<<=1,this.readModule(p,g,v,_)&&(E|=1),E},y.prototype.readCorner1=function(p,g){var v=0;return this.readModule(p-1,0,p,g)&&(v|=1),v<<=1,this.readModule(p-1,1,p,g)&&(v|=1),v<<=1,this.readModule(p-1,2,p,g)&&(v|=1),v<<=1,this.readModule(0,g-2,p,g)&&(v|=1),v<<=1,this.readModule(0,g-1,p,g)&&(v|=1),v<<=1,this.readModule(1,g-1,p,g)&&(v|=1),v<<=1,this.readModule(2,g-1,p,g)&&(v|=1),v<<=1,this.readModule(3,g-1,p,g)&&(v|=1),v},y.prototype.readCorner2=function(p,g){var v=0;return this.readModule(p-3,0,p,g)&&(v|=1),v<<=1,this.readModule(p-2,0,p,g)&&(v|=1),v<<=1,this.readModule(p-1,0,p,g)&&(v|=1),v<<=1,this.readModule(0,g-4,p,g)&&(v|=1),v<<=1,this.readModule(0,g-3,p,g)&&(v|=1),v<<=1,this.readModule(0,g-2,p,g)&&(v|=1),v<<=1,this.readModule(0,g-1,p,g)&&(v|=1),v<<=1,this.readModule(1,g-1,p,g)&&(v|=1),v},y.prototype.readCorner3=function(p,g){var v=0;return this.readModule(p-1,0,p,g)&&(v|=1),v<<=1,this.readModule(p-1,g-1,p,g)&&(v|=1),v<<=1,this.readModule(0,g-3,p,g)&&(v|=1),v<<=1,this.readModule(0,g-2,p,g)&&(v|=1),v<<=1,this.readModule(0,g-1,p,g)&&(v|=1),v<<=1,this.readModule(1,g-3,p,g)&&(v|=1),v<<=1,this.readModule(1,g-2,p,g)&&(v|=1),v<<=1,this.readModule(1,g-1,p,g)&&(v|=1),v},y.prototype.readCorner4=function(p,g){var v=0;return this.readModule(p-3,0,p,g)&&(v|=1),v<<=1,this.readModule(p-2,0,p,g)&&(v|=1),v<<=1,this.readModule(p-1,0,p,g)&&(v|=1),v<<=1,this.readModule(0,g-2,p,g)&&(v|=1),v<<=1,this.readModule(0,g-1,p,g)&&(v|=1),v<<=1,this.readModule(1,g-1,p,g)&&(v|=1),v<<=1,this.readModule(2,g-1,p,g)&&(v|=1),v<<=1,this.readModule(3,g-1,p,g)&&(v|=1),v},y.prototype.extractDataRegion=function(p){var g=this.version.getSymbolSizeRows(),v=this.version.getSymbolSizeColumns();if(p.getHeight()!==g)throw new rn("Dimension of bitMatrix must match the version size");for(var _=this.version.getDataRegionSizeRows(),E=this.version.getDataRegionSizeColumns(),w=g/_|0,D=v/E|0,z=new pa(D*E,w*_),se=0;se<w;++se)for(var Ee=se*_,Me=0;Me<D;++Me)for(var Ge=Me*E,st=0;st<_;++st)for(var vt=se*(_+2)+1+st,Ct=Ee+st,pt=0;pt<E;++pt)p.get(Me*(E+2)+1+pt,vt)&&z.set(Ge+pt,Ct);return z},y}();const Lk=Rk;var DI=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},Nk=function(){function y(p,g){this.numDataCodewords=p,this.codewords=g}return y.getDataBlocks=function(p,g){var v,_,E,w,D=g.getECBlocks(),O=0,L=D.getECBlocks();try{for(var z=DI(L),se=z.next();!se.done;se=z.next())O+=(Ee=se.value).getCount()}catch(ls){v={error:ls}}finally{try{se&&!se.done&&(_=z.return)&&_.call(z)}finally{if(v)throw v.error}}var Me=new Array(O),Ge=0;try{for(var st=DI(L),vt=st.next();!vt.done;vt=st.next())for(var Ee=vt.value,Ct=0;Ct<Ee.getCount();Ct++){var pt=Ee.getDataCodewords(),Nt=D.getECCodewords()+pt;Me[Ge++]=new y(pt,new Uint8Array(Nt))}}catch(ls){E={error:ls}}finally{try{vt&&!vt.done&&(w=st.return)&&w.call(st)}finally{if(E)throw E.error}}var ar=Me[0].codewords.length-D.getECCodewords(),Mr=ar-1,jr=0;for(Ct=0;Ct<Mr;Ct++)for(var en=0;en<Ge;en++)Me[en].codewords[Ct]=p[jr++];var On=24===g.getVersionNumber(),_n=On?8:Ge;for(en=0;en<_n;en++)Me[en].codewords[ar-1]=p[jr++];var ji=Me[0].codewords.length;for(Ct=ar;Ct<ji;Ct++)for(en=0;en<Ge;en++){var qn=On?(en+8)%Ge:en;Me[qn].codewords[On&&qn>7?Ct-1:Ct]=p[jr++]}if(jr!==p.length)throw new rn;return Me},y.prototype.getNumDataCodewords=function(){return this.numDataCodewords},y.prototype.getCodewords=function(){return this.codewords},y}();const Fk=Nk;var jk=function(){function y(p){this.bytes=p,this.byteOffset=0,this.bitOffset=0}return y.prototype.getBitOffset=function(){return this.bitOffset},y.prototype.getByteOffset=function(){return this.byteOffset},y.prototype.readBits=function(p){if(p<1||p>32||p>this.available())throw new rn(""+p);var g=0,v=this.bitOffset,_=this.byteOffset,E=this.bytes;if(v>0){var w=8-v,D=p<w?p:w;g=(E[_]&255>>8-D<<(O=w-D))>>O,p-=D,8===(v+=D)&&(v=0,_++)}if(p>0){for(;p>=8;)g=g<<8|255&E[_],_++,p-=8;var O;p>0&&(g=g<<p|(E[_]&255>>(O=8-p)<<O)>>O,v+=p)}return this.bitOffset=v,this.byteOffset=_,g},y.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},y}();const OI=jk;var wo=(()=>(function(y){y[y.PAD_ENCODE=0]="PAD_ENCODE",y[y.ASCII_ENCODE=1]="ASCII_ENCODE",y[y.C40_ENCODE=2]="C40_ENCODE",y[y.TEXT_ENCODE=3]="TEXT_ENCODE",y[y.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",y[y.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",y[y.BASE256_ENCODE=6]="BASE256_ENCODE"}(wo||(wo={})),wo))(),Uk=function(){function y(){}return y.decode=function(p){var g=new OI(p),v=new Ei,_=new Ei,E=new Array,w=wo.ASCII_ENCODE;do{if(w===wo.ASCII_ENCODE)w=this.decodeAsciiSegment(g,v,_);else{switch(w){case wo.C40_ENCODE:this.decodeC40Segment(g,v);break;case wo.TEXT_ENCODE:this.decodeTextSegment(g,v);break;case wo.ANSIX12_ENCODE:this.decodeAnsiX12Segment(g,v);break;case wo.EDIFACT_ENCODE:this.decodeEdifactSegment(g,v);break;case wo.BASE256_ENCODE:this.decodeBase256Segment(g,v,E);break;default:throw new $r}w=wo.ASCII_ENCODE}}while(w!==wo.PAD_ENCODE&&g.available()>0);return _.length()>0&&v.append(_.toString()),new ym(p,v.toString(),0===E.length?null:E,null)},y.decodeAsciiSegment=function(p,g,v){var _=!1;do{var E=p.readBits(8);if(0===E)throw new $r;if(E<=128)return _&&(E+=128),g.append(String.fromCharCode(E-1)),wo.ASCII_ENCODE;if(129===E)return wo.PAD_ENCODE;if(E<=229){var w=E-130;w<10&&g.append("0"),g.append(""+w)}else switch(E){case 230:return wo.C40_ENCODE;case 231:return wo.BASE256_ENCODE;case 232:g.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:_=!0;break;case 236:g.append("[)>\x1e05\x1d"),v.insert(0,"\x1e\x04");break;case 237:g.append("[)>\x1e06\x1d"),v.insert(0,"\x1e\x04");break;case 238:return wo.ANSIX12_ENCODE;case 239:return wo.TEXT_ENCODE;case 240:return wo.EDIFACT_ENCODE;default:if(254!==E||0!==p.available())throw new $r}}while(p.available()>0);return wo.ASCII_ENCODE},y.decodeC40Segment=function(p,g){var v=!1,_=[],E=0;do{if(8===p.available())return;var w=p.readBits(8);if(254===w)return;this.parseTwoBytes(w,p.readBits(8),_);for(var D=0;D<3;D++){var O=_[D];switch(E){case 0:if(O<3)E=O+1;else{if(!(O<this.C40_BASIC_SET_CHARS.length))throw new $r;var L=this.C40_BASIC_SET_CHARS[O];v?(g.append(String.fromCharCode(L.charCodeAt(0)+128)),v=!1):g.append(L)}break;case 1:v?(g.append(String.fromCharCode(O+128)),v=!1):g.append(String.fromCharCode(O)),E=0;break;case 2:if(O<this.C40_SHIFT2_SET_CHARS.length)L=this.C40_SHIFT2_SET_CHARS[O],v?(g.append(String.fromCharCode(L.charCodeAt(0)+128)),v=!1):g.append(L);else switch(O){case 27:g.append(String.fromCharCode(29));break;case 30:v=!0;break;default:throw new $r}E=0;break;case 3:v?(g.append(String.fromCharCode(O+224)),v=!1):g.append(String.fromCharCode(O+96)),E=0;break;default:throw new $r}}}while(p.available()>0)},y.decodeTextSegment=function(p,g){var v=!1,_=[],E=0;do{if(8===p.available())return;var w=p.readBits(8);if(254===w)return;this.parseTwoBytes(w,p.readBits(8),_);for(var D=0;D<3;D++){var O=_[D];switch(E){case 0:if(O<3)E=O+1;else{if(!(O<this.TEXT_BASIC_SET_CHARS.length))throw new $r;var L=this.TEXT_BASIC_SET_CHARS[O];v?(g.append(String.fromCharCode(L.charCodeAt(0)+128)),v=!1):g.append(L)}break;case 1:v?(g.append(String.fromCharCode(O+128)),v=!1):g.append(String.fromCharCode(O)),E=0;break;case 2:if(O<this.TEXT_SHIFT2_SET_CHARS.length)L=this.TEXT_SHIFT2_SET_CHARS[O],v?(g.append(String.fromCharCode(L.charCodeAt(0)+128)),v=!1):g.append(L);else switch(O){case 27:g.append(String.fromCharCode(29));break;case 30:v=!0;break;default:throw new $r}E=0;break;case 3:if(!(O<this.TEXT_SHIFT3_SET_CHARS.length))throw new $r;L=this.TEXT_SHIFT3_SET_CHARS[O],v?(g.append(String.fromCharCode(L.charCodeAt(0)+128)),v=!1):g.append(L),E=0;break;default:throw new $r}}}while(p.available()>0)},y.decodeAnsiX12Segment=function(p,g){var v=[];do{if(8===p.available())return;var _=p.readBits(8);if(254===_)return;this.parseTwoBytes(_,p.readBits(8),v);for(var E=0;E<3;E++){var w=v[E];switch(w){case 0:g.append("\r");break;case 1:g.append("*");break;case 2:g.append(">");break;case 3:g.append(" ");break;default:if(w<14)g.append(String.fromCharCode(w+44));else{if(!(w<40))throw new $r;g.append(String.fromCharCode(w+51))}}}}while(p.available()>0)},y.parseTwoBytes=function(p,g,v){var _=(p<<8)+g-1,E=Math.floor(_/1600);v[0]=E,_-=1600*E,E=Math.floor(_/40),v[1]=E,v[2]=_-40*E},y.decodeEdifactSegment=function(p,g){do{if(p.available()<=16)return;for(var v=0;v<4;v++){var _=p.readBits(6);if(31===_){var E=8-p.getBitOffset();return void(8!==E&&p.readBits(E))}0==(32&_)&&(_|=64),g.append(String.fromCharCode(_))}}while(p.available()>0)},y.decodeBase256Segment=function(p,g,v){var w,_=1+p.getByteOffset(),E=this.unrandomize255State(p.readBits(8),_++);if((w=0===E?p.available()/8|0:E<250?E:250*(E-249)+this.unrandomize255State(p.readBits(8),_++))<0)throw new $r;for(var D=new Uint8Array(w),O=0;O<w;O++){if(p.available()<8)throw new $r;D[O]=this.unrandomize255State(p.readBits(8),_++)}v.push(D);try{g.append(ul.decode(D,xi.ISO88591))}catch(L){throw new cl("Platform does not support required encoding: "+L.message)}},y.unrandomize255State=function(p,g){var _=p-(149*g%255+1);return _>=0?_:_+256},y.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],y.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],y.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],y.TEXT_SHIFT2_SET_CHARS=y.C40_SHIFT2_SET_CHARS,y.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)],y}();const Bk=Uk;var Wk=function(){function y(){this.rsDecoder=new vm(Ns.DATA_MATRIX_FIELD_256)}return y.prototype.decode=function(p){var g,v,_=new Lk(p),E=_.getVersion(),w=_.readCodewords(),D=Fk.getDataBlocks(w,E),O=0;try{for(var L=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")}(D),z=L.next();!z.done;z=L.next())O+=z.value.getNumDataCodewords()}catch(Nt){g={error:Nt}}finally{try{z&&!z.done&&(v=L.return)&&v.call(L)}finally{if(g)throw g.error}}for(var Ee=new Uint8Array(O),Me=D.length,Ge=0;Ge<Me;Ge++){var st=D[Ge],vt=st.getCodewords(),Ct=st.getNumDataCodewords();this.correctErrors(vt,Ct);for(var pt=0;pt<Ct;pt++)Ee[pt*Me+Ge]=vt[pt]}return Bk.decode(Ee)},y.prototype.correctErrors=function(p,g){var v=new Int32Array(p);try{this.rsDecoder.decode(v,p.length-g)}catch(E){throw new Mo}for(var _=0;_<g;_++)p[_]=v[_]},y}();const kk=Wk;var Zk=function(){function y(p){this.image=p,this.rectangleDetector=new T1(this.image)}return y.prototype.detect=function(){var p=this.rectangleDetector.detect(),g=this.detectSolid1(p);if((g=this.detectSolid2(g))[3]=this.correctTopRight(g),!g[3])throw new Er;var v=(g=this.shiftToModuleCenter(g))[0],_=g[1],E=g[2],w=g[3],D=this.transitionsBetween(v,w)+1,O=this.transitionsBetween(E,w)+1;1==(1&D)&&(D+=1),1==(1&O)&&(O+=1),4*D<7*O&&4*O<7*D&&(D=O=Math.max(D,O));var L=y.sampleGrid(this.image,v,_,E,w,D,O);return new I1(L,[v,_,E,w])},y.shiftPoint=function(p,g,v){var _=(g.getX()-p.getX())/(v+1),E=(g.getY()-p.getY())/(v+1);return new un(p.getX()+_,p.getY()+E)},y.moveAway=function(p,g,v){var _=p.getX(),E=p.getY();return _<g?_-=1:_+=1,E<v?E-=1:E+=1,new un(_,E)},y.prototype.detectSolid1=function(p){var g=p[0],v=p[1],_=p[3],E=p[2],w=this.transitionsBetween(g,v),D=this.transitionsBetween(v,_),O=this.transitionsBetween(_,E),L=this.transitionsBetween(E,g),z=w,se=[E,g,v,_];return z>D&&(z=D,se[0]=g,se[1]=v,se[2]=_,se[3]=E),z>O&&(z=O,se[0]=v,se[1]=_,se[2]=E,se[3]=g),z>L&&(se[0]=_,se[1]=E,se[2]=g,se[3]=v),se},y.prototype.detectSolid2=function(p){var g=p[0],v=p[1],_=p[2],E=p[3],w=this.transitionsBetween(g,E),D=y.shiftPoint(v,_,4*(w+1)),O=y.shiftPoint(_,v,4*(w+1));return this.transitionsBetween(D,g)<this.transitionsBetween(O,E)?(p[0]=g,p[1]=v,p[2]=_,p[3]=E):(p[0]=v,p[1]=_,p[2]=E,p[3]=g),p},y.prototype.correctTopRight=function(p){var g=p[0],v=p[1],_=p[2],E=p[3],w=this.transitionsBetween(g,E),D=this.transitionsBetween(v,E),O=y.shiftPoint(g,v,4*(D+1)),L=y.shiftPoint(_,v,4*(w+1));w=this.transitionsBetween(O,E),D=this.transitionsBetween(L,E);var z=new un(E.getX()+(_.getX()-v.getX())/(w+1),E.getY()+(_.getY()-v.getY())/(w+1)),se=new un(E.getX()+(g.getX()-v.getX())/(D+1),E.getY()+(g.getY()-v.getY())/(D+1));return this.isValid(z)?this.isValid(se)?this.transitionsBetween(O,z)+this.transitionsBetween(L,z)>this.transitionsBetween(O,se)+this.transitionsBetween(L,se)?z:se:z:this.isValid(se)?se:null},y.prototype.shiftToModuleCenter=function(p){var g=p[0],v=p[1],_=p[2],E=p[3],w=this.transitionsBetween(g,E)+1,D=this.transitionsBetween(_,E)+1,O=y.shiftPoint(g,v,4*D),L=y.shiftPoint(_,v,4*w);1==(1&(w=this.transitionsBetween(O,E)+1))&&(w+=1),1==(1&(D=this.transitionsBetween(L,E)+1))&&(D+=1);var Ee,Me,z=(g.getX()+v.getX()+_.getX()+E.getX())/4,se=(g.getY()+v.getY()+_.getY()+E.getY())/4;return g=y.moveAway(g,z,se),v=y.moveAway(v,z,se),_=y.moveAway(_,z,se),E=y.moveAway(E,z,se),O=y.shiftPoint(g,v,4*D),O=y.shiftPoint(O,E,4*w),Ee=y.shiftPoint(v,g,4*D),Ee=y.shiftPoint(Ee,_,4*w),L=y.shiftPoint(_,E,4*D),L=y.shiftPoint(L,v,4*w),Me=y.shiftPoint(E,_,4*D),[O,Ee,L,Me=y.shiftPoint(Me,g,4*w)]},y.prototype.isValid=function(p){return p.getX()>=0&&p.getX()<this.image.getWidth()&&p.getY()>0&&p.getY()<this.image.getHeight()},y.sampleGrid=function(p,g,v,_,E,w,D){return P1.getInstance().sampleGrid(p,w,D,.5,.5,w-.5,.5,w-.5,D-.5,.5,D-.5,g.getX(),g.getY(),E.getX(),E.getY(),_.getX(),_.getY(),v.getX(),v.getY())},y.prototype.transitionsBetween=function(p,g){var v=Math.trunc(p.getX()),_=Math.trunc(p.getY()),E=Math.trunc(g.getX()),w=Math.trunc(g.getY()),D=Math.abs(w-_)>Math.abs(E-v);if(D){var O=v;v=_,_=O,O=E,E=w,w=O}for(var L=Math.abs(E-v),z=Math.abs(w-_),se=-L/2,Ee=_<w?1:-1,Me=v<E?1:-1,Ge=0,st=this.image.get(D?_:v,D?v:_),vt=v,Ct=_;vt!==E;vt+=Me){var pt=this.image.get(D?Ct:vt,D?vt:Ct);if(pt!==st&&(Ge++,st=pt),(se+=z)>0){if(Ct===w)break;Ct+=Ee,se-=L}}return Ge},y}();const $k=Zk;var Kk=function(){function y(){this.decoder=new kk}return y.prototype.decode=function(p,g){var v,_;if(void 0===g&&(g=null),null!=g&&g.has(hi.PURE_BARCODE)){var E=y.extractPureBits(p.getBlackMatrix());v=this.decoder.decode(E),_=y.NO_POINTS}else{var w=new $k(p.getBlackMatrix()).detect();v=this.decoder.decode(w.getBits()),_=w.getPoints()}var D=v.getRawBytes(),O=new Ls(v.getText(),D,8*D.length,_,mn.DATA_MATRIX,Ti.currentTimeMillis()),L=v.getByteSegments();null!=L&&O.putMetadata(Jo.BYTE_SEGMENTS,L);var z=v.getECLevel();return null!=z&&O.putMetadata(Jo.ERROR_CORRECTION_LEVEL,z),O},y.prototype.reset=function(){},y.extractPureBits=function(p){var g=p.getTopLeftOnBit(),v=p.getBottomRightOnBit();if(null==g||null==v)throw new Er;var _=this.moduleSize(g,p),E=g[1],D=g[0],L=(v[0]-D+1)/_,z=(v[1]-E+1)/_;if(L<=0||z<=0)throw new Er;var se=_/2;E+=se,D+=se;for(var Ee=new pa(L,z),Me=0;Me<z;Me++)for(var Ge=E+Me*_,st=0;st<L;st++)p.get(D+st*_,Ge)&&Ee.set(st,Me);return Ee},y.moduleSize=function(p,g){for(var v=g.getWidth(),_=p[0],E=p[1];_<v&&g.get(_,E);)_++;if(_===v)throw new Er;var w=_-p[0];if(0===w)throw new Er;return w},y.NO_POINTS=[],y}();const wm=Kk;var zk=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),fc=(function(y){zk(function p(g){return void 0===g&&(g=500),y.call(this,new wm,g)||this},y)}(Sd),(()=>(function(y){y[y.L=0]="L",y[y.M=1]="M",y[y.Q=2]="Q",y[y.H=3]="H"}(fc||(fc={})),fc))()),Gk=function(){function y(p,g,v){this.value=p,this.stringValue=g,this.bits=v,y.FOR_BITS.set(v,this),y.FOR_VALUE.set(p,this)}return y.prototype.getValue=function(){return this.value},y.prototype.getBits=function(){return this.bits},y.fromString=function(p){switch(p){case"L":return y.L;case"M":return y.M;case"Q":return y.Q;case"H":return y.H;default:throw new uo(p+"not available")}},y.prototype.toString=function(){return this.stringValue},y.prototype.equals=function(p){return p instanceof y&&this.value===p.value},y.forBits=function(p){if(p<0||p>=y.FOR_BITS.size)throw new rn;return y.FOR_BITS.get(p)},y.FOR_BITS=new Map,y.FOR_VALUE=new Map,y.L=new y(fc.L,"L",1),y.M=new y(fc.M,"M",0),y.Q=new y(fc.Q,"Q",3),y.H=new y(fc.H,"H",2),y}();const Ul=Gk;var Jk=function(){function y(p){this.errorCorrectionLevel=Ul.forBits(p>>3&3),this.dataMask=7&p}return y.numBitsDiffering=function(p,g){return ni.bitCount(p^g)},y.decodeFormatInformation=function(p,g){var v=y.doDecodeFormatInformation(p,g);return null!==v?v:y.doDecodeFormatInformation(p^y.FORMAT_INFO_MASK_QR,g^y.FORMAT_INFO_MASK_QR)},y.doDecodeFormatInformation=function(p,g){var v,_,E=Number.MAX_SAFE_INTEGER,w=0;try{for(var D=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")}(y.FORMAT_INFO_DECODE_LOOKUP),O=D.next();!O.done;O=D.next()){var L=O.value,z=L[0];if(z===p||z===g)return new y(L[1]);var se=y.numBitsDiffering(p,z);se<E&&(w=L[1],E=se),p!==g&&(se=y.numBitsDiffering(g,z))<E&&(w=L[1],E=se)}}catch(Ee){v={error:Ee}}finally{try{O&&!O.done&&(_=D.return)&&_.call(D)}finally{if(v)throw v.error}}return E<=3?new y(w):null},y.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},y.prototype.getDataMask=function(){return this.dataMask},y.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},y.prototype.equals=function(p){return p instanceof y&&(this.errorCorrectionLevel===p.errorCorrectionLevel&&this.dataMask===p.dataMask)},y.FORMAT_INFO_MASK_QR=21522,y.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],y}();const SI=Jk;var Xk=function(){function y(p){for(var g=[],v=1;v<arguments.length;v++)g[v-1]=arguments[v];this.ecCodewordsPerBlock=p,this.ecBlocks=g}return y.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},y.prototype.getNumBlocks=function(){var p,g,v=0,_=this.ecBlocks;try{for(var E=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")}(_),w=E.next();!w.done;w=E.next())v+=w.value.getCount()}catch(O){p={error:O}}finally{try{w&&!w.done&&(g=E.return)&&g.call(E)}finally{if(p)throw p.error}}return v},y.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},y.prototype.getECBlocks=function(){return this.ecBlocks},y}();const ir=Xk;var Qk=function(){function y(p,g){this.count=p,this.dataCodewords=g}return y.prototype.getCount=function(){return this.count},y.prototype.getDataCodewords=function(){return this.dataCodewords},y}();const It=Qk;var qk=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},eZ=function(){function y(p,g){for(var v,_,E=[],w=2;w<arguments.length;w++)E[w-2]=arguments[w];this.versionNumber=p,this.alignmentPatternCenters=g,this.ecBlocks=E;var D=0,O=E[0].getECCodewordsPerBlock(),L=E[0].getECBlocks();try{for(var z=qk(L),se=z.next();!se.done;se=z.next()){var Ee=se.value;D+=Ee.getCount()*(Ee.getDataCodewords()+O)}}catch(Me){v={error:Me}}finally{try{se&&!se.done&&(_=z.return)&&_.call(z)}finally{if(v)throw v.error}}this.totalCodewords=D}return y.prototype.getVersionNumber=function(){return this.versionNumber},y.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},y.prototype.getTotalCodewords=function(){return this.totalCodewords},y.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},y.prototype.getECBlocksForLevel=function(p){return this.ecBlocks[p.getValue()]},y.getProvisionalVersionForDimension=function(p){if(p%4!=1)throw new $r;try{return this.getVersionForNumber((p-17)/4)}catch(g){throw new $r}},y.getVersionForNumber=function(p){if(p<1||p>40)throw new rn;return y.VERSIONS[p-1]},y.decodeVersionInformation=function(p){for(var g=Number.MAX_SAFE_INTEGER,v=0,_=0;_<y.VERSION_DECODE_INFO.length;_++){var E=y.VERSION_DECODE_INFO[_];if(E===p)return y.getVersionForNumber(_+7);var w=SI.numBitsDiffering(p,E);w<g&&(v=_+7,g=w)}return g<=3?y.getVersionForNumber(v):null},y.prototype.buildFunctionPattern=function(){var p=this.getDimensionForVersion(),g=new pa(p);g.setRegion(0,0,9,9),g.setRegion(p-8,0,8,9),g.setRegion(0,p-8,9,8);for(var v=this.alignmentPatternCenters.length,_=0;_<v;_++)for(var E=this.alignmentPatternCenters[_]-2,w=0;w<v;w++)0===_&&(0===w||w===v-1)||_===v-1&&0===w||g.setRegion(this.alignmentPatternCenters[w]-2,E,5,5);return g.setRegion(6,9,1,p-17),g.setRegion(9,6,p-17,1),this.versionNumber>6&&(g.setRegion(p-11,0,3,6),g.setRegion(0,p-11,6,3)),g},y.prototype.toString=function(){return""+this.versionNumber},y.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),y.VERSIONS=[new y(1,new Int32Array(0),new ir(7,new It(1,19)),new ir(10,new It(1,16)),new ir(13,new It(1,13)),new ir(17,new It(1,9))),new y(2,Int32Array.from([6,18]),new ir(10,new It(1,34)),new ir(16,new It(1,28)),new ir(22,new It(1,22)),new ir(28,new It(1,16))),new y(3,Int32Array.from([6,22]),new ir(15,new It(1,55)),new ir(26,new It(1,44)),new ir(18,new It(2,17)),new ir(22,new It(2,13))),new y(4,Int32Array.from([6,26]),new ir(20,new It(1,80)),new ir(18,new It(2,32)),new ir(26,new It(2,24)),new ir(16,new It(4,9))),new y(5,Int32Array.from([6,30]),new ir(26,new It(1,108)),new ir(24,new It(2,43)),new ir(18,new It(2,15),new It(2,16)),new ir(22,new It(2,11),new It(2,12))),new y(6,Int32Array.from([6,34]),new ir(18,new It(2,68)),new ir(16,new It(4,27)),new ir(24,new It(4,19)),new ir(28,new It(4,15))),new y(7,Int32Array.from([6,22,38]),new ir(20,new It(2,78)),new ir(18,new It(4,31)),new ir(18,new It(2,14),new It(4,15)),new ir(26,new It(4,13),new It(1,14))),new y(8,Int32Array.from([6,24,42]),new ir(24,new It(2,97)),new ir(22,new It(2,38),new It(2,39)),new ir(22,new It(4,18),new It(2,19)),new ir(26,new It(4,14),new It(2,15))),new y(9,Int32Array.from([6,26,46]),new ir(30,new It(2,116)),new ir(22,new It(3,36),new It(2,37)),new ir(20,new It(4,16),new It(4,17)),new ir(24,new It(4,12),new It(4,13))),new y(10,Int32Array.from([6,28,50]),new ir(18,new It(2,68),new It(2,69)),new ir(26,new It(4,43),new It(1,44)),new ir(24,new It(6,19),new It(2,20)),new ir(28,new It(6,15),new It(2,16))),new y(11,Int32Array.from([6,30,54]),new ir(20,new It(4,81)),new ir(30,new It(1,50),new It(4,51)),new ir(28,new It(4,22),new It(4,23)),new ir(24,new It(3,12),new It(8,13))),new y(12,Int32Array.from([6,32,58]),new ir(24,new It(2,92),new It(2,93)),new ir(22,new It(6,36),new It(2,37)),new ir(26,new It(4,20),new It(6,21)),new ir(28,new It(7,14),new It(4,15))),new y(13,Int32Array.from([6,34,62]),new ir(26,new It(4,107)),new ir(22,new It(8,37),new It(1,38)),new ir(24,new It(8,20),new It(4,21)),new ir(22,new It(12,11),new It(4,12))),new y(14,Int32Array.from([6,26,46,66]),new ir(30,new It(3,115),new It(1,116)),new ir(24,new It(4,40),new It(5,41)),new ir(20,new It(11,16),new It(5,17)),new ir(24,new It(11,12),new It(5,13))),new y(15,Int32Array.from([6,26,48,70]),new ir(22,new It(5,87),new It(1,88)),new ir(24,new It(5,41),new It(5,42)),new ir(30,new It(5,24),new It(7,25)),new ir(24,new It(11,12),new It(7,13))),new y(16,Int32Array.from([6,26,50,74]),new ir(24,new It(5,98),new It(1,99)),new ir(28,new It(7,45),new It(3,46)),new ir(24,new It(15,19),new It(2,20)),new ir(30,new It(3,15),new It(13,16))),new y(17,Int32Array.from([6,30,54,78]),new ir(28,new It(1,107),new It(5,108)),new ir(28,new It(10,46),new It(1,47)),new ir(28,new It(1,22),new It(15,23)),new ir(28,new It(2,14),new It(17,15))),new y(18,Int32Array.from([6,30,56,82]),new ir(30,new It(5,120),new It(1,121)),new ir(26,new It(9,43),new It(4,44)),new ir(28,new It(17,22),new It(1,23)),new ir(28,new It(2,14),new It(19,15))),new y(19,Int32Array.from([6,30,58,86]),new ir(28,new It(3,113),new It(4,114)),new ir(26,new It(3,44),new It(11,45)),new ir(26,new It(17,21),new It(4,22)),new ir(26,new It(9,13),new It(16,14))),new y(20,Int32Array.from([6,34,62,90]),new ir(28,new It(3,107),new It(5,108)),new ir(26,new It(3,41),new It(13,42)),new ir(30,new It(15,24),new It(5,25)),new ir(28,new It(15,15),new It(10,16))),new y(21,Int32Array.from([6,28,50,72,94]),new ir(28,new It(4,116),new It(4,117)),new ir(26,new It(17,42)),new ir(28,new It(17,22),new It(6,23)),new ir(30,new It(19,16),new It(6,17))),new y(22,Int32Array.from([6,26,50,74,98]),new ir(28,new It(2,111),new It(7,112)),new ir(28,new It(17,46)),new ir(30,new It(7,24),new It(16,25)),new ir(24,new It(34,13))),new y(23,Int32Array.from([6,30,54,78,102]),new ir(30,new It(4,121),new It(5,122)),new ir(28,new It(4,47),new It(14,48)),new ir(30,new It(11,24),new It(14,25)),new ir(30,new It(16,15),new It(14,16))),new y(24,Int32Array.from([6,28,54,80,106]),new ir(30,new It(6,117),new It(4,118)),new ir(28,new It(6,45),new It(14,46)),new ir(30,new It(11,24),new It(16,25)),new ir(30,new It(30,16),new It(2,17))),new y(25,Int32Array.from([6,32,58,84,110]),new ir(26,new It(8,106),new It(4,107)),new ir(28,new It(8,47),new It(13,48)),new ir(30,new It(7,24),new It(22,25)),new ir(30,new It(22,15),new It(13,16))),new y(26,Int32Array.from([6,30,58,86,114]),new ir(28,new It(10,114),new It(2,115)),new ir(28,new It(19,46),new It(4,47)),new ir(28,new It(28,22),new It(6,23)),new ir(30,new It(33,16),new It(4,17))),new y(27,Int32Array.from([6,34,62,90,118]),new ir(30,new It(8,122),new It(4,123)),new ir(28,new It(22,45),new It(3,46)),new ir(30,new It(8,23),new It(26,24)),new ir(30,new It(12,15),new It(28,16))),new y(28,Int32Array.from([6,26,50,74,98,122]),new ir(30,new It(3,117),new It(10,118)),new ir(28,new It(3,45),new It(23,46)),new ir(30,new It(4,24),new It(31,25)),new ir(30,new It(11,15),new It(31,16))),new y(29,Int32Array.from([6,30,54,78,102,126]),new ir(30,new It(7,116),new It(7,117)),new ir(28,new It(21,45),new It(7,46)),new ir(30,new It(1,23),new It(37,24)),new ir(30,new It(19,15),new It(26,16))),new y(30,Int32Array.from([6,26,52,78,104,130]),new ir(30,new It(5,115),new It(10,116)),new ir(28,new It(19,47),new It(10,48)),new ir(30,new It(15,24),new It(25,25)),new ir(30,new It(23,15),new It(25,16))),new y(31,Int32Array.from([6,30,56,82,108,134]),new ir(30,new It(13,115),new It(3,116)),new ir(28,new It(2,46),new It(29,47)),new ir(30,new It(42,24),new It(1,25)),new ir(30,new It(23,15),new It(28,16))),new y(32,Int32Array.from([6,34,60,86,112,138]),new ir(30,new It(17,115)),new ir(28,new It(10,46),new It(23,47)),new ir(30,new It(10,24),new It(35,25)),new ir(30,new It(19,15),new It(35,16))),new y(33,Int32Array.from([6,30,58,86,114,142]),new ir(30,new It(17,115),new It(1,116)),new ir(28,new It(14,46),new It(21,47)),new ir(30,new It(29,24),new It(19,25)),new ir(30,new It(11,15),new It(46,16))),new y(34,Int32Array.from([6,34,62,90,118,146]),new ir(30,new It(13,115),new It(6,116)),new ir(28,new It(14,46),new It(23,47)),new ir(30,new It(44,24),new It(7,25)),new ir(30,new It(59,16),new It(1,17))),new y(35,Int32Array.from([6,30,54,78,102,126,150]),new ir(30,new It(12,121),new It(7,122)),new ir(28,new It(12,47),new It(26,48)),new ir(30,new It(39,24),new It(14,25)),new ir(30,new It(22,15),new It(41,16))),new y(36,Int32Array.from([6,24,50,76,102,128,154]),new ir(30,new It(6,121),new It(14,122)),new ir(28,new It(6,47),new It(34,48)),new ir(30,new It(46,24),new It(10,25)),new ir(30,new It(2,15),new It(64,16))),new y(37,Int32Array.from([6,28,54,80,106,132,158]),new ir(30,new It(17,122),new It(4,123)),new ir(28,new It(29,46),new It(14,47)),new ir(30,new It(49,24),new It(10,25)),new ir(30,new It(24,15),new It(46,16))),new y(38,Int32Array.from([6,32,58,84,110,136,162]),new ir(30,new It(4,122),new It(18,123)),new ir(28,new It(13,46),new It(32,47)),new ir(30,new It(48,24),new It(14,25)),new ir(30,new It(42,15),new It(32,16))),new y(39,Int32Array.from([6,26,54,82,110,138,166]),new ir(30,new It(20,117),new It(4,118)),new ir(28,new It(40,47),new It(7,48)),new ir(30,new It(43,24),new It(22,25)),new ir(30,new It(10,15),new It(67,16))),new y(40,Int32Array.from([6,30,58,86,114,142,170]),new ir(30,new It(19,118),new It(6,119)),new ir(28,new It(18,47),new It(31,48)),new ir(30,new It(34,24),new It(34,25)),new ir(30,new It(20,15),new It(61,16)))],y}();const pc=eZ;var Ao=(()=>(function(y){y[y.DATA_MASK_000=0]="DATA_MASK_000",y[y.DATA_MASK_001=1]="DATA_MASK_001",y[y.DATA_MASK_010=2]="DATA_MASK_010",y[y.DATA_MASK_011=3]="DATA_MASK_011",y[y.DATA_MASK_100=4]="DATA_MASK_100",y[y.DATA_MASK_101=5]="DATA_MASK_101",y[y.DATA_MASK_110=6]="DATA_MASK_110",y[y.DATA_MASK_111=7]="DATA_MASK_111"}(Ao||(Ao={})),Ao))(),tZ=function(){function y(p,g){this.value=p,this.isMasked=g}return y.prototype.unmaskBitMatrix=function(p,g){for(var v=0;v<g;v++)for(var _=0;_<g;_++)this.isMasked(v,_)&&p.flip(_,v)},y.values=new Map([[Ao.DATA_MASK_000,new y(Ao.DATA_MASK_000,function(p,g){return 0==(p+g&1)})],[Ao.DATA_MASK_001,new y(Ao.DATA_MASK_001,function(p,g){return 0==(1&p)})],[Ao.DATA_MASK_010,new y(Ao.DATA_MASK_010,function(p,g){return g%3==0})],[Ao.DATA_MASK_011,new y(Ao.DATA_MASK_011,function(p,g){return(p+g)%3==0})],[Ao.DATA_MASK_100,new y(Ao.DATA_MASK_100,function(p,g){return 0==(Math.floor(p/2)+Math.floor(g/3)&1)})],[Ao.DATA_MASK_101,new y(Ao.DATA_MASK_101,function(p,g){return p*g%6==0})],[Ao.DATA_MASK_110,new y(Ao.DATA_MASK_110,function(p,g){return p*g%6<3})],[Ao.DATA_MASK_111,new y(Ao.DATA_MASK_111,function(p,g){return 0==(p+g+p*g%3&1)})]]),y}();const II=tZ;var rZ=function(){function y(p){var g=p.getHeight();if(g<21||1!=(3&g))throw new $r;this.bitMatrix=p}return y.prototype.readFormatInformation=function(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;for(var p=0,g=0;g<6;g++)p=this.copyBit(g,8,p);p=this.copyBit(7,8,p),p=this.copyBit(8,8,p),p=this.copyBit(8,7,p);for(var v=5;v>=0;v--)p=this.copyBit(8,v,p);var _=this.bitMatrix.getHeight(),E=0,w=_-7;for(v=_-1;v>=w;v--)E=this.copyBit(8,v,E);for(g=_-8;g<_;g++)E=this.copyBit(g,8,E);if(this.parsedFormatInfo=SI.decodeFormatInformation(p,E),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new $r},y.prototype.readVersion=function(){if(null!=this.parsedVersion)return this.parsedVersion;var p=this.bitMatrix.getHeight(),g=Math.floor((p-17)/4);if(g<=6)return pc.getVersionForNumber(g);for(var v=0,_=p-11,E=5;E>=0;E--)for(var w=p-9;w>=_;w--)v=this.copyBit(w,E,v);var D=pc.decodeVersionInformation(v);if(null!==D&&D.getDimensionForVersion()===p)return this.parsedVersion=D,D;for(v=0,w=5;w>=0;w--)for(E=p-9;E>=_;E--)v=this.copyBit(w,E,v);if(null!==(D=pc.decodeVersionInformation(v))&&D.getDimensionForVersion()===p)return this.parsedVersion=D,D;throw new $r},y.prototype.copyBit=function(p,g,v){return(this.isMirror?this.bitMatrix.get(g,p):this.bitMatrix.get(p,g))?v<<1|1:v<<1},y.prototype.readCodewords=function(){var p=this.readFormatInformation(),g=this.readVersion(),v=II.values.get(p.getDataMask()),_=this.bitMatrix.getHeight();v.unmaskBitMatrix(this.bitMatrix,_);for(var E=g.buildFunctionPattern(),w=!0,D=new Uint8Array(g.getTotalCodewords()),O=0,L=0,z=0,se=_-1;se>0;se-=2){6===se&&se--;for(var Ee=0;Ee<_;Ee++)for(var Me=w?_-1-Ee:Ee,Ge=0;Ge<2;Ge++)E.get(se-Ge,Me)||(z++,L<<=1,this.bitMatrix.get(se-Ge,Me)&&(L|=1),8===z&&(D[O++]=L,z=0,L=0));w=!w}if(O!==g.getTotalCodewords())throw new $r;return D},y.prototype.remask=function(){if(null!==this.parsedFormatInfo){var p=II.values[this.parsedFormatInfo.getDataMask()],g=this.bitMatrix.getHeight();p.unmaskBitMatrix(this.bitMatrix,g)}},y.prototype.setMirror=function(p){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=p},y.prototype.mirror=function(){for(var p=this.bitMatrix,g=0,v=p.getWidth();g<v;g++)for(var _=g+1,E=p.getHeight();_<E;_++)p.get(g,_)!==p.get(_,g)&&(p.flip(_,g),p.flip(g,_))},y}();const nZ=rZ;var TI=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},iZ=function(){function y(p,g){this.numDataCodewords=p,this.codewords=g}return y.getDataBlocks=function(p,g,v){var _,E,w,D;if(p.length!==g.getTotalCodewords())throw new rn;var O=g.getECBlocksForLevel(v),L=0,z=O.getECBlocks();try{for(var se=TI(z),Ee=se.next();!Ee.done;Ee=se.next())L+=(Me=Ee.value).getCount()}catch(Di){_={error:Di}}finally{try{Ee&&!Ee.done&&(E=se.return)&&E.call(se)}finally{if(_)throw _.error}}var Ge=new Array(L),st=0;try{for(var vt=TI(z),Ct=vt.next();!Ct.done;Ct=vt.next())for(var Me=Ct.value,pt=0;pt<Me.getCount();pt++){var Nt=Me.getDataCodewords(),zt=O.getECCodewordsPerBlock()+Nt;Ge[st++]=new y(Nt,new Uint8Array(zt))}}catch(Di){w={error:Di}}finally{try{Ct&&!Ct.done&&(D=vt.return)&&D.call(vt)}finally{if(w)throw w.error}}for(var ar=Ge[0].codewords.length,Mr=Ge.length-1;Mr>=0&&Ge[Mr].codewords.length!==ar;)Mr--;Mr++;var en=ar-O.getECCodewordsPerBlock(),On=0;for(pt=0;pt<en;pt++)for(var _n=0;_n<st;_n++)Ge[_n].codewords[pt]=p[On++];for(_n=Mr;_n<st;_n++)Ge[_n].codewords[en]=p[On++];var ji=Ge[0].codewords.length;for(pt=en;pt<ji;pt++)for(_n=0;_n<st;_n++)Ge[_n].codewords[_n<Mr?pt:pt+1]=p[On++];return Ge},y.prototype.getNumDataCodewords=function(){return this.numDataCodewords},y.prototype.getCodewords=function(){return this.codewords},y}();const oZ=iZ;var ta=(()=>(function(y){y[y.TERMINATOR=0]="TERMINATOR",y[y.NUMERIC=1]="NUMERIC",y[y.ALPHANUMERIC=2]="ALPHANUMERIC",y[y.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",y[y.BYTE=4]="BYTE",y[y.ECI=5]="ECI",y[y.KANJI=6]="KANJI",y[y.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",y[y.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",y[y.HANZI=9]="HANZI"}(ta||(ta={})),ta))(),sZ=function(){function y(p,g,v,_){this.value=p,this.stringValue=g,this.characterCountBitsForVersions=v,this.bits=_,y.FOR_BITS.set(_,this),y.FOR_VALUE.set(p,this)}return y.forBits=function(p){var g=y.FOR_BITS.get(p);if(void 0===g)throw new rn;return g},y.prototype.getCharacterCountBits=function(p){var g=p.getVersionNumber();return this.characterCountBitsForVersions[g<=9?0:g<=26?1:2]},y.prototype.getValue=function(){return this.value},y.prototype.getBits=function(){return this.bits},y.prototype.equals=function(p){return p instanceof y&&this.value===p.value},y.prototype.toString=function(){return this.stringValue},y.FOR_BITS=new Map,y.FOR_VALUE=new Map,y.TERMINATOR=new y(ta.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),y.NUMERIC=new y(ta.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),y.ALPHANUMERIC=new y(ta.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),y.STRUCTURED_APPEND=new y(ta.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),y.BYTE=new y(ta.BYTE,"BYTE",Int32Array.from([8,16,16]),4),y.ECI=new y(ta.ECI,"ECI",Int32Array.from([0,0,0]),7),y.KANJI=new y(ta.KANJI,"KANJI",Int32Array.from([8,10,12]),8),y.FNC1_FIRST_POSITION=new y(ta.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),y.FNC1_SECOND_POSITION=new y(ta.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),y.HANZI=new y(ta.HANZI,"HANZI",Int32Array.from([8,10,12]),13),y}();const Li=sZ;var aZ=function(){function y(){}return y.decode=function(p,g,v,_){var E=new OI(p),w=new Ei,D=new Array,O=-1,L=-1;try{var z=null,se=!1,Ee=void 0;do{if(E.available()<4)Ee=Li.TERMINATOR;else{var Me=E.readBits(4);Ee=Li.forBits(Me)}switch(Ee){case Li.TERMINATOR:break;case Li.FNC1_FIRST_POSITION:case Li.FNC1_SECOND_POSITION:se=!0;break;case Li.STRUCTURED_APPEND:if(E.available()<16)throw new $r;O=E.readBits(8),L=E.readBits(8);break;case Li.ECI:var Ge=y.parseECIValue(E);if(null===(z=To.getCharacterSetECIByValue(Ge)))throw new $r;break;case Li.HANZI:var st=E.readBits(4),vt=E.readBits(Ee.getCharacterCountBits(g));st===y.GB2312_SUBSET&&y.decodeHanziSegment(E,w,vt);break;default:var Ct=E.readBits(Ee.getCharacterCountBits(g));switch(Ee){case Li.NUMERIC:y.decodeNumericSegment(E,w,Ct);break;case Li.ALPHANUMERIC:y.decodeAlphanumericSegment(E,w,Ct,se);break;case Li.BYTE:y.decodeByteSegment(E,w,Ct,z,D,_);break;case Li.KANJI:y.decodeKanjiSegment(E,w,Ct);break;default:throw new $r}}}while(Ee!==Li.TERMINATOR)}catch(pt){throw new $r}return new ym(p,w.toString(),0===D.length?null:D,null===v?null:v.toString(),O,L)},y.decodeHanziSegment=function(p,g,v){if(13*v>p.available())throw new $r;for(var _=new Uint8Array(2*v),E=0;v>0;){var w=p.readBits(13),D=w/96<<8&4294967295|w%96;_[E]=(D+=D<959?41377:42657)>>8&255,_[E+1]=255&D,E+=2,v--}try{g.append(ul.decode(_,xi.GB2312))}catch(O){throw new $r(O)}},y.decodeKanjiSegment=function(p,g,v){if(13*v>p.available())throw new $r;for(var _=new Uint8Array(2*v),E=0;v>0;){var w=p.readBits(13),D=w/192<<8&4294967295|w%192;_[E]=(D+=D<7936?33088:49472)>>8,_[E+1]=D,E+=2,v--}try{g.append(ul.decode(_,xi.SHIFT_JIS))}catch(O){throw new $r(O)}},y.decodeByteSegment=function(p,g,v,_,E,w){if(8*v>p.available())throw new $r;for(var D=new Uint8Array(v),O=0;O<v;O++)D[O]=p.readBits(8);var L;L=null===_?xi.guessEncoding(D,w):_.getName();try{g.append(ul.decode(D,L))}catch(z){throw new $r(z)}E.push(D)},y.toAlphaNumericChar=function(p){if(p>=y.ALPHANUMERIC_CHARS.length)throw new $r;return y.ALPHANUMERIC_CHARS[p]},y.decodeAlphanumericSegment=function(p,g,v,_){for(var E=g.length();v>1;){if(p.available()<11)throw new $r;var w=p.readBits(11);g.append(y.toAlphaNumericChar(Math.floor(w/45))),g.append(y.toAlphaNumericChar(w%45)),v-=2}if(1===v){if(p.available()<6)throw new $r;g.append(y.toAlphaNumericChar(p.readBits(6)))}if(_)for(var D=E;D<g.length();D++)"%"===g.charAt(D)&&(D<g.length()-1&&"%"===g.charAt(D+1)?g.deleteCharAt(D+1):g.setCharAt(D,String.fromCharCode(29)))},y.decodeNumericSegment=function(p,g,v){for(;v>=3;){if(p.available()<10)throw new $r;var _=p.readBits(10);if(_>=1e3)throw new $r;g.append(y.toAlphaNumericChar(Math.floor(_/100))),g.append(y.toAlphaNumericChar(Math.floor(_/10)%10)),g.append(y.toAlphaNumericChar(_%10)),v-=3}if(2===v){if(p.available()<7)throw new $r;var E=p.readBits(7);if(E>=100)throw new $r;g.append(y.toAlphaNumericChar(Math.floor(E/10))),g.append(y.toAlphaNumericChar(E%10))}else if(1===v){if(p.available()<4)throw new $r;var w=p.readBits(4);if(w>=10)throw new $r;g.append(y.toAlphaNumericChar(w))}},y.parseECIValue=function(p){var g=p.readBits(8);if(0==(128&g))return 127&g;if(128==(192&g))return(63&g)<<8&4294967295|p.readBits(8);if(192==(224&g))return(31&g)<<16&4294967295|p.readBits(16);throw new $r},y.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",y.GB2312_SUBSET=1,y}();const lZ=aZ;var uZ=function(){function y(p){this.mirrored=p}return y.prototype.isMirrored=function(){return this.mirrored},y.prototype.applyMirroredCorrection=function(p){if(this.mirrored&&null!==p&&!(p.length<3)){var g=p[0];p[0]=p[2],p[2]=g}},y}();const PI=uZ;var AI=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},cZ=function(){function y(){this.rsDecoder=new vm(Ns.QR_CODE_FIELD_256)}return y.prototype.decodeBooleanArray=function(p,g){return this.decodeBitMatrix(pa.parseFromBooleanArray(p),g)},y.prototype.decodeBitMatrix=function(p,g){var v=new nZ(p),_=null;try{return this.decodeBitMatrixParser(v,g)}catch(w){_=w}try{v.remask(),v.setMirror(!0),v.readVersion(),v.readFormatInformation(),v.mirror();var E=this.decodeBitMatrixParser(v,g);return E.setOther(new PI(!0)),E}catch(w){throw null!==_?_:w}},y.prototype.decodeBitMatrixParser=function(p,g){var v,_,E,w,D=p.readVersion(),O=p.readFormatInformation().getErrorCorrectionLevel(),L=p.readCodewords(),z=oZ.getDataBlocks(L,D,O),se=0;try{for(var Ee=AI(z),Me=Ee.next();!Me.done;Me=Ee.next())se+=(Ge=Me.value).getNumDataCodewords()}catch(Mr){v={error:Mr}}finally{try{Me&&!Me.done&&(_=Ee.return)&&_.call(Ee)}finally{if(v)throw v.error}}var st=new Uint8Array(se),vt=0;try{for(var Ct=AI(z),pt=Ct.next();!pt.done;pt=Ct.next()){var Ge,Nt=(Ge=pt.value).getCodewords(),zt=Ge.getNumDataCodewords();this.correctErrors(Nt,zt);for(var ar=0;ar<zt;ar++)st[vt++]=Nt[ar]}}catch(Mr){E={error:Mr}}finally{try{pt&&!pt.done&&(w=Ct.return)&&w.call(Ct)}finally{if(E)throw E.error}}return lZ.decode(st,D,O,g)},y.prototype.correctErrors=function(p,g){var v=new Int32Array(p);try{this.rsDecoder.decode(v,p.length-g)}catch(E){throw new Mo}for(var _=0;_<g;_++)p[_]=v[_]},y}();const dZ=cZ;var hZ=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),fZ=function(y){function p(g,v,_){var E=y.call(this,g,v)||this;return E.estimatedModuleSize=_,E}return hZ(p,y),p.prototype.aboutEquals=function(g,v,_){if(Math.abs(v-this.getY())<=g&&Math.abs(_-this.getX())<=g){var E=Math.abs(g-this.estimatedModuleSize);return E<=1||E<=this.estimatedModuleSize}return!1},p.prototype.combineEstimate=function(g,v,_){return new p((this.getX()+v)/2,(this.getY()+g)/2,(this.estimatedModuleSize+_)/2)},p}(un);const pZ=fZ;var yZ=function(){function y(p,g,v,_,E,w,D){this.image=p,this.startX=g,this.startY=v,this.width=_,this.height=E,this.moduleSize=w,this.resultPointCallback=D,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return y.prototype.find=function(){for(var p=this.startX,g=this.height,_=p+this.width,E=this.startY+g/2,w=new Int32Array(3),D=this.image,O=0;O<g;O++){var L=E+(0==(1&O)?Math.floor((O+1)/2):-Math.floor((O+1)/2));w[0]=0,w[1]=0,w[2]=0;for(var z=p;z<_&&!D.get(z,L);)z++;for(var se=0;z<_;){if(D.get(z,L))if(1===se)w[1]++;else if(2===se){var Ee;if(this.foundPatternCross(w)&&null!==(Ee=this.handlePossibleCenter(w,L,z)))return Ee;w[0]=w[2],w[1]=1,w[2]=0,se=1}else w[++se]++;else 1===se&&se++,w[se]++;z++}if(this.foundPatternCross(w)&&null!==(Ee=this.handlePossibleCenter(w,L,_)))return Ee}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new Er},y.centerFromEnd=function(p,g){return g-p[2]-p[1]/2},y.prototype.foundPatternCross=function(p){for(var g=this.moduleSize,v=g/2,_=0;_<3;_++)if(Math.abs(g-p[_])>=v)return!1;return!0},y.prototype.crossCheckVertical=function(p,g,v,_){var E=this.image,w=E.getHeight(),D=this.crossCheckStateCount;D[0]=0,D[1]=0,D[2]=0;for(var O=p;O>=0&&E.get(g,O)&&D[1]<=v;)D[1]++,O--;if(O<0||D[1]>v)return NaN;for(;O>=0&&!E.get(g,O)&&D[0]<=v;)D[0]++,O--;if(D[0]>v)return NaN;for(O=p+1;O<w&&E.get(g,O)&&D[1]<=v;)D[1]++,O++;if(O===w||D[1]>v)return NaN;for(;O<w&&!E.get(g,O)&&D[2]<=v;)D[2]++,O++;return D[2]>v||5*Math.abs(D[0]+D[1]+D[2]-_)>=2*_?NaN:this.foundPatternCross(D)?y.centerFromEnd(D,O):NaN},y.prototype.handlePossibleCenter=function(p,g,v){var _,E,w=p[0]+p[1]+p[2],D=y.centerFromEnd(p,v),O=this.crossCheckVertical(g,D,2*p[1],w);if(!isNaN(O)){var L=(p[0]+p[1]+p[2])/3;try{for(var z=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.possibleCenters),se=z.next();!se.done;se=z.next()){var Ee=se.value;if(Ee.aboutEquals(L,O,D))return Ee.combineEstimate(O,D,L)}}catch(Ge){_={error:Ge}}finally{try{se&&!se.done&&(E=z.return)&&E.call(z)}finally{if(_)throw _.error}}var Me=new pZ(D,O,L);this.possibleCenters.push(Me),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(Me)}return null},y}();const gZ=yZ;var vZ=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),_Z=function(y){function p(g,v,_,E){var w=y.call(this,g,v)||this;return w.estimatedModuleSize=_,w.count=E,void 0===E&&(w.count=1),w}return vZ(p,y),p.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},p.prototype.getCount=function(){return this.count},p.prototype.aboutEquals=function(g,v,_){if(Math.abs(v-this.getY())<=g&&Math.abs(_-this.getX())<=g){var E=Math.abs(g-this.estimatedModuleSize);return E<=1||E<=this.estimatedModuleSize}return!1},p.prototype.combineEstimate=function(g,v,_){var E=this.count+1;return new p((this.count*this.getX()+v)/E,(this.count*this.getY()+g)/E,(this.count*this.estimatedModuleSize+_)/E,E)},p}(un);const EZ=_Z;var bZ=function(){function y(p){this.bottomLeft=p[0],this.topLeft=p[1],this.topRight=p[2]}return y.prototype.getBottomLeft=function(){return this.bottomLeft},y.prototype.getTopLeft=function(){return this.topLeft},y.prototype.getTopRight=function(){return this.topRight},y}();const CZ=bZ;var Tf=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},MZ=function(){function y(p,g){this.image=p,this.resultPointCallback=g,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=g}return y.prototype.getImage=function(){return this.image},y.prototype.getPossibleCenters=function(){return this.possibleCenters},y.prototype.find=function(p){var g=null!=p&&void 0!==p.get(hi.TRY_HARDER),v=null!=p&&void 0!==p.get(hi.PURE_BARCODE),_=this.image,E=_.getHeight(),w=_.getWidth(),D=Math.floor(3*E/(4*y.MAX_MODULES));(D<y.MIN_SKIP||g)&&(D=y.MIN_SKIP);for(var O=!1,L=new Int32Array(5),z=D-1;z<E&&!O;z+=D){L[0]=0,L[1]=0,L[2]=0,L[3]=0,L[4]=0;for(var se=0,Ee=0;Ee<w;Ee++)if(_.get(Ee,z))1==(1&se)&&se++,L[se]++;else if(0==(1&se))if(4===se)if(y.foundPatternCross(L)){if(!0!==this.handlePossibleCenter(L,z,Ee,v)){L[0]=L[2],L[1]=L[3],L[2]=L[4],L[3]=1,L[4]=0,se=3;continue}if(D=2,!0===this.hasSkipped)O=this.haveMultiplyConfirmedCenters();else{var Ge=this.findRowSkip();Ge>L[2]&&(z+=Ge-L[2]-D,Ee=w-1)}se=0,L[0]=0,L[1]=0,L[2]=0,L[3]=0,L[4]=0}else L[0]=L[2],L[1]=L[3],L[2]=L[4],L[3]=1,L[4]=0,se=3;else L[++se]++;else L[se]++;y.foundPatternCross(L)&&!0===this.handlePossibleCenter(L,z,w,v)&&(D=L[0],this.hasSkipped&&(O=this.haveMultiplyConfirmedCenters()))}var st=this.selectBestPatterns();return un.orderBestPatterns(st),new CZ(st)},y.centerFromEnd=function(p,g){return g-p[4]-p[3]-p[2]/2},y.foundPatternCross=function(p){for(var g=0,v=0;v<5;v++){var _=p[v];if(0===_)return!1;g+=_}if(g<7)return!1;var E=g/7,w=E/2;return Math.abs(E-p[0])<w&&Math.abs(E-p[1])<w&&Math.abs(3*E-p[2])<3*w&&Math.abs(E-p[3])<w&&Math.abs(E-p[4])<w},y.prototype.getCrossCheckStateCount=function(){var p=this.crossCheckStateCount;return p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p},y.prototype.crossCheckDiagonal=function(p,g,v,_){for(var E=this.getCrossCheckStateCount(),w=0,D=this.image;p>=w&&g>=w&&D.get(g-w,p-w);)E[2]++,w++;if(p<w||g<w)return!1;for(;p>=w&&g>=w&&!D.get(g-w,p-w)&&E[1]<=v;)E[1]++,w++;if(p<w||g<w||E[1]>v)return!1;for(;p>=w&&g>=w&&D.get(g-w,p-w)&&E[0]<=v;)E[0]++,w++;if(E[0]>v)return!1;var O=D.getHeight(),L=D.getWidth();for(w=1;p+w<O&&g+w<L&&D.get(g+w,p+w);)E[2]++,w++;if(p+w>=O||g+w>=L)return!1;for(;p+w<O&&g+w<L&&!D.get(g+w,p+w)&&E[3]<v;)E[3]++,w++;if(p+w>=O||g+w>=L||E[3]>=v)return!1;for(;p+w<O&&g+w<L&&D.get(g+w,p+w)&&E[4]<v;)E[4]++,w++;return!(E[4]>=v)&&Math.abs(E[0]+E[1]+E[2]+E[3]+E[4]-_)<2*_&&y.foundPatternCross(E)},y.prototype.crossCheckVertical=function(p,g,v,_){for(var E=this.image,w=E.getHeight(),D=this.getCrossCheckStateCount(),O=p;O>=0&&E.get(g,O);)D[2]++,O--;if(O<0)return NaN;for(;O>=0&&!E.get(g,O)&&D[1]<=v;)D[1]++,O--;if(O<0||D[1]>v)return NaN;for(;O>=0&&E.get(g,O)&&D[0]<=v;)D[0]++,O--;if(D[0]>v)return NaN;for(O=p+1;O<w&&E.get(g,O);)D[2]++,O++;if(O===w)return NaN;for(;O<w&&!E.get(g,O)&&D[3]<v;)D[3]++,O++;if(O===w||D[3]>=v)return NaN;for(;O<w&&E.get(g,O)&&D[4]<v;)D[4]++,O++;return D[4]>=v||5*Math.abs(D[0]+D[1]+D[2]+D[3]+D[4]-_)>=2*_?NaN:y.foundPatternCross(D)?y.centerFromEnd(D,O):NaN},y.prototype.crossCheckHorizontal=function(p,g,v,_){for(var E=this.image,w=E.getWidth(),D=this.getCrossCheckStateCount(),O=p;O>=0&&E.get(O,g);)D[2]++,O--;if(O<0)return NaN;for(;O>=0&&!E.get(O,g)&&D[1]<=v;)D[1]++,O--;if(O<0||D[1]>v)return NaN;for(;O>=0&&E.get(O,g)&&D[0]<=v;)D[0]++,O--;if(D[0]>v)return NaN;for(O=p+1;O<w&&E.get(O,g);)D[2]++,O++;if(O===w)return NaN;for(;O<w&&!E.get(O,g)&&D[3]<v;)D[3]++,O++;if(O===w||D[3]>=v)return NaN;for(;O<w&&E.get(O,g)&&D[4]<v;)D[4]++,O++;return D[4]>=v||5*Math.abs(D[0]+D[1]+D[2]+D[3]+D[4]-_)>=_?NaN:y.foundPatternCross(D)?y.centerFromEnd(D,O):NaN},y.prototype.handlePossibleCenter=function(p,g,v,_){var E=p[0]+p[1]+p[2]+p[3]+p[4],w=y.centerFromEnd(p,v),D=this.crossCheckVertical(g,Math.floor(w),p[2],E);if(!isNaN(D)&&(w=this.crossCheckHorizontal(Math.floor(w),Math.floor(D),p[2],E),!isNaN(w)&&(!_||this.crossCheckDiagonal(Math.floor(D),Math.floor(w),p[2],E)))){for(var O=E/7,L=!1,z=this.possibleCenters,se=0,Ee=z.length;se<Ee;se++){var Me=z[se];if(Me.aboutEquals(O,D,w)){z[se]=Me.combineEstimate(D,w,O),L=!0;break}}if(!L){var Ge=new EZ(w,D,O);z.push(Ge),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(Ge)}return!0}return!1},y.prototype.findRowSkip=function(){var p,g;if(this.possibleCenters.length<=1)return 0;var _=null;try{for(var E=Tf(this.possibleCenters),w=E.next();!w.done;w=E.next()){var D=w.value;if(D.getCount()>=y.CENTER_QUORUM){if(null!=_)return this.hasSkipped=!0,Math.floor((Math.abs(_.getX()-D.getX())-Math.abs(_.getY()-D.getY()))/2);_=D}}}catch(O){p={error:O}}finally{try{w&&!w.done&&(g=E.return)&&g.call(E)}finally{if(p)throw p.error}}return 0},y.prototype.haveMultiplyConfirmedCenters=function(){var p,g,v,_,E=0,w=0,D=this.possibleCenters.length;try{for(var O=Tf(this.possibleCenters),L=O.next();!L.done;L=O.next())(z=L.value).getCount()>=y.CENTER_QUORUM&&(E++,w+=z.getEstimatedModuleSize())}catch(st){p={error:st}}finally{try{L&&!L.done&&(g=O.return)&&g.call(O)}finally{if(p)throw p.error}}if(E<3)return!1;var se=w/D,Ee=0;try{for(var Me=Tf(this.possibleCenters),Ge=Me.next();!Ge.done;Ge=Me.next()){var z=Ge.value;Ee+=Math.abs(z.getEstimatedModuleSize()-se)}}catch(st){v={error:st}}finally{try{Ge&&!Ge.done&&(_=Me.return)&&_.call(Me)}finally{if(v)throw v.error}}return Ee<=.05*w},y.prototype.selectBestPatterns=function(){var p,g,v,_,E=this.possibleCenters.length;if(E<3)throw new Er;var D,w=this.possibleCenters;if(E>3){var O=0,L=0;try{for(var z=Tf(this.possibleCenters),se=z.next();!se.done;se=z.next()){var Me=se.value.getEstimatedModuleSize();O+=Me,L+=Me*Me}}catch(ar){p={error:ar}}finally{try{se&&!se.done&&(g=z.return)&&g.call(z)}finally{if(p)throw p.error}}D=O/E;var Ge=Math.sqrt(L/E-D*D);w.sort(function(ar,Mr){var jr=Math.abs(Mr.getEstimatedModuleSize()-D),en=Math.abs(ar.getEstimatedModuleSize()-D);return jr<en?-1:jr>en?1:0});for(var st=Math.max(.2*D,Ge),vt=0;vt<w.length&&w.length>3;vt++)Math.abs(w[vt].getEstimatedModuleSize()-D)>st&&(w.splice(vt,1),vt--)}if(w.length>3){O=0;try{for(var pt=Tf(w),Nt=pt.next();!Nt.done;Nt=pt.next())O+=Nt.value.getEstimatedModuleSize()}catch(Mr){v={error:Mr}}finally{try{Nt&&!Nt.done&&(_=pt.return)&&_.call(pt)}finally{if(v)throw v.error}}D=O/w.length,w.sort(function(Mr,jr){if(jr.getCount()===Mr.getCount()){var en=Math.abs(jr.getEstimatedModuleSize()-D),On=Math.abs(Mr.getEstimatedModuleSize()-D);return en<On?1:en>On?-1:0}return jr.getCount()-Mr.getCount()}),w.splice(3)}return[w[0],w[1],w[2]]},y.CENTER_QUORUM=2,y.MIN_SKIP=3,y.MAX_MODULES=57,y}();const wZ=MZ;var xZ=function(){function y(p){this.image=p}return y.prototype.getImage=function(){return this.image},y.prototype.getResultPointCallback=function(){return this.resultPointCallback},y.prototype.detect=function(p){this.resultPointCallback=null==p?null:p.get(hi.NEED_RESULT_POINT_CALLBACK);var v=new wZ(this.image,this.resultPointCallback).find(p);return this.processFinderPatternInfo(v)},y.prototype.processFinderPatternInfo=function(p){var g=p.getTopLeft(),v=p.getTopRight(),_=p.getBottomLeft(),E=this.calculateModuleSize(g,v,_);if(E<1)throw new Er("No pattern found in proccess finder.");var w=y.computeDimension(g,v,_,E),D=pc.getProvisionalVersionForDimension(w),O=D.getDimensionForVersion()-7,L=null;if(D.getAlignmentPatternCenters().length>0)for(var z=v.getX()-g.getX()+_.getX(),se=v.getY()-g.getY()+_.getY(),Ee=1-3/O,Me=Math.floor(g.getX()+Ee*(z-g.getX())),Ge=Math.floor(g.getY()+Ee*(se-g.getY())),st=4;st<=16;st<<=1)try{L=this.findAlignmentInRegion(E,Me,Ge,st);break}catch(Nt){if(!(Nt instanceof Er))throw Nt}var vt=y.createTransform(g,v,_,L,w),Ct=y.sampleGrid(this.image,vt,w);return new I1(Ct,null===L?[_,g,v]:[_,g,v,L])},y.createTransform=function(p,g,v,_,E){var D,O,L,z,w=E-3.5;return null!==_?(D=_.getX(),O=_.getY(),z=L=w-3):(D=g.getX()-p.getX()+v.getX(),O=g.getY()-p.getY()+v.getY(),L=w,z=w),cI.quadrilateralToQuadrilateral(3.5,3.5,w,3.5,L,z,3.5,w,p.getX(),p.getY(),g.getX(),g.getY(),D,O,v.getX(),v.getY())},y.sampleGrid=function(p,g,v){return P1.getInstance().sampleGridWithTransform(p,v,v,g)},y.computeDimension=function(p,g,v,_){var E=ui.round(un.distance(p,g)/_),w=ui.round(un.distance(p,v)/_),D=Math.floor((E+w)/2)+7;switch(3&D){case 0:D++;break;case 2:D--;break;case 3:throw new Er("Dimensions could be not found.")}return D},y.prototype.calculateModuleSize=function(p,g,v){return(this.calculateModuleSizeOneWay(p,g)+this.calculateModuleSizeOneWay(p,v))/2},y.prototype.calculateModuleSizeOneWay=function(p,g){var v=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(p.getX()),Math.floor(p.getY()),Math.floor(g.getX()),Math.floor(g.getY())),_=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(g.getX()),Math.floor(g.getY()),Math.floor(p.getX()),Math.floor(p.getY()));return isNaN(v)?_/7:isNaN(_)?v/7:(v+_)/14},y.prototype.sizeOfBlackWhiteBlackRunBothWays=function(p,g,v,_){var E=this.sizeOfBlackWhiteBlackRun(p,g,v,_),w=1,D=p-(v-p);D<0?(w=p/(p-D),D=0):D>=this.image.getWidth()&&(w=(this.image.getWidth()-1-p)/(D-p),D=this.image.getWidth()-1);var O=Math.floor(g-(_-g)*w);return w=1,O<0?(w=g/(g-O),O=0):O>=this.image.getHeight()&&(w=(this.image.getHeight()-1-g)/(O-g),O=this.image.getHeight()-1),D=Math.floor(p+(D-p)*w),(E+=this.sizeOfBlackWhiteBlackRun(p,g,D,O))-1},y.prototype.sizeOfBlackWhiteBlackRun=function(p,g,v,_){var E=Math.abs(_-g)>Math.abs(v-p);if(E){var w=p;p=g,g=w,w=v,v=_,_=w}for(var D=Math.abs(v-p),O=Math.abs(_-g),L=-D/2,z=p<v?1:-1,se=g<_?1:-1,Ee=0,Me=v+z,Ge=p,st=g;Ge!==Me;Ge+=z){if(1===Ee===this.image.get(E?st:Ge,E?Ge:st)){if(2===Ee)return ui.distance(Ge,st,p,g);Ee++}if((L+=O)>0){if(st===_)break;st+=se,L-=D}}return 2===Ee?ui.distance(v+z,_,p,g):NaN},y.prototype.findAlignmentInRegion=function(p,g,v,_){var E=Math.floor(_*p),w=Math.max(0,g-E),D=Math.min(this.image.getWidth()-1,g+E);if(D-w<3*p)throw new Er("Alignment top exceeds estimated module size.");var O=Math.max(0,v-E),L=Math.min(this.image.getHeight()-1,v+E);if(L-O<3*p)throw new Er("Alignment bottom exceeds estimated module size.");return new gZ(this.image,w,O,D-w,L-O,p,this.resultPointCallback).find()},y}();const DZ=xZ;var OZ=function(){function y(){this.decoder=new dZ}return y.prototype.getDecoder=function(){return this.decoder},y.prototype.decode=function(p,g){var v,_;if(null!=g&&void 0!==g.get(hi.PURE_BARCODE)){var E=y.extractPureBits(p.getBlackMatrix());v=this.decoder.decodeBitMatrix(E,g),_=y.NO_POINTS}else{var w=new DZ(p.getBlackMatrix()).detect(g);v=this.decoder.decodeBitMatrix(w.getBits(),g),_=w.getPoints()}v.getOther()instanceof PI&&v.getOther().applyMirroredCorrection(_);var D=new Ls(v.getText(),v.getRawBytes(),void 0,_,mn.QR_CODE,void 0),O=v.getByteSegments();null!==O&&D.putMetadata(Jo.BYTE_SEGMENTS,O);var L=v.getECLevel();return null!==L&&D.putMetadata(Jo.ERROR_CORRECTION_LEVEL,L),v.hasStructuredAppend()&&(D.putMetadata(Jo.STRUCTURED_APPEND_SEQUENCE,v.getStructuredAppendSequenceNumber()),D.putMetadata(Jo.STRUCTURED_APPEND_PARITY,v.getStructuredAppendParity())),D},y.prototype.reset=function(){},y.extractPureBits=function(p){var g=p.getTopLeftOnBit(),v=p.getBottomRightOnBit();if(null===g||null===v)throw new Er;var _=this.moduleSize(g,p),E=g[1],w=v[1],D=g[0],O=v[0];if(D>=O||E>=w)throw new Er;if(w-E!=O-D&&(O=D+(w-E))>=p.getWidth())throw new Er;var L=Math.round((O-D+1)/_),z=Math.round((w-E+1)/_);if(L<=0||z<=0)throw new Er;if(z!==L)throw new Er;var se=Math.floor(_/2);E+=se;var Ee=(D+=se)+Math.floor((L-1)*_)-O;if(Ee>0){if(Ee>se)throw new Er;D-=Ee}var Me=E+Math.floor((z-1)*_)-w;if(Me>0){if(Me>se)throw new Er;E-=Me}for(var Ge=new pa(L,z),st=0;st<z;st++)for(var vt=E+Math.floor(st*_),Ct=0;Ct<L;Ct++)p.get(D+Math.floor(Ct*_),vt)&&Ge.set(Ct,st);return Ge},y.moduleSize=function(p,g){for(var v=g.getHeight(),_=g.getWidth(),E=p[0],w=p[1],D=!0,O=0;E<_&&w<v;){if(D!==g.get(E,w)){if(5==++O)break;D=!D}E++,w++}if(E===_||w===v)throw new Er;return(E-p[0])/7},y.NO_POINTS=new Array,y}();const xm=OZ;var IZ=function(){function y(){}return y.prototype.PDF417Common=function(){},y.getBitCountSum=function(p){return ui.sum(p)},y.toIntArray=function(p){var g,v;if(null==p||!p.length)return y.EMPTY_INT_ARRAY;var _=new Int32Array(p.length),E=0;try{for(var w=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")}(p),D=w.next();!D.done;D=w.next())_[E++]=D.value}catch(L){g={error:L}}finally{try{D&&!D.done&&(v=w.return)&&v.call(w)}finally{if(g)throw g.error}}return _},y.getCodeword=function(p){var g=Rs.binarySearch(y.SYMBOL_TABLE,262143&p);return g<0?-1:(y.CODEWORD_TABLE[g]-1)%y.NUMBER_OF_CODEWORDS},y.MAX_CODEWORDS_IN_BARCODE=(y.NUMBER_OF_CODEWORDS=929)-1,y.MIN_ROWS_IN_BARCODE=3,y.MAX_ROWS_IN_BARCODE=90,y.MODULES_IN_CODEWORD=17,y.MODULES_IN_STOP_PATTERN=18,y.BARS_IN_MODULE=8,y.EMPTY_INT_ARRAY=new Int32Array([]),y.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),y.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),y}();const ai=IZ;var TZ=function(){function y(p,g){this.bits=p,this.points=g}return y.prototype.getBits=function(){return this.bits},y.prototype.getPoints=function(){return this.points},y}();const PZ=TZ;var AZ=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},RZ=function(){function y(){}return y.detectMultiple=function(p,g,v){var _=p.getBlackMatrix(),E=y.detect(v,_);return E.length||((_=_.clone()).rotate180(),E=y.detect(v,_)),new PZ(_,E)},y.detect=function(p,g){for(var v,_,E=new Array,w=0,D=0,O=!1;w<g.getHeight();){var L=y.findVertices(g,w,D);if(null!=L[0]||null!=L[3]){if(O=!0,E.push(L),!p)break;null!=L[2]?(D=Math.trunc(L[2].getX()),w=Math.trunc(L[2].getY())):(D=Math.trunc(L[4].getX()),w=Math.trunc(L[4].getY()))}else{if(!O)break;O=!1,D=0;try{for(var z=(v=void 0,AZ(E)),se=z.next();!se.done;se=z.next()){var Ee=se.value;null!=Ee[1]&&(w=Math.trunc(Math.max(w,Ee[1].getY()))),null!=Ee[3]&&(w=Math.max(w,Math.trunc(Ee[3].getY())))}}catch(Me){v={error:Me}}finally{try{se&&!se.done&&(_=z.return)&&_.call(z)}finally{if(v)throw v.error}}w+=y.ROW_STEP}}return E},y.findVertices=function(p,g,v){var _=p.getHeight(),E=p.getWidth(),w=new Array(8);return y.copyToResult(w,y.findRowsWithPattern(p,_,E,g,v,y.START_PATTERN),y.INDEXES_START_PATTERN),null!=w[4]&&(v=Math.trunc(w[4].getX()),g=Math.trunc(w[4].getY())),y.copyToResult(w,y.findRowsWithPattern(p,_,E,g,v,y.STOP_PATTERN),y.INDEXES_STOP_PATTERN),w},y.copyToResult=function(p,g,v){for(var _=0;_<v.length;_++)p[v[_]]=g[_]},y.findRowsWithPattern=function(p,g,v,_,E,w){for(var D=new Array(4),O=!1,L=new Int32Array(w.length);_<g;_+=y.ROW_STEP)if(null!=(z=y.findGuardPattern(p,E,_,v,!1,w,L))){for(;_>0;){if(null==(se=y.findGuardPattern(p,E,--_,v,!1,w,L))){_++;break}z=se}D[0]=new un(z[0],_),D[1]=new un(z[1],_),O=!0;break}var Ee=_+1;if(O){for(var Me=0,se=Int32Array.from([Math.trunc(D[0].getX()),Math.trunc(D[1].getX())]);Ee<g;Ee++){var z;if(null!=(z=y.findGuardPattern(p,se[0],Ee,v,!1,w,L))&&Math.abs(se[0]-z[0])<y.MAX_PATTERN_DRIFT&&Math.abs(se[1]-z[1])<y.MAX_PATTERN_DRIFT)se=z,Me=0;else{if(Me>y.SKIPPED_ROW_COUNT_MAX)break;Me++}}D[2]=new un(se[0],Ee-=Me+1),D[3]=new un(se[1],Ee)}return Ee-_<y.BARCODE_MIN_HEIGHT&&Rs.fill(D,null),D},y.findGuardPattern=function(p,g,v,_,E,w,D){Rs.fillWithin(D,0,D.length,0);for(var O=g,L=0;p.get(O,v)&&O>0&&L++<y.MAX_PIXEL_DRIFT;)O--;for(var z=O,se=0,Ee=w.length,Me=E;z<_;z++)if(p.get(z,v)!==Me)D[se]++;else{if(se===Ee-1){if(y.patternMatchVariance(D,w,y.MAX_INDIVIDUAL_VARIANCE)<y.MAX_AVG_VARIANCE)return new Int32Array([O,z]);O+=D[0]+D[1],Ti.arraycopy(D,2,D,0,se-1),D[se-1]=0,D[se]=0,se--}else se++;D[se]=1,Me=!Me}return se===Ee-1&&y.patternMatchVariance(D,w,y.MAX_INDIVIDUAL_VARIANCE)<y.MAX_AVG_VARIANCE?new Int32Array([O,z-1]):null},y.patternMatchVariance=function(p,g,v){for(var _=p.length,E=0,w=0,D=0;D<_;D++)E+=p[D],w+=g[D];if(E<w)return 1/0;var O=E/w;v*=O;for(var L=0,z=0;z<_;z++){var se=p[z],Ee=g[z]*O,Me=se>Ee?se-Ee:Ee-se;if(Me>v)return 1/0;L+=Me}return L/E},y.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),y.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),y.MAX_AVG_VARIANCE=.42,y.MAX_INDIVIDUAL_VARIANCE=.8,y.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),y.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),y.MAX_PIXEL_DRIFT=3,y.MAX_PATTERN_DRIFT=5,y.SKIPPED_ROW_COUNT_MAX=25,y.ROW_STEP=5,y.BARCODE_MIN_HEIGHT=10,y}();const LZ=RZ;var FZ=function(){function y(p,g){if(0===g.length)throw new rn;this.field=p;var v=g.length;if(v>1&&0===g[0]){for(var _=1;_<v&&0===g[_];)_++;_===v?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(v-_),Ti.arraycopy(g,_,this.coefficients,0,this.coefficients.length))}else this.coefficients=g}return y.prototype.getCoefficients=function(){return this.coefficients},y.prototype.getDegree=function(){return this.coefficients.length-1},y.prototype.isZero=function(){return 0===this.coefficients[0]},y.prototype.getCoefficient=function(p){return this.coefficients[this.coefficients.length-1-p]},y.prototype.evaluateAt=function(p){var g,v;if(0===p)return this.getCoefficient(0);if(1===p){var _=0;try{for(var E=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.coefficients),w=E.next();!w.done;w=E.next())_=this.field.add(_,w.value)}catch(se){g={error:se}}finally{try{w&&!w.done&&(v=E.return)&&v.call(E)}finally{if(g)throw g.error}}return _}for(var O=this.coefficients[0],L=this.coefficients.length,z=1;z<L;z++)O=this.field.add(this.field.multiply(p,O),this.coefficients[z]);return O},y.prototype.add=function(p){if(!this.field.equals(p.field))throw new rn("ModulusPolys do not have same ModulusGF field");if(this.isZero())return p;if(p.isZero())return this;var g=this.coefficients,v=p.coefficients;if(g.length>v.length){var _=g;g=v,v=_}var E=new Int32Array(v.length),w=v.length-g.length;Ti.arraycopy(v,0,E,0,w);for(var D=w;D<v.length;D++)E[D]=this.field.add(g[D-w],v[D]);return new y(this.field,E)},y.prototype.subtract=function(p){if(!this.field.equals(p.field))throw new rn("ModulusPolys do not have same ModulusGF field");return p.isZero()?this:this.add(p.negative())},y.prototype.multiply=function(p){return p instanceof y?this.multiplyOther(p):this.multiplyScalar(p)},y.prototype.multiplyOther=function(p){if(!this.field.equals(p.field))throw new rn("ModulusPolys do not have same ModulusGF field");if(this.isZero()||p.isZero())return new y(this.field,new Int32Array([0]));for(var g=this.coefficients,v=g.length,_=p.coefficients,E=_.length,w=new Int32Array(v+E-1),D=0;D<v;D++)for(var O=g[D],L=0;L<E;L++)w[D+L]=this.field.add(w[D+L],this.field.multiply(O,_[L]));return new y(this.field,w)},y.prototype.negative=function(){for(var p=this.coefficients.length,g=new Int32Array(p),v=0;v<p;v++)g[v]=this.field.subtract(0,this.coefficients[v]);return new y(this.field,g)},y.prototype.multiplyScalar=function(p){if(0===p)return new y(this.field,new Int32Array([0]));if(1===p)return this;for(var g=this.coefficients.length,v=new Int32Array(g),_=0;_<g;_++)v[_]=this.field.multiply(this.coefficients[_],p);return new y(this.field,v)},y.prototype.multiplyByMonomial=function(p,g){if(p<0)throw new rn;if(0===g)return new y(this.field,new Int32Array([0]));for(var v=this.coefficients.length,_=new Int32Array(v+p),E=0;E<v;E++)_[E]=this.field.multiply(this.coefficients[E],g);return new y(this.field,_)},y.prototype.toString=function(){for(var p=new Ei,g=this.getDegree();g>=0;g--){var v=this.getCoefficient(g);0!==v&&(v<0?(p.append(" - "),v=-v):p.length()>0&&p.append(" + "),(0===g||1!==v)&&p.append(v),0!==g&&(1===g?p.append("x"):(p.append("x^"),p.append(g))))}return p.toString()},y}();const mc=FZ;var jZ=function(){function y(){}return y.prototype.add=function(p,g){return(p+g)%this.modulus},y.prototype.subtract=function(p,g){return(this.modulus+p-g)%this.modulus},y.prototype.exp=function(p){return this.expTable[p]},y.prototype.log=function(p){if(0===p)throw new rn;return this.logTable[p]},y.prototype.inverse=function(p){if(0===p)throw new aI;return this.expTable[this.modulus-this.logTable[p]-1]},y.prototype.multiply=function(p,g){return 0===p||0===g?0:this.expTable[(this.logTable[p]+this.logTable[g])%(this.modulus-1)]},y.prototype.getSize=function(){return this.modulus},y.prototype.equals=function(p){return p===this},y}();const UZ=jZ;var BZ=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),VZ=function(y){function p(g,v){var _=y.call(this)||this;_.modulus=g,_.expTable=new Int32Array(g),_.logTable=new Int32Array(g);for(var E=1,w=0;w<g;w++)_.expTable[w]=E,E=E*v%g;for(w=0;w<g-1;w++)_.logTable[_.expTable[w]]=w;return _.zero=new mc(_,new Int32Array([0])),_.one=new mc(_,new Int32Array([1])),_}return BZ(p,y),p.prototype.getZero=function(){return this.zero},p.prototype.getOne=function(){return this.one},p.prototype.buildMonomial=function(g,v){if(g<0)throw new rn;if(0===v)return this.zero;var _=new Int32Array(g+1);return _[0]=v,new mc(this,_)},p.PDF417_GF=new p(ai.NUMBER_OF_CODEWORDS,3),p}(UZ);const WZ=VZ;var ZZ=function(){function y(){this.field=WZ.PDF417_GF}return y.prototype.decode=function(p,g,v){for(var _,E,w=new mc(this.field,p),D=new Int32Array(g),O=!1,L=g;L>0;L--){var z=w.evaluateAt(this.field.exp(L));D[g-L]=z,0!==z&&(O=!0)}if(!O)return 0;var se=this.field.getOne();if(null!=v)try{for(var Ee=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")}(v),Me=Ee.next();!Me.done;Me=Ee.next()){var st=this.field.exp(p.length-1-Me.value),vt=new mc(this.field,new Int32Array([this.field.subtract(0,st),1]));se=se.multiply(vt)}}catch(en){_={error:en}}finally{try{Me&&!Me.done&&(E=Ee.return)&&E.call(Ee)}finally{if(_)throw _.error}}var Ct=new mc(this.field,D),pt=this.runEuclideanAlgorithm(this.field.buildMonomial(g,1),Ct,g),Nt=pt[0],zt=pt[1],ar=this.findErrorLocations(Nt),Mr=this.findErrorMagnitudes(zt,Nt,ar);for(L=0;L<ar.length;L++){var jr=p.length-1-this.field.log(ar[L]);if(jr<0)throw Mo.getChecksumInstance();p[jr]=this.field.subtract(p[jr],Mr[L])}return ar.length},y.prototype.runEuclideanAlgorithm=function(p,g,v){if(p.getDegree()<g.getDegree()){var _=p;p=g,g=_}for(var E=p,w=g,D=this.field.getZero(),O=this.field.getOne();w.getDegree()>=Math.round(v/2);){var L=E,z=D;if(D=O,(E=w).isZero())throw Mo.getChecksumInstance();w=L;for(var se=this.field.getZero(),Ee=E.getCoefficient(E.getDegree()),Me=this.field.inverse(Ee);w.getDegree()>=E.getDegree()&&!w.isZero();){var Ge=w.getDegree()-E.getDegree(),st=this.field.multiply(w.getCoefficient(w.getDegree()),Me);se=se.add(this.field.buildMonomial(Ge,st)),w=w.subtract(E.multiplyByMonomial(Ge,st))}O=se.multiply(D).subtract(z).negative()}var vt=O.getCoefficient(0);if(0===vt)throw Mo.getChecksumInstance();var Ct=this.field.inverse(vt);return[O.multiply(Ct),w.multiply(Ct)]},y.prototype.findErrorLocations=function(p){for(var g=p.getDegree(),v=new Int32Array(g),_=0,E=1;E<this.field.getSize()&&_<g;E++)0===p.evaluateAt(E)&&(v[_]=this.field.inverse(E),_++);if(_!==g)throw Mo.getChecksumInstance();return v},y.prototype.findErrorMagnitudes=function(p,g,v){for(var _=g.getDegree(),E=new Int32Array(_),w=1;w<=_;w++)E[_-w]=this.field.multiply(w,g.getCoefficient(w));var D=new mc(this.field,E),O=v.length,L=new Int32Array(O);for(w=0;w<O;w++){var z=this.field.inverse(v[w]),se=this.field.subtract(0,p.evaluateAt(z)),Ee=this.field.inverse(D.evaluateAt(z));L[w]=this.field.multiply(se,Ee)}return L},y}();const $Z=ZZ;var KZ=function(){function y(p,g,v,_,E){p instanceof y?this.constructor_2(p):this.constructor_1(p,g,v,_,E)}return y.prototype.constructor_1=function(p,g,v,_,E){var w=null==g||null==v,D=null==_||null==E;if(w&&D)throw new Er;w?(g=new un(0,_.getY()),v=new un(0,E.getY())):D&&(_=new un(p.getWidth()-1,g.getY()),E=new un(p.getWidth()-1,v.getY())),this.image=p,this.topLeft=g,this.bottomLeft=v,this.topRight=_,this.bottomRight=E,this.minX=Math.trunc(Math.min(g.getX(),v.getX())),this.maxX=Math.trunc(Math.max(_.getX(),E.getX())),this.minY=Math.trunc(Math.min(g.getY(),_.getY())),this.maxY=Math.trunc(Math.max(v.getY(),E.getY()))},y.prototype.constructor_2=function(p){this.image=p.image,this.topLeft=p.getTopLeft(),this.bottomLeft=p.getBottomLeft(),this.topRight=p.getTopRight(),this.bottomRight=p.getBottomRight(),this.minX=p.getMinX(),this.maxX=p.getMaxX(),this.minY=p.getMinY(),this.maxY=p.getMaxY()},y.merge=function(p,g){return null==p?g:null==g?p:new y(p.image,p.topLeft,p.bottomLeft,g.topRight,g.bottomRight)},y.prototype.addMissingRows=function(p,g,v){var _=this.topLeft,E=this.bottomLeft,w=this.topRight,D=this.bottomRight;if(p>0){var O=v?this.topLeft:this.topRight,L=Math.trunc(O.getY()-p);L<0&&(L=0);var z=new un(O.getX(),L);v?_=z:w=z}if(g>0){var se=v?this.bottomLeft:this.bottomRight,Ee=Math.trunc(se.getY()+g);Ee>=this.image.getHeight()&&(Ee=this.image.getHeight()-1);var Me=new un(se.getX(),Ee);v?E=Me:D=Me}return new y(this.image,_,E,w,D)},y.prototype.getMinX=function(){return this.minX},y.prototype.getMaxX=function(){return this.maxX},y.prototype.getMinY=function(){return this.minY},y.prototype.getMaxY=function(){return this.maxY},y.prototype.getTopLeft=function(){return this.topLeft},y.prototype.getTopRight=function(){return this.topRight},y.prototype.getBottomLeft=function(){return this.bottomLeft},y.prototype.getBottomRight=function(){return this.bottomRight},y}();const j1=KZ;var zZ=function(){function y(p,g,v,_){this.columnCount=p,this.errorCorrectionLevel=_,this.rowCountUpperPart=g,this.rowCountLowerPart=v,this.rowCount=g+v}return y.prototype.getColumnCount=function(){return this.columnCount},y.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},y.prototype.getRowCount=function(){return this.rowCount},y.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},y.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},y}();const GZ=zZ;var HZ=function(){function y(){this.buffer=""}return y.form=function(p,g){var v=-1;return p.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function _(w,D,O,L,z,se){if("%%"===w)return"%";if(void 0!==g[++v]){w=L?parseInt(L.substr(1)):void 0;var Me,Ee=z?parseInt(z.substr(1)):void 0;switch(se){case"s":Me=g[v];break;case"c":Me=g[v][0];break;case"f":Me=parseFloat(g[v]).toFixed(w);break;case"p":Me=parseFloat(g[v]).toPrecision(w);break;case"e":Me=parseFloat(g[v]).toExponential(w);break;case"x":Me=parseInt(g[v]).toString(Ee||16);break;case"d":Me=parseFloat(parseInt(g[v],Ee||10).toPrecision(w)).toFixed(0)}Me="object"==typeof Me?JSON.stringify(Me):(+Me).toString(Ee);for(var Ge=parseInt(O),st=O&&O[0]+""=="0"?"0":" ";Me.length<Ge;)Me=void 0!==D?Me+st:st+Me;return Me}})},y.prototype.format=function(p){for(var g=[],v=1;v<arguments.length;v++)g[v-1]=arguments[v];this.buffer+=y.form(p,g)},y.prototype.toString=function(){return this.buffer},y}();const U1=HZ;var YZ=function(){function y(p){this.boundingBox=new j1(p),this.codewords=new Array(p.getMaxY()-p.getMinY()+1)}return y.prototype.getCodewordNearby=function(p){var g=this.getCodeword(p);if(null!=g)return g;for(var v=1;v<y.MAX_NEARBY_DISTANCE;v++){var _=this.imageRowToCodewordIndex(p)-v;if(_>=0&&null!=(g=this.codewords[_])||(_=this.imageRowToCodewordIndex(p)+v)<this.codewords.length&&null!=(g=this.codewords[_]))return g}return null},y.prototype.imageRowToCodewordIndex=function(p){return p-this.boundingBox.getMinY()},y.prototype.setCodeword=function(p,g){this.codewords[this.imageRowToCodewordIndex(p)]=g},y.prototype.getCodeword=function(p){return this.codewords[this.imageRowToCodewordIndex(p)]},y.prototype.getBoundingBox=function(){return this.boundingBox},y.prototype.getCodewords=function(){return this.codewords},y.prototype.toString=function(){var p,g,v=new U1,_=0;try{for(var E=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.codewords),w=E.next();!w.done;w=E.next()){var D=w.value;null!=D?v.format("%3d: %3d|%3d%n",_++,D.getRowNumber(),D.getValue()):v.format("%3d:    |   %n",_++)}}catch(O){p={error:O}}finally{try{w&&!w.done&&(g=E.return)&&g.call(E)}finally{if(p)throw p.error}}return v.toString()},y.MAX_NEARBY_DISTANCE=5,y}();const RI=YZ;var QZ=function(y,p){var g="function"==typeof Symbol&&y[Symbol.iterator];if(!g)return y;var _,w,v=g.call(y),E=[];try{for(;(void 0===p||p-- >0)&&!(_=v.next()).done;)E.push(_.value)}catch(D){w={error:D}}finally{try{_&&!_.done&&(g=v.return)&&g.call(v)}finally{if(w)throw w.error}}return E},qZ=function(){function y(){this.values=new Map}return y.prototype.setValue=function(p){p=Math.trunc(p);var g=this.values.get(p);null==g&&(g=0),g++,this.values.set(p,g)},y.prototype.getValue=function(){var p,g,v=-1,_=new Array,E=function(se,Ee){var Me_getKey=function(){return se},Me_getValue=function(){return Ee};Me_getValue()>v?(v=Me_getValue(),(_=[]).push(Me_getKey())):Me_getValue()===v&&_.push(Me_getKey())};try{for(var w=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.values.entries()),D=w.next();!D.done;D=w.next()){var O=QZ(D.value,2);E(O[0],O[1])}}catch(se){p={error:se}}finally{try{D&&!D.done&&(g=w.return)&&g.call(w)}finally{if(p)throw p.error}}return ai.toIntArray(_)},y.prototype.getConfidence=function(p){return this.values.get(p)},y}();const Pf=qZ;var e$=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),B1=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},t$=function(y){function p(g,v){var _=y.call(this,g)||this;return _._isLeft=v,_}return e$(p,y),p.prototype.setRowNumbers=function(){var g,v;try{for(var _=B1(this.getCodewords()),E=_.next();!E.done;E=_.next()){var w=E.value;null!=w&&w.setRowNumberAsRowIndicatorColumn()}}catch(D){g={error:D}}finally{try{E&&!E.done&&(v=_.return)&&v.call(_)}finally{if(g)throw g.error}}},p.prototype.adjustCompleteIndicatorColumnRowNumbers=function(g){var v=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(v,g);for(var _=this.getBoundingBox(),E=this._isLeft?_.getTopLeft():_.getTopRight(),w=this._isLeft?_.getBottomLeft():_.getBottomRight(),D=this.imageRowToCodewordIndex(Math.trunc(E.getY())),O=this.imageRowToCodewordIndex(Math.trunc(w.getY())),L=-1,z=1,se=0,Ee=D;Ee<O;Ee++)if(null!=v[Ee]){var Me=v[Ee],Ge=Me.getRowNumber()-L;if(0===Ge)se++;else if(1===Ge)z=Math.max(z,se),se=1,L=Me.getRowNumber();else if(Ge<0||Me.getRowNumber()>=g.getRowCount()||Ge>Ee)v[Ee]=null;else{for(var st,vt=(st=z>2?(z-2)*Ge:Ge)>=Ee,Ct=1;Ct<=st&&!vt;Ct++)vt=null!=v[Ee-Ct];vt?v[Ee]=null:(L=Me.getRowNumber(),se=1)}}},p.prototype.getRowHeights=function(){var g,v,_=this.getBarcodeMetadata();if(null==_)return null;this.adjustIncompleteIndicatorColumnRowNumbers(_);var E=new Int32Array(_.getRowCount());try{for(var w=B1(this.getCodewords()),D=w.next();!D.done;D=w.next()){var O=D.value;if(null!=O){var L=O.getRowNumber();if(L>=E.length)continue;E[L]++}}}catch(z){g={error:z}}finally{try{D&&!D.done&&(v=w.return)&&v.call(w)}finally{if(g)throw g.error}}return E},p.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(g){for(var v=this.getBoundingBox(),_=this._isLeft?v.getTopLeft():v.getTopRight(),E=this._isLeft?v.getBottomLeft():v.getBottomRight(),w=this.imageRowToCodewordIndex(Math.trunc(_.getY())),D=this.imageRowToCodewordIndex(Math.trunc(E.getY())),O=this.getCodewords(),L=-1,z=1,se=0,Ee=w;Ee<D;Ee++)if(null!=O[Ee]){var Me=O[Ee];Me.setRowNumberAsRowIndicatorColumn();var Ge=Me.getRowNumber()-L;0===Ge?se++:1===Ge?(z=Math.max(z,se),se=1,L=Me.getRowNumber()):Me.getRowNumber()>=g.getRowCount()?O[Ee]=null:(L=Me.getRowNumber(),se=1)}},p.prototype.getBarcodeMetadata=function(){var g,v,_=this.getCodewords(),E=new Pf,w=new Pf,D=new Pf,O=new Pf;try{for(var L=B1(_),z=L.next();!z.done;z=L.next()){var se=z.value;if(null!=se){se.setRowNumberAsRowIndicatorColumn();var Ee=se.getValue()%30,Me=se.getRowNumber();switch(this._isLeft||(Me+=2),Me%3){case 0:w.setValue(3*Ee+1);break;case 1:O.setValue(Ee/3),D.setValue(Ee%3);break;case 2:E.setValue(Ee+1)}}}}catch(st){g={error:st}}finally{try{z&&!z.done&&(v=L.return)&&v.call(L)}finally{if(g)throw g.error}}if(0===E.getValue().length||0===w.getValue().length||0===D.getValue().length||0===O.getValue().length||E.getValue()[0]<1||w.getValue()[0]+D.getValue()[0]<ai.MIN_ROWS_IN_BARCODE||w.getValue()[0]+D.getValue()[0]>ai.MAX_ROWS_IN_BARCODE)return null;var Ge=new GZ(E.getValue()[0],w.getValue()[0],D.getValue()[0],O.getValue()[0]);return this.removeIncorrectCodewords(_,Ge),Ge},p.prototype.removeIncorrectCodewords=function(g,v){for(var _=0;_<g.length;_++){var E=g[_];if(null!=g[_]){var w=E.getValue()%30,D=E.getRowNumber();if(D>v.getRowCount()){g[_]=null;continue}switch(this._isLeft||(D+=2),D%3){case 0:3*w+1!==v.getRowCountUpperPart()&&(g[_]=null);break;case 1:(Math.trunc(w/3)!==v.getErrorCorrectionLevel()||w%3!==v.getRowCountLowerPart())&&(g[_]=null);break;case 2:w+1!==v.getColumnCount()&&(g[_]=null)}}}},p.prototype.isLeft=function(){return this._isLeft},p.prototype.toString=function(){return"IsLeft: "+this._isLeft+"\n"+y.prototype.toString.call(this)},p}(RI);const LI=t$;var n$=function(){function y(p,g){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=p,this.barcodeColumnCount=p.getColumnCount(),this.boundingBox=g,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return y.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var g,p=ai.MAX_CODEWORDS_IN_BARCODE;do{g=p,p=this.adjustRowNumbersAndGetCount()}while(p>0&&p<g);return this.detectionResultColumns},y.prototype.adjustIndicatorColumnRowNumbers=function(p){null!=p&&p.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},y.prototype.adjustRowNumbersAndGetCount=function(){var p=this.adjustRowNumbersByRow();if(0===p)return 0;for(var g=1;g<this.barcodeColumnCount+1;g++)for(var v=this.detectionResultColumns[g].getCodewords(),_=0;_<v.length;_++)null!=v[_]&&(v[_].hasValidRowNumber()||this.adjustRowNumbers(g,_,v));return p},y.prototype.adjustRowNumbersByRow=function(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()},y.prototype.adjustRowNumbersFromBothRI=function(){if(null!=this.detectionResultColumns[0]&&null!=this.detectionResultColumns[this.barcodeColumnCount+1])for(var p=this.detectionResultColumns[0].getCodewords(),g=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),v=0;v<p.length;v++)if(null!=p[v]&&null!=g[v]&&p[v].getRowNumber()===g[v].getRowNumber())for(var _=1;_<=this.barcodeColumnCount;_++){var E=this.detectionResultColumns[_].getCodewords()[v];null!=E&&(E.setRowNumber(p[v].getRowNumber()),E.hasValidRowNumber()||(this.detectionResultColumns[_].getCodewords()[v]=null))}},y.prototype.adjustRowNumbersFromRRI=function(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;for(var p=0,g=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),v=0;v<g.length;v++)if(null!=g[v])for(var _=g[v].getRowNumber(),E=0,w=this.barcodeColumnCount+1;w>0&&E<this.ADJUST_ROW_NUMBER_SKIP;w--){var D=this.detectionResultColumns[w].getCodewords()[v];null!=D&&(E=y.adjustRowNumberIfValid(_,E,D),D.hasValidRowNumber()||p++)}return p},y.prototype.adjustRowNumbersFromLRI=function(){if(null==this.detectionResultColumns[0])return 0;for(var p=0,g=this.detectionResultColumns[0].getCodewords(),v=0;v<g.length;v++)if(null!=g[v])for(var _=g[v].getRowNumber(),E=0,w=1;w<this.barcodeColumnCount+1&&E<this.ADJUST_ROW_NUMBER_SKIP;w++){var D=this.detectionResultColumns[w].getCodewords()[v];null!=D&&(E=y.adjustRowNumberIfValid(_,E,D),D.hasValidRowNumber()||p++)}return p},y.adjustRowNumberIfValid=function(p,g,v){return null==v||v.hasValidRowNumber()||(v.isValidRowNumber(p)?(v.setRowNumber(p),g=0):++g),g},y.prototype.adjustRowNumbers=function(p,g,v){var _,E;if(null!=this.detectionResultColumns[p-1]){var w=v[g],D=this.detectionResultColumns[p-1].getCodewords(),O=D;null!=this.detectionResultColumns[p+1]&&(O=this.detectionResultColumns[p+1].getCodewords());var L=new Array(14);L[2]=D[g],L[3]=O[g],g>0&&(L[0]=v[g-1],L[4]=D[g-1],L[5]=O[g-1]),g>1&&(L[8]=v[g-2],L[10]=D[g-2],L[11]=O[g-2]),g<v.length-1&&(L[1]=v[g+1],L[6]=D[g+1],L[7]=O[g+1]),g<v.length-2&&(L[9]=v[g+2],L[12]=D[g+2],L[13]=O[g+2]);try{for(var z=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")}(L),se=z.next();!se.done;se=z.next())if(y.adjustRowNumber(w,se.value))return}catch(Me){_={error:Me}}finally{try{se&&!se.done&&(E=z.return)&&E.call(z)}finally{if(_)throw _.error}}}},y.adjustRowNumber=function(p,g){return!(null==g||!g.hasValidRowNumber()||g.getBucket()!==p.getBucket()||(p.setRowNumber(g.getRowNumber()),0))},y.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},y.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},y.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},y.prototype.setBoundingBox=function(p){this.boundingBox=p},y.prototype.getBoundingBox=function(){return this.boundingBox},y.prototype.setDetectionResultColumn=function(p,g){this.detectionResultColumns[p]=g},y.prototype.getDetectionResultColumn=function(p){return this.detectionResultColumns[p]},y.prototype.toString=function(){var p=this.detectionResultColumns[0];null==p&&(p=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var g=new U1,v=0;v<p.getCodewords().length;v++){g.format("CW %3d:",v);for(var _=0;_<this.barcodeColumnCount+2;_++)if(null!=this.detectionResultColumns[_]){var E=this.detectionResultColumns[_].getCodewords()[v];null!=E?g.format(" %3d|%3d",E.getRowNumber(),E.getValue()):g.format("    |   ")}else g.format("    |   ");g.format("%n")}return g.toString()},y}();const i$=n$;var o$=function(){function y(p,g,v,_){this.rowNumber=y.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(p),this.endX=Math.trunc(g),this.bucket=Math.trunc(v),this.value=Math.trunc(_)}return y.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},y.prototype.isValidRowNumber=function(p){return p!==y.BARCODE_ROW_UNKNOWN&&this.bucket===p%3*3},y.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))},y.prototype.getWidth=function(){return this.endX-this.startX},y.prototype.getStartX=function(){return this.startX},y.prototype.getEndX=function(){return this.endX},y.prototype.getBucket=function(){return this.bucket},y.prototype.getValue=function(){return this.value},y.prototype.getRowNumber=function(){return this.rowNumber},y.prototype.setRowNumber=function(p){this.rowNumber=p},y.prototype.toString=function(){return this.rowNumber+"|"+this.value},y.BARCODE_ROW_UNKNOWN=-1,y}();const s$=o$;var a$=function(){function y(){}return y.initialize=function(){for(var p=0;p<ai.SYMBOL_TABLE.length;p++)for(var g=ai.SYMBOL_TABLE[p],v=1&g,_=0;_<ai.BARS_IN_MODULE;_++){for(var E=0;(1&g)===v;)E+=1,g>>=1;v=1&g,y.RATIOS_TABLE[p]||(y.RATIOS_TABLE[p]=new Array(ai.BARS_IN_MODULE)),y.RATIOS_TABLE[p][ai.BARS_IN_MODULE-_-1]=Math.fround(E/ai.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},y.getDecodedValue=function(p){var g=y.getDecodedCodewordValue(y.sampleBitCounts(p));return-1!==g?g:y.getClosestDecodedValue(p)},y.sampleBitCounts=function(p){for(var g=ui.sum(p),v=new Int32Array(ai.BARS_IN_MODULE),_=0,E=0,w=0;w<ai.MODULES_IN_CODEWORD;w++)E+p[_]<=g/(2*ai.MODULES_IN_CODEWORD)+w*g/ai.MODULES_IN_CODEWORD&&(E+=p[_],_++),v[_]++;return v},y.getDecodedCodewordValue=function(p){var g=y.getBitValue(p);return-1===ai.getCodeword(g)?-1:g},y.getBitValue=function(p){for(var g=0,v=0;v<p.length;v++)for(var _=0;_<p[v];_++)g=g<<1|(v%2==0?1:0);return Math.trunc(g)},y.getClosestDecodedValue=function(p){var g=ui.sum(p),v=new Array(ai.BARS_IN_MODULE);if(g>1)for(var _=0;_<v.length;_++)v[_]=Math.fround(p[_]/g);var E=S1.MAX_VALUE,w=-1;this.bSymbolTableReady||y.initialize();for(var D=0;D<y.RATIOS_TABLE.length;D++){for(var O=0,L=y.RATIOS_TABLE[D],z=0;z<ai.BARS_IN_MODULE;z++){var se=Math.fround(L[z]-v[z]);if((O+=Math.fround(se*se))>=E)break}O<E&&(E=O,w=ai.SYMBOL_TABLE[D])}return w},y.bSymbolTableReady=!1,y.RATIOS_TABLE=new Array(ai.SYMBOL_TABLE.length).map(function(p){return new Array(ai.BARS_IN_MODULE)}),y}();const l$=a$;var u$=function(){function y(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return y.prototype.getSegmentIndex=function(){return this.segmentIndex},y.prototype.setSegmentIndex=function(p){this.segmentIndex=p},y.prototype.getFileId=function(){return this.fileId},y.prototype.setFileId=function(p){this.fileId=p},y.prototype.getOptionalData=function(){return this.optionalData},y.prototype.setOptionalData=function(p){this.optionalData=p},y.prototype.isLastSegment=function(){return this.lastSegment},y.prototype.setLastSegment=function(p){this.lastSegment=p},y.prototype.getSegmentCount=function(){return this.segmentCount},y.prototype.setSegmentCount=function(p){this.segmentCount=p},y.prototype.getSender=function(){return this.sender||null},y.prototype.setSender=function(p){this.sender=p},y.prototype.getAddressee=function(){return this.addressee||null},y.prototype.setAddressee=function(p){this.addressee=p},y.prototype.getFileName=function(){return this.fileName},y.prototype.setFileName=function(p){this.fileName=p},y.prototype.getFileSize=function(){return this.fileSize},y.prototype.setFileSize=function(p){this.fileSize=p},y.prototype.getChecksum=function(){return this.checksum},y.prototype.setChecksum=function(p){this.checksum=p},y.prototype.getTimestamp=function(){return this.timestamp},y.prototype.setTimestamp=function(p){this.timestamp=p},y}();const c$=u$;var d$=function(){function y(){}return y.parseLong=function(p,g){return void 0===g&&(g=void 0),parseInt(p,g)},y}();const NI=d$;var h$=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),f$=function(y){function p(){return null!==y&&y.apply(this,arguments)||this}return h$(p,y),p.kind="NullPointerException",p}(As);const p$=f$;var m$=function(){function y(){}return y.prototype.writeBytes=function(p){this.writeBytesOffset(p,0,p.length)},y.prototype.writeBytesOffset=function(p,g,v){if(null==p)throw new p$;if(g<0||g>p.length||v<0||g+v>p.length||g+v<0)throw new O1;if(0!==v)for(var _=0;_<v;_++)this.write(p[g+_])},y.prototype.flush=function(){},y.prototype.close=function(){},y}();const y$=m$;var g$=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),v$=function(y){function p(){return null!==y&&y.apply(this,arguments)||this}return g$(p,y),p}(As);const _$=v$;var E$=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),b$=function(y){function p(g){void 0===g&&(g=32);var v=y.call(this)||this;if(v.count=0,g<0)throw new rn("Negative initial size: "+g);return v.buf=new Uint8Array(g),v}return E$(p,y),p.prototype.ensureCapacity=function(g){g-this.buf.length>0&&this.grow(g)},p.prototype.grow=function(g){var _=this.buf.length<<1;if(_-g<0&&(_=g),_<0){if(g<0)throw new _$;_=ni.MAX_VALUE}this.buf=Rs.copyOfUint8Array(this.buf,_)},p.prototype.write=function(g){this.ensureCapacity(this.count+1),this.buf[this.count]=g,this.count+=1},p.prototype.writeBytesOffset=function(g,v,_){if(v<0||v>g.length||_<0||v+_-g.length>0)throw new O1;this.ensureCapacity(this.count+_),Ti.arraycopy(g,v,this.buf,this.count,_),this.count+=_},p.prototype.writeTo=function(g){g.writeBytesOffset(this.buf,0,this.count)},p.prototype.reset=function(){this.count=0},p.prototype.toByteArray=function(){return Rs.copyOfUint8Array(this.buf,this.count)},p.prototype.size=function(){return this.count},p.prototype.toString=function(g){return g?"string"==typeof g?this.toString_string(g):this.toString_number(g):this.toString_void()},p.prototype.toString_void=function(){return new String(this.buf).toString()},p.prototype.toString_string=function(g){return new String(this.buf).toString()},p.prototype.toString_number=function(g){return new String(this.buf).toString()},p.prototype.close=function(){},p}(y$);const C$=b$;var Dm,gi=(()=>(function(y){y[y.ALPHA=0]="ALPHA",y[y.LOWER=1]="LOWER",y[y.MIXED=2]="MIXED",y[y.PUNCT=3]="PUNCT",y[y.ALPHA_SHIFT=4]="ALPHA_SHIFT",y[y.PUNCT_SHIFT=5]="PUNCT_SHIFT"}(gi||(gi={})),gi))();function FI(){if("undefined"!=typeof window)return window.BigInt||null;if("undefined"!=typeof global)return global.BigInt||null;if("undefined"!=typeof self)return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}function Cu(y){if(void 0===Dm&&(Dm=FI()),null===Dm)throw new Error("BigInt is not supported!");return Dm(y)}var w$=function(){function y(){}return y.decode=function(p,g){var v=new Ei(""),_=To.ISO8859_1;v.enableDecoding(_);for(var E=1,w=p[E++],D=new c$;E<p[0];){switch(w){case y.TEXT_COMPACTION_MODE_LATCH:E=y.textCompaction(p,E,v);break;case y.BYTE_COMPACTION_MODE_LATCH:case y.BYTE_COMPACTION_MODE_LATCH_6:E=y.byteCompaction(w,p,_,E,v);break;case y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(p[E++]);break;case y.NUMERIC_COMPACTION_MODE_LATCH:E=y.numericCompaction(p,E,v);break;case y.ECI_CHARSET:To.getCharacterSetECIByValue(p[E++]);break;case y.ECI_GENERAL_PURPOSE:E+=2;break;case y.ECI_USER_DEFINED:E++;break;case y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:E=y.decodeMacroBlock(p,E,D);break;case y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case y.MACRO_PDF417_TERMINATOR:throw new $r;default:E--,E=y.textCompaction(p,E,v)}if(!(E<p.length))throw $r.getFormatInstance();w=p[E++]}if(0===v.length())throw $r.getFormatInstance();var L=new ym(null,v.toString(),null,g);return L.setOther(D),L},y.decodeMacroBlock=function(p,g,v){if(g+y.NUMBER_OF_SEQUENCE_CODEWORDS>p[0])throw $r.getFormatInstance();for(var _=new Int32Array(y.NUMBER_OF_SEQUENCE_CODEWORDS),E=0;E<y.NUMBER_OF_SEQUENCE_CODEWORDS;E++,g++)_[E]=p[g];v.setSegmentIndex(ni.parseInt(y.decodeBase900toBase10(_,y.NUMBER_OF_SEQUENCE_CODEWORDS)));var w=new Ei;g=y.textCompaction(p,g,w),v.setFileId(w.toString());var D=-1;for(p[g]===y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(D=g+1);g<p[0];)switch(p[g]){case y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(p[++g]){case y.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var O=new Ei;g=y.textCompaction(p,g+1,O),v.setFileName(O.toString());break;case y.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var L=new Ei;g=y.textCompaction(p,g+1,L),v.setSender(L.toString());break;case y.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var z=new Ei;g=y.textCompaction(p,g+1,z),v.setAddressee(z.toString());break;case y.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var se=new Ei;g=y.numericCompaction(p,g+1,se),v.setSegmentCount(ni.parseInt(se.toString()));break;case y.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var Ee=new Ei;g=y.numericCompaction(p,g+1,Ee),v.setTimestamp(NI.parseLong(Ee.toString()));break;case y.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var Me=new Ei;g=y.numericCompaction(p,g+1,Me),v.setChecksum(ni.parseInt(Me.toString()));break;case y.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var Ge=new Ei;g=y.numericCompaction(p,g+1,Ge),v.setFileSize(NI.parseLong(Ge.toString()));break;default:throw $r.getFormatInstance()}break;case y.MACRO_PDF417_TERMINATOR:g++,v.setLastSegment(!0);break;default:throw $r.getFormatInstance()}if(-1!==D){var st=g-D;v.isLastSegment()&&st--,v.setOptionalData(Rs.copyOfRange(p,D,D+st))}return g},y.textCompaction=function(p,g,v){for(var _=new Int32Array(2*(p[0]-g)),E=new Int32Array(2*(p[0]-g)),w=0,D=!1;g<p[0]&&!D;){var O=p[g++];if(O<y.TEXT_COMPACTION_MODE_LATCH)_[w]=O/30,_[w+1]=O%30,w+=2;else switch(O){case y.TEXT_COMPACTION_MODE_LATCH:_[w++]=y.TEXT_COMPACTION_MODE_LATCH;break;case y.BYTE_COMPACTION_MODE_LATCH:case y.BYTE_COMPACTION_MODE_LATCH_6:case y.NUMERIC_COMPACTION_MODE_LATCH:case y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case y.MACRO_PDF417_TERMINATOR:g--,D=!0;break;case y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:_[w]=y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,O=p[g++],E[w]=O,w++}}return y.decodeTextCompaction(_,E,w,v),g},y.decodeTextCompaction=function(p,g,v,_){for(var E=gi.ALPHA,w=gi.ALPHA,D=0;D<v;){var O=p[D],L="";switch(E){case gi.ALPHA:if(O<26)L=String.fromCharCode(65+O);else switch(O){case 26:L=" ";break;case y.LL:E=gi.LOWER;break;case y.ML:E=gi.MIXED;break;case y.PS:w=E,E=gi.PUNCT_SHIFT;break;case y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:_.append(g[D]);break;case y.TEXT_COMPACTION_MODE_LATCH:E=gi.ALPHA}break;case gi.LOWER:if(O<26)L=String.fromCharCode(97+O);else switch(O){case 26:L=" ";break;case y.AS:w=E,E=gi.ALPHA_SHIFT;break;case y.ML:E=gi.MIXED;break;case y.PS:w=E,E=gi.PUNCT_SHIFT;break;case y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:_.append(g[D]);break;case y.TEXT_COMPACTION_MODE_LATCH:E=gi.ALPHA}break;case gi.MIXED:if(O<y.PL)L=y.MIXED_CHARS[O];else switch(O){case y.PL:E=gi.PUNCT;break;case 26:L=" ";break;case y.LL:E=gi.LOWER;break;case y.AL:E=gi.ALPHA;break;case y.PS:w=E,E=gi.PUNCT_SHIFT;break;case y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:_.append(g[D]);break;case y.TEXT_COMPACTION_MODE_LATCH:E=gi.ALPHA}break;case gi.PUNCT:if(O<y.PAL)L=y.PUNCT_CHARS[O];else switch(O){case y.PAL:E=gi.ALPHA;break;case y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:_.append(g[D]);break;case y.TEXT_COMPACTION_MODE_LATCH:E=gi.ALPHA}break;case gi.ALPHA_SHIFT:if(E=w,O<26)L=String.fromCharCode(65+O);else switch(O){case 26:L=" ";break;case y.TEXT_COMPACTION_MODE_LATCH:E=gi.ALPHA}break;case gi.PUNCT_SHIFT:if(E=w,O<y.PAL)L=y.PUNCT_CHARS[O];else switch(O){case y.PAL:E=gi.ALPHA;break;case y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:_.append(g[D]);break;case y.TEXT_COMPACTION_MODE_LATCH:E=gi.ALPHA}}""!==L&&_.append(L),D++}},y.byteCompaction=function(p,g,v,_,E){var w=new C$,D=0,O=0,L=!1;switch(p){case y.BYTE_COMPACTION_MODE_LATCH:for(var z=new Int32Array(6),se=g[_++];_<g[0]&&!L;)switch(z[D++]=se,O=900*O+se,se=g[_++],se){case y.TEXT_COMPACTION_MODE_LATCH:case y.BYTE_COMPACTION_MODE_LATCH:case y.NUMERIC_COMPACTION_MODE_LATCH:case y.BYTE_COMPACTION_MODE_LATCH_6:case y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case y.MACRO_PDF417_TERMINATOR:_--,L=!0;break;default:if(D%5==0&&D>0){for(var Ee=0;Ee<6;++Ee)w.write(Number(Cu(O)>>Cu(8*(5-Ee))));O=0,D=0}}_===g[0]&&se<y.TEXT_COMPACTION_MODE_LATCH&&(z[D++]=se);for(var Me=0;Me<D;Me++)w.write(z[Me]);break;case y.BYTE_COMPACTION_MODE_LATCH_6:for(;_<g[0]&&!L;){var Ge=g[_++];if(Ge<y.TEXT_COMPACTION_MODE_LATCH)D++,O=900*O+Ge;else switch(Ge){case y.TEXT_COMPACTION_MODE_LATCH:case y.BYTE_COMPACTION_MODE_LATCH:case y.NUMERIC_COMPACTION_MODE_LATCH:case y.BYTE_COMPACTION_MODE_LATCH_6:case y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case y.MACRO_PDF417_TERMINATOR:_--,L=!0}if(D%5==0&&D>0){for(Ee=0;Ee<6;++Ee)w.write(Number(Cu(O)>>Cu(8*(5-Ee))));O=0,D=0}}}return E.append(ul.decode(w.toByteArray(),v)),_},y.numericCompaction=function(p,g,v){for(var _=0,E=!1,w=new Int32Array(y.MAX_NUMERIC_CODEWORDS);g<p[0]&&!E;){var D=p[g++];if(g===p[0]&&(E=!0),D<y.TEXT_COMPACTION_MODE_LATCH)w[_]=D,_++;else switch(D){case y.TEXT_COMPACTION_MODE_LATCH:case y.BYTE_COMPACTION_MODE_LATCH:case y.BYTE_COMPACTION_MODE_LATCH_6:case y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case y.MACRO_PDF417_TERMINATOR:g--,E=!0}(_%y.MAX_NUMERIC_CODEWORDS==0||D===y.NUMERIC_COMPACTION_MODE_LATCH||E)&&_>0&&(v.append(y.decodeBase900toBase10(w,_)),_=0)}return g},y.decodeBase900toBase10=function(p,g){for(var v=Cu(0),_=0;_<g;_++)v+=y.EXP900[g-_-1]*Cu(p[_]);var E=v.toString();if("1"!==E.charAt(0))throw new $r;return E.substring(1)},y.TEXT_COMPACTION_MODE_LATCH=900,y.BYTE_COMPACTION_MODE_LATCH=901,y.NUMERIC_COMPACTION_MODE_LATCH=902,y.BYTE_COMPACTION_MODE_LATCH_6=924,y.ECI_USER_DEFINED=925,y.ECI_GENERAL_PURPOSE=926,y.ECI_CHARSET=927,y.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,y.MACRO_PDF417_TERMINATOR=922,y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,y.MAX_NUMERIC_CODEWORDS=15,y.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,y.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,y.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,y.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,y.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,y.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,y.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,y.PL=25,y.LL=27,y.AS=27,y.ML=28,y.AL=28,y.PS=29,y.PAL=29,y.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",y.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",y.EXP900=FI()?function M$(){var y=[];y[0]=Cu(1);var p=Cu(900);y[1]=p;for(var g=2;g<16;g++)y[g]=y[g-1]*p;return y}():[],y.NUMBER_OF_SEQUENCE_CODEWORDS=2,y}();const x$=w$;var Af=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},D$=function(){function y(){}return y.decode=function(p,g,v,_,E,w,D){for(var se,O=new j1(p,g,v,_,E),L=null,z=null,Ee=!0;;Ee=!1){if(null!=g&&(L=y.getRowIndicatorColumn(p,O,g,!0,w,D)),null!=_&&(z=y.getRowIndicatorColumn(p,O,_,!1,w,D)),null==(se=y.merge(L,z)))throw Er.getNotFoundInstance();var Me=se.getBoundingBox();if(!Ee||null==Me||!(Me.getMinY()<O.getMinY()||Me.getMaxY()>O.getMaxY()))break;O=Me}se.setBoundingBox(O);var Ge=se.getBarcodeColumnCount()+1;se.setDetectionResultColumn(0,L),se.setDetectionResultColumn(Ge,z);for(var st=null!=L,vt=1;vt<=Ge;vt++){var Ct=st?vt:Ge-vt;if(void 0===se.getDetectionResultColumn(Ct)){var pt=void 0;pt=0===Ct||Ct===Ge?new LI(O,0===Ct):new RI(O),se.setDetectionResultColumn(Ct,pt);for(var Nt=-1,zt=Nt,ar=O.getMinY();ar<=O.getMaxY();ar++){if((Nt=y.getStartColumn(se,Ct,ar,st))<0||Nt>O.getMaxX()){if(-1===zt)continue;Nt=zt}var Mr=y.detectCodeword(p,O.getMinX(),O.getMaxX(),st,Nt,ar,w,D);null!=Mr&&(pt.setCodeword(ar,Mr),zt=Nt,w=Math.min(w,Mr.getWidth()),D=Math.max(D,Mr.getWidth()))}}}return y.createDecoderResult(se)},y.merge=function(p,g){if(null==p&&null==g)return null;var v=y.getBarcodeMetadata(p,g);if(null==v)return null;var _=j1.merge(y.adjustBoundingBox(p),y.adjustBoundingBox(g));return new i$(v,_)},y.adjustBoundingBox=function(p){var g,v;if(null==p)return null;var _=p.getRowHeights();if(null==_)return null;var E=y.getMax(_),w=0;try{for(var D=Af(_),O=D.next();!O.done;O=D.next()){var L=O.value;if(w+=E-L,L>0)break}}catch(Me){g={error:Me}}finally{try{O&&!O.done&&(v=D.return)&&v.call(D)}finally{if(g)throw g.error}}for(var z=p.getCodewords(),se=0;w>0&&null==z[se];se++)w--;var Ee=0;for(se=_.length-1;se>=0&&(Ee+=E-_[se],!(_[se]>0));se--);for(se=z.length-1;Ee>0&&null==z[se];se--)Ee--;return p.getBoundingBox().addMissingRows(w,Ee,p.isLeft())},y.getMax=function(p){var g,v,_=-1;try{for(var E=Af(p),w=E.next();!w.done;w=E.next())_=Math.max(_,w.value)}catch(O){g={error:O}}finally{try{w&&!w.done&&(v=E.return)&&v.call(E)}finally{if(g)throw g.error}}return _},y.getBarcodeMetadata=function(p,g){var v,_;return null==p||null==(v=p.getBarcodeMetadata())?null==g?null:g.getBarcodeMetadata():null==g||null==(_=g.getBarcodeMetadata())?v:v.getColumnCount()!==_.getColumnCount()&&v.getErrorCorrectionLevel()!==_.getErrorCorrectionLevel()&&v.getRowCount()!==_.getRowCount()?null:v},y.getRowIndicatorColumn=function(p,g,v,_,E,w){for(var D=new LI(g,_),O=0;O<2;O++)for(var L=0===O?1:-1,z=Math.trunc(Math.trunc(v.getX())),se=Math.trunc(Math.trunc(v.getY()));se<=g.getMaxY()&&se>=g.getMinY();se+=L){var Ee=y.detectCodeword(p,0,p.getWidth(),_,z,se,E,w);null!=Ee&&(D.setCodeword(se,Ee),z=_?Ee.getStartX():Ee.getEndX())}return D},y.adjustCodewordCount=function(p,g){var v=g[0][1],_=v.getValue(),E=p.getBarcodeColumnCount()*p.getBarcodeRowCount()-y.getNumberOfECCodeWords(p.getBarcodeECLevel());if(0===_.length){if(E<1||E>ai.MAX_CODEWORDS_IN_BARCODE)throw Er.getNotFoundInstance();v.setValue(E)}else _[0]!==E&&v.setValue(E)},y.createDecoderResult=function(p){var g=y.createBarcodeMatrix(p);y.adjustCodewordCount(p,g);for(var v=new Array,_=new Int32Array(p.getBarcodeRowCount()*p.getBarcodeColumnCount()),E=[],w=new Array,D=0;D<p.getBarcodeRowCount();D++)for(var O=0;O<p.getBarcodeColumnCount();O++){var L=g[D][O+1].getValue(),z=D*p.getBarcodeColumnCount()+O;0===L.length?v.push(z):1===L.length?_[z]=L[0]:(w.push(z),E.push(L))}for(var se=new Array(E.length),Ee=0;Ee<se.length;Ee++)se[Ee]=E[Ee];return y.createDecoderResultFromAmbiguousValues(p.getBarcodeECLevel(),_,ai.toIntArray(v),ai.toIntArray(w),se)},y.createDecoderResultFromAmbiguousValues=function(p,g,v,_,E){for(var w=new Int32Array(_.length),D=100;D-- >0;){for(var O=0;O<w.length;O++)g[_[O]]=E[O][w[O]];try{return y.decodeCodewords(g,p,v)}catch(z){if(!(z instanceof Mo))throw z}if(0===w.length)throw Mo.getChecksumInstance();for(O=0;O<w.length;O++){if(w[O]<E[O].length-1){w[O]++;break}if(w[O]=0,O===w.length-1)throw Mo.getChecksumInstance()}}throw Mo.getChecksumInstance()},y.createBarcodeMatrix=function(p){for(var g,v,_,E,w=Array.from({length:p.getBarcodeRowCount()},function(){return new Array(p.getBarcodeColumnCount()+2)}),D=0;D<w.length;D++)for(var O=0;O<w[D].length;O++)w[D][O]=new Pf;var L=0;try{for(var z=Af(p.getDetectionResultColumns()),se=z.next();!se.done;se=z.next()){var Ee=se.value;if(null!=Ee)try{for(var Me=(_=void 0,Af(Ee.getCodewords())),Ge=Me.next();!Ge.done;Ge=Me.next()){var st=Ge.value;if(null!=st){var vt=st.getRowNumber();if(vt>=0){if(vt>=w.length)continue;w[vt][L].setValue(st.getValue())}}}}catch(Ct){_={error:Ct}}finally{try{Ge&&!Ge.done&&(E=Me.return)&&E.call(Me)}finally{if(_)throw _.error}}L++}}catch(Ct){g={error:Ct}}finally{try{se&&!se.done&&(v=z.return)&&v.call(z)}finally{if(g)throw g.error}}return w},y.isValidBarcodeColumn=function(p,g){return g>=0&&g<=p.getBarcodeColumnCount()+1},y.getStartColumn=function(p,g,v,_){var E,w,D=_?1:-1,O=null;if(y.isValidBarcodeColumn(p,g-D)&&(O=p.getDetectionResultColumn(g-D).getCodeword(v)),null!=O)return _?O.getEndX():O.getStartX();if(null!=(O=p.getDetectionResultColumn(g).getCodewordNearby(v)))return _?O.getStartX():O.getEndX();if(y.isValidBarcodeColumn(p,g-D)&&(O=p.getDetectionResultColumn(g-D).getCodewordNearby(v)),null!=O)return _?O.getEndX():O.getStartX();for(var L=0;y.isValidBarcodeColumn(p,g-D);){g-=D;try{for(var z=(E=void 0,Af(p.getDetectionResultColumn(g).getCodewords())),se=z.next();!se.done;se=z.next()){var Ee=se.value;if(null!=Ee)return(_?Ee.getEndX():Ee.getStartX())+D*L*(Ee.getEndX()-Ee.getStartX())}}catch(Me){E={error:Me}}finally{try{se&&!se.done&&(w=z.return)&&w.call(z)}finally{if(E)throw E.error}}L++}return _?p.getBoundingBox().getMinX():p.getBoundingBox().getMaxX()},y.detectCodeword=function(p,g,v,_,E,w,D,O){E=y.adjustCodewordStartColumn(p,g,v,_,E,w);var L=y.getModuleBitCount(p,g,v,_,E,w);if(null==L)return null;var z,se=ui.sum(L);if(_)z=E+se;else{for(var Ee=0;Ee<L.length/2;Ee++){var Me=L[Ee];L[Ee]=L[L.length-1-Ee],L[L.length-1-Ee]=Me}E=(z=E)-se}if(!y.checkCodewordSkew(se,D,O))return null;var Ge=l$.getDecodedValue(L),st=ai.getCodeword(Ge);return-1===st?null:new s$(E,z,y.getCodewordBucketNumber(Ge),st)},y.getModuleBitCount=function(p,g,v,_,E,w){for(var D=E,O=new Int32Array(8),L=0,z=_?1:-1,se=_;(_?D<v:D>=g)&&L<O.length;)p.get(D,w)===se?(O[L]++,D+=z):(L++,se=!se);return L===O.length||D===(_?v:g)&&L===O.length-1?O:null},y.getNumberOfECCodeWords=function(p){return 2<<p},y.adjustCodewordStartColumn=function(p,g,v,_,E,w){for(var D=E,O=_?-1:1,L=0;L<2;L++){for(;(_?D>=g:D<v)&&_===p.get(D,w);){if(Math.abs(E-D)>y.CODEWORD_SKEW_SIZE)return E;D+=O}O=-O,_=!_}return D},y.checkCodewordSkew=function(p,g,v){return g-y.CODEWORD_SKEW_SIZE<=p&&p<=v+y.CODEWORD_SKEW_SIZE},y.decodeCodewords=function(p,g,v){if(0===p.length)throw $r.getFormatInstance();var _=1<<g+1,E=y.correctErrors(p,v,_);y.verifyCodewordCount(p,_);var w=x$.decode(p,""+g);return w.setErrorsCorrected(E),w.setErasures(v.length),w},y.correctErrors=function(p,g,v){if(null!=g&&g.length>v/2+y.MAX_ERRORS||v<0||v>y.MAX_EC_CODEWORDS)throw Mo.getChecksumInstance();return y.errorCorrection.decode(p,v,g)},y.verifyCodewordCount=function(p,g){if(p.length<4)throw $r.getFormatInstance();var v=p[0];if(v>p.length)throw $r.getFormatInstance();if(0===v){if(!(g<p.length))throw $r.getFormatInstance();p[0]=p.length-g}},y.getBitCountForCodeword=function(p){for(var g=new Int32Array(8),v=0,_=g.length-1;!((1&p)!==v&&(v=1&p,_--,_<0));)g[_]++,p>>=1;return g},y.getCodewordBucketNumber=function(p){return p instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(p):this.getCodewordBucketNumber_number(p)},y.getCodewordBucketNumber_number=function(p){return y.getCodewordBucketNumber(y.getBitCountForCodeword(p))},y.getCodewordBucketNumber_Int32Array=function(p){return(p[0]-p[2]+p[4]-p[6]+9)%9},y.toString=function(p){for(var g=new U1,v=0;v<p.length;v++){g.format("Row %2d: ",v);for(var _=0;_<p[v].length;_++){var E=p[v][_];0===E.getValue().length?g.format("        ",null):g.format("%4d(%2d)",E.getValue()[0],E.getConfidence(E.getValue()[0]))}g.format("%n")}return g.toString()},y.CODEWORD_SKEW_SIZE=2,y.MAX_ERRORS=3,y.MAX_EC_CODEWORDS=512,y.errorCorrection=new $Z,y}();const O$=D$;var I$=function(){function y(){}return y.prototype.decode=function(p,g){void 0===g&&(g=null);var v=y.decode(p,g,!1);if(null==v||0===v.length||null==v[0])throw Er.getNotFoundInstance();return v[0]},y.prototype.decodeMultiple=function(p,g){void 0===g&&(g=null);try{return y.decode(p,g,!0)}catch(v){throw v instanceof $r||v instanceof Mo?Er.getNotFoundInstance():v}},y.decode=function(p,g,v){var _,E,w=new Array,D=LZ.detectMultiple(p,g,v);try{for(var O=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")}(D.getPoints()),L=O.next();!L.done;L=O.next()){var z=L.value,se=O$.decode(D.getBits(),z[4],z[5],z[6],z[7],y.getMinCodewordWidth(z),y.getMaxCodewordWidth(z)),Ee=new Ls(se.getText(),se.getRawBytes(),void 0,z,mn.PDF_417);Ee.putMetadata(Jo.ERROR_CORRECTION_LEVEL,se.getECLevel());var Me=se.getOther();null!=Me&&Ee.putMetadata(Jo.PDF417_EXTRA_METADATA,Me),w.push(Ee)}}catch(Ge){_={error:Ge}}finally{try{L&&!L.done&&(E=O.return)&&E.call(O)}finally{if(_)throw _.error}}return w.map(function(Ge){return Ge})},y.getMaxWidth=function(p,g){return null==p||null==g?0:Math.trunc(Math.abs(p.getX()-g.getX()))},y.getMinWidth=function(p,g){return null==p||null==g?ni.MAX_VALUE:Math.trunc(Math.abs(p.getX()-g.getX()))},y.getMaxCodewordWidth=function(p){return Math.floor(Math.max(Math.max(y.getMaxWidth(p[0],p[4]),y.getMaxWidth(p[6],p[2])*ai.MODULES_IN_CODEWORD/ai.MODULES_IN_STOP_PATTERN),Math.max(y.getMaxWidth(p[1],p[5]),y.getMaxWidth(p[7],p[3])*ai.MODULES_IN_CODEWORD/ai.MODULES_IN_STOP_PATTERN)))},y.getMinCodewordWidth=function(p){return Math.floor(Math.min(Math.min(y.getMinWidth(p[0],p[4]),y.getMinWidth(p[6],p[2])*ai.MODULES_IN_CODEWORD/ai.MODULES_IN_STOP_PATTERN),Math.min(y.getMinWidth(p[1],p[5]),y.getMinWidth(p[7],p[3])*ai.MODULES_IN_CODEWORD/ai.MODULES_IN_STOP_PATTERN)))},y.prototype.reset=function(){},y}();const Om=I$;var T$=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),P$=function(y){function p(){return null!==y&&y.apply(this,arguments)||this}return T$(p,y),p.kind="ReaderException",p}(As);const jI=P$;var UI=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},A$=function(){function y(){}return y.prototype.decode=function(p,g){return this.setHints(g),this.decodeInternal(p)},y.prototype.decodeWithState=function(p){return null==this.readers&&this.setHints(null),this.decodeInternal(p)},y.prototype.setHints=function(p){this.hints=p;var g=null!=p&&void 0!==p.get(hi.TRY_HARDER),v=null==p?null:p.get(hi.POSSIBLE_FORMATS),_=new Array;if(null!=v){var E=v.some(function(w){return w===mn.UPC_A||w===mn.UPC_E||w===mn.EAN_13||w===mn.EAN_8||w===mn.CODABAR||w===mn.CODE_39||w===mn.CODE_93||w===mn.CODE_128||w===mn.ITF||w===mn.RSS_14||w===mn.RSS_EXPANDED});E&&!g&&_.push(new Ad(p)),v.includes(mn.QR_CODE)&&_.push(new xm),v.includes(mn.DATA_MATRIX)&&_.push(new wm),v.includes(mn.AZTEC)&&_.push(new _m),v.includes(mn.PDF_417)&&_.push(new Om),E&&g&&_.push(new Ad(p))}0===_.length&&(g||_.push(new Ad(p)),_.push(new xm),_.push(new wm),_.push(new _m),_.push(new Om),g&&_.push(new Ad(p))),this.readers=_},y.prototype.reset=function(){var p,g;if(null!==this.readers)try{for(var v=UI(this.readers),_=v.next();!_.done;_=v.next())_.value.reset()}catch(w){p={error:w}}finally{try{_&&!_.done&&(g=v.return)&&g.call(v)}finally{if(p)throw p.error}}},y.prototype.decodeInternal=function(p){var g,v;if(null===this.readers)throw new jI("No readers where selected, nothing can be read.");try{for(var _=UI(this.readers),E=_.next();!E.done;E=_.next()){var w=E.value;try{return w.decode(p,this.hints)}catch(D){if(D instanceof jI)continue}}}catch(D){g={error:D}}finally{try{E&&!E.done&&(v=_.return)&&v.call(_)}finally{if(g)throw g.error}}throw new Er("No MultiFormat Readers were able to detect the code.")},y}();const BI=A$;var R$=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),L$=(function(y){function p(g,v){void 0===g&&(g=null),void 0===v&&(v=500);var E=new BI;return E.setHints(g),y.call(this,E,v)||this}R$(p,y),p.prototype.decodeBitmap=function(g){return this.reader.decodeWithState(g)}}(Sd),function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}()),N$=(function(y){L$(function p(g){return void 0===g&&(g=500),y.call(this,new Om,g)||this},y)}(Sd),function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}()),Sm=(function(y){N$(function p(g){return void 0===g&&(g=500),y.call(this,new xm,g)||this},y)}(Sd),(()=>(function(y){y[y.ERROR_CORRECTION=0]="ERROR_CORRECTION",y[y.CHARACTER_SET=1]="CHARACTER_SET",y[y.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",y[y.MIN_SIZE=3]="MIN_SIZE",y[y.MAX_SIZE=4]="MAX_SIZE",y[y.MARGIN=5]="MARGIN",y[y.PDF417_COMPACT=6]="PDF417_COMPACT",y[y.PDF417_COMPACTION=7]="PDF417_COMPACTION",y[y.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",y[y.AZTEC_LAYERS=9]="AZTEC_LAYERS",y[y.QR_VERSION=10]="QR_VERSION"}(Sm||(Sm={})),Sm))());const Pi=Sm;var F$=function(){function y(p){this.field=p,this.cachedGenerators=[],this.cachedGenerators.push(new _u(p,Int32Array.from([1])))}return y.prototype.buildGenerator=function(p){var g=this.cachedGenerators;if(p>=g.length)for(var v=g[g.length-1],_=this.field,E=g.length;E<=p;E++){var w=v.multiply(new _u(_,Int32Array.from([1,_.exp(E-1+_.getGeneratorBase())])));g.push(w),v=w}return g[p]},y.prototype.encode=function(p,g){if(0===g)throw new rn("No error correction bytes");var v=p.length-g;if(v<=0)throw new rn("No data bytes provided");var _=this.buildGenerator(g),E=new Int32Array(v);Ti.arraycopy(p,0,E,0,v);for(var w=new _u(this.field,E),O=(w=w.multiplyByMonomial(g,1)).divide(_)[1].getCoefficients(),L=g-O.length,z=0;z<L;z++)p[v+z]=0;Ti.arraycopy(O,0,p,v+L,O.length)},y}();const VI=F$;var j$=function(){function y(){}return y.applyMaskPenaltyRule1=function(p){return y.applyMaskPenaltyRule1Internal(p,!0)+y.applyMaskPenaltyRule1Internal(p,!1)},y.applyMaskPenaltyRule2=function(p){for(var g=0,v=p.getArray(),_=p.getWidth(),E=p.getHeight(),w=0;w<E-1;w++)for(var D=v[w],O=0;O<_-1;O++){var L=D[O];L===D[O+1]&&L===v[w+1][O]&&L===v[w+1][O+1]&&g++}return y.N2*g},y.applyMaskPenaltyRule3=function(p){for(var g=0,v=p.getArray(),_=p.getWidth(),E=p.getHeight(),w=0;w<E;w++)for(var D=0;D<_;D++){var O=v[w];D+6<_&&1===O[D]&&0===O[D+1]&&1===O[D+2]&&1===O[D+3]&&1===O[D+4]&&0===O[D+5]&&1===O[D+6]&&(y.isWhiteHorizontal(O,D-4,D)||y.isWhiteHorizontal(O,D+7,D+11))&&g++,w+6<E&&1===v[w][D]&&0===v[w+1][D]&&1===v[w+2][D]&&1===v[w+3][D]&&1===v[w+4][D]&&0===v[w+5][D]&&1===v[w+6][D]&&(y.isWhiteVertical(v,D,w-4,w)||y.isWhiteVertical(v,D,w+7,w+11))&&g++}return g*y.N3},y.isWhiteHorizontal=function(p,g,v){g=Math.max(g,0),v=Math.min(v,p.length);for(var _=g;_<v;_++)if(1===p[_])return!1;return!0},y.isWhiteVertical=function(p,g,v,_){v=Math.max(v,0),_=Math.min(_,p.length);for(var E=v;E<_;E++)if(1===p[E][g])return!1;return!0},y.applyMaskPenaltyRule4=function(p){for(var g=0,v=p.getArray(),_=p.getWidth(),E=p.getHeight(),w=0;w<E;w++)for(var D=v[w],O=0;O<_;O++)1===D[O]&&g++;var L=p.getHeight()*p.getWidth();return Math.floor(10*Math.abs(2*g-L)/L)*y.N4},y.getDataMaskBit=function(p,g,v){var _,E;switch(p){case 0:_=v+g&1;break;case 1:_=1&v;break;case 2:_=g%3;break;case 3:_=(v+g)%3;break;case 4:_=Math.floor(v/2)+Math.floor(g/3)&1;break;case 5:_=(1&(E=v*g))+E%3;break;case 6:_=(1&(E=v*g))+E%3&1;break;case 7:_=(E=v*g)%3+(v+g&1)&1;break;default:throw new rn("Invalid mask pattern: "+p)}return 0===_},y.applyMaskPenaltyRule1Internal=function(p,g){for(var v=0,_=g?p.getHeight():p.getWidth(),E=g?p.getWidth():p.getHeight(),w=p.getArray(),D=0;D<_;D++){for(var O=0,L=-1,z=0;z<E;z++){var se=g?w[D][z]:w[z][D];se===L?O++:(O>=5&&(v+=y.N1+(O-5)),O=1,L=se)}O>=5&&(v+=y.N1+(O-5))}return v},y.N1=3,y.N2=3,y.N3=40,y.N4=10,y}();const Rf=j$;var B$=function(){function y(p,g){this.width=p,this.height=g;for(var v=new Array(g),_=0;_!==g;_++)v[_]=new Uint8Array(p);this.bytes=v}return y.prototype.getHeight=function(){return this.height},y.prototype.getWidth=function(){return this.width},y.prototype.get=function(p,g){return this.bytes[g][p]},y.prototype.getArray=function(){return this.bytes},y.prototype.setNumber=function(p,g,v){this.bytes[g][p]=v},y.prototype.setBoolean=function(p,g,v){this.bytes[g][p]=v?1:0},y.prototype.clear=function(p){var g,v;try{for(var _=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.bytes),E=_.next();!E.done;E=_.next())Rs.fill(E.value,p)}catch(D){g={error:D}}finally{try{E&&!E.done&&(v=_.return)&&v.call(_)}finally{if(g)throw g.error}}},y.prototype.equals=function(p){if(!(p instanceof y))return!1;var g=p;if(this.width!==g.width||this.height!==g.height)return!1;for(var v=0,_=this.height;v<_;++v)for(var E=this.bytes[v],w=g.bytes[v],D=0,O=this.width;D<O;++D)if(E[D]!==w[D])return!1;return!0},y.prototype.toString=function(){for(var p=new Ei,g=0,v=this.height;g<v;++g){for(var _=this.bytes[g],E=0,w=this.width;E<w;++E)switch(_[E]){case 0:p.append(" 0");break;case 1:p.append(" 1");break;default:p.append("  ")}p.append("\n")}return p.toString()},y}();const V$=B$;var W$=function(){function y(){this.maskPattern=-1}return y.prototype.getMode=function(){return this.mode},y.prototype.getECLevel=function(){return this.ecLevel},y.prototype.getVersion=function(){return this.version},y.prototype.getMaskPattern=function(){return this.maskPattern},y.prototype.getMatrix=function(){return this.matrix},y.prototype.toString=function(){var p=new Ei;return p.append("<<\n"),p.append(" mode: "),p.append(this.mode?this.mode.toString():"null"),p.append("\n ecLevel: "),p.append(this.ecLevel?this.ecLevel.toString():"null"),p.append("\n version: "),p.append(this.version?this.version.toString():"null"),p.append("\n maskPattern: "),p.append(this.maskPattern.toString()),this.matrix?(p.append("\n matrix:\n"),p.append(this.matrix.toString())):p.append("\n matrix: null\n"),p.append(">>\n"),p.toString()},y.prototype.setMode=function(p){this.mode=p},y.prototype.setECLevel=function(p){this.ecLevel=p},y.prototype.setVersion=function(p){this.version=p},y.prototype.setMaskPattern=function(p){this.maskPattern=p},y.prototype.setMatrix=function(p){this.matrix=p},y.isValidMaskPattern=function(p){return p>=0&&p<y.NUM_MASK_PATTERNS},y.NUM_MASK_PATTERNS=8,y}();const V1=W$;var k$=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),Z$=function(y){function p(){return null!==y&&y.apply(this,arguments)||this}return k$(p,y),p.kind="WriterException",p}(As);const Ni=Z$;var $$=function(){function y(){}return y.clearMatrix=function(p){p.clear(255)},y.buildMatrix=function(p,g,v,_,E){y.clearMatrix(E),y.embedBasicPatterns(v,E),y.embedTypeInfo(g,_,E),y.maybeEmbedVersionInfo(v,E),y.embedDataBits(p,_,E)},y.embedBasicPatterns=function(p,g){y.embedPositionDetectionPatternsAndSeparators(g),y.embedDarkDotAtLeftBottomCorner(g),y.maybeEmbedPositionAdjustmentPatterns(p,g),y.embedTimingPatterns(g)},y.embedTypeInfo=function(p,g,v){var _=new Vo;y.makeTypeInfoBits(p,g,_);for(var E=0,w=_.getSize();E<w;++E){var D=_.get(_.getSize()-1-E),O=y.TYPE_INFO_COORDINATES[E];if(v.setBoolean(O[0],O[1],D),E<8){var se=v.getWidth()-E-1;v.setBoolean(se,Ee=8,D)}else{se=8;var Ee=v.getHeight()-7+(E-8);v.setBoolean(se,Ee,D)}}},y.maybeEmbedVersionInfo=function(p,g){if(!(p.getVersionNumber()<7)){var v=new Vo;y.makeVersionInfoBits(p,v);for(var _=17,E=0;E<6;++E)for(var w=0;w<3;++w){var D=v.get(_);_--,g.setBoolean(E,g.getHeight()-11+w,D),g.setBoolean(g.getHeight()-11+w,E,D)}}},y.embedDataBits=function(p,g,v){for(var _=0,E=-1,w=v.getWidth()-1,D=v.getHeight()-1;w>0;){for(6===w&&(w-=1);D>=0&&D<v.getHeight();){for(var O=0;O<2;++O){var L=w-O;if(y.isEmpty(v.get(L,D))){var z=void 0;_<p.getSize()?(z=p.get(_),++_):z=!1,255!==g&&Rf.getDataMaskBit(g,L,D)&&(z=!z),v.setBoolean(L,D,z)}}D+=E}D+=E=-E,w-=2}if(_!==p.getSize())throw new Ni("Not all bits consumed: "+_+"/"+p.getSize())},y.findMSBSet=function(p){return 32-ni.numberOfLeadingZeros(p)},y.calculateBCHCode=function(p,g){if(0===g)throw new rn("0 polynomial");var v=y.findMSBSet(g);for(p<<=v-1;y.findMSBSet(p)>=v;)p^=g<<y.findMSBSet(p)-v;return p},y.makeTypeInfoBits=function(p,g,v){if(!V1.isValidMaskPattern(g))throw new Ni("Invalid mask pattern");var _=p.getBits()<<3|g;v.appendBits(_,5);var E=y.calculateBCHCode(_,y.TYPE_INFO_POLY);v.appendBits(E,10);var w=new Vo;if(w.appendBits(y.TYPE_INFO_MASK_PATTERN,15),v.xor(w),15!==v.getSize())throw new Ni("should not happen but we got: "+v.getSize())},y.makeVersionInfoBits=function(p,g){g.appendBits(p.getVersionNumber(),6);var v=y.calculateBCHCode(p.getVersionNumber(),y.VERSION_INFO_POLY);if(g.appendBits(v,12),18!==g.getSize())throw new Ni("should not happen but we got: "+g.getSize())},y.isEmpty=function(p){return 255===p},y.embedTimingPatterns=function(p){for(var g=8;g<p.getWidth()-8;++g){var v=(g+1)%2;y.isEmpty(p.get(g,6))&&p.setNumber(g,6,v),y.isEmpty(p.get(6,g))&&p.setNumber(6,g,v)}},y.embedDarkDotAtLeftBottomCorner=function(p){if(0===p.get(8,p.getHeight()-8))throw new Ni;p.setNumber(8,p.getHeight()-8,1)},y.embedHorizontalSeparationPattern=function(p,g,v){for(var _=0;_<8;++_){if(!y.isEmpty(v.get(p+_,g)))throw new Ni;v.setNumber(p+_,g,0)}},y.embedVerticalSeparationPattern=function(p,g,v){for(var _=0;_<7;++_){if(!y.isEmpty(v.get(p,g+_)))throw new Ni;v.setNumber(p,g+_,0)}},y.embedPositionAdjustmentPattern=function(p,g,v){for(var _=0;_<5;++_)for(var E=y.POSITION_ADJUSTMENT_PATTERN[_],w=0;w<5;++w)v.setNumber(p+w,g+_,E[w])},y.embedPositionDetectionPattern=function(p,g,v){for(var _=0;_<7;++_)for(var E=y.POSITION_DETECTION_PATTERN[_],w=0;w<7;++w)v.setNumber(p+w,g+_,E[w])},y.embedPositionDetectionPatternsAndSeparators=function(p){var g=y.POSITION_DETECTION_PATTERN[0].length;y.embedPositionDetectionPattern(0,0,p),y.embedPositionDetectionPattern(p.getWidth()-g,0,p),y.embedPositionDetectionPattern(0,p.getWidth()-g,p),y.embedHorizontalSeparationPattern(0,7,p),y.embedHorizontalSeparationPattern(p.getWidth()-8,7,p),y.embedHorizontalSeparationPattern(0,p.getWidth()-8,p),y.embedVerticalSeparationPattern(7,0,p),y.embedVerticalSeparationPattern(p.getHeight()-7-1,0,p),y.embedVerticalSeparationPattern(7,p.getHeight()-7,p)},y.maybeEmbedPositionAdjustmentPatterns=function(p,g){if(!(p.getVersionNumber()<2))for(var v=p.getVersionNumber()-1,_=y.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[v],E=0,w=_.length;E!==w;E++){var D=_[E];if(D>=0)for(var O=0;O!==w;O++){var L=_[O];L>=0&&y.isEmpty(g.get(L,D))&&y.embedPositionAdjustmentPattern(L-2,D-2,g)}}},y.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),y.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),y.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),y.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),y.VERSION_INFO_POLY=7973,y.TYPE_INFO_POLY=1335,y.TYPE_INFO_MASK_PATTERN=21522,y}();const WI=$$;var K$=function(){function y(p,g){this.dataBytes=p,this.errorCorrectionBytes=g}return y.prototype.getDataBytes=function(){return this.dataBytes},y.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},y}();const z$=K$;var kI=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},G$=function(){function y(){}return y.calculateMaskPenalty=function(p){return Rf.applyMaskPenaltyRule1(p)+Rf.applyMaskPenaltyRule2(p)+Rf.applyMaskPenaltyRule3(p)+Rf.applyMaskPenaltyRule4(p)},y.encode=function(p,g,v){void 0===v&&(v=null);var _=y.DEFAULT_BYTE_MODE_ENCODING,E=null!==v&&void 0!==v.get(Pi.CHARACTER_SET);E&&(_=v.get(Pi.CHARACTER_SET).toString());var w=this.chooseMode(p,_),D=new Vo;if(w===Li.BYTE&&(E||y.DEFAULT_BYTE_MODE_ENCODING!==_)){var O=To.getCharacterSetECIByName(_);void 0!==O&&this.appendECI(O,D)}this.appendModeInfo(w,D);var z,L=new Vo;if(this.appendBytes(p,w,L,_),null!==v&&void 0!==v.get(Pi.QR_VERSION)){var se=Number.parseInt(v.get(Pi.QR_VERSION).toString(),10);z=pc.getVersionForNumber(se);var Ee=this.calculateBitsNeeded(w,D,L,z);if(!this.willFit(Ee,z,g))throw new Ni("Data too big for requested version")}else z=this.recommendVersion(g,w,D,L);var Me=new Vo;Me.appendBitArray(D);var Ge=w===Li.BYTE?L.getSizeInBytes():p.length;this.appendLengthInfo(Ge,z,w,Me),Me.appendBitArray(L);var st=z.getECBlocksForLevel(g),vt=z.getTotalCodewords()-st.getTotalECCodewords();this.terminateBits(vt,Me);var Ct=this.interleaveWithECBytes(Me,z.getTotalCodewords(),vt,st.getNumBlocks()),pt=new V1;pt.setECLevel(g),pt.setMode(w),pt.setVersion(z);var Nt=z.getDimensionForVersion(),zt=new V$(Nt,Nt),ar=this.chooseMaskPattern(Ct,g,z,zt);return pt.setMaskPattern(ar),WI.buildMatrix(Ct,g,z,ar,zt),pt.setMatrix(zt),pt},y.recommendVersion=function(p,g,v,_){var E=this.calculateBitsNeeded(g,v,_,pc.getVersionForNumber(1)),w=this.chooseVersion(E,p),D=this.calculateBitsNeeded(g,v,_,w);return this.chooseVersion(D,p)},y.calculateBitsNeeded=function(p,g,v,_){return g.getSize()+p.getCharacterCountBits(_)+v.getSize()},y.getAlphanumericCode=function(p){return p<y.ALPHANUMERIC_TABLE.length?y.ALPHANUMERIC_TABLE[p]:-1},y.chooseMode=function(p,g){if(void 0===g&&(g=null),To.SJIS.getName()===g&&this.isOnlyDoubleByteKanji(p))return Li.KANJI;for(var v=!1,_=!1,E=0,w=p.length;E<w;++E){var D=p.charAt(E);if(y.isDigit(D))v=!0;else{if(-1===this.getAlphanumericCode(D.charCodeAt(0)))return Li.BYTE;_=!0}}return _?Li.ALPHANUMERIC:v?Li.NUMERIC:Li.BYTE},y.isOnlyDoubleByteKanji=function(p){var g;try{g=ul.encode(p,To.SJIS)}catch(w){return!1}var v=g.length;if(v%2!=0)return!1;for(var _=0;_<v;_+=2){var E=255&g[_];if((E<129||E>159)&&(E<224||E>235))return!1}return!0},y.chooseMaskPattern=function(p,g,v,_){for(var E=Number.MAX_SAFE_INTEGER,w=-1,D=0;D<V1.NUM_MASK_PATTERNS;D++){WI.buildMatrix(p,g,v,D,_);var O=this.calculateMaskPenalty(_);O<E&&(E=O,w=D)}return w},y.chooseVersion=function(p,g){for(var v=1;v<=40;v++){var _=pc.getVersionForNumber(v);if(y.willFit(p,_,g))return _}throw new Ni("Data too big")},y.willFit=function(p,g,v){return g.getTotalCodewords()-g.getECBlocksForLevel(v).getTotalECCodewords()>=(p+7)/8},y.terminateBits=function(p,g){var v=8*p;if(g.getSize()>v)throw new Ni("data bits cannot fit in the QR Code"+g.getSize()+" > "+v);for(var _=0;_<4&&g.getSize()<v;++_)g.appendBit(!1);var E=7&g.getSize();if(E>0)for(_=E;_<8;_++)g.appendBit(!1);var w=p-g.getSizeInBytes();for(_=0;_<w;++_)g.appendBits(0==(1&_)?236:17,8);if(g.getSize()!==v)throw new Ni("Bits size does not equal capacity")},y.getNumDataBytesAndNumECBytesForBlockID=function(p,g,v,_,E,w){if(_>=v)throw new Ni("Block ID too large");var D=p%v,O=v-D,L=Math.floor(p/v),z=L+1,se=Math.floor(g/v),Ee=se+1,Me=L-se,Ge=z-Ee;if(Me!==Ge)throw new Ni("EC bytes mismatch");if(v!==O+D)throw new Ni("RS blocks mismatch");if(p!==(se+Me)*O+(Ee+Ge)*D)throw new Ni("Total bytes mismatch");_<O?(E[0]=se,w[0]=Me):(E[0]=Ee,w[0]=Ge)},y.interleaveWithECBytes=function(p,g,v,_){var E,w,D,O;if(p.getSizeInBytes()!==v)throw new Ni("Number of bits and data bytes does not match");for(var L=0,z=0,se=0,Ee=new Array,Me=0;Me<_;++Me){var Ge=new Int32Array(1),st=new Int32Array(1);y.getNumDataBytesAndNumECBytesForBlockID(g,v,_,Me,Ge,st);var vt=Ge[0],Ct=new Uint8Array(vt);p.toBytes(8*L,Ct,0,vt);var pt=y.generateECBytes(Ct,st[0]);Ee.push(new z$(Ct,pt)),z=Math.max(z,vt),se=Math.max(se,pt.length),L+=Ge[0]}if(v!==L)throw new Ni("Data bytes does not match offset");var Nt=new Vo;for(Me=0;Me<z;++Me)try{for(var zt=(E=void 0,kI(Ee)),ar=zt.next();!ar.done;ar=zt.next())Me<(Ct=ar.value.getDataBytes()).length&&Nt.appendBits(Ct[Me],8)}catch(_n){E={error:_n}}finally{try{ar&&!ar.done&&(w=zt.return)&&w.call(zt)}finally{if(E)throw E.error}}for(Me=0;Me<se;++Me)try{for(var jr=(D=void 0,kI(Ee)),en=jr.next();!en.done;en=jr.next())Me<(pt=en.value.getErrorCorrectionBytes()).length&&Nt.appendBits(pt[Me],8)}catch(_n){D={error:_n}}finally{try{en&&!en.done&&(O=jr.return)&&O.call(jr)}finally{if(D)throw D.error}}if(g!==Nt.getSizeInBytes())throw new Ni("Interleaving error: "+g+" and "+Nt.getSizeInBytes()+" differ.");return Nt},y.generateECBytes=function(p,g){for(var v=p.length,_=new Int32Array(v+g),E=0;E<v;E++)_[E]=255&p[E];new VI(Ns.QR_CODE_FIELD_256).encode(_,g);var w=new Uint8Array(g);for(E=0;E<g;E++)w[E]=_[v+E];return w},y.appendModeInfo=function(p,g){g.appendBits(p.getBits(),4)},y.appendLengthInfo=function(p,g,v,_){var E=v.getCharacterCountBits(g);if(p>=1<<E)throw new Ni(p+" is bigger than "+((1<<E)-1));_.appendBits(p,E)},y.appendBytes=function(p,g,v,_){switch(g){case Li.NUMERIC:y.appendNumericBytes(p,v);break;case Li.ALPHANUMERIC:y.appendAlphanumericBytes(p,v);break;case Li.BYTE:y.append8BitBytes(p,v,_);break;case Li.KANJI:y.appendKanjiBytes(p,v);break;default:throw new Ni("Invalid mode: "+g)}},y.getDigit=function(p){return p.charCodeAt(0)-48},y.isDigit=function(p){var g=y.getDigit(p);return g>=0&&g<=9},y.appendNumericBytes=function(p,g){for(var v=p.length,_=0;_<v;){var E=y.getDigit(p.charAt(_));if(_+2<v){var w=y.getDigit(p.charAt(_+1)),D=y.getDigit(p.charAt(_+2));g.appendBits(100*E+10*w+D,10),_+=3}else _+1<v?(w=y.getDigit(p.charAt(_+1)),g.appendBits(10*E+w,7),_+=2):(g.appendBits(E,4),_++)}},y.appendAlphanumericBytes=function(p,g){for(var v=p.length,_=0;_<v;){var E=y.getAlphanumericCode(p.charCodeAt(_));if(-1===E)throw new Ni;if(_+1<v){var w=y.getAlphanumericCode(p.charCodeAt(_+1));if(-1===w)throw new Ni;g.appendBits(45*E+w,11),_+=2}else g.appendBits(E,6),_++}},y.append8BitBytes=function(p,g,v){var _;try{_=ul.encode(p,v)}catch(O){throw new Ni(O)}for(var E=0,w=_.length;E!==w;E++)g.appendBits(_[E],8)},y.appendKanjiBytes=function(p,g){var v;try{v=ul.encode(p,To.SJIS)}catch(se){throw new Ni(se)}for(var _=v.length,E=0;E<_;E+=2){var O=(255&v[E])<<8&4294967295|255&v[E+1],L=-1;if(O>=33088&&O<=40956?L=O-33088:O>=57408&&O<=60351&&(L=O-49472),-1===L)throw new Ni("Invalid byte sequence");g.appendBits(192*(L>>8)+(255&L),13)}},y.appendECI=function(p,g){g.appendBits(Li.ECI.getBits(),4),g.appendBits(p.getValue(),8)},y.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),y.DEFAULT_BYTE_MODE_ENCODING=To.UTF8.getName(),y}();const Im=G$;!function(){function y(){}y.prototype.write=function(p,g,v,_){if(void 0===_&&(_=null),0===p.length)throw new rn("Found empty contents");if(g<0||v<0)throw new rn("Requested dimensions are too small: "+g+"x"+v);var E=Ul.L,w=y.QUIET_ZONE_SIZE;null!==_&&(void 0!==_.get(Pi.ERROR_CORRECTION)&&(E=Ul.fromString(_.get(Pi.ERROR_CORRECTION).toString())),void 0!==_.get(Pi.MARGIN)&&(w=Number.parseInt(_.get(Pi.MARGIN).toString(),10)));var D=Im.encode(p,E,_);return this.renderResult(D,g,v,w)},y.prototype.writeToDom=function(p,g,v,_,E){void 0===E&&(E=null),"string"==typeof p&&(p=document.querySelector(p));var w=this.write(g,v,_,E);p&&p.appendChild(w)},y.prototype.renderResult=function(p,g,v,_){var E=p.getMatrix();if(null===E)throw new cl;for(var w=E.getWidth(),D=E.getHeight(),O=w+2*_,L=D+2*_,z=Math.max(g,O),se=Math.max(v,L),Ee=Math.min(Math.floor(z/O),Math.floor(se/L)),Me=Math.floor((z-w*Ee)/2),Ge=Math.floor((se-D*Ee)/2),st=this.createSVGElement(z,se),vt=0,Ct=Ge;vt<D;vt++,Ct+=Ee)for(var pt=0,Nt=Me;pt<w;pt++,Nt+=Ee)if(1===E.get(pt,vt)){var zt=this.createSvgRectElement(Nt,Ct,Ee,Ee);st.appendChild(zt)}return st},y.prototype.createSVGElement=function(p,g){var v=document.createElementNS(y.SVG_NS,"svg");return v.setAttributeNS(null,"height",p.toString()),v.setAttributeNS(null,"width",g.toString()),v},y.prototype.createSvgRectElement=function(p,g,v,_){var E=document.createElementNS(y.SVG_NS,"rect");return E.setAttributeNS(null,"x",p.toString()),E.setAttributeNS(null,"y",g.toString()),E.setAttributeNS(null,"height",v.toString()),E.setAttributeNS(null,"width",_.toString()),E.setAttributeNS(null,"fill","#000000"),E},y.QUIET_ZONE_SIZE=4,y.SVG_NS="http://www.w3.org/2000/svg"}();!function(){function y(){}y.prototype.encode=function(p,g,v,_,E){if(0===p.length)throw new rn("Found empty contents");if(g!==mn.QR_CODE)throw new rn("Can only encode QR_CODE, but got "+g);if(v<0||_<0)throw new rn("Requested dimensions are too small: "+v+"x"+_);var w=Ul.L,D=y.QUIET_ZONE_SIZE;null!==E&&(void 0!==E.get(Pi.ERROR_CORRECTION)&&(w=Ul.fromString(E.get(Pi.ERROR_CORRECTION).toString())),void 0!==E.get(Pi.MARGIN)&&(D=Number.parseInt(E.get(Pi.MARGIN).toString(),10)));var O=Im.encode(p,w,E);return y.renderResult(O,v,_,D)},y.renderResult=function(p,g,v,_){var E=p.getMatrix();if(null===E)throw new cl;for(var w=E.getWidth(),D=E.getHeight(),O=w+2*_,L=D+2*_,z=Math.max(g,O),se=Math.max(v,L),Ee=Math.min(Math.floor(z/O),Math.floor(se/L)),Me=Math.floor((z-w*Ee)/2),Ge=Math.floor((se-D*Ee)/2),st=new pa(z,se),vt=0,Ct=Ge;vt<D;vt++,Ct+=Ee)for(var pt=0,Nt=Me;pt<w;pt++,Nt+=Ee)1===E.get(pt,vt)&&st.setRegion(Nt,Ct,Ee,Ee);return st},y.QUIET_ZONE_SIZE=4}();var Y$=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}();!function(y){function p(g,v,_,E,w,D,O,L){var z=y.call(this,D,O)||this;if(z.yuvData=g,z.dataWidth=v,z.dataHeight=_,z.left=E,z.top=w,E+D>v||w+O>_)throw new rn("Crop rectangle does not fit within image data.");return L&&z.reverseHorizontal(D,O),z}Y$(p,y),p.prototype.getRow=function(g,v){if(g<0||g>=this.getHeight())throw new rn("Requested row is outside the image: "+g);var _=this.getWidth();return(null==v||v.length<_)&&(v=new Uint8ClampedArray(_)),Ti.arraycopy(this.yuvData,(g+this.top)*this.dataWidth+this.left,v,0,_),v},p.prototype.getMatrix=function(){var g=this.getWidth(),v=this.getHeight();if(g===this.dataWidth&&v===this.dataHeight)return this.yuvData;var _=g*v,E=new Uint8ClampedArray(_),w=this.top*this.dataWidth+this.left;if(g===this.dataWidth)return Ti.arraycopy(this.yuvData,w,E,0,_),E;for(var D=0;D<v;D++)Ti.arraycopy(this.yuvData,w,E,D*g,g),w+=this.dataWidth;return E},p.prototype.isCropSupported=function(){return!0},p.prototype.crop=function(g,v,_,E){return new p(this.yuvData,this.dataWidth,this.dataHeight,this.left+g,this.top+v,_,E,!1)},p.prototype.renderThumbnail=function(){for(var g=this.getWidth()/p.THUMBNAIL_SCALE_FACTOR,v=this.getHeight()/p.THUMBNAIL_SCALE_FACTOR,_=new Int32Array(g*v),E=this.yuvData,w=this.top*this.dataWidth+this.left,D=0;D<v;D++){for(var O=D*g,L=0;L<g;L++)_[O+L]=4278190080|65793*(255&E[w+L*p.THUMBNAIL_SCALE_FACTOR]);w+=this.dataWidth*p.THUMBNAIL_SCALE_FACTOR}return _},p.prototype.getThumbnailWidth=function(){return this.getWidth()/p.THUMBNAIL_SCALE_FACTOR},p.prototype.getThumbnailHeight=function(){return this.getHeight()/p.THUMBNAIL_SCALE_FACTOR},p.prototype.reverseHorizontal=function(g,v){for(var _=this.yuvData,E=0,w=this.top*this.dataWidth+this.left;E<v;E++,w+=this.dataWidth)for(var D=w+g/2,O=w,L=w+g-1;O<D;O++,L--){var z=_[O];_[O]=_[L],_[L]=z}},p.prototype.invert=function(){return new fm(this)},p.THUMBNAIL_SCALE_FACTOR=2}(Sf);var X$=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}();!function(y){function p(g,v,_,E,w,D,O){var L=y.call(this,v,_)||this;if(L.dataWidth=E,L.dataHeight=w,L.left=D,L.top=O,4===g.BYTES_PER_ELEMENT){for(var z=v*_,se=new Uint8ClampedArray(z),Ee=0;Ee<z;Ee++){var Me=g[Ee];se[Ee]=((Me>>16&255)+(Me>>7&510)+(255&Me))/4&255}L.luminances=se}else L.luminances=g;if(void 0===E&&(L.dataWidth=v),void 0===w&&(L.dataHeight=_),void 0===D&&(L.left=0),void 0===O&&(L.top=0),L.left+v>L.dataWidth||L.top+_>L.dataHeight)throw new rn("Crop rectangle does not fit within image data.");return L}X$(p,y),p.prototype.getRow=function(g,v){if(g<0||g>=this.getHeight())throw new rn("Requested row is outside the image: "+g);var _=this.getWidth();return(null==v||v.length<_)&&(v=new Uint8ClampedArray(_)),Ti.arraycopy(this.luminances,(g+this.top)*this.dataWidth+this.left,v,0,_),v},p.prototype.getMatrix=function(){var g=this.getWidth(),v=this.getHeight();if(g===this.dataWidth&&v===this.dataHeight)return this.luminances;var _=g*v,E=new Uint8ClampedArray(_),w=this.top*this.dataWidth+this.left;if(g===this.dataWidth)return Ti.arraycopy(this.luminances,w,E,0,_),E;for(var D=0;D<v;D++)Ti.arraycopy(this.luminances,w,E,D*g,g),w+=this.dataWidth;return E},p.prototype.isCropSupported=function(){return!0},p.prototype.crop=function(g,v,_,E){return new p(this.luminances,_,E,this.dataWidth,this.dataHeight,this.left+g,this.top+v)},p.prototype.invert=function(){return new fm(this)}}(Sf);var Q$=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),q$=function(y){function p(){return null!==y&&y.apply(this,arguments)||this}return Q$(p,y),p.forName=function(g){return this.getCharacterSetECIByName(g)},p}(To);const eK=q$;var tK=function(){function y(){}return y.ISO_8859_1=To.ISO8859_1,y}();const rK=tK;var nK=function(){function y(){}return y.prototype.isCompact=function(){return this.compact},y.prototype.setCompact=function(p){this.compact=p},y.prototype.getSize=function(){return this.size},y.prototype.setSize=function(p){this.size=p},y.prototype.getLayers=function(){return this.layers},y.prototype.setLayers=function(p){this.layers=p},y.prototype.getCodeWords=function(){return this.codeWords},y.prototype.setCodeWords=function(p){this.codeWords=p},y.prototype.getMatrix=function(){return this.matrix},y.prototype.setMatrix=function(p){this.matrix=p},y}();const iK=nK;var oK=function(){function y(){}return y.singletonList=function(p){return[p]},y.min=function(p,g){return p.sort(g)[0]},y}();const ZI=oK;var sK=function(){function y(p){this.previous=p}return y.prototype.getPrevious=function(){return this.previous},y}();const aK=sK;var lK=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),uK=function(y){function p(g,v,_){var E=y.call(this,g)||this;return E.value=v,E.bitCount=_,E}return lK(p,y),p.prototype.appendTo=function(g,v){g.appendBits(this.value,this.bitCount)},p.prototype.add=function(g,v){return new p(this,g,v)},p.prototype.addBinaryShift=function(g,v){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new p(this,g,v)},p.prototype.toString=function(){var g=this.value&(1<<this.bitCount)-1;return"<"+ni.toBinaryString((g|=1<<this.bitCount)|1<<this.bitCount).substring(1)+">"},p}(aK);const W1=uK;var cK=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)_.hasOwnProperty(E)&&(v[E]=_[E])})(p,g)};return function(p,g){function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),dK=function(y){function p(g,v,_){var E=y.call(this,g,0,0)||this;return E.binaryShiftStart=v,E.binaryShiftByteCount=_,E}return cK(p,y),p.prototype.appendTo=function(g,v){for(var _=0;_<this.binaryShiftByteCount;_++)(0===_||31===_&&this.binaryShiftByteCount<=62)&&(g.appendBits(31,5),this.binaryShiftByteCount>62?g.appendBits(this.binaryShiftByteCount-31,16):g.appendBits(0===_?Math.min(this.binaryShiftByteCount,31):this.binaryShiftByteCount-31,5)),g.appendBits(v[this.binaryShiftStart+_],8)},p.prototype.addBinaryShift=function(g,v){return new p(this,g,v)},p.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},p}(W1);const hK=dK;function Lf(y,p,g){return new W1(y,p,g)}var pK=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],mK=new W1(null,0,0),k1=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])],KI=function gK(y){var p,g;try{for(var v=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")}(y),_=v.next();!_.done;_=v.next())Rs.fill(_.value,-1)}catch(w){p={error:w}}finally{try{_&&!_.done&&(g=v.return)&&g.call(v)}finally{if(p)throw p.error}}return y[0][4]=0,y[1][4]=0,y[1][0]=28,y[3][4]=0,y[2][4]=0,y[2][0]=15,y}(Rs.createInt32Array(6,6)),_K=function(){function y(p,g,v,_){this.token=p,this.mode=g,this.binaryShiftByteCount=v,this.bitCount=_}return y.prototype.getMode=function(){return this.mode},y.prototype.getToken=function(){return this.token},y.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},y.prototype.getBitCount=function(){return this.bitCount},y.prototype.latchAndAppend=function(p,g){var v=this.bitCount,_=this.token;if(p!==this.mode){var E=k1[this.mode][p];_=Lf(_,65535&E,E>>16),v+=E>>16}var w=2===p?4:5;return new y(_=Lf(_,g,w),p,0,v+w)},y.prototype.shiftAndAppend=function(p,g){var v=this.token,_=2===this.mode?4:5;return v=Lf(v,KI[this.mode][p],_),new y(v=Lf(v,g,5),this.mode,0,this.bitCount+_+5)},y.prototype.addBinaryShiftChar=function(p){var g=this.token,v=this.mode,_=this.bitCount;if(4===this.mode||2===this.mode){var E=k1[v][0];g=Lf(g,65535&E,E>>16),_+=E>>16,v=0}var D=new y(g,v,this.binaryShiftByteCount+1,_+(0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8));return 2078===D.binaryShiftByteCount&&(D=D.endBinaryShift(p+1)),D},y.prototype.endBinaryShift=function(p){if(0===this.binaryShiftByteCount)return this;var g=this.token;return g=function fK(y,p,g){return new hK(y,p,g)}(g,p-this.binaryShiftByteCount,this.binaryShiftByteCount),new y(g,this.mode,0,this.bitCount)},y.prototype.isBetterThanOrEqualTo=function(p){var g=this.bitCount+(k1[this.mode][p.mode]>>16);return this.binaryShiftByteCount<p.binaryShiftByteCount?g+=y.calculateBinaryShiftCost(p)-y.calculateBinaryShiftCost(this):this.binaryShiftByteCount>p.binaryShiftByteCount&&p.binaryShiftByteCount>0&&(g+=10),g<=p.bitCount},y.prototype.toBitArray=function(p){for(var g,v,_=[],E=this.endBinaryShift(p.length).token;null!==E;E=E.getPrevious())_.unshift(E);var w=new Vo;try{for(var D=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")}(_),O=D.next();!O.done;O=D.next())O.value.appendTo(w,p)}catch(z){g={error:z}}finally{try{O&&!O.done&&(v=D.return)&&v.call(D)}finally{if(g)throw g.error}}return w},y.prototype.toString=function(){return xi.format("%s bits=%d bytes=%d",pK[this.mode],this.bitCount,this.binaryShiftByteCount)},y.calculateBinaryShiftCost=function(p){return p.binaryShiftByteCount>62?21:p.binaryShiftByteCount>31?20:p.binaryShiftByteCount>0?10:0},y.INITIAL_STATE=new y(mK,0,0,0),y}();const EK=_K;var Z1=function bK(y){var p=xi.getCharCode(" "),g=xi.getCharCode("."),v=xi.getCharCode(",");y[0][p]=1;for(var _=xi.getCharCode("Z"),E=xi.getCharCode("A"),w=E;w<=_;w++)y[0][w]=w-E+2;y[1][p]=1;var D=xi.getCharCode("z"),O=xi.getCharCode("a");for(w=O;w<=D;w++)y[1][w]=w-O+2;y[2][p]=1;var L=xi.getCharCode("9"),z=xi.getCharCode("0");for(w=z;w<=L;w++)y[2][w]=w-z+2;y[2][v]=12,y[2][g]=13;for(var se=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"],Ee=0;Ee<se.length;Ee++)y[3][xi.getCharCode(se[Ee])]=Ee;var Me=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(Ee=0;Ee<Me.length;Ee++)xi.getCharCode(Me[Ee])>0&&(y[4][xi.getCharCode(Me[Ee])]=Ee);return y}(Rs.createInt32Array(5,256)),Pm=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},CK=function(){function y(p){this.text=p}return y.prototype.encode=function(){for(var p=xi.getCharCode(" "),g=xi.getCharCode("\n"),v=ZI.singletonList(EK.INITIAL_STATE),_=0;_<this.text.length;_++){var E=void 0,w=_+1<this.text.length?this.text[_+1]:0;switch(this.text[_]){case xi.getCharCode("\r"):E=w===g?2:0;break;case xi.getCharCode("."):E=w===p?3:0;break;case xi.getCharCode(","):E=w===p?4:0;break;case xi.getCharCode(":"):E=w===p?5:0;break;default:E=0}E>0?(v=y.updateStateListForPair(v,_,E),_++):v=this.updateStateListForChar(v,_)}return ZI.min(v,function(O,L){return O.getBitCount()-L.getBitCount()}).toBitArray(this.text)},y.prototype.updateStateListForChar=function(p,g){var v,_,E=[];try{for(var w=Pm(p),D=w.next();!D.done;D=w.next())this.updateStateForChar(D.value,g,E)}catch(L){v={error:L}}finally{try{D&&!D.done&&(_=w.return)&&_.call(w)}finally{if(v)throw v.error}}return y.simplifyStates(E)},y.prototype.updateStateForChar=function(p,g,v){for(var _=255&this.text[g],E=Z1[p.getMode()][_]>0,w=null,D=0;D<=4;D++){var O=Z1[D][_];if(O>0){if(null==w&&(w=p.endBinaryShift(g)),!E||D===p.getMode()||2===D){var L=w.latchAndAppend(D,O);v.push(L)}if(!E&&KI[p.getMode()][D]>=0){var z=w.shiftAndAppend(D,O);v.push(z)}}}if(p.getBinaryShiftByteCount()>0||0===Z1[p.getMode()][_]){var se=p.addBinaryShiftChar(g);v.push(se)}},y.updateStateListForPair=function(p,g,v){var _,E,w=[];try{for(var D=Pm(p),O=D.next();!O.done;O=D.next())this.updateStateForPair(O.value,g,v,w)}catch(z){_={error:z}}finally{try{O&&!O.done&&(E=D.return)&&E.call(D)}finally{if(_)throw _.error}}return this.simplifyStates(w)},y.updateStateForPair=function(p,g,v,_){var E=p.endBinaryShift(g);if(_.push(E.latchAndAppend(4,v)),4!==p.getMode()&&_.push(E.shiftAndAppend(4,v)),3===v||4===v){var w=E.latchAndAppend(2,16-v).latchAndAppend(2,1);_.push(w)}if(p.getBinaryShiftByteCount()>0){var D=p.addBinaryShiftChar(g).addBinaryShiftChar(g+1);_.push(D)}},y.simplifyStates=function(p){var g,v,_,E,w=[];try{for(var D=Pm(p),O=D.next();!O.done;O=D.next()){var L=O.value,z=!0,se=function(vt){if(vt.isBetterThanOrEqualTo(L))return z=!1,"break";L.isBetterThanOrEqualTo(vt)&&(w=w.filter(function(Ct){return Ct!==vt}))};try{for(var Ee=(_=void 0,Pm(w)),Me=Ee.next();!Me.done&&"break"!==se(Me.value);Me=Ee.next());}catch(vt){_={error:vt}}finally{try{Me&&!Me.done&&(E=Ee.return)&&E.call(Ee)}finally{if(_)throw _.error}}z&&w.push(L)}}catch(vt){g={error:vt}}finally{try{O&&!O.done&&(v=D.return)&&v.call(D)}finally{if(g)throw g.error}}return w},y}();const MK=CK;var xK=function(){function y(){}return y.encodeBytes=function(p){return y.encode(p,y.DEFAULT_EC_PERCENT,y.DEFAULT_AZTEC_LAYERS)},y.encode=function(p,g,v){var D,O,L,z,se,_=new MK(p).encode(),E=ni.truncDivision(_.getSize()*g,100)+11,w=_.getSize()+E;if(v!==y.DEFAULT_AZTEC_LAYERS){if(D=v<0,(O=Math.abs(v))>(D?y.MAX_NB_BITS_COMPACT:y.MAX_NB_BITS))throw new rn(xi.format("Illegal value %s for layers",v));var Ee=(L=y.totalBitsInLayer(O,D))-L%(z=y.WORD_SIZE[O]);if((se=y.stuffBits(_,z)).getSize()+E>Ee)throw new rn("Data to large for user specified layer");if(D&&se.getSize()>64*z)throw new rn("Data to large for user specified layer")}else{z=0,se=null;for(var Me=0;;Me++){if(Me>y.MAX_NB_BITS)throw new rn("Data too large for an Aztec code");if(!(w>(L=y.totalBitsInLayer(O=(D=Me<=3)?Me+1:Me,D)))&&((null==se||z!==y.WORD_SIZE[O])&&(se=y.stuffBits(_,z=y.WORD_SIZE[O])),Ee=L-L%z,!(D&&se.getSize()>64*z)&&se.getSize()+E<=Ee))break}}var Nt,Ge=y.generateCheckWords(se,L,z),st=se.getSize()/z,vt=y.generateModeMessage(D,O,st),Ct=(D?11:14)+4*O,pt=new Int32Array(Ct);if(D)for(Nt=Ct,Me=0;Me<pt.length;Me++)pt[Me]=Me;else{Nt=Ct+1+2*ni.truncDivision(ni.truncDivision(Ct,2)-1,15);var zt=ni.truncDivision(Ct,2),ar=ni.truncDivision(Nt,2);for(Me=0;Me<zt;Me++){var Mr=Me+ni.truncDivision(Me,15);pt[zt-Me-1]=ar-Mr-1,pt[zt+Me]=ar+Mr+1}}for(var jr=new pa(Nt),en=(Me=0,0);Me<O;Me++){for(var On=4*(O-Me)+(D?9:12),_n=0;_n<On;_n++)for(var ji=2*_n,qn=0;qn<2;qn++)Ge.get(en+ji+qn)&&jr.set(pt[2*Me+qn],pt[2*Me+_n]),Ge.get(en+2*On+ji+qn)&&jr.set(pt[2*Me+_n],pt[Ct-1-2*Me-qn]),Ge.get(en+4*On+ji+qn)&&jr.set(pt[Ct-1-2*Me-qn],pt[Ct-1-2*Me-_n]),Ge.get(en+6*On+ji+qn)&&jr.set(pt[Ct-1-2*Me-_n],pt[2*Me+qn]);en+=8*On}if(y.drawModeMessage(jr,D,Nt,vt),D)y.drawBullsEye(jr,ni.truncDivision(Nt,2),5);else for(y.drawBullsEye(jr,ni.truncDivision(Nt,2),7),Me=0,_n=0;Me<ni.truncDivision(Ct,2)-1;Me+=15,_n+=16)for(qn=1&ni.truncDivision(Nt,2);qn<Nt;qn+=2)jr.set(ni.truncDivision(Nt,2)-_n,qn),jr.set(ni.truncDivision(Nt,2)+_n,qn),jr.set(qn,ni.truncDivision(Nt,2)-_n),jr.set(qn,ni.truncDivision(Nt,2)+_n);var Di=new iK;return Di.setCompact(D),Di.setSize(Nt),Di.setLayers(O),Di.setCodeWords(st),Di.setMatrix(jr),Di},y.drawBullsEye=function(p,g,v){for(var _=0;_<v;_+=2)for(var E=g-_;E<=g+_;E++)p.set(E,g-_),p.set(E,g+_),p.set(g-_,E),p.set(g+_,E);p.set(g-v,g-v),p.set(g-v+1,g-v),p.set(g-v,g-v+1),p.set(g+v,g-v),p.set(g+v,g-v+1),p.set(g+v,g+v-1)},y.generateModeMessage=function(p,g,v){var _=new Vo;return p?(_.appendBits(g-1,2),_.appendBits(v-1,6),_=y.generateCheckWords(_,28,4)):(_.appendBits(g-1,5),_.appendBits(v-1,11),_=y.generateCheckWords(_,40,4)),_},y.drawModeMessage=function(p,g,v,_){var E=ni.truncDivision(v,2);if(g)for(var w=0;w<7;w++){var D=E-3+w;_.get(w)&&p.set(D,E-5),_.get(w+7)&&p.set(E+5,D),_.get(20-w)&&p.set(D,E+5),_.get(27-w)&&p.set(E-5,D)}else for(w=0;w<10;w++)D=E-5+w+ni.truncDivision(w,5),_.get(w)&&p.set(D,E-7),_.get(w+10)&&p.set(E+7,D),_.get(29-w)&&p.set(D,E+7),_.get(39-w)&&p.set(E-7,D)},y.generateCheckWords=function(p,g,v){var _,E,w=p.getSize()/v,D=new VI(y.getGF(v)),O=ni.truncDivision(g,v),L=y.bitsToWords(p,v,O);D.encode(L,O-w);var z=g%v,se=new Vo;se.appendBits(0,z);try{for(var Ee=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")}(Array.from(L)),Me=Ee.next();!Me.done;Me=Ee.next())se.appendBits(Me.value,v)}catch(st){_={error:st}}finally{try{Me&&!Me.done&&(E=Ee.return)&&E.call(Ee)}finally{if(_)throw _.error}}return se},y.bitsToWords=function(p,g,v){var E,w,_=new Int32Array(v);for(E=0,w=p.getSize()/g;E<w;E++){for(var D=0,O=0;O<g;O++)D|=p.get(E*g+O)?1<<g-O-1:0;_[E]=D}return _},y.getGF=function(p){switch(p){case 4:return Ns.AZTEC_PARAM;case 6:return Ns.AZTEC_DATA_6;case 8:return Ns.AZTEC_DATA_8;case 10:return Ns.AZTEC_DATA_10;case 12:return Ns.AZTEC_DATA_12;default:throw new rn("Unsupported word size "+p)}},y.stuffBits=function(p,g){for(var v=new Vo,_=p.getSize(),E=(1<<g)-2,w=0;w<_;w+=g){for(var D=0,O=0;O<g;O++)(w+O>=_||p.get(w+O))&&(D|=1<<g-1-O);(D&E)===E?(v.appendBits(D&E,g),w--):0==(D&E)?(v.appendBits(1|D,g),w--):v.appendBits(D,g)}return v},y.totalBitsInLayer=function(p,g){return((g?88:112)+16*p)*p},y.DEFAULT_EC_PERCENT=33,y.DEFAULT_AZTEC_LAYERS=0,y.MAX_NB_BITS=32,y.MAX_NB_BITS_COMPACT=4,y.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),y}();const $1=xK;!function(){function y(){}y.prototype.encode=function(p,g,v,_){return this.encodeWithHints(p,g,v,_,null)},y.prototype.encodeWithHints=function(p,g,v,_,E){var w=rK.ISO_8859_1,D=$1.DEFAULT_EC_PERCENT,O=$1.DEFAULT_AZTEC_LAYERS;return null!=E&&(E.has(Pi.CHARACTER_SET)&&(w=eK.forName(E.get(Pi.CHARACTER_SET).toString())),E.has(Pi.ERROR_CORRECTION)&&(D=ni.parseInt(E.get(Pi.ERROR_CORRECTION).toString())),E.has(Pi.AZTEC_LAYERS)&&(O=ni.parseInt(E.get(Pi.AZTEC_LAYERS).toString()))),y.encodeLayers(p,g,v,_,w,D,O)},y.encodeLayers=function(p,g,v,_,E,w,D){if(g!==mn.AZTEC)throw new rn("Can only encode AZTEC, but got "+g);var O=$1.encode(xi.getBytes(p,E),w,D);return y.renderResult(O,v,_)},y.renderResult=function(p,g,v){var _=p.getMatrix();if(null==_)throw new cl;for(var E=_.getWidth(),w=_.getHeight(),D=Math.max(g,E),O=Math.max(v,w),L=Math.min(D/E,O/w),z=(D-E*L)/2,se=(O-w*L)/2,Ee=new pa(D,O),Me=0,Ge=se;Me<w;Me++,Ge+=L)for(var st=0,vt=z;st<E;st++,vt+=L)_.get(st,Me)&&Ee.setRegion(vt,Ge,L,L);return Ee}}();var DK=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)Object.prototype.hasOwnProperty.call(_,E)&&(v[E]=_[E])})(p,g)};return function(p,g){if("function"!=typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),OK=function(y){function p(g){var v=y.call(this,g.width,g.height)||this;return v.canvas=g,v.tempCanvasElement=null,v.buffer=p.makeBufferFromCanvasImageData(g),v}return DK(p,y),p.makeBufferFromCanvasImageData=function(g){var v=g.getContext("2d");if(!v)throw new Error("Couldn't get canvas context.");var _=v.getImageData(0,0,g.width,g.height);return p.toGrayscaleBuffer(_.data,g.width,g.height)},p.toGrayscaleBuffer=function(g,v,_){for(var E=new Uint8ClampedArray(v*_),w=0,D=0,O=g.length;w<O;w+=4,D++){E[D]=0===g[w+3]?255:306*g[w]+601*g[w+1]+117*g[w+2]+512>>10}return E},p.prototype.getRow=function(g,v){if(g<0||g>=this.getHeight())throw new rn("Requested row is outside the image: "+g);var _=this.getWidth(),E=g*_;return null===v?v=this.buffer.slice(E,E+_):(v.length<_&&(v=new Uint8ClampedArray(_)),v.set(this.buffer.slice(E,E+_))),v},p.prototype.getMatrix=function(){return this.buffer},p.prototype.isCropSupported=function(){return!0},p.prototype.crop=function(g,v,_,E){return y.prototype.crop.call(this,g,v,_,E),this},p.prototype.isRotateSupported=function(){return!0},p.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},p.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},p.prototype.invert=function(){return new fm(this)},p.prototype.getTempCanvasElement=function(){if(null===this.tempCanvasElement){var g=this.canvas.ownerDocument.createElement("canvas");g.width=this.canvas.width,g.height=this.canvas.height,this.tempCanvasElement=g}return this.tempCanvasElement},p.prototype.rotate=function(g){var v=this.getTempCanvasElement();if(!v)throw new Error("Could not create a Canvas element.");var _=g*p.DEGREE_TO_RADIANS,E=this.canvas.width,w=this.canvas.height,D=Math.ceil(Math.abs(Math.cos(_))*E+Math.abs(Math.sin(_))*w),O=Math.ceil(Math.abs(Math.sin(_))*E+Math.abs(Math.cos(_))*w);v.width=D,v.height=O;var L=v.getContext("2d");if(!L)throw new Error("Could not create a Canvas Context element.");return L.translate(D/2,O/2),L.rotate(_),L.drawImage(this.canvas,E/-2,w/-2),this.buffer=p.makeBufferFromCanvasImageData(v),this},p.DEGREE_TO_RADIANS=Math.PI/180,p}(Sf);function zI(){return"undefined"!=typeof navigator}var Rd=function(){return Rd=Object.assign||function(y){for(var p,g=1,v=arguments.length;g<v;g++)for(var _ in p=arguments[g])Object.prototype.hasOwnProperty.call(p,_)&&(y[_]=p[_]);return y},Rd.apply(this,arguments)},to=function(y,p,g,v){return new(g||(g=Promise))(function(E,w){function D(z){try{L(v.next(z))}catch(se){w(se)}}function O(z){try{L(v.throw(z))}catch(se){w(se)}}function L(z){z.done?E(z.value):function _(E){return E instanceof g?E:new g(function(w){w(E)})}(z.value).then(D,O)}L((v=v.apply(y,p||[])).next())})},ro=function(y,p){var v,_,E,w,g={label:0,sent:function(){if(1&E[0])throw E[1];return E[1]},trys:[],ops:[]};return w={next:D(0),throw:D(1),return:D(2)},"function"==typeof Symbol&&(w[Symbol.iterator]=function(){return this}),w;function D(L){return function(z){return function O(L){if(v)throw new TypeError("Generator is already executing.");for(;g;)try{if(v=1,_&&(E=2&L[0]?_.return:L[0]?_.throw||((E=_.return)&&E.call(_),0):_.next)&&!(E=E.call(_,L[1])).done)return E;switch(_=0,E&&(L=[2&L[0],E.value]),L[0]){case 0:case 1:E=L;break;case 4:return g.label++,{value:L[1],done:!1};case 5:g.label++,_=L[1],L=[0];continue;case 7:L=g.ops.pop(),g.trys.pop();continue;default:if(!(E=(E=g.trys).length>0&&E[E.length-1])&&(6===L[0]||2===L[0])){g=0;continue}if(3===L[0]&&(!E||L[1]>E[0]&&L[1]<E[3])){g.label=L[1];break}if(6===L[0]&&g.label<E[1]){g.label=E[1],E=L;break}if(E&&g.label<E[2]){g.label=E[2],g.ops.push(L);break}E[2]&&g.ops.pop(),g.trys.pop();continue}L=p.call(y,g)}catch(z){L=[6,z],_=0}finally{v=E=0}if(5&L[0])throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}([L,z])}}},K1=function(y){var p="function"==typeof Symbol&&Symbol.iterator,g=p&&y[p],v=0;if(g)return g.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},TK={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},wu=function(){function y(p,g,v){void 0===g&&(g=new Map),void 0===v&&(v={}),this.reader=p,this.hints=g,this.options=Rd(Rd({},TK),v)}return Object.defineProperty(y.prototype,"possibleFormats",{set:function(p){this.hints.set(hi.POSSIBLE_FORMATS,p)},enumerable:!1,configurable:!0}),y.addVideoSource=function(p,g){try{p.srcObject=g}catch(v){console.error("got interrupted by new loading request")}},y.mediaStreamSetTorch=function(p,g){return to(this,void 0,void 0,function(){return ro(this,function(v){switch(v.label){case 0:return[4,p.applyConstraints({advanced:[{fillLightMode:g?"flash":"off",torch:!!g}]})];case 1:return v.sent(),[2]}})})},y.mediaStreamIsTorchCompatible=function(p){var g,v,_=p.getVideoTracks();try{for(var E=K1(_),w=E.next();!w.done;w=E.next())if(y.mediaStreamIsTorchCompatibleTrack(w.value))return!0}catch(O){g={error:O}}finally{try{w&&!w.done&&(v=E.return)&&v.call(E)}finally{if(g)throw g.error}}return!1},y.mediaStreamIsTorchCompatibleTrack=function(p){try{return"torch"in p.getCapabilities()}catch(v){return console.error(v),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},y.isVideoPlaying=function(p){return p.currentTime>0&&!p.paused&&p.readyState>2},y.getMediaElement=function(p,g){var v=document.getElementById(p);if(!v)throw new uo("element with id '".concat(p,"' not found"));if(v.nodeName.toLowerCase()!==g.toLowerCase())throw new uo("element with id '".concat(p,"' must be an ").concat(g," element"));return v},y.createVideoElement=function(p){if(p instanceof HTMLVideoElement)return p;if("string"==typeof p)return y.getMediaElement(p,"video");if(!p&&"undefined"!=typeof document){var g=document.createElement("video");return g.width=200,g.height=200,g}throw new Error("Couldn't get videoElement from videoSource!")},y.prepareImageElement=function(p){if(p instanceof HTMLImageElement)return p;if("string"==typeof p)return y.getMediaElement(p,"img");if(void 0===p){var g=document.createElement("img");return g.width=200,g.height=200,g}throw new Error("Couldn't get imageElement from imageSource!")},y.prepareVideoElement=function(p){var g=y.createVideoElement(p);return g.setAttribute("autoplay","true"),g.setAttribute("muted","true"),g.setAttribute("playsinline","true"),g},y.isImageLoaded=function(p){return!(!p.complete||0===p.naturalWidth)},y.createBinaryBitmapFromCanvas=function(p){var g=new OK(p),v=new sI(g);return new iI(v)},y.drawImageOnCanvas=function(p,g){p.drawImage(g,0,0)},y.getMediaElementDimensions=function(p){if(p instanceof HTMLVideoElement)return{height:p.videoHeight,width:p.videoWidth};if(p instanceof HTMLImageElement)return{height:p.naturalHeight||p.height,width:p.naturalWidth||p.width};throw new Error("Couldn't find the Source's dimensions!")},y.createCaptureCanvas=function(p){if(!p)throw new uo("Cannot create a capture canvas without a media element.");if("undefined"==typeof document)throw new Error('The page "Document" is undefined, make sure you\'re running in a browser.');var g=document.createElement("canvas"),v=y.getMediaElementDimensions(p),_=v.width,E=v.height;return g.style.width=_+"px",g.style.height=E+"px",g.width=_,g.height=E,g},y.tryPlayVideo=function(p){return to(this,void 0,void 0,function(){var g;return ro(this,function(v){switch(v.label){case 0:if(null==p?void 0:p.ended)return console.error("Trying to play video that has ended."),[2,!1];if(y.isVideoPlaying(p))return console.warn("Trying to play video that is already playing."),[2,!0];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,p.play()];case 2:return v.sent(),[2,!0];case 3:return g=v.sent(),console.warn("It was not possible to play the video.",g),[2,!1];case 4:return[2]}})})},y.createCanvasFromMediaElement=function(p){var g=y.createCaptureCanvas(p),v=g.getContext("2d");if(!v)throw new Error("Couldn't find Canvas 2D Context.");return y.drawImageOnCanvas(v,p),g},y.createBinaryBitmapFromMediaElem=function(p){var g=y.createCanvasFromMediaElement(p);return y.createBinaryBitmapFromCanvas(g)},y.destroyImageElement=function(p){p.src="",p.removeAttribute("src"),p=void 0},y.listVideoInputDevices=function(){return to(this,void 0,void 0,function(){var p,g,v,_,E,w,D,O,se,Ee;return ro(this,function(Me){switch(Me.label){case 0:if(!zI())throw new Error("Can't enumerate devices, navigator is not present.");if(!function IK(){return!(!function SK(){return zI()&&!!navigator.mediaDevices}()||!navigator.mediaDevices.enumerateDevices)}())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:p=Me.sent(),g=[];try{for(v=K1(p),_=v.next();!_.done;_=v.next())"videoinput"===(w="video"===(E=_.value).kind?"videoinput":E.kind)&&(D=E.deviceId||E.id,O=E.label||"Video device ".concat(g.length+1),g.push({deviceId:D,label:O,kind:w,groupId:E.groupId}))}catch(Ge){se={error:Ge}}finally{try{_&&!_.done&&(Ee=v.return)&&Ee.call(v)}finally{if(se)throw se.error}}return[2,g]}})})},y.findDeviceById=function(p){return to(this,void 0,void 0,function(){var g;return ro(this,function(v){switch(v.label){case 0:return[4,y.listVideoInputDevices()];case 1:return(g=v.sent())?[2,g.find(function(_){return _.deviceId===p})]:[2]}})})},y.cleanVideoSource=function(p){if(p){try{p.srcObject=null}catch(g){p.src=""}p&&p.removeAttribute("src")}},y.releaseAllStreams=function(){0!==y.streamTracker.length&&y.streamTracker.forEach(function(p){p.getTracks().forEach(function(g){return g.stop()})}),y.streamTracker=[]},y.playVideoOnLoadAsync=function(p,g){return to(this,void 0,void 0,function(){return ro(this,function(_){switch(_.label){case 0:return[4,y.tryPlayVideo(p)];case 1:return _.sent()?[2,!0]:[2,new Promise(function(E,w){var D=setTimeout(function(){y.isVideoPlaying(p)||(w(!1),p.removeEventListener("canplay",O))},g),O=function(){y.tryPlayVideo(p).then(function(L){clearTimeout(D),p.removeEventListener("canplay",O),E(L)})};p.addEventListener("canplay",O)})]}})})},y.attachStreamToVideo=function(p,g,v){return void 0===v&&(v=5e3),to(this,void 0,void 0,function(){var _;return ro(this,function(E){switch(E.label){case 0:return _=y.prepareVideoElement(g),y.addVideoSource(_,p),[4,y.playVideoOnLoadAsync(_,v)];case 1:return E.sent(),[2,_]}})})},y._waitImageLoad=function(p){return new Promise(function(g,v){var E=setTimeout(function(){y.isImageLoaded(p)||(p.removeEventListener("load",w),v())},1e4),w=function(){clearTimeout(E),p.removeEventListener("load",w),g()};p.addEventListener("load",w)})},y.checkCallbackFnOrThrow=function(p){if(!p)throw new uo("`callbackFn` is a required parameter, you cannot capture results without it.")},y.disposeMediaStream=function(p){p.getVideoTracks().forEach(function(g){return g.stop()}),p=void 0},y.prototype.decode=function(p){var g=y.createCanvasFromMediaElement(p);return this.decodeFromCanvas(g)},y.prototype.decodeBitmap=function(p){return this.reader.decode(p,this.hints)},y.prototype.decodeFromCanvas=function(p){var g=y.createBinaryBitmapFromCanvas(p);return this.decodeBitmap(g)},y.prototype.decodeFromImageElement=function(p){return to(this,void 0,void 0,function(){var g;return ro(this,function(v){switch(v.label){case 0:if(!p)throw new uo("An image element must be provided.");return g=y.prepareImageElement(p),[4,this._decodeOnLoadImage(g)];case 1:return[2,v.sent()]}})})},y.prototype.decodeFromImageUrl=function(p){return to(this,void 0,void 0,function(){var g;return ro(this,function(v){switch(v.label){case 0:if(!p)throw new uo("An URL must be provided.");(g=y.prepareImageElement()).src=p,v.label=1;case 1:return v.trys.push([1,,3,4]),[4,this.decodeFromImageElement(g)];case 2:return[2,v.sent()];case 3:return y.destroyImageElement(g),[7];case 4:return[2]}})})},y.prototype.decodeFromConstraints=function(p,g,v){return to(this,void 0,void 0,function(){var _,E;return ro(this,function(w){switch(w.label){case 0:return y.checkCallbackFnOrThrow(v),[4,this.getUserMedia(p)];case 1:_=w.sent(),w.label=2;case 2:return w.trys.push([2,4,,5]),[4,this.decodeFromStream(_,g,v)];case 3:return[2,w.sent()];case 4:throw E=w.sent(),y.disposeMediaStream(_),E;case 5:return[2]}})})},y.prototype.decodeFromStream=function(p,g,v){return to(this,void 0,void 0,function(){var E,D,O,L,se,Ee,Ge=this;return ro(this,function(st){switch(st.label){case 0:return y.checkCallbackFnOrThrow(v),[4,y.attachStreamToVideo(p,g,this.options.tryPlayVideoTimeout)];case 1:return E=st.sent(),D=this.scan(E,v,function(){y.disposeMediaStream(p),y.cleanVideoSource(E)}),O=p.getVideoTracks(),L=Rd(Rd({},D),{stop:function(){D.stop()},streamVideoConstraintsApply:function(vt,Ct){return to(this,void 0,void 0,function(){var pt,Nt,zt,Mr,jr,en;return ro(this,function(On){switch(On.label){case 0:pt=Ct?O.filter(Ct):O,On.label=1;case 1:On.trys.push([1,6,7,8]),Nt=K1(pt),zt=Nt.next(),On.label=2;case 2:return zt.done?[3,5]:[4,zt.value.applyConstraints(vt)];case 3:On.sent(),On.label=4;case 4:return zt=Nt.next(),[3,2];case 5:return[3,8];case 6:return Mr=On.sent(),jr={error:Mr},[3,8];case 7:try{zt&&!zt.done&&(en=Nt.return)&&en.call(Nt)}finally{if(jr)throw jr.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(vt){return O.find(vt).getConstraints()},streamVideoSettingsGet:function(vt){return O.find(vt).getSettings()},streamVideoCapabilitiesGet:function(vt){return O.find(vt).getCapabilities()}}),y.mediaStreamIsTorchCompatible(p)&&(se=null==O?void 0:O.find(function(vt){return y.mediaStreamIsTorchCompatibleTrack(vt)}),L.switchTorch=Ee=function(vt){return to(Ge,void 0,void 0,function(){return ro(this,function(Ct){switch(Ct.label){case 0:return[4,y.mediaStreamSetTorch(se,vt)];case 1:return Ct.sent(),[2]}})})},L.stop=function(){D.stop(),Ee(!1)}),[2,L]}})})},y.prototype.decodeFromVideoDevice=function(p,g,v){return to(this,void 0,void 0,function(){return ro(this,function(w){switch(w.label){case 0:return y.checkCallbackFnOrThrow(v),[4,this.decodeFromConstraints({video:p?{deviceId:{exact:p}}:{facingMode:"environment"}},g,v)];case 1:return[2,w.sent()]}})})},y.prototype.decodeFromVideoElement=function(p,g){return to(this,void 0,void 0,function(){var v;return ro(this,function(E){switch(E.label){case 0:if(y.checkCallbackFnOrThrow(g),!p)throw new uo("A video element must be provided.");return v=y.prepareVideoElement(p),[4,y.playVideoOnLoadAsync(v,this.options.tryPlayVideoTimeout)];case 1:return E.sent(),[2,this.scan(v,g)]}})})},y.prototype.decodeFromVideoUrl=function(p,g){return to(this,void 0,void 0,function(){var v,_;return ro(this,function(D){switch(D.label){case 0:if(y.checkCallbackFnOrThrow(g),!p)throw new uo("An URL must be provided.");return(v=y.prepareVideoElement()).src=p,_=function(){y.cleanVideoSource(v)},[4,y.playVideoOnLoadAsync(v,this.options.tryPlayVideoTimeout)];case 1:return D.sent(),[2,this.scan(v,g,_)]}})})},y.prototype.decodeOnceFromConstraints=function(p,g){return to(this,void 0,void 0,function(){var v;return ro(this,function(_){switch(_.label){case 0:return[4,this.getUserMedia(p)];case 1:return v=_.sent(),[4,this.decodeOnceFromStream(v,g)];case 2:return[2,_.sent()]}})})},y.prototype.decodeOnceFromStream=function(p,g){return to(this,void 0,void 0,function(){var v,_;return ro(this,function(w){switch(w.label){case 0:return v=Boolean(g),[4,y.attachStreamToVideo(p,g)];case 1:_=w.sent(),w.label=2;case 2:return w.trys.push([2,,4,5]),[4,this.scanOneResult(_)];case 3:return[2,w.sent()];case 4:return v||y.cleanVideoSource(_),[7];case 5:return[2]}})})},y.prototype.decodeOnceFromVideoDevice=function(p,g){return to(this,void 0,void 0,function(){return ro(this,function(E){switch(E.label){case 0:return[4,this.decodeOnceFromConstraints({video:p?{deviceId:{exact:p}}:{facingMode:"environment"}},g)];case 1:return[2,E.sent()]}})})},y.prototype.decodeOnceFromVideoElement=function(p){return to(this,void 0,void 0,function(){var g;return ro(this,function(_){switch(_.label){case 0:if(!p)throw new uo("A video element must be provided.");return g=y.prepareVideoElement(p),[4,y.playVideoOnLoadAsync(g,this.options.tryPlayVideoTimeout)];case 1:return _.sent(),[4,this.scanOneResult(g)];case 2:return[2,_.sent()]}})})},y.prototype.decodeOnceFromVideoUrl=function(p){return to(this,void 0,void 0,function(){var g,v;return ro(this,function(_){switch(_.label){case 0:if(!p)throw new uo("An URL must be provided.");(g=y.prepareVideoElement()).src=p,v=this.decodeOnceFromVideoElement(g),_.label=1;case 1:return _.trys.push([1,,3,4]),[4,v];case 2:return[2,_.sent()];case 3:return y.cleanVideoSource(g),[7];case 4:return[2]}})})},y.prototype.scanOneResult=function(p,g,v,_){var E=this;return void 0===g&&(g=!0),void 0===v&&(v=!0),void 0===_&&(_=!0),new Promise(function(w,D){E.scan(p,function(O,L,z){if(O)return w(O),void z.stop();if(L){if(L instanceof Er&&g||L instanceof Mo&&v||L instanceof $r&&_)return;z.stop(),D(L)}})})},y.prototype.scan=function(p,g,v){var _=this;y.checkCallbackFnOrThrow(g);var E=y.createCaptureCanvas(p),w=E.getContext("2d");if(!w)throw new Error("Couldn't create canvas for visual element scan.");var L,D=function(){w=void 0,E=void 0},O=!1,se={stop:function(){O=!0,clearTimeout(L),D(),v&&v()}},Ee=function(){if(!O)try{y.drawImageOnCanvas(w,p);var Me=_.decodeFromCanvas(E);g(Me,void 0,se),L=setTimeout(Ee,_.options.delayBetweenScanSuccess)}catch(Ct){if(g(void 0,Ct,se),Ct instanceof Mo||Ct instanceof $r||Ct instanceof Er)return void(L=setTimeout(Ee,_.options.delayBetweenScanAttempts));D(),v&&v(Ct)}};return Ee(),se},y.prototype._decodeOnLoadImage=function(p){return to(this,void 0,void 0,function(){return ro(this,function(v){switch(v.label){case 0:return y.isImageLoaded(p)?[3,2]:[4,y._waitImageLoad(p)];case 1:v.sent(),v.label=2;case 2:return[2,this.decode(p)]}})})},y.prototype.getUserMedia=function(p){return to(this,void 0,void 0,function(){var g;return ro(this,function(v){switch(v.label){case 0:return[4,navigator.mediaDevices.getUserMedia(p)];case 1:return g=v.sent(),y.streamTracker.push(g),[2,g]}})})},y.streamTracker=[],y}(),PK=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)Object.prototype.hasOwnProperty.call(_,E)&&(v[E]=_[E])})(p,g)};return function(p,g){if("function"!=typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),AK=(function(y){PK(function p(g,v){return y.call(this,new _m,g,v)||this},y)}(wu),function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)Object.prototype.hasOwnProperty.call(_,E)&&(v[E]=_[E])})(p,g)};return function(p,g){if("function"!=typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}()),RK=(function(y){AK(function p(g,v){return y.call(this,new Ad(g),g,v)||this},y)}(wu),function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)Object.prototype.hasOwnProperty.call(_,E)&&(v[E]=_[E])})(p,g)};return function(p,g){if("function"!=typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}()),LK=(function(y){RK(function p(g,v){return y.call(this,new wm,g,v)||this},y)}(wu),function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)Object.prototype.hasOwnProperty.call(_,E)&&(v[E]=_[E])})(p,g)};return function(p,g){if("function"!=typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}()),NK=function(y){function p(g,v){var _=this,E=new BI;return E.setHints(g),(_=y.call(this,E,g,v)||this).reader=E,_}return LK(p,y),Object.defineProperty(p.prototype,"possibleFormats",{set:function(g){this.hints.set(hi.POSSIBLE_FORMATS,g),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),p.prototype.decodeBitmap=function(g){return this.reader.decodeWithState(g)},p.prototype.setHints=function(g){this.hints=g,this.reader.setHints(this.hints)},p}(wu),FK=function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)Object.prototype.hasOwnProperty.call(_,E)&&(v[E]=_[E])})(p,g)};return function(p,g){if("function"!=typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),jK=(function(y){FK(function p(g,v){return y.call(this,new Om,g,v)||this},y)}(wu),function(){var y=function(p,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var E in _)Object.prototype.hasOwnProperty.call(_,E)&&(v[E]=_[E])})(p,g)};return function(p,g){if("function"!=typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function v(){this.constructor=p}y(p,g),p.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}()),Bl=(function(y){jK(function p(g,v){return y.call(this,new xm,g,v)||this},y)}(wu),"http://www.w3.org/2000/svg"),GI=(function(){function y(p){if("string"==typeof p){var g=document.getElementById(p);if(!g)throw new Error("Could not find a Container element with '".concat(p,"'."));this.containerElement=g}else this.containerElement=p}y.prototype.write=function(p,g,v,_){if(0===p.length)throw new rn("Found empty contents");if(g<0||v<0)throw new rn("Requested dimensions are too small: "+g+"x"+v);var E=_&&void 0!==_.get(Pi.MARGIN)?Number.parseInt(_.get(Pi.MARGIN).toString(),10):y.QUIET_ZONE_SIZE,w=this.encode(_,p);return this.renderResult(w,g,v,E)},y.prototype.createSVGElement=function(p,g){var v=document.createElementNS(y.SVG_NS,"svg");return v.setAttributeNS(Bl,"width",g.toString()),v.setAttributeNS(Bl,"height",p.toString()),v},y.prototype.createSvgPathPlaceholderElement=function(p,g){var v=document.createElementNS(y.SVG_NS,"path");return v.setAttributeNS(Bl,"d","M0 0h".concat(p,"v").concat(g,"H0z")),v.setAttributeNS(Bl,"fill","none"),v},y.prototype.createSvgRectElement=function(p,g,v,_){var E=document.createElementNS(y.SVG_NS,"rect");return E.setAttributeNS(Bl,"x",p.toString()),E.setAttributeNS(Bl,"y",g.toString()),E.setAttributeNS(Bl,"height",v.toString()),E.setAttributeNS(Bl,"width",_.toString()),E.setAttributeNS(Bl,"fill","#000000"),E},y.prototype.encode=function(p,g){var v=Ul.L;if(p&&void 0!==p.get(Pi.ERROR_CORRECTION)){var _=p.get(Pi.ERROR_CORRECTION).toString();v=Ul.fromString(_)}return Im.encode(g,v,p)},y.prototype.renderResult=function(p,g,v,_){var E=p.getMatrix();if(null===E)throw new cl;var w=E.getWidth(),D=E.getHeight(),O=w+2*_,L=D+2*_,z=Math.max(g,O),se=Math.max(v,L),Ee=Math.min(Math.floor(z/O),Math.floor(se/L)),Me=Math.floor((z-w*Ee)/2),Ge=Math.floor((se-D*Ee)/2),st=this.createSVGElement(z,se),vt=this.createSvgPathPlaceholderElement(g,v);st.appendChild(vt),this.containerElement.appendChild(st);for(var Ct=0,pt=Ge;Ct<D;Ct++,pt+=Ee)for(var Nt=0,zt=Me;Nt<w;Nt++,zt+=Ee)if(1===E.get(Nt,Ct)){var ar=this.createSvgRectElement(zt,pt,Ee,Ee);st.appendChild(ar)}return st},y.QUIET_ZONE_SIZE=4,y.SVG_NS="http://www.w3.org/2000/svg"}(),"http://www.w3.org/2000/svg");!function(){function y(){}y.prototype.write=function(p,g,v,_){if(0===p.length)throw new rn("Found empty contents");if(g<0||v<0)throw new rn("Requested dimensions are too small: "+g+"x"+v);var E=Ul.L,w=y.QUIET_ZONE_SIZE;if(_){if(void 0!==_.get(Pi.ERROR_CORRECTION)){var D=_.get(Pi.ERROR_CORRECTION).toString();E=Ul.fromString(D)}void 0!==_.get(Pi.MARGIN)&&(w=Number.parseInt(_.get(Pi.MARGIN).toString(),10))}var O=Im.encode(p,E,_);return this.renderResult(O,g,v,w)},y.prototype.writeToDom=function(p,g,v,_,E){if("string"==typeof p){var w=document.querySelector(p);if(!w)throw new Error("Could no find the target HTML element.");p=w}var D=this.write(g,v,_,E);p instanceof HTMLElement&&p.appendChild(D)},y.prototype.renderResult=function(p,g,v,_){var E=p.getMatrix();if(null===E)throw new cl;for(var w=E.getWidth(),D=E.getHeight(),O=w+2*_,L=D+2*_,z=Math.max(g,O),se=Math.max(v,L),Ee=Math.min(Math.floor(z/O),Math.floor(se/L)),Me=Math.floor((z-w*Ee)/2),Ge=Math.floor((se-D*Ee)/2),st=this.createSVGElement(z,se),vt=0,Ct=Ge;vt<D;vt++,Ct+=Ee)for(var pt=0,Nt=Me;pt<w;pt++,Nt+=Ee)if(1===E.get(pt,vt)){var zt=this.createSvgRectElement(Nt,Ct,Ee,Ee);st.appendChild(zt)}return st},y.prototype.createSVGElement=function(p,g){var v=document.createElementNS(GI,"svg"),_=p.toString(),E=g.toString();return v.setAttribute("height",E),v.setAttribute("width",_),v.setAttribute("viewBox","0 0 "+_+" "+E),v},y.prototype.createSvgRectElement=function(p,g,v,_){var E=document.createElementNS(GI,"rect");return E.setAttribute("x",p.toString()),E.setAttribute("y",g.toString()),E.setAttribute("height",v.toString()),E.setAttribute("width",_.toString()),E.setAttribute("fill","#000000"),E},y.QUIET_ZONE_SIZE=4}();const UK=["preview"];class z1 extends NK{getScannerControls(){if(!this.scannerControls)throw new Error("No scanning is running at the time.");return this.scannerControls}scanFromDeviceObservable(p,g){var v;return Ze(this,void 0,void 0,function*(){const _=new da({});let E;try{E=yield this.decodeFromVideoDevice(p,g,(w,D)=>{if(!D)return void _.next({result:w});const O=D.name;O===Er.name||O===Mo.name||O===$r.name||D.message.includes("No MultiFormat Readers were able to detect the code.")?_.next({error:D}):(_.error(D),this.scannerControls.stop(),this.scannerControls=void 0)}),this.scannerControls=Object.assign(Object.assign({},E),{stop(){E.stop(),_.complete()}})}catch(w){_.error(w),null===(v=this.scannerControls)||void 0===v||v.stop(),this.scannerControls=void 0}return _.asObservable()})}}let BK=(()=>{class y{constructor(){this.timeBetweenScans=500,this.delayBetweenScanSuccess=500,this.previewFitMode="cover",this._ready=!1,this.autostarted=new ii,this.autostarting=new ii,this.torchCompatible=new ii(!1),this.scanSuccess=new ii,this.scanFailure=new ii,this.scanError=new ii,this.scanComplete=new ii,this.camerasFound=new ii,this.camerasNotFound=new ii,this.permissionResponse=new ii(!0),this.hasDevices=new ii,this.deviceChange=new ii,this._enabled=!0,this._hints=new Map,this.autofocusEnabled=!0,this.autostart=!0,this.formats=[mn.QR_CODE],this.hasNavigator="undefined"!=typeof navigator,this.isMediaDevicesSupported=this.hasNavigator&&!!navigator.mediaDevices}get codeReader(){return this._codeReader}set device(g){this._ready?this.isAutostarting?console.warn("Avoid setting a device during auto-start."):this.isCurrentDevice(g)?console.warn("Setting the same device is not allowed."):this.hasPermission?this.setDevice(g):console.warn("Permissions not set yet, waiting for them to be set to apply device change."):this._devicePreStart=g}get device(){return this._device}get formats(){return this.hints.get(hi.POSSIBLE_FORMATS)}set formats(g){if("string"==typeof g)throw new Error("Invalid formats, make sure the [formats] input is a binding.");const v=g.map(E=>this.getBarcodeFormatOrFail(E)),_=this.hints;_.set(hi.POSSIBLE_FORMATS,v),this.hints=_}get hints(){return this._hints}set hints(g){var v;this._hints=g,null===(v=this.codeReader)||void 0===v||v.setHints(this._hints)}set videoConstraints(g){var v;const _=null===(v=this.codeReader)||void 0===v?void 0:v.getScannerControls();!_||null==_||_.streamVideoConstraintsApply(g)}set isAutostarting(g){this._isAutostarting=g,this.autostarting.next(g)}get isAutostarting(){return this._isAutostarting}set torch(g){try{this.getCodeReader().getScannerControls().switchTorch(g)}catch(v){}}set enable(g){this._enabled=Boolean(g),this._enabled?this.device?this.scanFromDevice(this.device.deviceId):this.init():(this.reset(),z1.releaseAllStreams())}get enabled(){return this._enabled}get tryHarder(){return this.hints.get(hi.TRY_HARDER)}set tryHarder(g){const v=this.hints;g?v.set(hi.TRY_HARDER,!0):v.delete(hi.TRY_HARDER),this.hints=v}askForPermission(){return Ze(this,void 0,void 0,function*(){if(!this.hasNavigator)return console.error("@zxing/ngx-scanner","Can't ask permission, navigator is not present."),this.setPermission(null),this.hasPermission;if(!this.isMediaDevicesSupported)return console.error("@zxing/ngx-scanner","Can't get user media, this is not supported."),this.setPermission(null),this.hasPermission;let g,v;try{g=yield this.getAnyVideoDevice(),v=!!g}catch(_){return this.handlePermissionException(_)}finally{this.terminateStream(g)}return this.setPermission(v),v})}getAnyVideoDevice(){return navigator.mediaDevices.getUserMedia({video:!0})}terminateStream(g){g&&g.getTracks().forEach(v=>v.stop()),g=void 0}init(){return Ze(this,void 0,void 0,function*(){if(!this.autostart)return console.warn("Feature 'autostart' disabled. Permissions and devices recovery has to be run manually."),this.initAutostartOff(),void(this._ready=!0);yield this.initAutostartOn(),this._ready=!0})}initAutostartOff(){this.isAutostarting=!1,this.updateVideoInputDevices(),this._device&&this._devicePreStart&&this.setDevice(this._devicePreStart)}initAutostartOn(){return Ze(this,void 0,void 0,function*(){let g;this.isAutostarting=!0;try{g=yield this.askForPermission()}catch(v){return void console.error("Exception occurred while asking for permission:",v)}if(g){const v=yield this.updateVideoInputDevices();yield this.autostartScanner([...v])}this.isAutostarting=!1,this.autostarted.next()})}isCurrentDevice(g){var v;return(null==g?void 0:g.deviceId)===(null===(v=this._device)||void 0===v?void 0:v.deviceId)}ngOnDestroy(){this.reset(),z1.releaseAllStreams()}ngOnInit(){this.init()}scanStop(){var g,v;this._scanSubscription&&(null===(g=this.codeReader)||void 0===g||g.getScannerControls().stop(),null===(v=this._scanSubscription)||void 0===v||v.unsubscribe(),this._scanSubscription=void 0),this.torchCompatible.next(!1)}scanStart(){if(this._scanSubscription)throw new Error("There is already a scan process running.");if(!this._device)throw new Error("No device defined, cannot start scan, please define a device.");this.scanFromDevice(this._device.deviceId)}restart(){this._codeReader=void 0;const g=this._reset();!g||(this.device=g)}updateVideoInputDevices(){return Ze(this,void 0,void 0,function*(){const g=(yield wu.listVideoInputDevices())||[],v=g&&g.length>0;return this.hasDevices.next(v),this.camerasFound.next([...g]),v||this.camerasNotFound.next(null),g})}autostartScanner(g){return Ze(this,void 0,void 0,function*(){const _=g.find(({label:E})=>/back|tr\xe1s|rear|traseira|environment|ambiente/gi.test(E))||g.pop();if(!_)throw new Error("Impossible to autostart, no input devices available.");yield this.setDevice(_),this.deviceChange.next(_)})}dispatchScanSuccess(g){this.scanSuccess.next(g.getText())}dispatchScanFailure(g){this.scanFailure.next(g)}dispatchScanError(g){this.scanError.observed||(console.error(`zxing scanner component: ${g.name}`,g),console.warn("Use the `(scanError)` property to handle errors like this!")),this.scanError.next(g)}dispatchScanComplete(g){this.scanComplete.next(g)}handlePermissionException(g){let v;switch(console.error("@zxing/ngx-scanner","Error when asking for permission.",g),g.name){case"NotSupportedError":console.warn("@zxing/ngx-scanner",g.message),v=null,this.hasDevices.next(null);break;case"NotAllowedError":console.warn("@zxing/ngx-scanner",g.message),v=!1,this.hasDevices.next(!0);break;case"NotFoundError":console.warn("@zxing/ngx-scanner",g.message),v=null,this.hasDevices.next(!1),this.camerasNotFound.next(g);break;case"NotReadableError":console.warn("@zxing/ngx-scanner","Couldn't read the device(s)'s stream, it's probably in use by another app."),v=null,this.hasDevices.next(!1),this.camerasNotFound.next(g);break;default:console.warn("@zxing/ngx-scanner","I was not able to define if I have permissions for camera or not.",g),v=null}return this.setPermission(v),this.permissionResponse.error(g),v}getBarcodeFormatOrFail(g){return"string"==typeof g?mn[g.trim().toUpperCase()]:g}getCodeReader(){return this._codeReader||(this._codeReader=new z1(this.hints,{delayBetweenScanAttempts:this.timeBetweenScans,delayBetweenScanSuccess:this.delayBetweenScanSuccess})),this._codeReader}scanFromDevice(g){return Ze(this,void 0,void 0,function*(){const v=this.previewElemRef.nativeElement,_=this.getCodeReader(),E=yield _.scanFromDeviceObservable(g,v);if(!E)throw new Error("Undefined decoding stream, aborting.");if(this._scanSubscription=E.subscribe(se=>this._onDecodeResult(se.result,se.error),se=>this._onDecodeError(se),()=>{}),this._scanSubscription.closed)return;const z=void 0!==_.getScannerControls().switchTorch;this.torchCompatible.next(z)})}_onDecodeError(g){this.dispatchScanError(g)}_onDecodeResult(g,v){g?this.dispatchScanSuccess(g):this.dispatchScanFailure(v),this.dispatchScanComplete(g)}_reset(){if(!this._codeReader)return;const g=this._device;return this.device=void 0,this._codeReader=void 0,g}reset(){this._reset(),this.deviceChange.emit(null)}setDevice(g){return Ze(this,void 0,void 0,function*(){this.scanStop(),this._device=g||void 0,this._device||wu.cleanVideoSource(this.previewElemRef.nativeElement),this._enabled&&g&&(yield this.scanFromDevice(g.deviceId))})}setPermission(g){this.hasPermission=g,this.permissionResponse.next(g)}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275cmp=za({type:y,selectors:[["zxing-scanner"]],viewQuery:function(g,v){if(1&g&&Hv(UK,7),2&g){let _;qh(_=ef())&&(v.previewElemRef=_.first)}},inputs:{autofocusEnabled:"autofocusEnabled",timeBetweenScans:"timeBetweenScans",delayBetweenScanSuccess:"delayBetweenScanSuccess",autostart:"autostart",previewFitMode:"previewFitMode",device:"device",formats:"formats",videoConstraints:"videoConstraints",torch:"torch",enable:"enable",tryHarder:"tryHarder"},outputs:{autostarted:"autostarted",autostarting:"autostarting",torchCompatible:"torchCompatible",scanSuccess:"scanSuccess",scanFailure:"scanFailure",scanError:"scanError",scanComplete:"scanComplete",camerasFound:"camerasFound",camerasNotFound:"camerasNotFound",permissionResponse:"permissionResponse",hasDevices:"hasDevices",deviceChange:"deviceChange"},decls:6,vars:2,consts:[["preview",""]],template:function(g,v){1&g&&(_o(0,"video",null,0)(2,"p"),la(3," Your browser does not support this feature, please try to upgrade it. "),Eo(),_o(4,"p"),la(5," Seu navegador n\xe3o suporta este recurso, por favor tente atualiz\xe1-lo. "),Eo()()),2&g&&Iv("object-fit",v.previewFitMode)},styles:["[_nghost-%COMP%]{display:block}video[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:contain}"],changeDetection:0}),y})(),VK=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275mod=Os({type:y}),y.\u0275inj=At({imports:[[wD,_B]]}),y})(),WK=(()=>{class y{scanSuccess(g){alert(g)}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275cmp=za({type:y,selectors:[["ng-component"]],decls:1,vars:0,consts:[[3,"scanSuccess"]],template:function(g,v){1&g&&(_o(0,"zxing-scanner",0),vs("scanSuccess",function(E){return v.scanSuccess(E)}),Eo())},directives:[BK],encapsulation:2}),y})();const kK=["addListener","removeListener"],ZK=["addEventListener","removeEventListener"],$K=["on","off"];function Nf(y,p,g,v){if(x(g)&&(v=g,g=void 0),v)return Nf(y,p,g).pipe(F_(v));const[_,E]=function GK(y){return x(y.addEventListener)&&x(y.removeEventListener)}(y)?ZK.map(w=>D=>y[w](p,D,g)):function KK(y){return x(y.addListener)&&x(y.removeListener)}(y)?kK.map(HI(y,p)):function zK(y){return x(y.on)&&x(y.off)}(y)?$K.map(HI(y,p)):[];if(!_&&lr(y))return Br(w=>Nf(w,p,g))(ze(y));if(!_)throw new TypeError("Invalid event target");return new fe(w=>{const D=(...O)=>w.next(1<O.length?O:O[0]);return _(D),()=>E(D)})}function HI(y,p){return g=>v=>y[g](p,v)}const xu=new fe(W),JK={connector:()=>new we};function JI(y,p=JK){const{connector:g}=p;return tt((v,_)=>{const E=g();Sn(y(function HK(y){return new fe(p=>y.subscribe(p))}(E))).subscribe(_),_.add(v.subscribe(E))})}class QK extends ee{constructor(p,g){super()}schedule(p,g=0){return this}}const Am={setInterval(y,p,...g){const{delegate:v}=Am;return(null==v?void 0:v.setInterval)?v.setInterval(y,p,...g):setInterval(y,p,...g)},clearInterval(y){const{delegate:p}=Am;return((null==p?void 0:p.clearInterval)||clearInterval)(y)},delegate:void 0},G1={now:()=>(G1.delegate||Date).now(),delegate:void 0};class Ff{constructor(p,g=Ff.now){this.schedulerActionCtor=p,this.now=g}schedule(p,g=0,v){return new this.schedulerActionCtor(this,p).schedule(v,g)}}Ff.now=G1.now;const YI=new class ez extends Ff{constructor(p,g=Ff.now){super(p,g),this.actions=[],this._active=!1,this._scheduled=void 0}flush(p){const{actions:g}=this;if(this._active)return void g.push(p);let v;this._active=!0;do{if(v=p.execute(p.state,p.delay))break}while(p=g.shift());if(this._active=!1,v){for(;p=g.shift();)p.unsubscribe();throw v}}}(class qK extends QK{constructor(p,g){super(p,g),this.scheduler=p,this.work=g,this.pending=!1}schedule(p,g=0){if(this.closed)return this;this.state=p;const v=this.id,_=this.scheduler;return null!=v&&(this.id=this.recycleAsyncId(_,v,g)),this.pending=!0,this.delay=g,this.id=this.id||this.requestAsyncId(_,this.id,g),this}requestAsyncId(p,g,v=0){return Am.setInterval(p.flush.bind(p,this),v)}recycleAsyncId(p,g,v=0){if(null!=v&&this.delay===v&&!1===this.pending)return g;Am.clearInterval(g)}execute(p,g){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const v=this._execute(p,g);if(v)return v;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(p,g){let _,v=!1;try{this.work(p)}catch(E){v=!0,_=E||new Error("Scheduled action threw falsy error")}if(v)return this.unsubscribe(),_}unsubscribe(){if(!this.closed){const{id:p,scheduler:g}=this,{actions:v}=g;this.work=this.state=this.scheduler=null,this.pending=!1,ne(v,this),null!=p&&(this.id=this.recycleAsyncId(g,p,null)),this.delay=null,super.unsubscribe()}}}),tz=YI;function XI(y,p){return p?g=>df(p.pipe(Kn(1),function rz(){return tt((y,p)=>{y.subscribe(Re(p,W))})}()),g.pipe(XI(y))):Br((g,v)=>y(g,v).pipe(Kn(1),function nz(y){return Te(()=>y)}(g)))}const jf="Service workers are disabled or not supported by this browser";class Rm{constructor(p){if(this.serviceWorker=p,p){const v=Nf(p,"controllerchange").pipe(Te(()=>p.controller)),E=df(V0(()=>Fn(p.controller)),v);this.worker=E.pipe(ha(z=>!!z)),this.registration=this.worker.pipe(ja(()=>p.getRegistration()));const L=Nf(p,"message").pipe(Te(z=>z.data)).pipe(ha(z=>z&&z.type)).pipe(function XK(y){return y?p=>JI(y)(p):p=>function YK(y,p){const g=x(y)?y:()=>y;return x(p)?JI(p,{connector:g}):v=>new $D(v,g)}(new we)(p)}());L.connect(),this.events=L}else this.worker=this.events=this.registration=function az(y){return V0(()=>cf(new Error(y)))}(jf)}postMessage(p,g){return this.worker.pipe(Kn(1),Ps(v=>{v.postMessage(Object.assign({action:p},g))})).toPromise().then(()=>{})}postMessageWithOperation(p,g,v){const _=this.waitForOperationCompleted(v),E=this.postMessage(p,g);return Promise.all([E,_]).then(([,w])=>w)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(p){let g;return g="string"==typeof p?v=>v.type===p:v=>p.includes(v.type),this.events.pipe(ha(g))}nextEventOfType(p){return this.eventsOfType(p).pipe(Kn(1))}waitForOperationCompleted(p){return this.eventsOfType("OPERATION_COMPLETED").pipe(ha(g=>g.nonce===p),Kn(1),Te(g=>{if(void 0!==g.result)return g.result;throw new Error(g.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let QI=(()=>{class y{constructor(g){if(this.sw=g,this.subscriptionChanges=new we,!g.isEnabled)return this.messages=xu,this.notificationClicks=xu,void(this.subscription=xu);this.messages=this.sw.eventsOfType("PUSH").pipe(Te(_=>_.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Te(_=>_.data)),this.pushManager=this.sw.registration.pipe(Te(_=>_.pushManager));const v=this.pushManager.pipe(ja(_=>_.getSubscription()));this.subscription=oo(v,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(g){if(!this.sw.isEnabled)return Promise.reject(new Error(jf));const v={userVisibleOnly:!0};let _=this.decodeBase64(g.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),E=new Uint8Array(new ArrayBuffer(_.length));for(let w=0;w<_.length;w++)E[w]=_.charCodeAt(w);return v.applicationServerKey=E,this.pushManager.pipe(ja(w=>w.subscribe(v)),Kn(1)).toPromise().then(w=>(this.subscriptionChanges.next(w),w))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Kn(1),ja(v=>{if(null===v)throw new Error("Not subscribed to push notifications.");return v.unsubscribe().then(_=>{if(!_)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(jf))}decodeBase64(g){return atob(g)}}return y.\u0275fac=function(g){return new(g||y)(pn(Rm))},y.\u0275prov=xt({token:y,factory:y.\u0275fac}),y})(),lz=(()=>{class y{constructor(g){if(this.sw=g,!g.isEnabled)return this.versionUpdates=xu,this.available=xu,this.activated=xu,void(this.unrecoverable=xu);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe(ha(v=>"VERSION_READY"===v.type),Te(v=>({type:"UPDATE_AVAILABLE",current:v.currentVersion,available:v.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(jf));const g=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:g},g)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(jf));const g=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:g},g)}}return y.\u0275fac=function(g){return new(g||y)(pn(Rm))},y.\u0275prov=xt({token:y,factory:y.\u0275fac}),y})();class H1{}const qI=new ln("NGSW_REGISTER_SCRIPT");function uz(y,p,g,v){return()=>{if(!DD(v)||!("serviceWorker"in navigator)||!1===g.enabled)return;let E;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof g.registrationStrategy)E=g.registrationStrategy();else{const[D,...O]=(g.registrationStrategy||"registerWhenStable:30000").split(":");switch(D){case"registerImmediately":E=Fn(null);break;case"registerWithDelay":E=eT(+O[0]||0);break;case"registerWhenStable":E=O[0]?oo(tT(y),eT(+O[0])):tT(y);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${g.registrationStrategy}`)}}y.get(Bo).runOutsideAngular(()=>E.pipe(Kn(1)).subscribe(()=>navigator.serviceWorker.register(p,{scope:g.scope}).catch(D=>console.error("Service worker registration failed with:",D))))}}function eT(y){return Fn(null).pipe(function sz(y,p=YI){const g=function oz(y=0,p,g=tz){let v=-1;return null!=p&&(Hi(p)?g=p:v=p),new fe(_=>{let E=function iz(y){return y instanceof Date&&!isNaN(y)}(y)?+y-g.now():y;E<0&&(E=0);let w=0;return g.schedule(function(){_.closed||(_.next(w++),0<=v?this.schedule(void 0,v):_.complete())},E)})}(y,p);return XI(()=>g)}(y))}function tT(y){return y.get(E0).isStable.pipe(ha(g=>g))}function cz(y,p){return new Rm(DD(p)&&!1!==y.enabled?navigator.serviceWorker:void 0)}let dz=(()=>{class y{static register(g,v={}){return{ngModule:y,providers:[{provide:qI,useValue:g},{provide:H1,useValue:v},{provide:Rm,useFactory:cz,deps:[H1,nf]},{provide:_0,useFactory:uz,deps:[is,qI,H1,nf],multi:!0}]}}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275mod=Os({type:y}),y.\u0275inj=At({providers:[QI,lz]}),y})();class hz extends we{constructor(p=1/0,g=1/0,v=G1){super(),this._bufferSize=p,this._windowTime=g,this._timestampProvider=v,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=g===1/0,this._bufferSize=Math.max(1,p),this._windowTime=Math.max(1,g)}next(p){const{isStopped:g,_buffer:v,_infiniteTimeWindow:_,_timestampProvider:E,_windowTime:w}=this;g||(v.push(p),!_&&v.push(E.now()+w)),this._trimBuffer(),super.next(p)}_subscribe(p){this._throwIfClosed(),this._trimBuffer();const g=this._innerSubscribe(p),{_infiniteTimeWindow:v,_buffer:_}=this,E=_.slice();for(let w=0;w<E.length&&!p.closed;w+=v?1:2)p.next(E[w]);return this._checkFinalizedStatuses(p),g}_trimBuffer(){const{_bufferSize:p,_timestampProvider:g,_buffer:v,_infiniteTimeWindow:_}=this,E=(_?1:2)*p;if(p<1/0&&E<v.length&&v.splice(0,v.length-E),!_){const w=g.now();let D=0;for(let O=1;O<v.length&&v[O]<=w;O+=2)D=O;D&&v.splice(0,D+1)}}}function mz(y,p){return y===p}const ya=new ln("An abstraction over global window object",{factory:()=>{const{defaultView:y}=$i(Is);if(!y)throw new Error("Window is not available");return y}}),Lm=(new ln("Shared Observable based on `window.requestAnimationFrame`",{factory:()=>{const{requestAnimationFrame:y,cancelAnimationFrame:p}=$i(ya);return new fe(v=>{let _=NaN;const E=w=>{v.next(w),_=y(E)};return _=y(E),()=>{p(_)}}).pipe(Ve())}}),new ln("An abstraction over window.caches object",{factory:()=>$i(ya).caches}),new ln("An abstraction over window.crypto object",{factory:()=>$i(ya).crypto}),new ln("An abstraction over window.CSS object",{factory:()=>$i(ya).CSS||{escape:y=>y,supports:()=>!1}}),new ln("An abstraction over window.history object",{factory:()=>$i(ya).history}),new ln("An abstraction over window.localStorage object",{factory:()=>$i(ya).localStorage}),new ln("An abstraction over window.location object",{factory:()=>$i(ya).location}),new ln("An abstraction over window.navigator object",{factory:()=>$i(ya).navigator})),J1=(new ln("An abstraction over window.navigator.mediaDevices object",{factory:()=>$i(Lm).mediaDevices}),new ln("An abstraction over window.navigator.connection object",{factory:()=>$i(Lm).connection||null}),new ln("Shared Observable based on `document visibility changed`",{factory:()=>{const y=$i(Is);return Nf(y,"visibilitychange").pipe(KD(0),Te(()=>"hidden"!==y.visibilityState),function pz(y,p=ue){return y=null!=y?y:mz,tt((g,v)=>{let _,E=!0;g.subscribe(Re(v,w=>{const D=p(w);(E||!y(_,D))&&(E=!1,_=D,v.next(w))}))})}(),Ve())}}),new ln("An abstraction over window.performance object",{factory:()=>$i(ya).performance}),new ln("An abstraction over window.sessionStorage object",{factory:()=>$i(ya).sessionStorage}),new ln("An abstraction over SpeechRecognition class",{factory:()=>{const y=$i(ya);return y.speechRecognition||y.webkitSpeechRecognition||null}}),new ln("An abstraction over window.speechSynthesis object",{factory:()=>$i(ya).speechSynthesis}),new ln("An abstraction over window.navigator.userAgent object",{factory:()=>$i(Lm).userAgent}),new ln("An abstraction over window.navigator.geolocation object",{factory:()=>$i(Lm).geolocation})),rT=new ln("Token for an additional position options",{factory:()=>({})}),nT=new ln("Is Geolocation API supported?",{factory:()=>!!$i(J1)});class Vl extends fe{constructor(p,g,v){let _=0;return super(E=>{g||E.error("Geolocation is not supported in your browser"),_=p.watchPosition(w=>E.next(w),w=>E.error(w),v)}),this.pipe(JD(()=>p.clearWatch(_)),function fz(y,p,g){let v,_=!1;return y&&"object"==typeof y?({bufferSize:v=1/0,windowTime:p=1/0,refCount:_=!1,scheduler:g}=y):v=null!=y?y:1/0,Ve({connector:()=>new hz(v,p,g),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:_})}({bufferSize:1,refCount:!0}))}}Vl.\u0275fac=function(p){return new(p||Vl)(pn(J1),pn(nT),pn(rT))},Vl.\u0275prov=xt({token:Vl,factory:Vl.\u0275fac,providedIn:"root"}),Vl.ngInjectableDef=yt({factory:function(){return new Vl($i(J1),$i(nT),$i(rT))},token:Vl,providedIn:"root"});let yz=(()=>{class y{constructor(g,v){this.swPush=g,this.geolocation$=v}performGeolocation(){this.geolocation$.pipe(Kn(1)).subscribe(g=>alert(this.objToString(g)))}objToString(g){return"Latitude: "+g.coords.latitude+"\nLongitude: "+g.coords.longitude+"\nAccuracy: "+g.coords.accuracy+"\nAltitude: "+g.coords.altitude+"\nAltitude accuracy: "+g.coords.altitudeAccuracy}}return y.\u0275fac=function(g){return new(g||y)(Ar(QI),Ar(Vl))},y.\u0275cmp=za({type:y,selectors:[["ng-component"]],decls:3,vars:0,consts:[[1,"card",3,"click"]],template:function(g,v){1&g&&(_o(0,"a",0),vs("click",function(){return v.performGeolocation()}),_o(1,"span"),la(2,"TEST"),Eo()())},encapsulation:2}),y})();var Q1,qr=C(15861),De=C(17626),gz=C(24263),Y1=C(73386),Ld=C(91558),zi=C(7093),vz=C(89726),_z=C(94573),on=C(26584),Fi=C(86162),js=C(58817),Uf=C(47996),iT=C(47877),co=C(63290),Hn=C(10699),Be=C(77712),Nd=C(90912),Lr=C(76898),ra=C(99433),oT=C(85931),Du=C(8314),X1=(C(82255),C(55342));let Nm=Q1=class extends Fi.wq{constructor(y){super(y),this.type="none"}clone(){return new Q1({type:this.type})}};(0,De._)([(0,X1.J)({none:"none",stayAbove:"stay-above"})],Nm.prototype,"type",void 0),Nm=Q1=(0,De._)([(0,Lr.j)("esri.ground.NavigationConstraint")],Nm);var q1,sT=C(92236);const aT=co.Z.getLogger("esri.Ground");let Wl=q1=class extends((0,Fi.eC)(Uf.Z)){constructor(y){super(y),this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new zi.Z;const p=v=>{v.parent&&v.parent!==this&&"remove"in v.parent&&v.parent.remove(v),v.parent=this,"elevation"!==v.type&&"base-elevation"!==v.type&&aT.error(`Layer '${v.title}, id:${v.id}' of type '${v.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)};this.layers.on("after-add",v=>p(v.item)),this.layers.on("after-remove",v=>(v=>{v.parent=null})(v.item))}initialize(){this.when().catch(y=>{aT.error("#load()","Failed to load ground",y)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const y=this.layers.removeAll();for(const p of y)p.destroy();this.layers.destroy()}normalizeCtorArgs(y){return y&&"resourceInfo"in y&&(this._set("resourceInfo",y.resourceInfo),delete(y=Pt({},y)).resourceInfo),y}set layers(y){this._set("layers",(0,vz.Z)(y,this._get("layers")))}writeLayers(y,p,g,v){const _=[];y&&(v=Xr(Pt({},v),{layerContainerType:"ground"}),y.forEach(E=>{if("write"in E){const w={};(0,_z.sM)(E)().write(w,v)&&_.push(w)}else v&&v.messages&&v.messages.push(new on.Z("layer:unsupported",`Layers (${E.title}, ${E.id}) of type '${E.declaredClass}' cannot be persisted in the ground`,{layer:E}))})),p.layers=_}load(y){return this.addResolvingPromise(this._loadFromSource(y)),Promise.resolve(this)}loadAll(){return(0,iT.GZ)(this,y=>{y(this.layers)})}queryElevation(y,p){var g=this;return(0,qr.Z)(function*(){yield g.load({signal:null==p?void 0:p.signal});const{ElevationQuery:v}=yield C.e(1991).then(C.bind(C,1991));(0,Hn.k_)(p);const _=new v,E=g.layers.filter(lT).toArray();return _.queryAll(E,y,p)})()}createElevationSampler(y,p){var g=this;return(0,qr.Z)(function*(){yield g.load({signal:null==p?void 0:p.signal});const{ElevationQuery:v}=yield C.e(1991).then(C.bind(C,1991));(0,Hn.k_)(p);const _=new v,E=g.layers.filter(lT).toArray();return _.createSamplerAll(E,y,p)})()}clone(){const y={opacity:this.opacity,surfaceColor:(0,js.d9)(this.surfaceColor),navigationConstraint:(0,js.d9)(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(y.loadStatus="loaded"),new q1({resourceInfo:this.resourceInfo}).set(y)}read(y,p){this.resourceInfo||this._set("resourceInfo",{data:y,context:p}),super.read(y,p)}_loadFromSource(y){const p=this.resourceInfo;return p?this._loadLayersFromJSON(p.data,p.context,y):Promise.resolve(null)}_loadLayersFromJSON(y,p,g){const v=p&&p.origin||"web-scene",_=p&&p.portal||null,E=p&&p.url||null;return Promise.all([C.e(7534),C.e(1074)]).then(C.bind(C,71074)).then(({populateOperationalLayers:w})=>{(0,Hn.k_)(g);const D=[];return y.layers&&Array.isArray(y.layers)&&D.push(w(this.layers,y.layers,{context:{origin:v,url:E,portal:_,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"})),(0,Hn.as)(D)}).then(()=>{})}};function lT(y){return"elevation"===y.type||function Ez(y){return y&&"createElevationSampler"in y}(y)}(0,De._)([(0,Be.Cb)({json:{read:!1}})],Wl.prototype,"layers",null),(0,De._)([(0,ra.c)("layers")],Wl.prototype,"writeLayers",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],Wl.prototype,"resourceInfo",void 0),(0,De._)([(0,Be.Cb)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:Nd.z8,read:{reader:sT.b,source:"transparency"},write:{writer:(y,p)=>{p.transparency=(0,sT.a)(y)},target:"transparency"}}})],Wl.prototype,"opacity",void 0),(0,De._)([(0,Be.Cb)({type:Ld.Z,json:{type:[Nd.z8],write:(y,p)=>{p.surfaceColor=y.toJSON().slice(0,3)}}})],Wl.prototype,"surfaceColor",void 0),(0,De._)([(0,Be.Cb)({type:Nm,json:{write:!0}})],Wl.prototype,"navigationConstraint",void 0),Wl=q1=(0,De._)([(0,Lr.j)("esri.Ground")],Wl);const Fm=Wl;var di=C(14517),Fd=C(46882),Bf=C(61885),fr=C(62208),hl=C(66656);function bz(y){var p;return!(!(y&&y.loaded&&"capabilities"in y&&null!=y&&null!=(p=y.capabilities)&&p.operations&&"supportsEditing"in y.capabilities.operations&&!0===y.capabilities.operations.supportsEditing)||"editingEnabled"in y&&!y.editingEnabled)}var uT=C(59318),Ou=C(21726),cT=C(33954);const dT=co.Z.getLogger("esri.support.basemapUtils");function pT(y){if(mT(y.url))return!0;if("vector-tile"===y.type)for(const p in y.sourceNameToSource){const g=y.sourceNameToSource[p];if(mT(null==g?void 0:g.sourceUrl))return!0}return!1}const xz=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;function mT(y){if(!y)return!1;const p=new Ou.R9((0,Ou.hF)(y));return xz.test(p.authority)}const Oz=co.Z.getLogger("esri.support.groundUtils"),MT={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};var Iz=C(6432),Tz=C(6119);let fl=class extends((0,Tz.Q)((0,Iz.K)(Bf.Z.EventedMixin(di.Z)))){constructor(y){super(y),this.allLayers=new Fd.Z({getCollections:()=>{var p,g,v;return[null==(p=this.basemap)?void 0:p.baseLayers,null==(g=this.ground)?void 0:g.layers,this.layers,null==(v=this.basemap)?void 0:v.referenceLayers]},getChildrenFunction:p=>"layers"in p?p.layers:null}),this.allTables=new Fd.Z({getCollections:()=>[this.tables,this.layers],getChildrenFunction:p=>{const g=[];return"tables"in p&&g.push(p.tables),"layers"in p&&g.push(p.layers),g},itemFilterFunction:p=>{const g=p.parent;return g&&"tables"in g&&g.tables.includes(p)}}),this.basemap=null,this.editableLayers=new Fd.Z({getCollections:()=>[this.allLayers],itemFilterFunction:bz}),this.ground=new Fm,this._basemapCache={}}destroy(){var y,p;this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),null==(y=this.ground)||y.destroy(),null==(p=this.basemap)||p.destroy(),function Mz(y){for(const p in y){const g=y[p];!1===(null==g?void 0:g.destroyed)&&g.destroy(),delete y[p]}}(this._basemapCache),this._basemapCache=null}castBasemap(y){return function hT(y,p){var g;let v;if("string"==typeof y){if(!(y in cT.s)){const _=Object.entries(cT.s).filter(([E,w])=>uT.Z.apiKey&&!w.classic||!uT.Z.apiKey&&w.classic&&!w.deprecated).map(([E])=>`"${E}"`).join(", ");return dT.warn(`Unable to find basemap definition for: ${y}. Try one of these: ${_}`),null}p&&(v=p[y]),v||(v=Y1.default.fromId(y),p&&(p[y]=v))}else v=(0,Nd.se)(Y1.default,y);return null!=(g=v)&&g.destroyed&&(dT.warn("The provided basemap is already destroyed",{basemap:v}),v=null),v}(y,this._basemapCache)}castGround(y){const p=function Sz(y){let p=null;return"string"==typeof y?y in MT?p=new Fm({resourceInfo:{data:{layers:[MT[y]]}}}):Oz.warn(`Unable to find ground definition for: ${y}. Try "world-elevation"`):p=(0,Nd.se)(Fm,y),p}(y);return(0,fr.Wi)(p)?this._get("ground"):p}findLayerById(y){return this.allLayers.find(p=>p.id===y)}findTableById(y){return this.allTables.find(p=>p.id===y)}};(0,De._)([(0,Be.Cb)({readOnly:!0,dependsOn:[]})],fl.prototype,"allLayers",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],fl.prototype,"allTables",void 0),(0,De._)([(0,Be.Cb)({type:Y1.default})],fl.prototype,"basemap",void 0),(0,De._)([(0,hl.p)("basemap")],fl.prototype,"castBasemap",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],fl.prototype,"editableLayers",void 0),(0,De._)([(0,Be.Cb)({type:Fm,nonNullable:!0})],fl.prototype,"ground",void 0),(0,De._)([(0,hl.p)("ground")],fl.prototype,"castGround",null),fl=(0,De._)([(0,Lr.j)("esri.Map")],fl);const wT=fl;var Us=C(76687),jm=C(99959),rE=C(60330),kr=C(27e3),kl=C(68653),Pz=C(52489),Az=C(29338),Su=C(65234),pl=C(46367),Um=C(38305),Bm=C(84792),Iu=C(2004);const Rz=co.Z.getLogger("esri.networks.Network");let ko=class extends((0,jm.R)(Uf.Z)){constructor(y){super(y),this.id=null,this.title=null,this.layerUrl=null,this.dataElement=null,this.fullExtent=null,this.spatialReference=null,this.type=null,this.sourceJSON=null}initialize(){this.when().catch(y=>{var p,g;(0,Hn.D_)(y)||Rz.error("#load()",`Failed to load layer (title: '${null!=(p=this.title)?p:"no title"}', id: '${null!=(g=this.id)?g:"no id"}')`,{error:y})})}get datasetName(){var y;return null==(y=this.dataElement)?void 0:y.name}get owner(){var y;return null==(y=this.dataElement)?void 0:y.userIdentity}get schemaGeneration(){var y;return null==(y=this.dataElement)?void 0:y.schemaGeneration}get parsedUrl(){const y=this.layerUrl;return y?(0,Ou.mN)(y):null}get featureServiceUrl(){const y=this.parsedUrl&&(0,Um.Qc)(this.parsedUrl.path);return(0,fr.pC)(y)?y.url.path:null}get networkServiceUrl(){return this.featureServiceUrl?this.featureServiceUrl.replace(/\/FeatureServer/i,"/UtilityNetworkServer"):null}get layerId(){const y=this.parsedUrl&&(0,Um.Qc)(this.parsedUrl.path);return(0,fr.pC)(y)?y.sublayer:null}load(y){var p=this;return(0,qr.Z)(function*(){return p.addResolvingPromise(p._fetchDataElement(p.featureServiceUrl,p.layerId.toString(),y)),p.addResolvingPromise(p._fetchLayerMetaData(p.layerUrl,y)),p})()}getLayerIdBySourceId(y){if(this.dataElement){const p=this.dataElement.domainNetworks;for(const g of p){for(const v of g.edgeSources?g.edgeSources:[])if(v.sourceId===y)return v.layerId;for(const v of g.junctionSources?g.junctionSources:[])if(v.sourceId===y)return v.layerId}return null}return null}_fetchLayerMetaData(y,p){var g=this;return(0,qr.Z)(function*(){const v=yield(0,Bm.default)(y,Pt({responseType:"json",query:{f:"json"}},p));g.sourceJSON=v.data,g.read(v.data,{origin:"service"})})()}_fetchDataElement(y,p,g){var v=this;return(0,qr.Z)(function*(){if(v.dataElement)return;const _=yield(0,Bm.default)(`${y}/queryDataElements`,Pt({responseType:"json",query:{layers:JSON.stringify([p]),f:"json"}},g)).then(E=>{var w;return null==(w=E.data.layerDataElements)?void 0:w[0]});_&&v.read(_,{origin:"service"})})()}};(0,De._)([(0,Be.Cb)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}}},read:!1}})],ko.prototype,"id",void 0),(0,De._)([(0,Be.Cb)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}}},read:!1}})],ko.prototype,"title",void 0),(0,De._)([(0,Be.Cb)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"url"},write:{target:"url",isRequired:!0}}},read:!1}})],ko.prototype,"layerUrl",void 0),(0,De._)([(0,Be.Cb)({type:Object,json:{origins:{service:{read:!0}},read:!1}})],ko.prototype,"dataElement",void 0),(0,De._)([(0,Be.Cb)({type:Iu.Z,json:{origins:{service:{read:{source:"extent"}}},read:!1}})],ko.prototype,"fullExtent",void 0),(0,De._)([(0,Be.Cb)({type:Su.Z,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:!1}})],ko.prototype,"spatialReference",void 0),(0,De._)([(0,Be.Cb)({type:["utility","trace"],readOnly:!0,json:{read:!1,write:!1}})],ko.prototype,"type",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],ko.prototype,"datasetName",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],ko.prototype,"owner",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],ko.prototype,"schemaGeneration",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],ko.prototype,"parsedUrl",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],ko.prototype,"featureServiceUrl",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],ko.prototype,"networkServiceUrl",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],ko.prototype,"layerId",null),(0,De._)([(0,Be.Cb)()],ko.prototype,"sourceJSON",void 0),ko=(0,De._)([(0,Lr.j)("esri.networks.Network")],ko);const Lz=ko;let ga=class extends Fi.wq{constructor(y){super(y),this.conditionBarriers=[],this.outputConditions=[],this.functions=[],this.functionBarriers=[],this.traversabilityScope=null,this.shortestPathNetworkAttributeName=null,this.includeBarriers=null,this.validateConsistency=null,this.ignoreBarriersAtStartingPoints=null}};(0,De._)([(0,Be.Cb)({type:[Object],json:{write:!0}})],ga.prototype,"conditionBarriers",void 0),(0,De._)([(0,Be.Cb)({type:[Object],json:{write:!0}})],ga.prototype,"outputConditions",void 0),(0,De._)([(0,Be.Cb)({type:[Object],json:{write:!0}})],ga.prototype,"functions",void 0),(0,De._)([(0,Be.Cb)({type:[Object],json:{write:!0}})],ga.prototype,"functionBarriers",void 0),(0,De._)([(0,Be.Cb)({type:["junctions","edges","junctionsAndEdges"],json:{write:!0}})],ga.prototype,"traversabilityScope",void 0),(0,De._)([(0,Be.Cb)({type:String,json:{write:!0}})],ga.prototype,"shortestPathNetworkAttributeName",void 0),(0,De._)([(0,Be.Cb)({type:Boolean,json:{write:!0}})],ga.prototype,"includeBarriers",void 0),(0,De._)([(0,Be.Cb)({type:Boolean,json:{write:!0}})],ga.prototype,"validateConsistency",void 0),(0,De._)([(0,Be.Cb)({type:Boolean,json:{write:!0}})],ga.prototype,"ignoreBarriersAtStartingPoints",void 0),ga=(0,De._)([(0,Lr.j)("esri.networks.support.TraceConfiguration")],ga);const nE=ga;var iE=C(2076);const oE=new iE.Xn({connected:"connected",upstream:"upstream",downstream:"downstream",shortestPath:"shortest-path",subnetwork:"subnetwork","subnetwork controllers":"subnetwork-controllers",loops:"loops",isolation:"isolation"});let ho=class extends nE{constructor(y){super(y),this.filterBarriers=[],this.domainNetworkName=null,this.filterBitsetNetworkAttributeName=null,this.filterFunctionBarriers=[],this.filterScope=null,this.includeContainers=null,this.includeContent=null,this.includeIsolated=null,this.includeStructures=null,this.includeUpToFirstSpatialContainer=null,this.nearestNeighbor=null,this.outputFilterCategories=[],this.outputFilters=[],this.propagators=[],this.subnetworkName=null,this.targetTierName=null,this.tierName=null,this.validateLocatability=null}};(0,De._)([(0,Be.Cb)({type:[Object],json:{write:!0}})],ho.prototype,"filterBarriers",void 0),(0,De._)([(0,Be.Cb)({type:String,json:{write:!0}})],ho.prototype,"domainNetworkName",void 0),(0,De._)([(0,Be.Cb)({type:String,json:{write:!0}})],ho.prototype,"filterBitsetNetworkAttributeName",void 0),(0,De._)([(0,Be.Cb)({type:[Object],json:{write:!0}})],ho.prototype,"filterFunctionBarriers",void 0),(0,De._)([(0,Be.Cb)({type:["junctions","edges","junctionsAndEdges"],json:{write:!0}})],ho.prototype,"filterScope",void 0),(0,De._)([(0,Be.Cb)({type:Boolean,json:{write:!0}})],ho.prototype,"includeContainers",void 0),(0,De._)([(0,Be.Cb)({type:Boolean,json:{write:!0}})],ho.prototype,"includeContent",void 0),(0,De._)([(0,Be.Cb)({type:Boolean,json:{write:!0}})],ho.prototype,"includeIsolated",void 0),(0,De._)([(0,Be.Cb)({type:Boolean,json:{write:!0}})],ho.prototype,"includeStructures",void 0),(0,De._)([(0,Be.Cb)({type:Boolean,json:{write:!0}})],ho.prototype,"includeUpToFirstSpatialContainer",void 0),(0,De._)([(0,Be.Cb)({type:Object,json:{write:!0}})],ho.prototype,"nearestNeighbor",void 0),(0,De._)([(0,Be.Cb)({type:[Object],json:{write:!0}})],ho.prototype,"outputFilterCategories",void 0),(0,De._)([(0,Be.Cb)({type:[Object],json:{write:!0}})],ho.prototype,"outputFilters",void 0),(0,De._)([(0,Be.Cb)({type:[Object],json:{write:!0}})],ho.prototype,"propagators",void 0),(0,De._)([(0,Be.Cb)({type:String,json:{write:!0}})],ho.prototype,"subnetworkName",void 0),(0,De._)([(0,Be.Cb)({type:String,json:{write:!0}})],ho.prototype,"targetTierName",void 0),(0,De._)([(0,Be.Cb)({type:String,json:{write:!0}})],ho.prototype,"tierName",void 0),(0,De._)([(0,Be.Cb)({type:Boolean,json:{write:!0}})],ho.prototype,"validateLocatability",void 0),ho=(0,De._)([(0,Lr.j)("esri.networks.support.UNTraceConfiguration")],ho);const Nz=ho;let Bs=class extends jm.w{constructor(y){super(y),this.globalId=null,this.title=null,this.traceConfiguration=null,this.creationDate=null,this.creator=null,this.description=null,this.minStartingPoints=null,this.resultTypes=[],this.tags=[],this.traceType=null}readTraceConfiguration(y,p){return void 0!==y.tierName?Nz.fromJSON(y):nE.fromJSON(y)}};(0,De._)([(0,Be.Cb)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"id"},write:{target:"id",isRequired:!0}},service:{read:{source:"globalId"}}},read:!1}})],Bs.prototype,"globalId",void 0),(0,De._)([(0,Be.Cb)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"title"},write:{target:"title",isRequired:!0}},service:{read:{source:"name"}}},read:!1}})],Bs.prototype,"title",void 0),(0,De._)([(0,Be.Cb)({type:nE,json:{origins:{service:{read:!0}},read:!1}})],Bs.prototype,"traceConfiguration",void 0),(0,De._)([(0,kl.r)("service","traceConfiguration")],Bs.prototype,"readTraceConfiguration",null),(0,De._)([(0,Be.Cb)({type:Date,json:{origins:{service:{read:!0}},read:!1}})],Bs.prototype,"creationDate",void 0),(0,De._)([(0,Be.Cb)({type:String,json:{origins:{service:{read:!0}},read:!1}})],Bs.prototype,"creator",void 0),(0,De._)([(0,Be.Cb)({type:String,json:{origins:{service:{read:!0}},read:!1}})],Bs.prototype,"description",void 0),(0,De._)([(0,Be.Cb)({type:["none","one","many"],json:{origins:{service:{read:{source:"minNumStartingPoints"}}},read:!1}})],Bs.prototype,"minStartingPoints",void 0),(0,De._)([(0,Be.Cb)({type:[Object],json:{origins:{service:{read:!0}},read:!1}})],Bs.prototype,"resultTypes",void 0),(0,De._)([(0,Be.Cb)({type:[String],json:{origins:{service:{read:!0}},read:!1}})],Bs.prototype,"tags",void 0),(0,De._)([(0,Be.Cb)({type:oE.apiValues,json:{type:oE.jsonValues,origins:{service:{read:oE.read}},read:!1}})],Bs.prototype,"traceType",void 0),Bs=(0,De._)([(0,Lr.j)("esri.networks.support.NamedTraceConfiguration")],Bs);const Fz=Bs;let jd=class extends Fi.wq{constructor(y){super(y),this.id=null,this.name=null}};(0,De._)([(0,Be.Cb)({type:Number,json:{read:{source:"terminalId"},write:{target:"terminalId"}}})],jd.prototype,"id",void 0),(0,De._)([(0,Be.Cb)({type:String,json:{read:{source:"terminalName"},write:{target:"terminalName"}}})],jd.prototype,"name",void 0),(0,De._)([(0,Be.Cb)({type:Boolean,json:{write:!0}})],jd.prototype,"isUpstreamTerminal",void 0),jd=(0,De._)([(0,Lr.j)("esri.networks.support.Terminal")],jd);const jz=jd,Vm=new iE.Xn({esriUNTMBidirectional:"bidirectional",esriUNTMDirectional:"directional"});let Tu=class extends Fi.wq{constructor(y){super(y),this.defaultConfiguration=null,this.id=null,this.name=null,this.terminals=[],this.traversabilityModel=null}};(0,De._)([(0,Be.Cb)({type:String,json:{write:!0}})],Tu.prototype,"defaultConfiguration",void 0),(0,De._)([(0,Be.Cb)({type:Number,json:{read:{source:"terminalConfigurationId"},write:{target:"terminalConfigurationId"}}})],Tu.prototype,"id",void 0),(0,De._)([(0,Be.Cb)({type:String,json:{read:{source:"terminalConfigurationName"},write:{target:"terminalConfigurationName"}}})],Tu.prototype,"name",void 0),(0,De._)([(0,Be.Cb)({type:[jz],json:{write:!0}})],Tu.prototype,"terminals",void 0),(0,De._)([(0,Be.Cb)({type:Vm.apiValues,json:{type:Vm.jsonValues,read:Vm.read,write:Vm.write}})],Tu.prototype,"traversabilityModel",void 0),Tu=(0,De._)([(0,Lr.j)("esri.networks.support.TerminalConfiguration")],Tu);const xT=Tu;let ml=class extends Lz{constructor(y){super(y),this.sharedNamedTraceConfigurations=[],this.type="utility"}get serviceTerritoryFeatureLayerId(){var y;return null==(y=this.dataElement)?void 0:y.serviceTerritoryFeatureLayerId}get rulesTableId(){var y;return null==(y=this.sourceJSON)?void 0:y.systemLayers.rulesTableId}get rulesTableUrl(){return this.sourceJSON?`${this.featureServiceUrl}/${this.rulesTableId}`:null}get terminalConfigurations(){var y;return(null==(y=this.dataElement)?void 0:y.terminalConfigurations.map(p=>xT.fromJSON(p)))||[]}get domainNetworkNames(){var y;return(null==(y=this.dataElement)?void 0:y.domainNetworks.map(p=>p.domainNetworkName))||[]}load(y){var p=()=>super.load,g=this;return(0,qr.Z)(function*(){return g.addResolvingPromise(p().call(g,y)),g.addResolvingPromise(g._loadNamedTraceConfigurationsFromNetwork(y)),g})()}getTerminalConfiguration(y){let p=null,g=null;const v=y.layer;let _=null;if("feature"!==(null==v?void 0:v.type)||(_=v.layerId,null===_))return null;const E=y.attributes;if(null==E)return null;for(const se of Object.keys(E))"ASSETGROUP"===se.toUpperCase()&&(p=y.getAttribute(se)),"ASSETTYPE"===se.toUpperCase()&&(g=y.getAttribute(se));if(!this.dataElement)return null;let w=null;const D=this.dataElement.domainNetworks;for(const se of D){var O;const Ee=null==(O=se.junctionSources)?void 0:O.find(Me=>Me.layerId===_);if(Ee){var L;const Me=null==(L=Ee.assetGroups)?void 0:L.find(Ge=>Ge.assetGroupCode===p);if(Me){var z;const Ge=null==(z=Me.assetTypes)?void 0:z.find(st=>st.assetTypeCode===g);if(Ge){w=Ge.terminalConfigurationId;break}}}}if(null!=w){const se=this.dataElement.terminalConfigurations,Ee=null==se?void 0:se.find(Me=>Me.terminalConfigurationId===w);return Ee?xT.fromJSON(Ee):null}return null}getTierNames(y){var p;const g=null==(p=this.dataElement)?void 0:p.domainNetworks.find(v=>v.domainNetworkName===y);return(null==g?void 0:g.tiers.map(v=>v.name))||[]}_loadNamedTraceConfigurationsFromNetwork(y){var p=this;return(0,qr.Z)(function*(){var g;if(0===(null==(g=p.sharedNamedTraceConfigurations)?void 0:g.length))return;const v=p.sharedNamedTraceConfigurations.map(E=>E.globalId),_=yield p._fetchTraceConfigData(p.networkServiceUrl,v,y);for(const E of p.sharedNamedTraceConfigurations){const w=null==_?void 0:_.find(D=>D.globalId===E.globalId);w&&E.read(w,{origin:"service"})}})()}_fetchTraceConfigData(y,p,g){return(0,Bm.default)(`${y}/traceConfigurations/query`,Pt({responseType:"json",query:{globalIds:JSON.stringify(p),f:"json"}},g)).then(v=>v.data.traceConfigurations)}};(0,De._)([(0,Be.Cb)({type:[Fz],json:{origins:{"web-map":{read:{source:"traceConfigurations"},write:{target:"traceConfigurations"}},service:{read:{source:"traceConfigurations"}}},read:!1}})],ml.prototype,"sharedNamedTraceConfigurations",void 0),(0,De._)([(0,Be.Cb)({type:["utility"],readOnly:!0,json:{read:!1,write:!1}})],ml.prototype,"type",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],ml.prototype,"serviceTerritoryFeatureLayerId",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],ml.prototype,"rulesTableId",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],ml.prototype,"rulesTableUrl",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],ml.prototype,"terminalConfigurations",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],ml.prototype,"domainNetworkNames",null),ml=(0,De._)([(0,Lr.j)("esri.networks.UtilityNetwork")],ml);const Uz=ml;var Wm=C(84687),DT=C(55463),fo=C(37281),OT=C(39636),ST=C(77294);let Pu=class extends Fi.wq{constructor(y){super(y),this.facilityIdField=null,this.layerId=null,this.nameField=null,this.siteIdField=null,this.sublayerId=null}};(0,De._)([(0,Be.Cb)({type:String,json:{write:!0}})],Pu.prototype,"facilityIdField",void 0),(0,De._)([(0,Be.Cb)({type:String,json:{write:!0}})],Pu.prototype,"layerId",void 0),(0,De._)([(0,Be.Cb)({type:String,json:{write:!0}})],Pu.prototype,"nameField",void 0),(0,De._)([(0,Be.Cb)({type:String,json:{write:!0}})],Pu.prototype,"siteIdField",void 0),(0,De._)([(0,Be.Cb)({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],Pu.prototype,"sublayerId",void 0),Pu=(0,De._)([(0,Lr.j)("esri.layers.support.FacilityLayerInfo")],Pu);const Bz=Pu;let Va=class extends Fi.wq{constructor(y){super(y),this.facilityIdField=null,this.layerId=null,this.levelIdField=null,this.levelNumberField=null,this.longNameField=null,this.shortNameField=null,this.sublayerId=null,this.verticalOrderField=null}};(0,De._)([(0,Be.Cb)({type:String,json:{write:!0}})],Va.prototype,"facilityIdField",void 0),(0,De._)([(0,Be.Cb)({type:String,json:{write:!0}})],Va.prototype,"layerId",void 0),(0,De._)([(0,Be.Cb)({type:String,json:{write:!0}})],Va.prototype,"levelIdField",void 0),(0,De._)([(0,Be.Cb)({type:String,json:{write:!0}})],Va.prototype,"levelNumberField",void 0),(0,De._)([(0,Be.Cb)({type:String,json:{write:!0}})],Va.prototype,"longNameField",void 0),(0,De._)([(0,Be.Cb)({type:String,json:{write:!0}})],Va.prototype,"shortNameField",void 0),(0,De._)([(0,Be.Cb)({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],Va.prototype,"sublayerId",void 0),(0,De._)([(0,Be.Cb)({type:String,json:{write:!0}})],Va.prototype,"verticalOrderField",void 0),Va=(0,De._)([(0,Lr.j)("esri.layers.support.LevelLayerInfo")],Va);const Vz=Va;let yc=class extends Fi.wq{constructor(y){super(y),this.layerId=null,this.nameField=null,this.siteIdField=null,this.sublayerId=null}};(0,De._)([(0,Be.Cb)({type:String,json:{write:!0}})],yc.prototype,"layerId",void 0),(0,De._)([(0,Be.Cb)({type:String,json:{write:!0}})],yc.prototype,"nameField",void 0),(0,De._)([(0,Be.Cb)({type:String,json:{write:!0}})],yc.prototype,"siteIdField",void 0),(0,De._)([(0,Be.Cb)({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],yc.prototype,"sublayerId",void 0),yc=(0,De._)([(0,Lr.j)("esri.layers.support.SiteLayerInfo")],yc);const Wz=yc;let Ud=class extends Fi.wq{constructor(y){super(y),this.levelLayer=null,this.facilityLayer=null,this.siteLayer=null}};(0,De._)([(0,Be.Cb)({type:Vz,json:{write:!0}})],Ud.prototype,"levelLayer",void 0),(0,De._)([(0,Be.Cb)({type:Bz,json:{write:!0}})],Ud.prototype,"facilityLayer",void 0),(0,De._)([(0,Be.Cb)({type:Wz,json:{write:!0}})],Ud.prototype,"siteLayer",void 0),Ud=(0,De._)([(0,Lr.j)("esri.support.MapFloorInfo")],Ud);const kz=Ud;var sE;let Bd=sE=class extends Fi.wq{constructor(y){super(y),this.activeRange=null,this.currentRangeExtent=null,this.fullRangeExtent=null}clone(){return new sE((0,js.d9)({activeRange:this.activeRange,currentRangeExtent:this.currentRangeExtent,fullRangeExtent:this.fullRangeExtent}))}};(0,De._)([(0,Be.Cb)({type:String,nonNullable:!0,json:{read:{source:"activeRangeName"},write:{target:"activeRangeName",isRequired:!0}}})],Bd.prototype,"activeRange",void 0),(0,De._)([(0,Be.Cb)({type:[Number],json:{write:!0}})],Bd.prototype,"currentRangeExtent",void 0),(0,De._)([(0,Be.Cb)({type:[Number],json:{write:!0}})],Bd.prototype,"fullRangeExtent",void 0),Bd=sE=(0,De._)([(0,Lr.j)("esri.webdoc.RangeInfo")],Bd);const aE=Bd;var lE;let yl=lE=class extends Fi.wq{constructor(y){super(y),this.enabled=!1,this.longNames=!1,this.minimized=!1,this.pinnedLevels=!1,this.site=null,this.facility=null,this.level=null}clone(){return new lE((0,js.d9)({enabled:this.enabled,longNames:this.longNames,minimized:this.minimized,pinnedLevels:this.pinnedLevels,site:this.site,facility:this.facility,level:this.level}))}};(0,De._)([(0,Be.Cb)({type:Boolean,json:{read:{source:"enabled"},write:{target:"enabled"}}})],yl.prototype,"enabled",void 0),(0,De._)([(0,Be.Cb)({type:Boolean,json:{read:{source:"longNames"},write:{target:"longNames"}}})],yl.prototype,"longNames",void 0),(0,De._)([(0,Be.Cb)({type:Boolean,json:{read:{source:"minimized"},write:{target:"minimized"}}})],yl.prototype,"minimized",void 0),(0,De._)([(0,Be.Cb)({type:Boolean,json:{read:{source:"pinnedLevels"},write:{target:"pinnedLevels"}}})],yl.prototype,"pinnedLevels",void 0),(0,De._)([(0,Be.Cb)({type:String,json:{read:{source:"site"},write:{target:"site"}}})],yl.prototype,"site",void 0),(0,De._)([(0,Be.Cb)({type:String,json:{read:{source:"facility"},write:{target:"facility"}}})],yl.prototype,"facility",void 0),(0,De._)([(0,Be.Cb)({type:String,json:{read:{source:"level"},write:{target:"level"}}})],yl.prototype,"level",void 0),yl=lE=(0,De._)([(0,Lr.j)("esri.webdoc.widgets.FloorFilter")],yl);const Zz=yl;var uE;const km=new iE.Xn({slider:"slider",picker:"picker"});let Vd=uE=class extends Fi.wq{constructor(y){super(y),this.interactionMode=null,this.numStops=null,this.stopInterval=null}clone(){return new uE({interactionMode:this.interactionMode,numStops:this.numStops,stopInterval:this.stopInterval})}};(0,De._)([(0,Be.Cb)({type:km.apiValues,nonNullable:!0,json:{type:km.jsonValues,default:null,read:{reader:km.read},write:{isRequired:!0,writer:km.write}}})],Vd.prototype,"interactionMode",void 0),(0,De._)([(0,Be.Cb)({type:Number,json:{read:{source:"numberOfStops"},write:{target:"numberOfStops",overridePolicy(){const y=null!=this.stopInterval;return{enabled:!y,isRequired:!y}}}}})],Vd.prototype,"numStops",void 0),(0,De._)([(0,Be.Cb)({type:Number,json:{write:{overridePolicy(){return{isRequired:null==this.numStops}}}}})],Vd.prototype,"stopInterval",void 0),Vd=uE=(0,De._)([(0,Lr.j)("esri.webdoc.widgets.Range")],Vd);const $z=Vd;var dE,Wd=C(97478),IT=C(20849),cE=C(94113);let Ro=dE=class extends Fi.wq{constructor(y){super(y),this.currentTimeExtent=null,this.fullTimeExtent=null,this.loop=!1,this.numStops=null,this.numThumbs=null,this.stopDelay=null,this.stopInterval=null,this.stops=null}readCurrentTimeExtent(y){if(!y)return;const p=null!=y[0]?new Date(y[0]):null,g=null!=y[1]?new Date(y[1]):null;return new Wd.Z({start:p,end:g})}writeCurrentTimeExtent(y,p,g){y&&(0,cE.RB)(g,[(0,fr.pC)(y.start)?y.start.getTime():null,(0,fr.pC)(y.end)?y.end.getTime():null],p)}readFullTimeExtent(y,p){const g=p.properties;if(!g)return;const v=null!=g.endTime?new Date(g.endTime):null,_=null!=g.startTime?new Date(g.startTime):null;return new Wd.Z({start:_,end:v})}writeFullTimeExtent(y,p){if(!y)return;const g=p.properties=p.properties||{},v=y.end,_=y.start;v&&(g.endTime=(0,fr.pC)(v)?v.getTime():null),_&&(g.startTime=(0,fr.pC)(_)?_.getTime():null)}readStopInterval(y,p,g){return y?IT.Z.fromJSON({value:y.interval,unit:y.units},g):null}writeStopInterval(y,p,g,v){if(!y)return;const _=y.toJSON(v);(0,cE.RB)(g,{interval:_.value,units:_.unit},p)}readStops(y){return y&&y.length?y.map(p=>new Date(p)):null}writeStops(y,p,g){y&&y.length&&(0,cE.RB)(g,y.map(v=>v.getTime()),p)}clone(){return new dE((0,js.d9)({currentTimeExtent:this.currentTimeExtent,fullTimeExtent:this.fullTimeExtent,loop:this.loop,numStops:this.numStops,numThumbs:this.numThumbs,stopDelay:this.stopDelay,stopInterval:this.stopInterval,stops:this.stops}))}};(0,De._)([(0,Be.Cb)({type:Wd.Z,json:{read:{source:"properties.currentTimeExtent"},write:{target:"properties.currentTimeExtent"}}})],Ro.prototype,"currentTimeExtent",void 0),(0,De._)([(0,kl.r)("currentTimeExtent")],Ro.prototype,"readCurrentTimeExtent",null),(0,De._)([(0,ra.c)("currentTimeExtent")],Ro.prototype,"writeCurrentTimeExtent",null),(0,De._)([(0,Be.Cb)({type:Wd.Z,json:{read:{source:["properties.endTime","properties.startTime"]},write:{target:{"properties.endTime":{type:Number},"properties.startTime":{type:Number}}}}})],Ro.prototype,"fullTimeExtent",void 0),(0,De._)([(0,kl.r)("fullTimeExtent")],Ro.prototype,"readFullTimeExtent",null),(0,De._)([(0,ra.c)("fullTimeExtent")],Ro.prototype,"writeFullTimeExtent",null),(0,De._)([(0,Be.Cb)({type:Boolean,nonNullable:!0,json:{default:!1,read:{source:"properties.loop"},write:{target:"properties.loop"}}})],Ro.prototype,"loop",void 0),(0,De._)([(0,Be.Cb)({type:Number,json:{read:{source:"properties.numberOfStops"},write:{target:"properties.numberOfStops",overridePolicy(){var y;const g=!(null==(y=this.stops)||!y.length),v=!(this.stopInterval||g);return{enabled:v,isRequired:v}}}}})],Ro.prototype,"numStops",void 0),(0,De._)([(0,Be.Cb)({type:[1,2],nonNullable:!0,json:{read:{source:"properties.thumbCount"},write:{target:"properties.thumbCount",isRequired:!0}}})],Ro.prototype,"numThumbs",void 0),(0,De._)([(0,Be.Cb)({type:Number,nonNullable:!0,json:{read:{source:"properties.thumbMovingRate"},write:{target:"properties.thumbMovingRate",isRequired:!0}}})],Ro.prototype,"stopDelay",void 0),(0,De._)([(0,Be.Cb)({type:IT.Z,json:{read:{source:"properties.timeStopInterval"},write:{target:"properties.timeStopInterval",overridePolicy(){var y;const g=!(null==(y=this.stops)||!y.length);return{enabled:!g,isRequired:!(null!=this.numStops||g)}}}}})],Ro.prototype,"stopInterval",void 0),(0,De._)([(0,kl.r)("stopInterval")],Ro.prototype,"readStopInterval",null),(0,De._)([(0,ra.c)("stopInterval")],Ro.prototype,"writeStopInterval",null),(0,De._)([(0,Be.Cb)({type:[Date],json:{read:{source:"properties.stops"},write:{target:"properties.stops",overridePolicy(){return{isRequired:null==this.numStops&&!this.stopInterval}}}}})],Ro.prototype,"stops",void 0),(0,De._)([(0,kl.r)("stops")],Ro.prototype,"readStops",null),(0,De._)([(0,ra.c)("stops")],Ro.prototype,"writeStops",null),Ro=dE=(0,De._)([(0,Lr.j)("esri.webdoc.widgets.TimeSlider")],Ro);const Kz=Ro;var hE;let kd=hE=class extends Fi.wq{constructor(y){super(y),this.range=null,this.timeSlider=null,this.floorFilter=null}clone(){return new hE((0,js.d9)({range:this.range,timeSlider:this.timeSlider,floorFilter:this.floorFilter}))}};(0,De._)([(0,Be.Cb)({type:$z,json:{write:!0}})],kd.prototype,"range",void 0),(0,De._)([(0,Be.Cb)({type:Kz,json:{write:!0}})],kd.prototype,"timeSlider",void 0),(0,De._)([(0,Be.Cb)({type:Zz,json:{write:!0}})],kd.prototype,"floorFilter",void 0),kd=hE=(0,De._)([(0,Lr.j)("esri.webdoc.Widgets")],kd);const zz=kd,Gz={width:600,height:400};var Jz=C(32584);function TT(y){return{enabled:!(null==y||!y.length)}}var fE,PT=C(85);let Zd=fE=class extends Fi.wq{constructor(y){super(y),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new fE({exactMatch:this.exactMatch,type:this.type,name:this.name})}};(0,De._)([(0,Be.Cb)({type:Boolean,json:{write:!0}})],Zd.prototype,"exactMatch",void 0),(0,De._)([(0,Be.Cb)({type:String,json:{write:!0}})],Zd.prototype,"name",void 0),(0,De._)([(0,X1.J)(PT.v)],Zd.prototype,"type",void 0),Zd=fE=(0,De._)([(0,Lr.j)("esri.webdoc.applicationProperties.SearchLayerField")],Zd);const Yz=Zd;var pE;let $d=pE=class extends Fi.wq{constructor(y){super(y),this.field=null,this.id=null,this.subLayer=null}clone(){return new pE((0,js.d9)({field:this.field,id:this.id,subLayer:this.subLayer}))}};(0,De._)([(0,Be.Cb)({type:Yz,json:{write:{isRequired:!0}}})],$d.prototype,"field",void 0),(0,De._)([(0,Be.Cb)({type:String,json:{write:{isRequired:!0}}})],$d.prototype,"id",void 0),(0,De._)([(0,Be.Cb)({type:Nd.z8,json:{write:!0}})],$d.prototype,"subLayer",void 0),$d=pE=(0,De._)([(0,Lr.j)("esri.webdoc.applicationProperties.SearchLayer")],$d);const Xz=$d;var mE;let Kd=mE=class extends Fi.wq{constructor(y){super(y),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new mE({exactMatch:this.exactMatch,type:this.type,name:this.name})}};(0,De._)([(0,Be.Cb)({type:Boolean,json:{write:!0}})],Kd.prototype,"exactMatch",void 0),(0,De._)([(0,Be.Cb)({type:String,json:{write:!0}})],Kd.prototype,"name",void 0),(0,De._)([(0,X1.J)(PT.v)],Kd.prototype,"type",void 0),Kd=mE=(0,De._)([(0,Lr.j)("esri.webdoc.applicationProperties.SearchTableField")],Kd);const Qz=Kd;var yE;let Vf=yE=class extends Fi.wq{constructor(y){super(y),this.field=null,this.id=null}clone(){return new yE((0,js.d9)({field:this.field,id:this.id}))}};(0,De._)([(0,Be.Cb)({type:Qz,json:{write:{isRequired:!0}}})],Vf.prototype,"field",void 0),(0,De._)([(0,Be.Cb)({type:String,json:{write:{isRequired:!0}}})],Vf.prototype,"id",void 0),Vf=yE=(0,De._)([(0,Lr.j)("esri.webdoc.applicationProperties.SearchTable")],Vf);const qz=Vf;var gE;const AT=zi.Z.ofType(Xz),RT=zi.Z.ofType(qz);let gl=gE=class extends Fi.wq{constructor(y){super(y),this.addressSearchEnabled=!0,this.enabled=!0,this.hintText=null,this.layers=new AT,this.tables=new RT}readAddressSearchEnabled(y){return!y}writeAddressSearchEnabled(y,p,g){p[g]=!y}clone(){return new gE((0,js.d9)({addressSearchEnabled:this.addressSearchEnabled,enabled:this.enabled,hintText:this.hintText,layers:this.layers,tables:this.tables}))}};(0,De._)([(0,Be.Cb)({type:Boolean,nonNullable:!0,json:{read:{source:"disablePlaceFinder"},write:{target:"disablePlaceFinder",isRequired:!0},origins:{"web-scene":{read:!1,write:!1}}}})],gl.prototype,"addressSearchEnabled",void 0),(0,De._)([(0,kl.r)("addressSearchEnabled")],gl.prototype,"readAddressSearchEnabled",null),(0,De._)([(0,ra.c)("addressSearchEnabled")],gl.prototype,"writeAddressSearchEnabled",null),(0,De._)([(0,Be.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,origins:{"web-map":{write:{isRequired:!0}},"web-scene":{default:!0,write:!0}}}})],gl.prototype,"enabled",void 0),(0,De._)([(0,Be.Cb)({type:String,json:{write:!0}})],gl.prototype,"hintText",void 0),(0,De._)([(0,Be.Cb)({type:AT,json:{write:{overridePolicy:TT},origins:{"web-scene":{write:{isRequired:!0}}}}})],gl.prototype,"layers",void 0),(0,De._)([(0,Be.Cb)({type:RT,json:{read:!0,write:{overridePolicy:TT}}})],gl.prototype,"tables",void 0),gl=gE=(0,De._)([(0,Lr.j)("esri.webdoc.applicationProperties.Search")],gl);const eG=gl;var vE;let $m=vE=class extends Fi.wq{constructor(y){super(y),this.search=null}clone(){return new vE((0,js.d9)({search:this.search}))}};(0,De._)([(0,Be.Cb)({type:eG,json:{write:!0}})],$m.prototype,"search",void 0),$m=vE=(0,De._)([(0,Lr.j)("esri.webdoc.applicationProperties.Viewing")],$m);const tG=$m;var _E;let zd=_E=class extends Fi.wq{constructor(y){super(y),this.editing=null,this.offline=null,this.viewing=null}clone(){return new _E((0,js.d9)({editing:this.editing,offline:this.offline,viewing:this.viewing}))}};(0,De._)([(0,Be.Cb)({json:{write:!0}})],zd.prototype,"editing",void 0),(0,De._)([(0,Be.Cb)({json:{write:!0}})],zd.prototype,"offline",void 0),(0,De._)([(0,Be.Cb)({type:tG,json:{write:!0}})],zd.prototype,"viewing",void 0),zd=_E=(0,De._)([(0,Lr.j)("esri.webmap.ApplicationProperties")],zd);const rG=zd;var EE,nG=C(55538),iG=C(61996);let Km=EE=class extends Fi.wq{constructor(){super(...arguments),this.url=""}destroy(){this.url=""}clone(){return new EE({url:this.url})}};(0,De._)([(0,Be.Cb)({type:String,json:{write:{isRequired:!0}}})],Km.prototype,"url",void 0),Km=EE=(0,De._)([(0,Lr.j)("esri.webdoc.support.Thumbnail")],Km);const zm=Km;var bE;const LT="esri.webmap.Bookmark",CE=co.Z.getLogger(LT);let Wa=bE=class extends((0,iG.I)(Fi.wq)){constructor(y){super(y),this.name=null,this.thumbnail=new zm,this.timeExtent=null}set extent(y){(0,nG.Mr)(CE,"extent",{replacement:"viewpoint",version:"4.17"}),this._set("viewpoint",new Us.Z({targetGeometry:y.clone()})),this._set("extent",y)}castThumbnail(y){return"string"==typeof y?new zm({url:y}):(0,Nd.se)(zm,y)}set viewpoint(y){const{targetGeometry:p,scale:g}=y;(0,fr.pC)(p)&&("extent"===p.type?this._set("extent",p.clone()):"point"===p.type&&(0,fr.Wi)(g)&&CE.warn("Bookmark.viewpoint should include 'scale' when its targetGeometry is a point.",y)),this._set("viewpoint",y)}readViewpoint(y,p){const{extent:g,viewpoint:v}=p;return Us.Z.fromJSON(v||{targetGeometry:g})}writeViewpoint(y,p,g,v){if(!y)return;const{targetGeometry:_}=y;if((0,fr.pC)(_)&&"extent"!==_.type){const E="Bookmark.viewpoint cannot be written to JSON when the viewpoint's targetGeometry is not an extent.";null!=v&&v.messages?v.messages.push(new on.Z("property:unsupported",E)):CE.error(E)}else p[g]=y.toJSON()}clone(){return new bE((0,js.d9)({name:this.name,thumbnail:this.thumbnail,timeExtent:this.timeExtent,viewpoint:this.viewpoint}))}};(0,De._)([(0,Be.Cb)({type:Iu.Z,nonNullable:!0,json:{read:!1,write:{isRequired:!0}}})],Wa.prototype,"extent",null),(0,De._)([(0,Be.Cb)({type:String,nonNullable:!0,json:{write:{isRequired:!0}}})],Wa.prototype,"name",void 0),(0,De._)([(0,Be.Cb)({type:zm,json:{write:{overridePolicy:y=>({enabled:!(!y||!y.url)})}}})],Wa.prototype,"thumbnail",void 0),(0,De._)([(0,hl.p)("thumbnail")],Wa.prototype,"castThumbnail",null),(0,De._)([(0,Be.Cb)({type:Wd.Z,json:{write:!0}})],Wa.prototype,"timeExtent",void 0),(0,De._)([(0,Be.Cb)({type:Us.Z,nonNullable:!0,json:{write:!0}})],Wa.prototype,"viewpoint",null),(0,De._)([(0,kl.r)("viewpoint",["extent","viewpoint"])],Wa.prototype,"readViewpoint",null),(0,De._)([(0,ra.c)("viewpoint")],Wa.prototype,"writeViewpoint",null),Wa=bE=(0,De._)([(0,Lr.j)(LT)],Wa);const oG=Wa;var ME;let Gm=ME=class extends Fi.wq{constructor(y){super(y),this.color=new Ld.Z([0,0,0,1])}clone(){return new ME((0,js.d9)({color:this.color}))}};(0,De._)([(0,Be.Cb)({type:Ld.Z,json:{write:!0}})],Gm.prototype,"color",void 0),Gm=ME=(0,De._)([(0,Lr.j)("esri.webmap.background.ColorBackground")],Gm);const Hm=Gm;var wE;let gc=wE=class extends di.Z{constructor(y){super(y),this.background=null,this.rangeInfo=null,this.spatialReference=null,this.viewpoint=null}clone(){return new wE((0,js.d9)({background:this.background,rangeInfo:this.rangeInfo,spatialReference:this.spatialReference,viewpoint:this.viewpoint}))}};(0,De._)([(0,Be.Cb)({type:Hm})],gc.prototype,"background",void 0),(0,De._)([(0,Be.Cb)({type:aE})],gc.prototype,"rangeInfo",void 0),(0,De._)([(0,Be.Cb)({type:Su.Z})],gc.prototype,"spatialReference",void 0),(0,De._)([(0,Be.Cb)({type:Us.Z})],gc.prototype,"viewpoint",void 0),gc=wE=(0,De._)([(0,Lr.j)("esri.webmap.InitialViewProperties")],gc);const Jm=gc;var sG=C(10349);class Wf extends sG.G{constructor(p,g){super(p,g,"webmap")}}const Ym=new Wf(2,23),xE="Web Map",NT=zi.Z.ofType(oG),aG=zi.Z.ofType(Uz),Xm=co.Z.getLogger("esri.WebMap"),kf=new Map;kf.set("image/jpeg","jpeg"),kf.set("image/jpg","jpg"),kf.set("image/png","png"),kf.set("image/gif","gif");const FT="ArcGIS API for JavaScript",jT="CollectorDisabled",UT="Collector",BT="Data Editing",VT="OfflineDisabled",WT="Offline",kT="Workforce Project",ZT="Workforce Worker",$T="Workforce Dispatcher",KT="DeveloperBasemap",dG=["NatGeo_World_Map","Ocean_Basemap","USA_Topo_Maps","World_Imagery","World_Street_Map","World_Terrain_Base","World_Topo_Map","World_Hillshade","Canvas/World_Light_Gray_Base","Canvas/World_Light_Gray_Reference","Canvas/World_Dark_Gray_Base","Canvas/World_Dark_Gray_Reference","Ocean/World_Ocean_Base","Ocean/World_Ocean_Reference","Reference/World_Boundaries_and_Places","Reference/World_Reference_Overlay","Reference/World_Transportation"].map(y=>y.toLowerCase());let bi=class extends((0,jm.R)(Uf.Z.LoadableMixin((0,rE.v)(wT)))){constructor(y){super(y),this.applicationProperties=null,this.bookmarks=new NT,this.floorInfo=null,this.initialViewProperties=new Jm,this.portalItem=null,this.presentation=null,this.sourceVersion=null,this.widgets=null,this.utilityNetworks=null,this.authoringApp=this.authoringAppVersion=null,this._isAuthoringAppSetByUser=this._isAuthoringAppVersionSetByUser=!1}destroy(){const y=this.portalItem;this.portalItem=null,null==y||y.destroy()}initialize(){if(this.when().catch(y=>{Xm.error("#load()","Failed to load web map",y)}),this.resourceInfo){let y;try{y=this._validateJSON(this.resourceInfo)}catch(p){return void this.addResolvingPromise(Promise.reject(p))}this.read(y)}}set authoringApp(y){this._isAuthoringAppSetByUser=!0,this._set("authoringApp",y)}writeAuthoringApp(y,p){p.authoringApp=y&&this._isAuthoringAppSetByUser?y:FT}set authoringAppVersion(y){this._isAuthoringAppVersionSetByUser=!0,this._set("authoringAppVersion",y)}writeAuthoringAppVersion(y,p){p.authoringAppVersion=y&&this._isAuthoringAppVersionSetByUser?y:gz.i8}readInitialViewProperties(y,p){var g;const v=new Jm;p.background&&(v.background=Hm.fromJSON(p.background));const _=null==(g=p.initialState)?void 0:g.viewpoint;return _&&(_.rotation&&Wf.parse(p.version||"","webmap").lessThan(2,20)&&"ArcGIS Pro"===p.authoringApp&&(_.rotation*=-1),v.viewpoint=Us.Z.fromJSON(_)),p.mapRangeInfo&&(v.rangeInfo=aE.fromJSON(p.mapRangeInfo)),p.spatialReference&&(v.spatialReference=Su.Z.fromJSON(p.spatialReference)),v}writeInitialViewProperties(y,p,g,v){if(!y)return;const _=y.background;_&&_.color&&(p.background=_.write({},v)),y.viewpoint&&(p.initialState={viewpoint:y.viewpoint.write({},v)}),y.rangeInfo&&(p.mapRangeInfo=y.rangeInfo.toJSON(v)),y.spatialReference&&(p.spatialReference=y.spatialReference.write({},v))}writeLayers(y,p,g,v){p[g]=this._writeLayers(y,v,"operational-layers")}readSourceVersion(y,p){const[g,v]=p.version.split(".");return new Wf(parseInt(g,10),parseInt(v,10))}writeSourceVersion(y,p,g){p[g]=`${Ym.major}.${Ym.minor}`}writeTables(y,p,g,v){const _=this._writeLayers(y,v,"tables");_.length&&(p[g]=_)}get thumbnailUrl(){return this.portalItem&&this.portalItem.thumbnailUrl||null}set thumbnailUrl(y){y?(this._override("thumbnailUrl",y),this._thumbnailFilename=this._generateCustomThumbnailFilename(y)):this._clearThumbnailOverride()}load(y){return this.addResolvingPromise(this._loadFromSource()),Promise.resolve(this)}loadAll(){return(0,iT.GZ)(this,y=>{y(this.ground,this.basemap,this.layers,this.tables)})}read(y,p){p=Xr(Pt({},p),{origin:"web-map"});const g=this._getAuthoringPropsState();(0,Az.$Z)(this,y,v=>super.read(y,v),p),this._restoreAuthoringPropsFromState(g)}write(y,p){if("loaded"!==this.loadStatus){const g=new on.Z("webmap:not-loaded","Web map must be loaded before it can be serialized");throw Xm.error("#toJSON()","Web map must be loaded before it can be serialized",this.loadError||this.loadStatus),g}return this._removeDanglingLayerRefs(),p=Xr(Pt({},p),{origin:"web-map",restrictedWebMapWriting:!0,webmap:this}),super.write(y,p)}save(y){var p=this;return(0,qr.Z)(function*(){y=y||{},p._validateItem(),yield p._updateFromPromise,yield p.load(),yield p._loadLayerContainers(),yield p._beforeSave(),p._validateMap();const g=p.portalItem,v={origin:"web-map",messages:[],writtenProperties:[],url:g.itemUrl&&(0,Ou.mN)(g.itemUrl),portal:g.portal||Wm.Z.getDefault()},_=p.write({},v);return p._validateJSONForWriting(v,y),yield p._updateItemProperties(g),yield p._updateItem(g,_,v),yield p._updateItemThumbnail(),g})()}saveAs(y,p){var g=this;return(0,qr.Z)(function*(){p=p||{};const v=g._getPortalItem(y);yield g._updateFromPromise,yield g.load(),yield g._loadLayerContainers(),yield g._beforeSave(),g._validateMap();const _={origin:"web-map",messages:[],writtenProperties:[],url:null,portal:v.portal},E=g.write({},_);g._validateJSONForWriting(_,p),yield g._updateItemPropertiesForSaveAs(v);const w=g._getThumbnailState();return yield g._createItem(v,E,_,p),g._restoreThumbnailFromState(w),yield g._updateItemThumbnail(),v})()}updateFrom(y,p){var g=this;return(0,qr.Z)(function*(){const v=g._updateFromInternal(y,p);g._updateFromPromise=v,yield v,v===g._updateFromPromise&&(g._updateFromPromise=null)})()}getLayerJSONFromResourceInfo(y){var p,g,v,_;const E=this.resourceInfo;return this._collectAllLayersJSON((0,oT.xH)([null==E||null==(p=E.baseMap)?void 0:p.baseMapLayers,null==E?void 0:E.operationalLayers,null==(g=this.basemap)||null==(v=g.resourceInfo)||null==(_=v.data)?void 0:_.baseMapLayers])).find(w=>w.id===y.id)}_collectAllLayersJSON(y){return y.reduce((p,g)=>(p.push(g),"GroupLayer"===g.layerType&&(p=p.concat(this._collectAllLayersJSON(g.layers||[]))),p),[])}_writeLayers(y,p,g){return p=Xr(Pt({},p),{layerContainerType:g}),y.map(v=>(0,fr.Wg)((0,Jz.Nw)(v,"tables"===g?null:this.getLayerJSONFromResourceInfo(v),p))).filter(Boolean).toArray()}_loadFromSource(){return this.resourceInfo?this._loadFromJSON(this.resourceInfo,{origin:"web-map"}):this.portalItem&&this.portalItem.id?this._loadFromItem(this.portalItem):Promise.resolve(null)}_loadFromItem(y){return y.load().catch(p=>{throw new on.Z("webmap:load-portal-item","Failed to load portal item",{error:p})}).then(()=>{if("Web Map"!==y.type)throw new on.Z("webmap:invalid-portal-item","Invalid portal item type '${type}', expected 'Web Map'",{type:y.type})}).then(()=>y.fetchData()).then(p=>(this.resourceInfo=p,this._readAndLoadFromJSON(p,{origin:"web-map",portal:y.portal||Wm.Z.getDefault()}))).then(()=>this._computeInitialViewpoint())}_readAndLoadFromJSON(y,p){const g=this._validateJSON(y);return this.read(g,p),this._loadFromJSON(g,p)}_validateJSON(y){const p=Wf.parse(y.version||"","webmap");return Ym.validate(p),y.version=`${p.major}.${p.minor}`,y}_loadFromJSON(y,p){const g={context:Xr(Pt({},p),{layerContainerType:"operational-layers"})};return this.portalItem&&(g.context.portal=this.portalItem.portal||Wm.Z.getDefault()),Promise.all([C.e(7534),C.e(1074)]).then(C.bind(C,71074)).then(({populateOperationalLayers:v})=>{const _=[],E=y.operationalLayers;E&&E.length&&_.push(v(this.layers,E,g));const w=Xr(Pt({},g),{context:Xr(Pt({},g.context),{layerContainerType:"tables"}),defaultLayerType:"ArcGISFeatureLayer"}),D=y.tables;return D&&D.length&&_.push(v(this.tables,D,w)),(0,Hn.as)(_).then(()=>{})})}_computeInitialViewpoint(){var y=this;return(0,qr.Z)(function*(){var p,g;let v=y.initialViewProperties;if(null==(p=v)||null==(g=p.viewpoint)?void 0:g.targetGeometry)return;const _=yield y._getExtentFromItem();_&&(v=v?v.clone():new Jm,v.viewpoint=new Us.Z,v.viewpoint.targetGeometry=_,y.initialViewProperties=v)})()}_getExtentFromItem(){var y=this;return(0,qr.Z)(function*(){var p,g;const v=null==(p=y.initialViewProperties)?void 0:p.spatialReference,_=null==(g=y.portalItem)?void 0:g.extent;return v&&_?v.isWGS84?_.clone():v.isWebMercator?(0,pl.$)(_):(yield C.e(5082).then(C.bind(C,35082))).getGeometryServiceURL(y.portalItem).then(E=>{const w=new ST.Z;return w.geometries=[_],w.outSpatialReference=v,(0,OT.i)(E,w)}).then(E=>E[0]).catch(E=>(Xm.error("Error projecting item's extent:",E),null)):null})()}_removeDanglingLayerRefs(){const y=this.applicationProperties,p=y&&y.viewing&&y.viewing.search,g=E=>!!this.allLayers.find(w=>w.id===E);p&&p.layers&&(p.layers=p.layers.filter(E=>g(E.id))),p&&p.tables&&(p.tables=p.tables.filter(E=>!!this.tables.find(w=>w.id===E.id)));const v=y&&y.editing&&y.editing.locationTracking;v&&v.info&&!g(v.info.layerId)&&(y.editing=null);const _=this.presentation&&this.presentation.slides;_&&_.forEach(E=>{E.visibleLayers&&(E.visibleLayers=E.visibleLayers.filter(w=>g(w.id)))})}_validateMap(){if(!this.basemap||!this.basemap.baseLayers.length)throw new on.Z("webmap:save","Map does not have a valid basemap with a base layer.")}_validateItem(){if(!this.portalItem)throw Xm.error("save: requires the portalItem property to be set"),new on.Z("webmap:portal-item-not-set","Portal item to save to has not been set on the WebMap");this._validateItemType(this.portalItem)}_validateItemType(y){if(y.type!==xE)throw new on.Z("webmap:portal-item-wrong-type",`Portal item needs to have type "${xE}"`)}_loadLayerContainers(){const y=[];return this.basemap&&y.push(this.basemap.load()),this.ground&&y.push(this.ground.load()),(0,Hn.as)(y).then(()=>{})}_beforeSave(){var y=this;return(0,qr.Z)(function*(){const p=[];for(const g of y.allLayers)if("beforeSave"in g&&"function"==typeof g.beforeSave){const v=g.beforeSave();v&&p.push(v)}yield(0,Hn.as)(p)})()}_loadAllLayers(){const y=this._getAllLayersAndTables().map(p=>p.load());return(0,Hn.as)(y).then(()=>{})}_getAllLayersAndTables(){return this.allLayers.concat(this.allTables)}_validateJSONForWriting(y,p){let g=y.messages.filter(v=>"error"===v.type).map(v=>new on.Z(v.name,v.message,v.details));if(p.ignoreUnsupported&&(g=g.filter(v=>"layer:unsupported"!==v.name&&"symbol:unsupported"!==v.name&&"symbol-layer:unsupported"!==v.name&&"property:unsupported"!==v.name&&"url:unsupported"!==v.name)),g.length>0)throw new on.Z("webmap:save","Failed to save webmap due to unsupported or invalid content. See 'details.errors' for more detailed information",{errors:g})}_updateItemProperties(y){var p=this;return(0,qr.Z)(function*(){y.extent=yield p._getWGS84Extent(p.initialViewProperties.viewpoint.targetGeometry),yield p._updateTypeKeywords(y)})()}_updateItemPropertiesForSaveAs(y){var p=this;return(0,qr.Z)(function*(){(0,fo.ck)(y,jT),(0,fo.ck)(y,VT),(0,fo.ck)(y,kT),(0,fo.ck)(y,ZT),(0,fo.ck)(y,$T),(0,fo.ck)(y,"Offline Map Areas"),(0,fo.ck)(y,"FieldMapsDisabled"),yield p._updateItemProperties(y)})()}_getWGS84Extent(y){var p=this;return(0,qr.Z)(function*(){const g=y.clone().normalize();let v;if(g.length>1)for(const _ of g)v?_.width>v.width&&(v=_):v=_;else v=g[0];return p._projectToWGS84(v)})()}_projectToWGS84(y){var p=this;return(0,qr.Z)(function*(){const g=y.spatialReference;if(g.isWGS84)return y.clone();if(g.isWebMercator)return(0,pl.Sx)(y);const v=yield C.e(5082).then(C.bind(C,35082)),_=yield v.getGeometryServiceURL(p.portalItem),E=new ST.Z;return E.geometries=[y],E.outSpatialReference=Su.Z.WGS84,(yield(0,OT.i)(_,E))[0]})()}_updateTypeKeywords(y){var p=this;return(0,qr.Z)(function*(){(0,fo.qj)(y,FT),yield p._loadAllLayers(),p._evalCollectorKeyword(y),p._evalDataEditingKeyword(y),p._evalOfflineKeyword(y),p._evalDeveloperBasemapKeyword(y),y.typeKeywords&&(y.typeKeywords=y.typeKeywords.filter((g,v,_)=>_.indexOf(g)===v))})()}_evalCollectorKeyword(y){(0,fo._$)(y,jT)||(0,fo._$)(y,kT)||(0,fo._$)(y,ZT)||(0,fo._$)(y,$T)||!this._hasEditableFeatureLayer()?(0,fo.ck)(y,UT):(0,fo.qj)(y,UT)}_evalDataEditingKeyword(y){this._hasEditableFeatureLayer()?(0,fo.qj)(y,BT):(0,fo.ck)(y,BT)}_evalOfflineKeyword(y){!(0,fo._$)(y,VT)&&this._isOfflineCapableMap()?(0,fo.qj)(y,WT):(0,fo.ck)(y,WT)}_evalDeveloperBasemapKeyword(y){!function wz(y){return!(null==y||!y.baseLayers.concat(y.referenceLayers).some(pT))}(this.basemap)?(0,fo.ck)(y,KT):(0,fo.qj)(y,KT)}_hasEditableFeatureLayer(){return this._getAllLayersAndTables().some(y=>y.loaded&&this._isFeatureServiceLayer(y)&&y.capabilities.operations.supportsEditing&&y.editingEnabled)}_isFeatureServiceLayer(y){return!("feature"!==y.type||!y.source||"feature-layer"!==y.source.type)}_isOfflineCapableMap(){return this._getAllLayersAndTables().filter(y=>"group"!==y.type).every(y=>y.loaded&&this._isOfflineCapableLayer(y))}_isOfflineCapableLayer(y){return this._isFeatureServiceLayer(y)&&y.capabilities.operations.supportsSync||("tile"===y.type||"vector-tile"===y.type)&&(y.capabilities.operations.supportsExportTiles||this._isExportableAGOLTileLayer(y)||pT(y))&&y.spatialReference.equals(this.initialViewProperties.spatialReference)}_isExportableAGOLTileLayer(y){return"tile"===y.type&&(0,Um.h3)(y.url)&&dG.some(p=>y.url.toLowerCase().indexOf("/"+p+"/")>-1)}_updateItem(y,p,g){var v=this;return(0,qr.Z)(function*(){yield y.update({data:p}),v._syncUpInstanceWithItem(y,p,g)})()}_createItem(y,p,g,v){var _=this;return(0,qr.Z)(function*(){const E=_.portalItem,w=!!(E&&E.id&&E.portal.user),D=y.portal;if(yield D._signIn(),!(yield _._canCopyItem(E,w,D)))throw new on.Z("webmap:save-as-copy-not-allowed","Owner of this map does not allow others to save a copy");yield D.user.addItem({item:y,folder:v.folder,data:p}),_.portalItem=y,_._syncUpInstanceWithItem(y,p,g)})()}_canCopyItem(y,p,g){return(0,qr.Z)(function*(){return!((0,fr.pC)(y)&&y.id&&y.typeKeywords&&y.typeKeywords.indexOf("useOnly")>-1)||y.portal.portalHostname===g.portalHostname&&(p||(yield y.reload()),"admin"===y.itemControl||"update"===y.itemControl)})()}_syncUpInstanceWithItem(y,p,g){jm.w.prototype.read.call(this,{version:p.version,authoringApp:p.authoringApp,authoringAppVersion:p.authoringAppVersion},{origin:"web-map",ignoreDefaults:!0,url:y.itemUrl&&(0,Ou.mN)(y.itemUrl)}),(0,Pz.D)(g),this.resourceInfo=p}_updateItemThumbnail(){var y=this;return(0,qr.Z)(function*(){y.thumbnailUrl&&y._isOverridden("thumbnailUrl")&&(yield y.portalItem.updateThumbnail({thumbnail:y.thumbnailUrl,filename:y._thumbnailFilename}),y._clearThumbnailOverride())})()}_getPortalItem(y){let p=DT.default.from(y);return p.id&&(p=p.clone(),p.id=null),p.type||(p.type=xE),p.portal||(p.portal=Wm.Z.getDefault()),this._validateItemType(p),p}_updateFromInternal(y,p){var g=this;return(0,qr.Z)(function*(){if(p=p||{},yield(0,kr.LR)(y,"ready"),g._updateInitialViewProperties(y,p),y.map===g)for(const v of y.allLayerViews)for(const _ of["visible","featureEffect"])_ in v&&_ in v.layer&&v._isOverridden(_)&&(v.layer[_]=v[_]);yield g._updateThumbnailUrl(y,p)})()}_updateInitialViewProperties(y,p){var g;if(p.backgroundExcluded||(this.initialViewProperties.background=null==(g=y.background)?void 0:g.clone()),this.initialViewProperties.spatialReference=y.spatialReference.clone(),p.viewpointExcluded||(this.initialViewProperties.viewpoint=new Us.Z({rotation:y.rotation,scale:p.scalePreserved?y.scale:null,targetGeometry:this._getViewExtent(y)})),!p.widgetsExcluded)for(const v of y.persistableViewModels)v.updateWebDocument(this)}_getViewExtent(y){const p=y.center.clone().normalize(),g=y.extent.clone(),v=g.width/2;return g.xmin=p.x-v,g.xmax=p.x+v,g}_updateThumbnailUrl(y,p){var g=this;return(0,qr.Z)(function*(){if(p.thumbnailExcluded)return;const v=function Hz(y,p){p=p||Gz;let{width:g,height:v}=p;const _=g/v;return _<1.5?v=g/1.5:_>1.5&&(g=1.5*v),g>y.width&&(v*=y.width/g,g=y.width),v>y.height&&(g*=y.height/v,v=y.height),{width:Math.round(g),height:Math.round(v)}}(y,p.thumbnailSize),_=yield y.takeScreenshot({format:"png",width:v.width,height:v.height});g._setAutoGeneratedThumbnail(_.dataUrl)})()}_setAutoGeneratedThumbnail(y){this.thumbnailUrl=y,this._thumbnailFilename=null}_clearThumbnailOverride(){this._clearOverride("thumbnailUrl"),this.clear("thumbnailUrl","user"),this._thumbnailFilename=null}_generateCustomThumbnailFilename(y){if((0,Ou.HK)(y)){const p=(0,Ou.sJ)(y),g=p&&p.mediaType,v=g&&kf.get(g.toLowerCase())||null,_=`thumbnail${Date.now()}`;return v?`${_}.${v}`:_}return null}_getThumbnailState(){let y=this.thumbnailUrl;return y&&(y=this._isOverridden("thumbnailUrl")?y:(0,Ou.ZN)(y,"w","8192")),{thumbnailUrl:y,filename:this._thumbnailFilename}}_restoreThumbnailFromState(y){this.thumbnailUrl=y.thumbnailUrl,this._thumbnailFilename=y.filename}_getAuthoringPropsState(){return{authoringApp:this.authoringApp,authoringAppVersion:this.authoringAppVersion,isAuthoringAppSetByUser:this._isAuthoringAppSetByUser,isAuthoringAppVersionSetByUser:this._isAuthoringAppVersionSetByUser}}_restoreAuthoringPropsFromState(y){y.isAuthoringAppSetByUser?this.authoringApp=y.authoringApp:this._isAuthoringAppSetByUser=!1,y.isAuthoringAppVersionSetByUser?this.authoringAppVersion=y.authoringAppVersion:this._isAuthoringAppVersionSetByUser=!1}static fromJSON(y){const p=y;if(!p)throw new on.Z("webmap:empty-resource","Expected a JSON resource but got nothing");return new this({resourceInfo:p})}};bi.VERSION=Ym,(0,De._)([(0,Be.Cb)({type:rG,json:{write:!0}})],bi.prototype,"applicationProperties",void 0),(0,De._)([(0,Be.Cb)({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],bi.prototype,"authoringApp",null),(0,De._)([(0,ra.c)("authoringApp")],bi.prototype,"writeAuthoringApp",null),(0,De._)([(0,Be.Cb)({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],bi.prototype,"authoringAppVersion",null),(0,De._)([(0,ra.c)("authoringAppVersion")],bi.prototype,"writeAuthoringAppVersion",null),(0,De._)([(0,Be.Cb)({json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],bi.prototype,"basemap",void 0),(0,De._)([(0,Be.Cb)({type:NT,json:{write:{overridePolicy:y=>({enabled:!!(y&&y.length>0),ignoreOrigin:!0})}}})],bi.prototype,"bookmarks",void 0),(0,De._)([(0,Be.Cb)({type:kz,json:{read:{source:"mapFloorInfo"},write:{target:"mapFloorInfo"}}})],bi.prototype,"floorInfo",void 0),(0,De._)([(0,Be.Cb)({type:Jm,nonNullable:!0,json:{read:{source:["background","initialState.viewpoint","mapRangeInfo","spatialReference"]},write:{ignoreOrigin:!0,target:{background:{type:Hm},"initialState.viewpoint":{type:Us.Z},mapRangeInfo:{type:aE},spatialReference:{type:Su.Z}}}}})],bi.prototype,"initialViewProperties",void 0),(0,De._)([(0,kl.r)("initialViewProperties")],bi.prototype,"readInitialViewProperties",null),(0,De._)([(0,ra.c)("initialViewProperties")],bi.prototype,"writeInitialViewProperties",null),(0,De._)([(0,Be.Cb)({json:{read:!1,write:{target:"operationalLayers",ignoreOrigin:!0}}})],bi.prototype,"layers",void 0),(0,De._)([(0,ra.c)("layers")],bi.prototype,"writeLayers",null),(0,De._)([(0,Be.Cb)({type:DT.default})],bi.prototype,"portalItem",void 0),(0,De._)([(0,Be.Cb)({json:{write:!0}})],bi.prototype,"presentation",void 0),(0,De._)([(0,Be.Cb)()],bi.prototype,"resourceInfo",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0,type:Wf,json:{read:{source:"version"},write:{allowNull:!0,ignoreOrigin:!0,target:"version",isRequired:!0}}})],bi.prototype,"sourceVersion",void 0),(0,De._)([(0,kl.r)("sourceVersion")],bi.prototype,"readSourceVersion",null),(0,De._)([(0,ra.c)("sourceVersion")],bi.prototype,"writeSourceVersion",null),(0,De._)([(0,Be.Cb)({json:{read:!1,write:{ignoreOrigin:!0}}})],bi.prototype,"tables",void 0),(0,De._)([(0,ra.c)("tables")],bi.prototype,"writeTables",null),(0,De._)([(0,Be.Cb)()],bi.prototype,"thumbnailUrl",null),(0,De._)([(0,Be.Cb)({type:zz,json:{write:!0}})],bi.prototype,"widgets",void 0),(0,De._)([(0,Be.Cb)({type:aG,json:{read:!0,write:!0}})],bi.prototype,"utilityNetworks",void 0),bi=(0,De._)([(0,Lr.j)("esri.WebMap")],bi);const zT=bi;var Gd=C(88879),GT=C(56354),hG=C(59289),Qm=C(35575),ka=C(72392);const qm={widthBreakpoint:{getValue(y){const p=y.viewSize[0],g=y.breakpoints,v=this.values;return p<=g.xsmall?v.xsmall:p<=g.small?v.small:p<=g.medium?v.medium:p<=g.large?v.large:v.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(y){const p=y.viewSize[1],g=y.breakpoints,v=this.values;return p<=g.xsmall?v.xsmall:p<=g.small?v.small:p<=g.medium?v.medium:p<=g.large?v.large:v.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(y){const p=y.viewSize,_=this.values;return p[1]>=p[0]?_.portrait:_.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},DE={xsmall:544,small:768,medium:992,large:1200};function OE(y,p){return p?qm[y].valueToClassName[p].split(" "):[]}const pG=y=>{let p=class extends y{constructor(...g){super(...g),this._breakpointsHandles=new ka.Z,this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=DE}initialize(){this._breakpointsHandles.add((0,kr.S1)(this,["breakpoints","size"],this._updateClassNames))}destroy(){this.destroyed||(this._removeActiveClassNames(),this._breakpointsHandles.destroy(),this._breakpointsHandles=null)}set breakpoints(g){if(g===this._get("breakpoints"))return;const v=function fG(y){return y&&y.xsmall<y.small&&y.small<y.medium&&y.medium<y.large}(g);if(!v){const _=JSON.stringify(DE,null,2);console.warn("provided breakpoints are not valid, using defaults:"+_)}this._set("breakpoints",Pt({},g=v?g:DE))}_updateClassNames(){if(!this.container)return;const g=Qm.Z.acquire(),v=Qm.Z.acquire();let _,E=!1;for(_ in qm){const w=this[_],D=qm[_].getValue({viewSize:this.size,breakpoints:this.breakpoints});w!==D&&(E=!0,this[_]=D,OE(_,w).forEach(O=>v.push(O)),OE(_,D).forEach(O=>g.push(O)))}E&&(this._applyClassNameChanges(g,v),Qm.Z.release(g),Qm.Z.release(v))}_applyClassNameChanges(g,v){const _=this.container;_&&(v.forEach(E=>_.classList.remove(E)),g.forEach(E=>_.classList.add(E)))}_removeActiveClassNames(){const g=this.container;if(!g)return;let v;for(v in qm)OE(v,this[v]).forEach(_=>g.classList.remove(_))}};return(0,De._)([(0,Be.Cb)()],p.prototype,"breakpoints",null),(0,De._)([(0,Be.Cb)()],p.prototype,"orientation",void 0),(0,De._)([(0,Be.Cb)()],p.prototype,"widthBreakpoint",void 0),(0,De._)([(0,Be.Cb)()],p.prototype,"heightBreakpoint",void 0),p=(0,De._)([(0,Lr.j)("esri.views.BreakpointsOwner")],p),p};var Au=C(40764),vc=C(50618),HT=(C(50645),C(62996)),JT=C(70257);let Ru=class extends di.Z{constructor(){super(...arguments),this.items=new zi.Z,this._watchUpdatingTracking=new JT.t,this._callbacks=new Map,this._projector=(0,HT.E)(),this._hiddenProjector=(0,HT.E)()}get needsRender(){return this.items.length>0}initialize(){const y=document.createElement("div");y.className="esri-overlay-surface",this._set("surface",y),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),y.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(this.items,p=>{for(const g of p.added){const v=()=>g.render();this._callbacks.set(g,v),this._projector.append(this.surface,v)}for(const g of p.removed){const v=this._projector.detach(this._callbacks.get(g));this.surface.removeChild(v.domNode),this._callbacks.delete(g)}})}addItem(y){this.items.add(y)}removeItem(y){this.items.remove(y)}destroy(){this.items.removeAll(),this._callbacks.forEach(y=>this._projector.detach(y)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(y){const p=this._hiddenSurface,g=this._hiddenProjector;let v=null;const _=()=>(v=y.render(),v);g.append(p,_),g.renderNow();const E={left:0,top:0,right:0,bottom:0};if(v&&v.domNode){const w=v.domNode.getBoundingClientRect();E.left=w.left,E.top=w.top,E.right=w.right,E.bottom=w.bottom}for(g.detach(_);p.firstChild;)p.removeChild(p.firstChild);return E}overlaps(y,p){const g=this.computeBoundingRect(y),v=this.computeBoundingRect(p);return Math.max(g.left,v.left)<=Math.min(g.right,v.right)&&Math.max(g.top,v.top)<=Math.min(g.bottom,v.bottom)}get hasVisibleItems(){return this.items.some(y=>y.visible)}renderCanvas(y){if(!this.items.some(g=>g.visible))return;const p=y.getContext("2d");p.save(),p.font=`10px ${getComputedStyle(this.surface).fontFamily}`,this.items.forEach(g=>{p.save(),g.renderCanvas(p),p.restore()}),p.restore()}};(0,De._)([(0,Be.Cb)({readOnly:!0})],Ru.prototype,"surface",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],Ru.prototype,"items",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],Ru.prototype,"needsRender",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],Ru.prototype,"_watchUpdatingTracking",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0,aliasOf:"_watchUpdatingTracking.updating"})],Ru.prototype,"updating",void 0),Ru=(0,De._)([(0,Lr.j)("esri.views.overlay.ViewOverlay")],Ru);const YT=Ru;C(52515);var Hd=C(17770),SE=C(7074),hn=C(83960),ws=C(6785),Zf=C(21286),Jd=C(77275),IE=(C(16730),C(15348));const XT=["B","kB","MB","GB","TB"];var _c=C(80542),gG=C(87183),QT=C(67736),ey=C(88411),qT=C(36630),vG=C(66845),eP=C(46679);const tP=co.Z.getLogger("esri.widgets.Feature.support.featureUtils"),EG=/href=(""|'')/gi,bG=/(\{([^\{\r\n]+)\})/g,CG=/\'/g,rP=/^\s*expression\//i,MG=/(\n)/gi,wG=/[\u00A0-\u9999<>\&]/gim,xG=/href\s*=\s*(?:\"([^\"]+)\"|\'([^\']+)\')/gi,DG=/^(?:mailto:|tel:)/,nP="relationships/",TE=(0,ey.Ze)("short-date-short-time");function iP(y){if(!(0,fr.Wi)(y))return y.get("sourceLayer")||y.get("layer")}function ty(y,p){return PE.apply(this,arguments)}function PE(){return PE=(0,qr.Z)(function*(y,p){return"function"==typeof y?y.call(null,p):y}),PE.apply(this,arguments)}function oP(y=""){if(y)return!DG.test(y.trim().toLowerCase())}function sP(y){return!!y&&rP.test(y)}function aP(y,p){const g=function OG(y,p){if(!sP(p)||!y)return null;const g=p.replace(rP,"").toLowerCase();let v;return y.some(_=>_.name.toLowerCase()===g&&(v=_,!0)),v}(p,null==y?void 0:y.fieldName);return g?g.title||null:y?y.label||y.fieldName:null}function ry(y,p){const g=AE(p,y);return g?g.name:y}function AE(y,p){return y&&"function"==typeof y.getField?y.getField(p):null}function lP(y){return`${y}`.trim()}function Ec({attributes:y,globalAttributes:p,layer:g,text:v,expressionAttributes:_,fieldInfoMap:E}){return v?RE({formattedAttributes:p,template:LG(v,Pt(Pt(Pt({},p),_),y),g),fieldInfoMap:E}):""}function RE({formattedAttributes:y,template:p,fieldInfoMap:g}){return lP(function IG(y){return y.replace(EG,"")}((0,Jd.gx)((0,Jd.gx)(p,v=>function SG(y,p){const g=p.get(y.toLowerCase());return`{${g&&g.fieldName||y}}`}(v,g)),y)))}function LE(y,p){return y.replace(bG,(g,v,_)=>{const E=AE(p,_);return E?`{${E.name}}`:v})}function LG(y,p,g){const v=LE(y,g);return v&&v.replace(xG,(_,E,w)=>function RG(y,p,g){const v=(p=lP(p))&&"{"!==p[0];return(0,Jd.gx)(y,function AG(y,p=!1){const g=Pt({},y);return Object.keys(g).forEach(v=>function PG(y,p,g=!1){const v=p[y];if("string"==typeof v){const _="%27",E=(g?encodeURIComponent(v):v).replace(CG,_);p[y]=E}}(v,g,p)),g}(g,v))}(_,E||w,p))}function uP(y,p){const v=p.fieldName,_=cP(p.fieldInfos,v),E=null==_?void 0:_.clone(),w=p.preventPlacesFormatting,D=p.layer,O=AE(D,v);if(E&&"date"===(null==O?void 0:O.type)){const z=E.format||new vG.Z;z.dateFormat=z.dateFormat||"short-date-short-time",z.dateTimeFormatOptions=function FG(y){return"feature"===(null==y?void 0:y.type)}(D)&&D.datesInUnknownTimezone||function UG(y){return!(null==y||!y.layer)}(D)&&function jG(y){return"map-image"===(null==y?void 0:y.type)}(D.layer)&&D.layer.datesInUnknownTimezone?{timeZone:"UTC"}:null,E.format=z}const L=E&&E.format;return"string"==typeof(y=function NG(y,p){if("string"==typeof y&&p&&null==p.dateFormat&&(null!=p.places||null!=p.digitSeparator)){const g=Number(y);if(!isNaN(g))return g}return y}(y,L))||null==y||null==L?$f(y):w?(0,IE.uf)(y,Xr(Pt({},(0,IE.sh)(L)),{minimumFractionDigits:0,maximumFractionDigits:20})):L.format(y)}function cP(y,p){if(!y||!y.length||!p)return;const g=p.toLowerCase();let v;return y.some(_=>!(!_.fieldName||_.fieldName.toLowerCase()!==g||(v=_,0))),v}function dP(y){const p=[];if(!y)return p;const{fieldInfos:g,content:v}=y;return g&&p.push(...g),v&&Array.isArray(v)&&v.forEach(_=>{if("fields"===_.type){const E=_&&_.fieldInfos;E&&p.push(...E)}}),p}function NE(y){return y.replace(wG,p=>`&#${p.charCodeAt(0)};`)}function $f(y){return"string"==typeof y?y.replace(MG,'<br class="esri-text-new-line" />'):y}function FE({fieldInfos:y,attributes:p,layer:g,graphic:v,fieldInfoMap:_,relatedInfos:E}){const w={};return null==E||E.forEach(D=>function HG(y,p){y&&p&&(p.relatedFeatures&&p.relatedFeatures&&p.relatedFeatures.forEach(g=>hP({attributes:y,graphic:g,relatedInfo:p})),p.relatedStatsFeatures&&p.relatedStatsFeatures&&p.relatedStatsFeatures.forEach(g=>hP({attributes:y,graphic:g,relatedInfo:p})))}(w,D)),Object.keys(p).forEach(D=>{w[D]=function ZG(y){const{value:p,fieldName:g,fieldInfos:v,fieldInfoMap:_,layer:E,graphic:w}=y;if(null==p)return"";const D=function VG({fieldName:y,value:p,graphic:g,layer:v}){if(Zl(y)||!v||"function"!=typeof v.getFieldDomain)return null;const _=v.getFieldDomain(y,{feature:g});return _&&"coded-value"===_.type?_.getName(p):null}({fieldName:g,value:p,graphic:w,layer:E});if(D)return D;const O=function BG({fieldName:y,graphic:p,layer:g}){if(Zl(y)||!g||"function"!=typeof g.getFeatureType)return null;const{typeIdField:v}=g;if(!v||y!==v)return null;const _=g.getFeatureType(p);return _?_.name:null}({fieldName:g,graphic:w,layer:E});if(O)return O;if(_.get(g.toLowerCase()))return uP(p,{fieldInfos:v,fieldName:g,layer:E});const L=E&&E.fieldsIndex;return L&&L.isDateField(g)?(0,ey.p6)(p,TE):$f(p)}({fieldName:D,fieldInfos:y,fieldInfoMap:_,layer:g,value:p[D],graphic:v})}),w}function $G(y,p){return jE.apply(this,arguments)}function jE(){return jE=(0,qr.Z)(function*(y,p){var g,v;const{layer:_,graphic:E,outFields:w,objectIds:D,returnGeometry:O,spatialReference:L}=y,z=D[0];if("number"!=typeof z&&"string"!=typeof z)return tP.warn("Could not query required fields for the specified feature. The feature's ID is invalid.",{layer:_,graphic:E,objectId:z,requiredFields:w}),null;if(null==(g=_.capabilities)||null==(v=g.operations)||!v.supportsQuery)return tP.warn("The specified layer cannot be queried. The following fields will not be available.",{layer:_,graphic:E,requiredFields:w,returnGeometry:O}),null;const se=_.createQuery();return se.objectIds=D,se.outFields=null!=w&&w.length?w:[_.objectIdField],se.returnGeometry=!!O,se.returnZ=!!O,se.returnM=!!O,se.outSpatialReference=L,(yield _.queryFeatures(se,p)).features[0]}),jE.apply(this,arguments)}function KG(y){return UE.apply(this,arguments)}function UE(){return UE=(0,qr.Z)(function*(y){var p;if(null==(p=y.expressionInfos)||!p.length)return!1;const g=yield(0,eP.LC)(),{arcadeUtils:{hasGeometryFunctions:v}}=g;return v(y)}),UE.apply(this,arguments)}function BE(){return BE=(0,qr.Z)(function*({graphic:y,popupTemplate:p,layer:g,spatialReference:v},_){if(!g||!p||("function"==typeof g.load&&(yield g.load(_)),!y.attributes))return;const E=y.attributes[g.objectIdField];if(null==E)return;const w=[E],D=yield p.getRequiredFields(g.fieldsIndex),O=(0,qT.R9)(D,y),L=O?[]:D,z=p.returnGeometry||(yield KG(p));if(O&&!z)return;const se=yield $G({layer:g,graphic:y,outFields:L,objectIds:w,returnGeometry:z,spatialReference:v},_);se&&(se.geometry&&(y.geometry=se.geometry),se.attributes&&(y.attributes=Pt(Pt({},y.attributes),se.attributes)))}),BE.apply(this,arguments)}function Zl(y=""){return!!y&&-1!==y.indexOf(nP)}function hP({attributes:y,graphic:p,relatedInfo:g}){y&&p&&g&&Object.keys(p.attributes).forEach(v=>{const _=function GG(y){return y?`${nP}${y.layerId}/${y.fieldName}`:""}({layerId:g.relation.id.toString(),fieldName:v});y[_]=p.attributes[v]})}const fP=y=>{if(!y)return!1;const p=y.toUpperCase();return p.indexOf("CURRENT_TIMESTAMP")>-1||p.indexOf("CURRENT_DATE")>-1||p.indexOf("CURRENT_TIME")>-1},pP=({layer:y,method:p,query:g,definitionExpression:v})=>{var _,E;if(null==(_=y.capabilities)||null==(E=_.query)||!E.supportsCacheHint||"attachments"===p)return;const w=(0,fr.pC)(g.where)&&g.where,D=(0,fr.pC)(g.geometry)&&g.geometry;fP(v)||fP(w)||"extent"===(null==D?void 0:D.type)||"tile"===g.resultType||(g.cacheHint=!0)},mP={editing:!1,operations:{add:!0,update:!0,delete:!0}},yP=zi.Z.ofType(gG.Z);let Za=class extends _c.r{constructor(y){super(y),this._getAttachmentsPromise=null,this._attachmentLayer=null,this.abilities=Pt({},mP),this.activeAttachmentInfo=null,this.attachmentInfos=new yP,this.graphic=null,this.mode="view",this.handles.add([(0,kr.S1)(this,"graphic",()=>this._graphicChanged())])}destroy(){this._attachmentLayer=null,this.graphic=null}castAbilities(y){return Pt(Pt({},mP),y)}get state(){return this._getAttachmentsPromise?"loading":this.graphic?"ready":"disabled"}get supportsResizeAttachments(){return this.get("graphic.layer.capabilities.operations.supportsResizeAttachments")||!1}getAttachments(){var y=this;return(0,qr.Z)(function*(){const{_attachmentLayer:p,attachmentInfos:g}=y;if(!p||"function"!=typeof p.queryAttachments)throw new on.Z("invalid-layer","getAttachments(): A valid layer is required.");const v=y._getFeatureId(),_=new QT.Z({objectIds:[v],returnMetadata:!0}),E=[],w=p.queryAttachments(_).then(O=>O[v]||E).catch(()=>E);y._getAttachmentsPromise=w,y.notifyChange("state");const D=yield w;return g.removeAll(),D.length&&g.addMany(D),y._getAttachmentsPromise=null,y.notifyChange("state"),D})()}addAttachment(y){var p=this;return(0,qr.Z)(function*(){const{_attachmentLayer:g,attachmentInfos:v,graphic:_,abilities:E}=p;if(!y)throw new on.Z("invalid-attachment","addAttachment(): An attachment is required.",{attachment:y});if(!E.operations.add)throw new on.Z("invalid-abilities","addAttachment(): add abilities are required.");if(!g||"function"!=typeof g.addAttachment)throw new on.Z("invalid-layer","addAttachment(): A valid layer is required.");const w=g.addAttachment(_,y).then(O=>p._queryAttachment(O.objectId)),D=yield w;return v.add(D),D})()}deleteAttachment(y){var p=this;return(0,qr.Z)(function*(){const{_attachmentLayer:g,attachmentInfos:v,graphic:_,abilities:E}=p;if(!y)throw new on.Z("invalid-attachment-info","deleteAttachment(): An attachmentInfo is required.",{attachmentInfo:y});if(!E.operations.delete)throw new on.Z("invalid-abilities","deleteAttachment(): delete abilities are required.");if(!g||"function"!=typeof g.deleteAttachments)throw new on.Z("invalid-layer","deleteAttachment(): A valid layer is required.");const w=g.deleteAttachments(_,[y.id]).then(()=>y),D=yield w;return v.remove(D),D})()}updateAttachment(y,p=this.activeAttachmentInfo){var g=this;return(0,qr.Z)(function*(){const{_attachmentLayer:v,attachmentInfos:_,graphic:E,abilities:w}=g;if(!y)throw new on.Z("invalid-attachment","updateAttachment(): An attachment is required.",{attachment:y});if(!p)throw new on.Z("invalid-attachment-info","updateAttachment(): An attachmentInfo is required.",{attachmentInfo:p});if(!w.operations.update)throw new on.Z("invalid-abilities","updateAttachment(): Update abilities are required.");const D=_.findIndex(z=>z===p);if(!v||"function"!=typeof v.updateAttachment)throw new on.Z("invalid-layer","updateAttachment(): A valid layer is required.");const O=v.updateAttachment(E,p.id,y).then(z=>g._queryAttachment(z.objectId)),L=yield O;return _.splice(D,1,L),L})()}_queryAttachment(y){var p=this;return(0,qr.Z)(function*(){if(!y)throw new on.Z("invalid-attachment-id","Could not query attachment.");const{_attachmentLayer:g}=p,v=p._getFeatureId(),_=new QT.Z({objectIds:[v],attachmentsWhere:`AttachmentId=${y}`,returnMetadata:!0});return g.queryAttachments(_).then(E=>E[v][0])})()}_getFeatureId(){const{_attachmentLayer:y,graphic:p}=this;if(!y||!p)return null;const{objectIdField:g}=y,{attributes:v}=p;return v&&v[g]}_graphicChanged(){this.graphic&&(this._setAttachmentLayer(),this.getAttachments().catch(()=>{}))}_setAttachmentLayer(){const{graphic:y}=this,p=iP(y);this._attachmentLayer=p?"scene"===p.type&&(0,fr.pC)(p.associatedLayer)?p.associatedLayer:p:null}};(0,De._)([(0,Be.Cb)()],Za.prototype,"abilities",void 0),(0,De._)([(0,hl.p)("abilities")],Za.prototype,"castAbilities",null),(0,De._)([(0,Be.Cb)()],Za.prototype,"activeAttachmentInfo",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0,type:yP})],Za.prototype,"attachmentInfos",void 0),(0,De._)([(0,Be.Cb)({type:Gd.Z})],Za.prototype,"graphic",void 0),(0,De._)([(0,Be.Cb)()],Za.prototype,"mode",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],Za.prototype,"state",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],Za.prototype,"supportsResizeAttachments",null),Za=(0,De._)([(0,Lr.j)("esri.widgets.Attachments.AttachmentsViewModel")],Za);const VE=Za;var QG=C(54346),Xo=C(38570),Vs=C(25552),or=C(94450);const gP={addButton:!0,addSubmitButton:!0,cancelAddButton:!0,cancelUpdateButton:!0,deleteButton:!0,errorMessage:!0,progressBar:!0,updateButton:!0},WE=window.CSS;let as=class extends ws.Z{constructor(y,p){super(y,p),this.abilities=null,this.displayType="auto",this.graphic=null,this.label=void 0,this.messages=null,this.messagesUnits=null,this.selectedFile=null,this.submitting=!1,this.viewModel=new VE,this.visibleElements=Pt({},gP),this._supportsImageOrientation=WE&&WE.supports&&WE.supports("image-orientation","from-image"),this._addAttachmentForm=null,this._updateAttachmentForm=null}initialize(){this.own((0,kr.on)(this,"viewModel.attachmentInfos","change",()=>this.scheduleRender()),(0,kr.S1)(this,"viewModel.mode",()=>this._modeChanged()))}get effectiveDisplayType(){return"auto"===this.displayType?this.viewModel.supportsResizeAttachments?"preview":"list":this.displayType}castVisibleElements(y){return Pt(Pt({},gP),y)}addAttachment(){const{_addAttachmentForm:y,viewModel:p}=this;return this._set("submitting",!0),this._set("error",null),p.addAttachment(y).then(g=>(this._set("submitting",!1),this._set("error",null),p.mode="view",g)).catch(g=>{throw this._set("submitting",!1),this._set("error",new on.Z("attachments:add-attachment",this.messages.addErrorMessage,g)),g})}deleteAttachment(y){const{viewModel:p}=this;return this._set("submitting",!0),this._set("error",null),p.deleteAttachment(y).then(g=>(this._set("submitting",!1),this._set("error",null),p.mode="view",g)).catch(g=>{throw this._set("submitting",!1),this._set("error",new on.Z("attachments:delete-attachment",this.messages.deleteErrorMessage,g)),g})}updateAttachment(){const{viewModel:y}=this,{_updateAttachmentForm:p}=this;return this._set("submitting",!0),this._set("error",null),y.updateAttachment(p).then(g=>(this._set("submitting",!1),this._set("error",null),y.mode="view",g)).catch(g=>{throw this._set("submitting",!1),this._set("error",new on.Z("attachments:update-attachment",this.messages.updateErrorMessage,g)),g})}render(){const{submitting:y,viewModel:p}=this,{state:g}=p;return(0,or.u)("div",{class:this.classes("esri-attachments","esri-widget")},y?this.renderProgressBar():null,"loading"===g?this.renderLoading():this.renderAttachments(),this.renderErrorMessage())}renderErrorMessage(){const{error:y,visibleElements:p}=this;return y&&p.errorMessage?(0,or.u)("div",{key:"error-message",class:"esri-attachments__error-message"},y.message):null}renderAttachments(){const{mode:y,activeAttachmentInfo:p}=this.viewModel;return"add"===y?this.renderAddForm():"edit"===y?this.renderDetailsForm(p):this.renderAttachmentContainer()}renderLoading(){return(0,or.u)("div",{class:"esri-attachments__loader-container",key:"loader"},(0,or.u)("div",{class:"esri-attachments__loader"}))}renderProgressBar(){return this.visibleElements.progressBar?(0,or.u)("div",{class:"esri-attachments__progress-bar",key:"progress-bar"}):null}renderAddForm(){const{submitting:y,selectedFile:p}=this,g=y||!p,v=this.visibleElements.cancelAddButton?(0,or.u)("button",{type:"button",bind:this,disabled:y,onclick:this._cancelForm,class:this.classes("esri-button","esri-button--tertiary","esri-button--small","esri-button--half",y&&"esri-button--disabled")},this.messages.cancel):null,_=this.visibleElements.addSubmitButton?(0,or.u)("button",{type:"submit",disabled:g,class:this.classes("esri-button","esri-button--secondary","esri-button--small","esri-button--half",{"esri-button--disabled":g})},this.messages.add):null,E=p?(0,or.u)("span",{key:"file-name",class:"esri-attachments__file-name"},p.name):null,w=(0,or.u)("form",{bind:this,afterCreate:Xo.Se,afterRemoved:Xo.pV,"data-node-ref":"_addAttachmentForm",onsubmit:this._submitAddAttachment},(0,or.u)("fieldset",{class:"esri-attachments__file-fieldset"},E,(0,or.u)("label",{class:this.classes("esri-attachments__file-label","esri-button","esri-button--secondary")},p?this.messages.changeFile:this.messages.selectFile,(0,or.u)("input",{class:"esri-attachments__file-input",type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))),_,v);return(0,or.u)("div",{key:"add-form-container",class:"esri-attachments__form-node"},w)}renderDetailsForm(y){const{visibleElements:p,viewModel:g,selectedFile:v,submitting:_}=this,{contentType:E,size:w,url:D}=y,{abilities:O}=g,L=_||!v,z=O.editing&&O.operations.delete&&p.deleteButton?(0,or.u)("button",{key:"delete-button",type:"button",disabled:_,bind:this,onclick:pt=>this._submitDeleteAttachment(pt,y),class:this.classes("esri-button","esri-button--small","esri-button--tertiary","esri-attachments__delete-button",{"esri-button--disabled":_})},this.messages.delete):null,se=O.editing&&O.operations.update&&p.updateButton?(0,or.u)("button",{disabled:L,key:"update-button",type:"submit",class:this.classes("esri-button","esri-button--small","esri-button--third",{"esri-button--disabled":L})},this.messages.update):null,Ee=this.visibleElements.cancelUpdateButton?(0,or.u)("button",{disabled:_,key:"cancel-button",type:"button",bind:this,onclick:this._cancelForm,class:this.classes("esri-button","esri-button--small","esri-button--tertiary","esri-button--third",{"esri-button--disabled":_})},this.messages.cancel):null,Me=v?(0,or.u)("span",{key:"file-name",class:"esri-attachments__file-name"},v.name):null,Ge=O.editing&&O.operations.update?(0,or.u)("fieldset",{key:"file",class:"esri-attachments__file-fieldset"},Me,(0,or.u)("label",{class:this.classes("esri-attachments__file-label","esri-button","esri-button--secondary")},this.messages.changeFile,(0,or.u)("input",{class:"esri-attachments__file-input",type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))):null,st=(0,or.u)("fieldset",{key:"size",class:"esri-attachments__metadata-fieldset"},(0,or.u)("label",null,function yG(y,p){let g=0===p?0:Math.floor(Math.log(p)/Math.log(1024));g=(0,Zf.uZ)(g,0,XT.length-1);const v=(0,IE.uf)(p/1024**g,{maximumFractionDigits:2});return(0,Jd.gx)(y.units.bytes[XT[g]],{fileSize:v})}(this.messagesUnits,w))),vt=(0,or.u)("fieldset",{key:"content-type",class:"esri-attachments__metadata-fieldset"},(0,or.u)("label",null,E)),Ct=(0,or.u)("form",{bind:this,afterCreate:Xo.Se,afterRemoved:Xo.pV,"data-node-ref":"_updateAttachmentForm",onsubmit:this._submitUpdateAttachment},(0,or.u)("div",{class:"esri-attachments__metadata"},st,vt),Ge,(0,or.u)("div",{class:"esri-attachments__actions"},z,Ee,se));return(0,or.u)("div",{key:"edit-form-container",class:"esri-attachments__form-node"},(0,or.u)("a",{class:"esri-attachments__item-link",href:D,rel:"noreferrer",target:"_blank"},this.renderImageMask({attachmentInfo:y,size:400}),(0,or.u)("div",{class:"esri-attachments__item-link-overlay"},(0,or.u)("span",{class:"esri-attachments__item-link-overlay-icon"},(0,or.u)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},(0,or.u)("path",{d:"M28 13h1v16H3V3h16v1H4v24h24zm-5-9h4.293L15.646 15.638l.707.707L28 4.707V9h1V3h-6z"}),(0,or.u)("path",{fill:"none",d:"M0 0h32v32H0z"}))))),Ct)}renderImageMask({attachmentInfo:y,size:p}){const{supportsResizeAttachments:g}=this.viewModel,{contentType:v,name:_,url:E}=y,w=g&&function qG(y){const p=y.toLowerCase();return"image/bmp"===p||"image/emf"===p||"image/exif"===p||"image/gif"===p||"image/x-icon"===p||"image/jpeg"===p||"image/png"===p||"image/tiff"===p||"image/x-wmf"===p}(v),D=this._getCSSTransform(y,w),O=D?{transform:D,"image-orientation":"none"}:{},L=-1===E.indexOf("?")?"?":"&",z=w?`${E}${L}w=${p}`:function eH(y){const p=(0,QG.V)("esri/themes/base/images/files/");return y?"text/plain"===y?`${p}text-32.svg`:"application/pdf"===y?`${p}pdf-32.svg`:"text/csv"===y?`${p}csv-32.svg`:"application/gpx+xml"===y?`${p}gpx-32.svg`:"application/x-dwf"===y?`${p}cad-32.svg`:"application/postscript"===y||"application/json"===y||"text/xml"===y||"model/vrml"===y?`${p}code-32.svg`:"application/x-zip-compressed"===y||"application/x-7z-compressed"===y||"application/x-gzip"===y||"application/x-tar"===y||"application/x-gtar"===y||"application/x-bzip2"===y||"application/gzip"===y||"application/x-compress"===y||"application/x-apple-diskimage"===y||"application/x-rar-compressed"===y||"application/zip"===y?`${p}zip-32.svg`:-1!==y.indexOf("image/")?`${p}image-32.svg`:-1!==y.indexOf("audio/")?`${p}sound-32.svg`:-1!==y.indexOf("video/")?`${p}video-32.svg`:-1!==y.indexOf("msexcel")||-1!==y.indexOf("ms-excel")||-1!==y.indexOf("spreadsheetml")?`${p}excel-32.svg`:-1!==y.indexOf("msword")||-1!==y.indexOf("ms-word")||-1!==y.indexOf("wordprocessingml")?`${p}word-32.svg`:-1!==y.indexOf("powerpoint")||-1!==y.indexOf("presentationml")?`${p}report-32.svg`:`${p}generic-32.svg`:`${p}generic-32.svg`}(v),Ee={"esri-attachments__image--resizable":g};return(0,or.u)("div",{class:this.classes({"esri-attachments__item-mask--icon":!w},"esri-attachments__item-mask")},(0,or.u)("img",{styles:O,alt:_,src:z,class:this.classes(Ee,"esri-attachments__image")}))}renderAttachmentInfo({attachmentInfo:y,displayType:p}){const{viewModel:g}=this,{abilities:v}=g,{name:_,url:E}=y,w=this.renderImageMask({attachmentInfo:y,size:"list"===p?48:400}),D=v.editing?(0,or.u)("span",{"aria-hidden":"true",class:this.classes("esri-attachments__item-chevron-icon",(0,Xo.dZ)(this.container)?"esri-icon-left":"esri-icon-right")}):null,O=[w,(0,or.u)("label",{class:"esri-attachments__label"},(0,or.u)("span",{class:"esri-attachments__filename"},_||this.messages.noTitle),D)],L=v.editing?(0,or.u)("button",{key:"details-button",bind:this,class:"esri-attachments__item-button",title:this.messages.attachmentDetails,"aria-label":this.messages.attachmentDetails,"data-attachment-info-id":y.id,onclick:()=>this._startEditAttachment(y),type:"button"},O):(0,or.u)("a",{key:"details-link",class:"esri-attachments__item-button",href:E,target:"_blank"},O);return(0,or.u)("li",{class:"esri-attachments__item",key:y},L)}renderAttachmentContainer(){const{effectiveDisplayType:y,viewModel:p,visibleElements:g}=this,{attachmentInfos:v,abilities:_}=p,E=v&&v.length,w={"esri-attachments__container--list":"preview"!==y,"esri-attachments__container--preview":"preview"===y},D=_.editing&&_.operations.add&&g.addButton?(0,or.u)("button",{bind:this,onclick:()=>this._startAddAttachment(),class:this.classes("esri-button","esri-button--tertiary","esri-attachments__add-attachment-button"),type:"button"},(0,or.u)("span",{"aria-hidden":"true",class:this.classes("esri-attachments__item-add-icon","esri-icon-plus")}),this.messages.add):null,O=E?(0,or.u)("ul",{class:"esri-attachments__items"},v.toArray().map(L=>this.renderAttachmentInfo({attachmentInfo:L,displayType:y}))):(0,or.u)("div",{class:"esri-widget__content--empty"},this.messages.noAttachments);return(0,or.u)("div",{key:"attachments-container",class:this.classes("esri-attachments__container",w)},O,D)}_modeChanged(){this._set("error",null),this._set("selectedFile",null)}_handleFileInputChange(y){const p=y.target,g=p&&p.files&&p.files.item(0);this._set("selectedFile",g)}_submitDeleteAttachment(y,p){y.preventDefault(),this.deleteAttachment(p)}_submitAddAttachment(y){y.preventDefault(),this.addAttachment()}_submitUpdateAttachment(y){y.preventDefault(),this.updateAttachment()}_startEditAttachment(y){const{viewModel:p}=this;p.activeAttachmentInfo=y,p.mode="edit"}_startAddAttachment(){this.viewModel.mode="add"}_cancelForm(y){y.preventDefault(),this.viewModel.mode="view"}_getCSSTransform(y,p){const{orientationInfo:g}=y;return!this._supportsImageOrientation&&p&&g?[g.rotation?`rotate(${g.rotation}deg)`:"",g.mirrored?"scaleX(-1)":""].join(" "):""}};(0,De._)([(0,hn.B)("viewModel.abilities")],as.prototype,"abilities",void 0),(0,De._)([(0,Be.Cb)()],as.prototype,"displayType",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],as.prototype,"effectiveDisplayType",null),(0,De._)([(0,hn.B)("viewModel.graphic")],as.prototype,"graphic",void 0),(0,De._)([(0,Be.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],as.prototype,"label",void 0),(0,De._)([(0,Be.Cb)(),(0,Vs.H)("esri/widgets/Attachments/t9n/Attachments")],as.prototype,"messages",void 0),(0,De._)([(0,Be.Cb)(),(0,Vs.H)("esri/core/t9n/Units")],as.prototype,"messagesUnits",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],as.prototype,"selectedFile",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],as.prototype,"submitting",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],as.prototype,"error",void 0),(0,De._)([(0,Be.Cb)({type:VE})],as.prototype,"viewModel",void 0),(0,De._)([(0,Be.Cb)()],as.prototype,"visibleElements",void 0),(0,De._)([(0,hl.p)("visibleElements")],as.prototype,"castVisibleElements",null),as=(0,De._)([(0,Lr.j)("esri.widgets.Attachments")],as);const tH=as;let Kf=class extends VE{constructor(y){super(y),this.description=null,this.title=null}};(0,De._)([(0,Be.Cb)()],Kf.prototype,"description",void 0),(0,De._)([(0,Be.Cb)()],Kf.prototype,"title",void 0),Kf=(0,De._)([(0,Lr.j)("esri.widgets.Feature.FeatureAttachments.FeatureAttachmentsViewModel")],Kf);const kE=Kf;function ZE(y,p){const g=`h${(0,Zf.uZ)(Math.ceil(y.level),1,6)}`;return delete y.level,(0,or.u)(g,Xr(Pt({},y),{class:(0,Xo.Sh)("esri-widget__heading",y.class)}),p)}let Xd=class extends ws.Z{constructor(y,p){super(y,p),this.description=null,this.headingLevel=2,this.title=null}render(){return(0,or.u)("div",{class:"esri-feature-element-info"},this.renderTitle(),this.renderDescription())}renderTitle(){const{title:y}=this;return y?(0,or.u)(ZE,{level:this.headingLevel,class:"esri-feature-element-info__title"},y):null}renderDescription(){const{description:y}=this;return y?(0,or.u)("div",{key:"description",class:"esri-feature-element-info__description"},y):null}};(0,De._)([(0,Be.Cb)()],Xd.prototype,"description",void 0),(0,De._)([(0,Be.Cb)()],Xd.prototype,"headingLevel",void 0),(0,De._)([(0,Be.Cb)()],Xd.prototype,"title",void 0),Xd=(0,De._)([(0,Lr.j)("esri.widgets.Feature.support.FeatureElementInfo")],Xd);const KE=Xd;let vl=class extends ws.Z{constructor(y,p){super(y,p),this._featureElementInfo=null,this.attachmentsWidget=new tH,this.description=null,this.displayType=null,this.graphic=null,this.headingLevel=2,this.title=null,this.viewModel=new kE}initialize(){this._featureElementInfo=new KE,(0,kr.S1)(this,["viewModel.description","viewModel.title","headingLevel"],()=>this._setupFeatureElementInfo()),(0,kr.S1)(this,"viewModel.graphic",y=>this.attachmentsWidget.graphic=y)}destroy(){this.attachmentsWidget.destroy(),this._featureElementInfo.destroy()}render(){var y;const{attachmentsWidget:p}=this;return(0,or.u)("div",{class:"esri-feature-attachments"},null==(y=this._featureElementInfo)?void 0:y.render(),null==p?void 0:p.render())}_setupFeatureElementInfo(){const{description:y,title:p,headingLevel:g}=this;this._featureElementInfo.set({description:y,title:p,headingLevel:g})}};(0,De._)([(0,Be.Cb)({readOnly:!0})],vl.prototype,"attachmentsWidget",void 0),(0,De._)([(0,hn.B)("viewModel.description")],vl.prototype,"description",void 0),(0,De._)([(0,hn.B)("attachmentsWidget.displayType")],vl.prototype,"displayType",void 0),(0,De._)([(0,hn.B)("viewModel.graphic")],vl.prototype,"graphic",void 0),(0,De._)([(0,Be.Cb)()],vl.prototype,"headingLevel",void 0),(0,De._)([(0,hn.B)("viewModel.title")],vl.prototype,"title",void 0),(0,De._)([(0,Be.Cb)({type:kE})],vl.prototype,"viewModel",void 0),vl=(0,De._)([(0,Lr.j)("esri.widgets.Feature.FeatureAttachments")],vl);const iH=vl;let Lu=class extends((0,_c.p)(di.Z)){constructor(y){super(y),this._loadingPromise=null,this.created=null,this.creator=null,this.destroyer=null,this.graphic=null,this.handles.add((0,kr.S1)(this,"creator",p=>{this._destroyContent(),this._createContent(p)}))}destroy(){this._destroyContent()}get state(){return this._loadingPromise?"loading":"ready"}_destroyContent(){const{created:y,graphic:p,destroyer:g}=this;y&&(ty(g,{graphic:p}).catch(()=>null),this._set("created",null))}_createContent(y){var p=this;return(0,qr.Z)(function*(){const{graphic:g}=p,v=ty(y,{graphic:g}).catch(()=>null);p._loadingPromise=v,p.notifyChange("state");const _=yield v;v===p._loadingPromise&&(p._loadingPromise=null,p.notifyChange("state"),p._set("created",_))})()}};(0,De._)([(0,Be.Cb)({readOnly:!0})],Lu.prototype,"created",void 0),(0,De._)([(0,Be.Cb)()],Lu.prototype,"creator",void 0),(0,De._)([(0,Be.Cb)()],Lu.prototype,"destroyer",void 0),(0,De._)([(0,Be.Cb)({type:Gd.Z})],Lu.prototype,"graphic",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],Lu.prototype,"state",null),Lu=(0,De._)([(0,Lr.j)("esri.widgets.Feature.FeatureContent.FeatureContentViewModel")],Lu);const ny=Lu;var zE=C(40669);let Qd=class extends ws.Z{constructor(y,p){super(y,p),this.creator=null,this.graphic=null,this.viewModel=null,this._addTargetToAnchors=g=>{Array.from(g.querySelectorAll("a")).forEach(v=>{oP(v.href)&&!v.hasAttribute("target")&&v.setAttribute("target","_blank")})}}renderLoading(){return(0,or.u)("div",{class:"esri-feature-content__loader-container",key:"loader"},(0,or.u)("div",{class:"esri-feature-content__loader"}))}renderCreated(){var y;const p=null==(y=this.viewModel)?void 0:y.created;return p?p instanceof HTMLElement?(0,or.u)("div",{key:p,bind:p,afterCreate:this._attachToNode}):(0,zE.Qd)(p)?(0,or.u)("div",{key:p},!p.destroyed&&p.render()):(0,or.u)("div",{key:p,innerHTML:p,afterCreate:this._addTargetToAnchors}):null}render(){var y;const p=null==(y=this.viewModel)?void 0:y.state;return(0,or.u)("div",{class:"esri-feature-content"},"loading"===p?this.renderLoading():this.renderCreated())}_attachToNode(y){y.appendChild(this)}};(0,De._)([(0,hn.B)("viewModel.creator")],Qd.prototype,"creator",void 0),(0,De._)([(0,hn.B)("viewModel.graphic")],Qd.prototype,"graphic",void 0),(0,De._)([(0,Be.Cb)({type:ny})],Qd.prototype,"viewModel",void 0),Qd=(0,De._)([(0,Lr.j)("esri.widgets.Feature.FeatureContent")],Qd);const iy=Qd;var oH=C(38439),vP=C(25621);let $l=class extends di.Z{constructor(y){super(y),this.attributes=null,this.expressionInfos=null,this.description=null,this.fieldInfos=null,this.title=null}get formattedFieldInfos(){const{expressionInfos:y,fieldInfos:p}=this,g=[];return null==p||p.forEach(v=>{if(v.hasOwnProperty("visible")&&!v.visible)return;const _=v.clone();_.label=aP(_,y),g.push(_)}),g}};(0,De._)([(0,Be.Cb)()],$l.prototype,"attributes",void 0),(0,De._)([(0,Be.Cb)({type:[oH.Z]})],$l.prototype,"expressionInfos",void 0),(0,De._)([(0,Be.Cb)()],$l.prototype,"description",void 0),(0,De._)([(0,Be.Cb)({type:[vP.Z]})],$l.prototype,"fieldInfos",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],$l.prototype,"formattedFieldInfos",null),(0,De._)([(0,Be.Cb)()],$l.prototype,"title",void 0),$l=(0,De._)([(0,Lr.j)("esri.widgets.Feature.FeatureFields.FeatureFieldsViewModel")],$l);const oy=$l,sH=[{pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,target:"_blank",label:"{messages.view}"},{pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(mailto:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"App Studio Player"},{pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Collector"},{pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Explorer"},{pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Navigator"},{pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Survey123"},{pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Trek2There"},{pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Workforce"},{pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"iForm"},{pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"FlowFinity"},{pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Laserfische"},{pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Microsoft Power Bi"}];let $a=class extends ws.Z{constructor(y,p){super(y,p),this._featureElementInfo=null,this.attributes=null,this.description=null,this.expressionInfos=null,this.fieldInfos=null,this.title=null,this.viewModel=new oy,this.messages=null,this.messagesURIUtils=null}initialize(){this._featureElementInfo=new KE,(0,kr.S1)(this,["viewModel.description","viewModel.title"],()=>this._setupFeatureElementInfo())}destroy(){this._featureElementInfo.destroy()}renderFieldInfo(y,p){const{attributes:g}=this.viewModel,v=y.fieldName,_=y.label||v,E=g?null==g[v]?"":g[v]:"",w=!(!y.format||!y.format.dateFormat),D="number"!=typeof E||w?function lH(y,p){if("string"!=typeof p||!p)return p;const g=function aH(y){let p=null;return sH.some(g=>(g.pattern.test(y)&&(p=g),!!p)),p}(p);if(!g)return p;const v=p.match(g.pattern),E=(0,Jd.gx)((0,Jd.gx)(g.label,{messages:y,hierPart:v&&v[2]}),{appName:g.appName});return p.replace(g.pattern,`<a${g.target?` target="${g.target}"`:""} href="$1"${"_blank"===g.target?' rel="noreferrer"':""}>${E}</a>`)}(this.messagesURIUtils,E):this._forceLTR(E),O={"esri-feature-fields__field-data--date":w};return(0,or.u)("tr",{key:`fields-element-info-row-${v}-${p}`},(0,or.u)("th",{key:`fields-element-info-row-header-${v}-${p}`,class:"esri-feature-fields__field-header",innerHTML:_}),(0,or.u)("td",{key:`fields-element-info-row-data-${v}-${p}`,class:this.classes("esri-feature-fields__field-data",O),innerHTML:D}))}renderFields(){const{formattedFieldInfos:y}=this.viewModel;return null!=y&&y.length?(0,or.u)("table",{class:"esri-widget__table",summary:this.messages.fieldsSummary},(0,or.u)("tbody",null,y.map((p,g)=>this.renderFieldInfo(p,g)))):null}render(){var y;return(0,or.u)("div",{class:"esri-feature-fields"},null==(y=this._featureElementInfo)?void 0:y.render(),this.renderFields())}_setupFeatureElementInfo(){const{description:y,title:p}=this;this._featureElementInfo.set({description:y,title:p})}_forceLTR(y){return`&lrm;${y}`}};(0,De._)([(0,hn.B)("viewModel.attributes")],$a.prototype,"attributes",void 0),(0,De._)([(0,hn.B)("viewModel.description")],$a.prototype,"description",void 0),(0,De._)([(0,hn.B)("viewModel.expressionInfos")],$a.prototype,"expressionInfos",void 0),(0,De._)([(0,hn.B)("viewModel.fieldInfos")],$a.prototype,"fieldInfos",void 0),(0,De._)([(0,hn.B)("viewModel.title")],$a.prototype,"title",void 0),(0,De._)([(0,Be.Cb)({type:oy})],$a.prototype,"viewModel",void 0),(0,De._)([(0,Be.Cb)(),(0,Vs.H)("esri/widgets/Feature/t9n/Feature")],$a.prototype,"messages",void 0),(0,De._)([(0,Be.Cb)(),(0,Vs.H)("esri/widgets/support/t9n/uriUtils")],$a.prototype,"messagesURIUtils",void 0),$a=(0,De._)([(0,Lr.j)("esri.widgets.Feature.FeatureFields")],$a);const _P=$a;var uH=C(77891),HE=C(84952),cH=C(67010),dH=C(60776),hH=C(4728);const EP=co.Z.getLogger("esri.widgets.Feature.support.relatedFeatureUtils"),bP=new Map;function Gf(y){if(!Zl(y))return null;const[p,g]=y.split("/").slice(1);return{layerId:p,fieldName:g}}function mH({originRelationship:y,relationships:p,layerId:g}){let v;return p&&p.some(_=>(`${_.relatedTableId}`===g&&_.id===y.id&&(v=_),!!v)),v}function yH(y,p){const g=p.toLowerCase();for(const v in y)if(v.toLowerCase()===g)return y[v];return null}function _H(y,p,g,v){const _=new cH.Z;return _.outFields=["*"],_.relationshipId="number"==typeof p.id?p.id:parseInt(p.id,10),_.objectIds=[y.attributes[g.objectIdField]],g.queryRelatedFeatures(_,v)}function EH(y,p,g){let v=0;const _=[];for(;v<p.length;)_.push(`${y} IN (${p.slice(v,g+v)})`),v+=g;return _.join(" OR ")}function JE(){return JE=(0,qr.Z)(function*(y,p,g,v){const _=g.layerId.toString(),{layerInfo:E,queryTask:w,relation:D,relatedFields:O,outStatistics:L}=p,z=mH({originRelationship:D,relationships:E.relationships,layerId:_});if(z.relationshipTableId&&z.keyFieldInRelationshipTable){const Ee=(yield _H(y,z,g,v))[y.attributes[g.objectIdField]];if(!Ee)return null;const Me=Ee.features.map(Ge=>Ge.attributes[E.objectIdField]);if((null==L?void 0:L.length)>0&&E.supportsStatistics){const Ge=new HE.Z;Ge.where=EH(E.objectIdField,Me,1e3),Ge.outFields=O,Ge.outStatistics=L;const st={features:Promise.resolve(Ee),statsFeatures:w.execute(Ge)};return(0,Hn.as)(st)}}const se=null==z?void 0:z.keyField;if(se){const Ee=(0,qT.H7)(DH(E.fields,se)),Me=yH(y.attributes,D.keyField),Ge=Ee?`${se}=${Me}`:`${se}='${Me}'`,st=w.execute(new HE.Z({where:Ge,outFields:p.relatedFields}),v),vt=p.outStatistics&&p.outStatistics.length>0&&E.supportsStatistics?w.execute(new HE.Z({where:Ge,outFields:p.relatedFields,outStatistics:p.outStatistics}),v):null,Ct={features:st};return vt&&(Ct.statsFeatures=vt),(0,Hn.as)(Ct)}return null}),JE.apply(this,arguments)}function DH(y,p){if(null!=y){p=p.toLowerCase();for(const g of y)if(g&&g.name.toLowerCase()===p)return g}return null}let Qo=class extends di.Z{constructor(y){super(y),this.activeMediaInfoIndex=0,this.attributes=null,this.description=null,this.fieldInfoMap=null,this.formattedAttributes=null,this.expressionAttributes=null,this.layer=null,this.mediaInfos=null,this.popupTemplate=null,this.relatedInfos=null,this.title=null}get activeMediaInfo(){return this.formattedMediaInfos[this.activeMediaInfoIndex]||null}get formattedMediaInfos(){return this._formatMediaInfos()||[]}get formattedMediaInfoCount(){return this.formattedMediaInfos.length}setActiveMedia(y){this._setContentElementMedia(y)}next(){this._pageContentElementMedia(1)}previous(){this._pageContentElementMedia(-1)}_setContentElementMedia(y){const{formattedMediaInfoCount:p}=this;this.activeMediaInfoIndex=(y+p)%p}_pageContentElementMedia(y){const{activeMediaInfoIndex:p}=this;this._setContentElementMedia(p+y)}_formatMediaInfos(){const{attributes:y,mediaInfos:p,formattedAttributes:g,expressionAttributes:v,fieldInfoMap:_,layer:E}=this;return null==p?void 0:p.map(w=>{const D=null==w?void 0:w.clone();if(!D)return null;if(D.title=Ec({attributes:y,fieldInfoMap:_,globalAttributes:g,expressionAttributes:v,layer:E,text:D.title}),D.caption=Ec({attributes:y,fieldInfoMap:_,globalAttributes:g,expressionAttributes:v,layer:E,text:D.caption}),D.altText=Ec({attributes:y,fieldInfoMap:_,globalAttributes:g,expressionAttributes:v,layer:E,text:D.altText}),"image"===D.type){const{value:O}=D;return this._setImageValue({value:O,formattedAttributes:g,layer:E}),D.value.sourceURL?D:void 0}if("pie-chart"===D.type||"line-chart"===D.type||"column-chart"===D.type||"bar-chart"===D.type){const{value:O}=D;return this._setChartValue({value:O,chartType:D.type,attributes:y,formattedAttributes:g,layer:E}),D}return null}).filter(Boolean)}_setImageValue(y){const{fieldInfoMap:p}=this,{value:g,formattedAttributes:v,layer:_}=y,{linkURL:E,sourceURL:w}=g;if(w){const D=LE(w,_);g.sourceURL=RE({formattedAttributes:v,template:D,fieldInfoMap:p})}if(E){const D=LE(E,_);g.linkURL=RE({formattedAttributes:v,template:D,fieldInfoMap:p})}}_setChartValue(y){const{value:p,attributes:g,formattedAttributes:v,chartType:_,layer:E}=y,{popupTemplate:w,relatedInfos:D}=this,{fields:O,normalizeField:L}=p;if(p.fields=function TG(y,p){return y&&y.map(g=>ry(g,p))}(O,E),L&&(p.normalizeField=ry(L,E)),!O.some(se=>!!(null!=v[se]||Zl(se)&&D.size)))return;const z=null==w?void 0:w.fieldInfos;O.forEach(se=>{if(Zl(se))return void(p.series=[...p.series,...this._getRelatedChartInfos({fieldInfos:z,fieldName:se,formattedAttributes:v,chartType:_,value:p})]);const Ee=this._getChartOption({value:p,attributes:g,chartType:_,formattedAttributes:v,fieldName:se,fieldInfos:z});p.series.push(Ee)})}_getRelatedChartInfos(y){var p;const{fieldInfos:g,fieldName:v,formattedAttributes:_,chartType:E,value:w}=y,D=[],O=Gf(v),{layerId:L,fieldName:z}=O,se=null==(p=this.relatedInfos)?void 0:p.get(L.toString());if(!se)return D;const{relatedFeatures:Ee,relation:Me}=se;if(!Me||!Ee)return D;const{cardinality:Ge}=Me;return Ee.forEach(st=>{const{attributes:vt}=st;vt&&Object.keys(vt).forEach(Ct=>{Ct===z&&D.push(this._getChartOption({value:w,attributes:vt,formattedAttributes:_,fieldName:v,chartType:E,relatedFieldName:Ct,fieldInfos:g}))})}),"one-to-many"===Ge||"many-to-many"===Ge?D:[D[0]]}_getTooltip({label:y,value:p,chartType:g}){return"pie-chart"===g?y:`${y}: ${p}`}_getChartOption(y){var p;const{value:g,attributes:v,formattedAttributes:_,fieldName:E,relatedFieldName:w,fieldInfos:D,chartType:O}=y,{layer:L}=this,{normalizeField:z,tooltipField:se}=g,Ee=z?Zl(z)?v[Gf(z).fieldName]:v[z]:null,Me=w&&void 0!==v[w]?v[w]:void 0!==v[E]?v[E]:_[E],Ge=void 0===Me?null:Me&&Ee?Me/Ee:Me,st=new uH.Z({value:Ge});if(Zl(E)){const zt=Gf(E),ar=Gf(se),Mr=ar?ar.fieldName:null,jr=uP(Ge,{fieldInfos:D,fieldName:w,layer:L,preventPlacesFormatting:!!Ee}),en=zt?zt.label||zt.fieldName:w;return st.tooltip=this._getTooltip({label:Mr&&void 0!==v[Mr]?v[Mr]:en,value:jr,chartType:O}),st}const vt=cP(D,E),Ct=ry(E,L),pt=se&&void 0!==_[se]?_[se]:aP(vt||new vP.Z({fieldName:Ct}),null==(p=this.popupTemplate)?void 0:p.expressionInfos);return st.tooltip=this._getTooltip({label:pt,value:_[Ct],chartType:O}),st}};(0,De._)([(0,Be.Cb)()],Qo.prototype,"activeMediaInfoIndex",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],Qo.prototype,"activeMediaInfo",null),(0,De._)([(0,Be.Cb)()],Qo.prototype,"attributes",void 0),(0,De._)([(0,Be.Cb)()],Qo.prototype,"description",void 0),(0,De._)([(0,Be.Cb)()],Qo.prototype,"fieldInfoMap",void 0),(0,De._)([(0,Be.Cb)()],Qo.prototype,"formattedAttributes",void 0),(0,De._)([(0,Be.Cb)()],Qo.prototype,"expressionAttributes",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],Qo.prototype,"formattedMediaInfos",null),(0,De._)([(0,Be.Cb)()],Qo.prototype,"layer",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],Qo.prototype,"formattedMediaInfoCount",null),(0,De._)([(0,Be.Cb)()],Qo.prototype,"mediaInfos",void 0),(0,De._)([(0,Be.Cb)()],Qo.prototype,"popupTemplate",void 0),(0,De._)([(0,Be.Cb)()],Qo.prototype,"relatedInfos",void 0),(0,De._)([(0,Be.Cb)()],Qo.prototype,"title",void 0),Qo=(0,De._)([(0,Lr.j)("esri.widgets.Feature.FeatureMedia.FeatureMediaViewModel")],Qo);const bc=Qo;var CP=["#ffffff","#858585","#ffbebe","#ffebbe","#ffebaf","#ffffbe","#e9ffbe","#d3ffbe","#beffe8","#bee8ff","#bed2ff","#e8beff","#ffbee8","#ebebeb","#707070","#ff7f7f","#ffa77f","#ffd37f","#ffff73","#d1ff73","#a3ff73","#73ffdf","#73dfff","#73b2ff","#df73ff","#ff73df","#d6d6d6","#5c5c5c","#ff0000","#ff5500","#ffaa00","#ffff00","#aaff00","#55ff00","#00ffc5","#00c5ff","#0070ff","#c500ff","#ff00c5","#c2c2c2","#474747","#e60000","#e64c00","#e69800","#e6e600","#98e600","#4ce600","#00e6a9","#00a9e6","#005ce6","#a900e6","#e600a9","#adadad","#242424","#a80000","#a83800","#a87000","#a8a800","#70a800","#38a800","#00a884","#0084a8","#004da8","#8400a8","#a80084","#999999","#1a1a1a","#730000","#732600","#734c00","#737300","#4c7300","#267300","#00734c","#004c73","#002673","#4c0073","#73004"],SH=[{name:"default",colors:[].concat(CP.slice(30,39),CP.slice(28,30).reverse())},{name:"cat-dark",colors:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99","#6b6bd6","#b54779","#7f7f7f"]},{name:"tropical-bliss",colors:["#fce138","#ff9399","#fcd27e","#f1983c","#a553b7","#b1a9d0","#6ecffc","#4c81cd","#fc6f84","#fc3e5a","#6af689","#48885c"]},{name:"desert-blooms",colors:["#102432","#144d59","#ffc730","#ed9310","#a64f1b","#661510","#d9351a","#b31515","#4a0932","#8c213f","#18382e","#2c6954"]},{name:"under-the-sea",colors:["#bf9727","#607100","#00734c","#704489","#01acca","#024e76","#f09100","#ea311f","#c6004b","#7570b3","#666666","#333333"]},{name:"vibrant-rainbow",colors:["#fffb00","#f5cb11","#9fd40c","#46e39c","#32b8a6","#7ff2fa","#ac08cc","#dd33ff","#eb7200","#e8a784","#bf2e2e","#6c7000"]},{name:"ocean-bay",colors:["#191921","#11495c","#78b1c2","#454f4b","#8f8f82","#9be0c0","#87b051","#f7ec88","#ebdcc1","#dbb658","#c43541","#75351e"]},{name:"prairie-summer",colors:["#332424","#751555","#d47013","#d68989","#211173","#82aad6","#7bfaeb","#6ec9a8","#6b6408","#eada40","#ccc54a","#1fc235"]},{name:"pastel-chalk",colors:["#fffd99","#f5e6a4","#c1d48c","#b8e3d0","#a0b8b5","#cbf7fa","#d791f2","#dfc1eb","#f2b983","#e8c4b2","#bf8e8e","#94995c"]},{name:"seq-yellow-orange-red-bright",colors:["#910000","#b1260b","#c0370f","#e05919","#ef6a1d","#ff7b22","#ffa143","#ffb454","#ffda74","#ffed85"]},{name:"seq-reds-bright",colors:["#57453b","#7b4238","#9f4036","#c23d33","#d7483c","#ec5244","#f3696c","#f9816c","#ffc4ae","#fff0dc"]},{name:"seq-purples-bright",colors:["#4e465c","#5a4a78","#695291","#775baa","#8663c3","#946bdc","#aa89e8","#c1a6f3","#d7c4ff","#e6e1ff"]},{name:"seq-blues-bright",colors:["#404d54","#435c6c","#48799d","#4b88b6","#4d96ce","#50a5e7","#74bbed","#98d0f3","#bce6f9","#e6faff"]},{name:"seq-greens-bright",colors:["#39544c","#386757","#368165","#359b73","#33b581","#4bc392","#64d2a2","#7ce0b3","#cbf6d9","#f4ffea"]},{name:"seq-browns-bright",colors:["#524834","#715b38","#8f6e3c","#ae8140","#cc9444","#eba748","#eeb664","#f0c47f","#f9e0b7","#fff8eb"]}],IH=C(56683);const YE=new Map([["ar",()=>C.e(3309).then(C.bind(C,93309)).then(y=>y.a)],["bg-bg",()=>C.e(2504).then(C.bind(C,82504)).then(y=>y.b)],["bs-ba",()=>C.e(88).then(C.bind(C,88)).then(y=>y.b)],["ca-es",()=>C.e(2371).then(C.bind(C,32371)).then(y=>y.c)],["cs-cz",()=>C.e(3690).then(C.bind(C,93690)).then(y=>y.c)],["da-dk",()=>C.e(2125).then(C.bind(C,42125)).then(y=>y.d)],["de-de",()=>C.e(7396).then(C.bind(C,7396)).then(y=>y.d)],["de-ch",()=>C.e(2479).then(C.bind(C,62479)).then(y=>y.d)],["el-gr",()=>C.e(9548).then(C.bind(C,39548)).then(y=>y.e)],["en-us",()=>C.e(700).then(C.bind(C,20700)).then(y=>y.e)],["en-ca",()=>C.e(7028).then(C.bind(C,37028)).then(y=>y.e)],["es-es",()=>C.e(4824).then(C.bind(C,54824)).then(y=>y.e)],["et-ee",()=>C.e(3914).then(C.bind(C,23914)).then(y=>y.e)],["fi-fi",()=>C.e(1299).then(C.bind(C,1299)).then(y=>y.f)],["fr-fr",()=>C.e(9856).then(C.bind(C,39856)).then(y=>y.f)],["he-il",()=>C.e(4609).then(C.bind(C,24609)).then(y=>y.h)],["hr-hr",()=>C.e(7731).then(C.bind(C,87731)).then(y=>y.h)],["hu-hu",()=>C.e(7127).then(C.bind(C,57127)).then(y=>y.h)],["id-id",()=>C.e(6560).then(C.bind(C,36560)).then(y=>y.i)],["it-it",()=>C.e(7708).then(C.bind(C,67708)).then(y=>y.i)],["ja-jp",()=>C.e(6651).then(C.bind(C,36651)).then(y=>y.j)],["ko-kr",()=>C.e(7016).then(C.bind(C,7016)).then(y=>y.k)],["lt-lt",()=>C.e(5010).then(C.bind(C,5010)).then(y=>y.l)],["lv-lv",()=>C.e(2620).then(C.bind(C,92620)).then(y=>y.l)],["nb-no",()=>C.e(5237).then(C.bind(C,55237)).then(y=>y.n)],["nl-nl",()=>C.e(948).then(C.bind(C,948)).then(y=>y.n)],["pl-pl",()=>C.e(8351).then(C.bind(C,58351)).then(y=>y.p)],["pt-br",()=>C.e(6681).then(C.bind(C,86681)).then(y=>y.p)],["pt-pt",()=>C.e(8110).then(C.bind(C,48110)).then(y=>y.p)],["ro-ro",()=>C.e(8372).then(C.bind(C,78372)).then(y=>y.r)],["ru-ru",()=>C.e(8073).then(C.bind(C,88073)).then(y=>y.r)],["sk-sk",()=>C.e(7419).then(C.bind(C,7419)).then(y=>y.s)],["sl-sl",()=>C.e(1218).then(C.bind(C,11218)).then(y=>y.s)],["sr-rs",()=>C.e(5302).then(C.bind(C,85302)).then(y=>y.s)],["sv-se",()=>C.e(6079).then(C.bind(C,86079)).then(y=>y.s)],["th-th",()=>C.e(5508).then(C.bind(C,55508)).then(y=>y.t)],["tr-tr",()=>C.e(6844).then(C.bind(C,56844)).then(y=>y.t)],["uk-ua",()=>C.e(4978).then(C.bind(C,4978)).then(y=>y.u)],["vi-vn",()=>C.e(9202).then(C.bind(C,29202)).then(y=>y.v)],["zh-cn",()=>C.e(865).then(C.bind(C,70865)).then(y=>y.z)],["zh-hk",()=>C.e(3207).then(C.bind(C,3207)).then(y=>y.z)],["zh-tw",()=>C.e(3207).then(C.bind(C,3207)).then(y=>y.z)]]);function PH(y){return y?YE.has(y.toLowerCase())?y.toLowerCase():function TH(y){const p=y.split("-")[0].toLowerCase();let g=null;for(const v of YE.keys())if(v.startsWith(p)){g=v;break}return g}(y)||"en-us":"en-us"}let qd,Hf;function XE(){return XE=(0,qr.Z)(function*(y=(0,IH.Kd)()){if(y=PH(y),qd&&y===Hf)return qd;qd=C.e(4430).then(C.bind(C,4430)).then(p=>p.i),Hf=y;try{const[p,g]=yield Promise.all([qd,YE.get(Hf)()]);Hf===y&&(p.am4core.options.defaultLocale=g.default),p.am4core.options.suppressWarnings=!0,p.am4core.options.autoDispose=!0}catch(p){return qd=null,Hf=null,null}return qd}),XE.apply(this,arguments)}const Gi_mediaIcon="esri-feature-media__icon";let Ws=class extends ws.Z{constructor(y,p){var g;super(y,p),g=this,this._refreshTimer=null,this._refreshIntervalInfo=null,this._featureElementInfo=null,this.attributes=null,this.activeMediaInfoIndex=null,this.description=null,this.fieldInfoMap=null,this.layer=null,this.mediaInfos=null,this.popupTemplate=null,this.relatedInfos=null,this.title=null,this.viewModel=new bc,this.messages=null,this._getChartDependencies=function(){var v=(0,qr.Z)(function*(_){const E=yield function AH(){return XE.apply(this,arguments)}(),{viewModel:w}=g;if(!w)return;const{activeMediaInfo:D}=w;g._renderChart({chartDiv:_,mediaInfo:D,chartsModule:E})});return function(_){return v.apply(this,arguments)}}()}initialize(){this._featureElementInfo=new KE,this.own((0,kr.S1)(this,["viewModel.activeMediaInfo","viewModel.activeMediaInfoIndex"],()=>this._setupMediaRefreshTimer()),(0,kr.S1)(this,["viewModel.description","viewModel.title"],()=>this._setupFeatureElementInfo()))}destroy(){this._clearMediaRefreshTimer(),this._featureElementInfo.destroy()}render(){var y;return(0,or.u)("div",{bind:this,class:"esri-feature-media",onkeyup:this._handleMediaKeyup},null==(y=this._featureElementInfo)?void 0:y.render(),this.renderMedia())}renderMedia(){const{formattedMediaInfoCount:y}=this.viewModel;return y?(0,or.u)("div",{key:"media-element-container",class:"esri-feature-media__container"},this.renderMediaPageButton("previous"),this.renderMediaInfo(),this.renderMediaPageButton("next")):null}renderImageMediaInfo(y){const{_refreshIntervalInfo:p}=this,{activeMediaInfoIndex:g,formattedMediaInfoCount:v}=this.viewModel,{value:_,refreshInterval:E,altText:w,title:D,type:O}=y,{sourceURL:L,linkURL:z}=_,se=oP(z)?"_blank":"_self",Ee="_blank"===se?"noreferrer":"",Me=E?p:null,vt=(0,or.u)("img",{alt:w||D,key:`media-${O}-${g}-${v}-${Me?Me.timestamp:0}`,src:Me?Me.sourceURL:L});return(z?(0,or.u)("a",{title:D,href:z,rel:Ee,target:se},vt):null)||vt}renderChartMediaInfo(y){const{activeMediaInfoIndex:p,formattedMediaInfoCount:g}=this.viewModel;return(0,or.u)("div",{key:`media-${y.type}-${p}-${g}`,bind:this,class:"esri-feature-media__chart",afterCreate:this._getChartDependencies})}renderMediaInfoType(){const{activeMediaInfo:y}=this.viewModel;return y?"image"===y.type?this.renderImageMediaInfo(y):-1!==y.type.indexOf("chart")?this.renderChartMediaInfo(y):null:null}renderMediaInfo(){const{activeMediaInfo:y}=this.viewModel;if(!y)return null;const p=y.title?(0,or.u)("div",{key:"media-title",class:"esri-feature-media__item-title",innerHTML:y.title}):null,g=y.caption?(0,or.u)("div",{key:"media-caption",class:"esri-feature-media__item-caption",innerHTML:y.caption}):null;return(0,or.u)("div",{key:"media-container",class:"esri-feature-media__item-container"},(0,or.u)("div",{key:"media-item-container",class:"esri-feature-media__item"},this.renderMediaInfoType()),p,g)}renderMediaPageButton(y){if(this.viewModel.formattedMediaInfoCount<2)return null;const p="previous"===y,g=p?this.messages.previous:this.messages.next,v=this.classes("esri-feature-media__button",p?"esri-feature-media__previous":"esri-feature-media__next"),_=p?this.classes(Gi_mediaIcon,"esri-feature-media__previous-icon","esri-icon-left-triangle-arrow"):this.classes(Gi_mediaIcon,"esri-feature-media__next-icon","esri-icon-right-triangle-arrow"),E=p?this.classes(Gi_mediaIcon,"esri-feature-media__previous-icon--rtl","esri-icon-right-triangle-arrow"):this.classes(Gi_mediaIcon,"esri-feature-media__next-icon--rtl","esri-icon-left-triangle-arrow");return(0,or.u)("button",{type:"button",key:p?"media-previous":"media-next",title:g,"aria-label":g,tabIndex:0,class:v,bind:this,onclick:p?this._previous:this._next},(0,or.u)("span",{"aria-hidden":"true",class:_}),(0,or.u)("span",{"aria-hidden":"true",class:E}))}_setupFeatureElementInfo(){const{description:y,title:p}=this;this._featureElementInfo.set({description:y,title:p})}_next(){this.viewModel.next()}_previous(){this.viewModel.previous()}_handleMediaKeyup(y){const p=(0,Hd.kK)(y);"ArrowLeft"===p&&(y.stopPropagation(),this.viewModel.previous()),"ArrowRight"===p&&(y.stopPropagation(),this.viewModel.next())}_renderChart(y){const{chartsModule:p,chartDiv:g,mediaInfo:v}=y,{value:_,type:E}=v,{am4core:w}=p,D=function RH(y,p="default"){const g=SH.find(v=>v.name===p);return g?g.colors.map(v=>y.color(v)):null}(w);(0,Xo.$o)()&&w.useTheme(p.am4themes_dark),w.useTheme(p.am4themes_animated),w.useTheme(function O(z){z instanceof w.ColorSet&&D&&(z.list=D)});const L="pie-chart"===E?this._createPieChart(y):this._createXYChart(y);g.setAttribute("aria-label",v.altText||v.title),L.data=_.series.map(z=>({tooltip:z.tooltip,value:z.value})).filter(z=>"pie-chart"!==E||z.value>0)}_customizeChartTooltip(y,p){y.label.wrap=!0,y.label.maxWidth=200,y.autoTextColor=!1,y.getFillFromObject=!1,y.label.fill=p.color("#ffffff"),y.background.fill=p.color({r:0,g:0,b:0,a:.7})}_createPieChart(y){const{chartDiv:p,chartsModule:g}=y,{am4core:v,am4charts:_}=g,E=v.create(p,_.PieChart);E.rtl=(0,Xo.dZ)(this.container);const w=E.series.push(new _.PieSeries);return w.labels.template.disabled=!0,w.ticks.template.disabled=!0,w.dataFields.value="value",w.dataFields.category="tooltip",this._customizeChartTooltip(w.tooltip,v),E}_getMinSeriesValue(y){let p=0;return y.forEach(g=>p=Math.min(g.value,p)),p}_createColumnChart(y,p){const{chartsModule:g,mediaInfo:v}=p,{value:_}=v,{am4core:E,am4charts:w}=g,D=y.xAxes.push(new w.CategoryAxis);D.dataFields.category="tooltip",D.renderer.labels.template.disabled=!0,this._customizeChartTooltip(D.tooltip,E),D.tooltip.events.on("sizechanged",()=>{D.tooltip.dy=-D.tooltip.contentHeight});const O=y.yAxes.push(new w.ValueAxis),L=O.renderer.labels.template;O.renderer.minLabelPosition=.05,O.renderer.maxLabelPosition=.95,O.min=this._getMinSeriesValue(_.series),this._customizeChartTooltip(O.tooltip,E),L.wrap=!0;const z=y.series.push(new w.ColumnSeries);z.dataFields.valueY="value",z.dataFields.categoryX="tooltip",y.cursor=new w.XYCursor,_.series.length>15&&(y.scrollbarX=new E.Scrollbar)}_createBarChart(y,p){const{chartsModule:g,mediaInfo:v}=p,{value:_}=v,{am4core:E,am4charts:w}=g,D=y.yAxes.push(new w.CategoryAxis);D.dataFields.category="tooltip",D.renderer.inversed=!0,D.renderer.labels.template.disabled=!0,this._customizeChartTooltip(D.tooltip,E),D.tooltip.events.on("sizechanged",()=>{D.tooltip.dx=D.tooltip.contentWidth});const O=y.xAxes.push(new w.ValueAxis),L=O.renderer.labels.template;O.renderer.minLabelPosition=.05,O.renderer.maxLabelPosition=.95,O.min=this._getMinSeriesValue(_.series),this._customizeChartTooltip(O.tooltip,E),L.wrap=!0;const z=y.series.push(new w.ColumnSeries);z.dataFields.valueX="value",z.dataFields.categoryY="tooltip",y.cursor=new w.XYCursor,_.series.length>15&&(y.scrollbarY=new E.Scrollbar)}_createLineChart(y,p){const{chartsModule:g,mediaInfo:v}=p,{value:_}=v,{am4core:E,am4charts:w}=g,D=y.xAxes.push(new w.CategoryAxis);D.dataFields.category="tooltip",D.renderer.labels.template.disabled=!0,this._customizeChartTooltip(D.tooltip,E),D.tooltip.events.on("sizechanged",()=>{D.tooltip.dy=-D.tooltip.contentHeight});const O=y.yAxes.push(new w.ValueAxis),L=O.renderer.labels.template;O.renderer.minLabelPosition=.05,O.renderer.maxLabelPosition=.95,O.min=this._getMinSeriesValue(_.series),this._customizeChartTooltip(O.tooltip,E),L.wrap=!0;const z=y.series.push(new w.LineSeries);z.dataFields.categoryX="tooltip",z.dataFields.valueY="value",y.cursor=new w.XYCursor,_.series.length>15&&(y.scrollbarX=new E.Scrollbar)}_createXYChart(y){const{chartDiv:p,chartsModule:g,mediaInfo:v}=y,{type:_}=v,{am4core:E,am4charts:w}=g,D=E.create(p,w.XYChart);return D.rtl=(0,Xo.dZ)(this.container),"column-chart"===_&&this._createColumnChart(D,y),"bar-chart"===_&&this._createBarChart(D,y),"line-chart"===_&&this._createLineChart(D,y),D}_clearMediaRefreshTimer(){const{_refreshTimer:y}=this;y&&(clearTimeout(y),this._refreshTimer=null)}_updateMediaInfoTimestamp(y){const p=Date.now();this._refreshIntervalInfo={timestamp:p,sourceURL:this._getImageSource(y,p)},this.scheduleRender()}_setupMediaRefreshTimer(){this._clearMediaRefreshTimer();const{activeMediaInfo:y}=this.viewModel;y&&"image"===y.type&&y.refreshInterval&&this._setRefreshTimeout(y)}_setRefreshTimeout(y){const{refreshInterval:p,value:g}=y;if(!p)return;const v=6e4*p;this._updateMediaInfoTimestamp(g.sourceURL);const _=setInterval(()=>{this._updateMediaInfoTimestamp(g.sourceURL)},v);this._refreshTimer=_}_getImageSource(y,p){const g=-1!==y.indexOf("?")?"&":"?",[v,_=""]=y.split("#");return`${v}${g}timestamp=${p}${_?"#":""}${_}`}};(0,De._)([(0,hn.B)("viewModel.attributes")],Ws.prototype,"attributes",void 0),(0,De._)([(0,hn.B)("viewModel.activeMediaInfoIndex")],Ws.prototype,"activeMediaInfoIndex",void 0),(0,De._)([(0,hn.B)("viewModel.description")],Ws.prototype,"description",void 0),(0,De._)([(0,hn.B)("viewModel.fieldInfoMap")],Ws.prototype,"fieldInfoMap",void 0),(0,De._)([(0,hn.B)("viewModel.layer")],Ws.prototype,"layer",void 0),(0,De._)([(0,hn.B)("viewModel.mediaInfos")],Ws.prototype,"mediaInfos",void 0),(0,De._)([(0,hn.B)("viewModel.popupTemplate")],Ws.prototype,"popupTemplate",void 0),(0,De._)([(0,hn.B)("viewModel.relatedInfos")],Ws.prototype,"relatedInfos",void 0),(0,De._)([(0,hn.B)("viewModel.title")],Ws.prototype,"title",void 0),(0,De._)([(0,Be.Cb)({type:bc})],Ws.prototype,"viewModel",void 0),(0,De._)([(0,Be.Cb)(),(0,Vs.H)("esri/widgets/Feature/t9n/Feature")],Ws.prototype,"messages",void 0),Ws=(0,De._)([(0,Lr.j)("esri.widgets.Feature.FeatureMedia")],Ws);const wP=Ws;var LH=C(47562),NH=(C(55664),C(55013),C(16615),C(82561),C(75484)),FH=C(64531),xP=C(501),jH=C(38159),UH=C(15382);const BH=["$datastore","$map","$layer","$aggregatedfeatures"],WH=co.Z.getLogger("esri.widgets.Feature.support.arcadeFeatureUtils");function kH(y){return"string"==typeof y?$f(NE(y)):Array.isArray(y)?function ZH(y){return`<ul class="esri-widget__list">${y.map(p=>`<li>${"string"==typeof p?$f(NE(p)):p}</li>`).join("")}</ul>`}(y):"esri.arcade.Dictionary"===(null==y?void 0:y.declaredClass)?function $H(y){return`<table class="esri-widget__table">${y.keys().map(p=>{const g=y.field(p);return`<tr><th>${p}</th><td>${"string"==typeof g?$f(NE(g)):g}</td></tr>`}).join("")}</table>`}(y):y}function KH({aggregatedFeatures:y,arcadeUtils:p,featureSetVars:g,context:v,viewInfo:_,map:E,graphic:w,interceptor:D}){g.forEach(O=>{const L=O.toLowerCase();if("$map"===L&&(v.vars[L]=p.convertMapToFeatureSetCollection({map:E,spatialReference:_.sr,interceptor:D})),"$layer"===L&&(v.vars[L]=p.convertFeatureLayerToFeatureSet({layer:w.sourceLayer,spatialReference:_.sr,interceptor:D})),"$datastore"===L&&(v.vars[L]=p.convertServiceUrlToWorkspace({url:w.sourceLayer.url,spatialReference:_.sr,interceptor:D})),"$aggregatedfeatures"===L){const se=w.layer,{fields:Ee,objectIdField:Me,geometryType:Ge,spatialReference:st,displayField:vt}=se,Ct=new UH.default(Xr(Pt({fields:Ee,objectIdField:Me,geometryType:Ge,spatialReference:st,displayField:vt},"feature"===se.type?{templates:se.templates,typeIdField:se.typeIdField,types:se.types}:null),{source:y}));v.vars[L]=p.convertFeatureLayerToFeatureSet({layer:Ct,spatialReference:_.sr,interceptor:D})}})}function DP(){return C.e(5068).then(C.bind(C,75068))}function zH(y){return t2.apply(this,arguments)}function t2(){return t2=(0,qr.Z)(function*({graphic:y,view:p}){const{isAggregate:g,layer:v}=y;if(!g||!v||"2d"!==(null==p?void 0:p.type))return[];const _=yield p.whenLayerView(v);if(!_.createQuery||!_.queryFeatures)return[];const E=_.createQuery();E.aggregateIds=[y.getObjectId()];const{features:w}=yield _.queryFeatures(E);return w}),t2.apply(this,arguments)}function OP(y){return r2.apply(this,arguments)}function r2(){return r2=(0,qr.Z)(function*({expressionInfo:y,arcadeUtils:p,interceptor:g,spatialReference:v,map:_,graphic:E,view:w}){if(!y||!y.expression)return null;const D=p.createSyntaxTree(y.expression),O=BH.filter(Me=>p.hasVariable(D,Me)),[L]=yield(0,Hn.$6)([zH({graphic:E,view:w}),p.loadScriptDependencies(D,!0,O)]),z=p.getViewInfo({spatialReference:v}),se=p.createExecContext(E,z);se.interceptor=g,se.useAsync=!0,KH({aggregatedFeatures:L,arcadeUtils:p,featureSetVars:O,context:se,viewInfo:z,map:_,graphic:E,interceptor:g});const Ee=p.createFunction(D,se);return p.executeAsyncFunction(Ee,se).catch(Me=>WH.error("arcade-execution-error",{error:Me,graphic:E,expressionInfo:y}))}),r2.apply(this,arguments)}function GH(y){return n2.apply(this,arguments)}function n2(){return n2=(0,qr.Z)(function*({expressionInfos:y,spatialReference:p,graphic:g,interceptor:v,map:_,view:E}){if(!y||!y.length)return{};const w=yield DP(),D={};for(const z of y)D[`expression/${z.name}`]=OP({expressionInfo:z,arcadeUtils:w,interceptor:v,spatialReference:p,map:_,graphic:g,view:E});const O=yield(0,Hn.as)(D),L={};for(const z in O)L[z]=kH(O[z].value);return L}),n2.apply(this,arguments)}let na=class extends((0,_c.p)(di.Z)){constructor(y){var p;super(y),p=this,this._abortController=null,this.expressionInfo=null,this.graphic=null,this.contentElement=null,this.contentElementViewModel=null,this.interceptor=null,this.view=null,this._cancelQuery=()=>{const{_abortController:g}=this;g&&g.abort(),this._abortController=null},this._createVM=()=>{var g,v;const _=null==(g=this.contentElement)?void 0:g.type;null==(v=this.contentElementViewModel)||v.destroy();const E="fields"===_?new oy:"media"===_?new bc:"text"===_?new ny:null;this._set("contentElementViewModel",E)},this._compile=(0,qr.Z)(function*(){p._cancelQuery();const g=new AbortController;p._abortController=g,yield p._compileExpression(),p._abortController===g&&(p._abortController=null)}),this._compileThrottled=(0,SE.P)(this._compile,1,this),this._compileExpression=(0,qr.Z)(function*(){const{expressionInfo:g,graphic:v,interceptor:_,spatialReference:E,map:w,view:D,_abortController:O}=p;if(!(g&&v&&E&&w&&D))return void p._set("contentElement",null);const L=yield DP();if(O!==p._abortController)return;const z=yield OP({arcadeUtils:L,expressionInfo:g,graphic:v,interceptor:_,map:w,spatialReference:E,view:D});if(!z||"esri.arcade.Dictionary"!==z.declaredClass)return void p._set("contentElement",null);const se=yield(0,LH.w)(z,O.signal),Ee=null==se?void 0:se.type,Me="media"===Ee?FH.Z.fromJSON(se):"text"===Ee?xP.Z.fromJSON(se):"fields"===Ee?NH.Z.fromJSON(se):null;p._set("contentElement",Me)}),this.handles.add([(0,kr.S1)(this,["expressionInfo","graphic","map","spatialReference","view"],this._compileThrottled),(0,kr.S1)(this,"contentElement",this._createVM)])}destroy(){var y;this._cancelQuery(),null==(y=this.contentElementViewModel)||y.destroy(),this._set("contentElementViewModel",null),this._set("contentElement",null)}get spatialReference(){var y;return(null==(y=this.view)?void 0:y.spatialReference)||null}set spatialReference(y){void 0!==y?this._override("spatialReference",y):this._clearOverride("spatialReference")}get state(){const{_abortController:y,contentElement:p,contentElementViewModel:g}=this;return y?"loading":p||g?"ready":"disabled"}get map(){var y;return(null==(y=this.view)?void 0:y.map)||null}set map(y){void 0!==y?this._override("map",y):this._clearOverride("map")}};(0,De._)([(0,Be.Cb)()],na.prototype,"_abortController",void 0),(0,De._)([(0,Be.Cb)({type:jH.Z})],na.prototype,"expressionInfo",void 0),(0,De._)([(0,Be.Cb)({type:Gd.Z})],na.prototype,"graphic",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],na.prototype,"contentElement",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],na.prototype,"contentElementViewModel",void 0),(0,De._)([(0,Be.Cb)()],na.prototype,"interceptor",void 0),(0,De._)([(0,Be.Cb)()],na.prototype,"spatialReference",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],na.prototype,"state",null),(0,De._)([(0,Be.Cb)()],na.prototype,"map",null),(0,De._)([(0,Be.Cb)()],na.prototype,"view",void 0),na=(0,De._)([(0,Lr.j)("esri.widgets.Feature.FeatureExpression.FeatureExpressionViewModel")],na);const i2=na;let ay=class extends ws.Z{constructor(y,p){super(y,p),this.viewModel=new i2}initialize(){(0,kr.S1)(this,"viewModel.contentElementViewModel",()=>this._setupExpressionWidget())}destroy(){var y;null==(y=this._contentWidget)||y.destroy(),this._contentWidget=null}renderLoading(){return(0,or.u)("div",{key:"loading-container",class:"esri-feature__loading-container"},(0,or.u)("span",{class:this.classes("esri-icon-loading-indicator esri-rotating","esri-feature__loading-spinner")}))}render(){var y;const{state:p}=this.viewModel;return(0,or.u)("div",{class:"esri-feature-expression"},"loading"===p?this.renderLoading():"disabled"===p?null:null==(y=this._contentWidget)?void 0:y.render())}_setupExpressionWidget(){var y;const{contentElementViewModel:p,contentElement:g}=this.viewModel,v=null==g?void 0:g.type;null==(y=this._contentWidget)||y.destroy(),this._contentWidget=null;const _=p?"fields"===v?new _P({viewModel:p}):"media"===v?new wP({viewModel:p}):"text"===v?new iy({viewModel:p}):null:null;this._contentWidget=_,this.scheduleRender()}};(0,De._)([(0,Be.Cb)({type:i2})],ay.prototype,"viewModel",void 0),ay=(0,De._)([(0,Lr.j)("esri.widgets.Feature.FeatureExpression")],ay);const JH=ay;var ly;const SP="content-view-models",IP="esri.widgets.FeatureViewModel",QH=co.Z.getLogger(IP),TP={attachmentsContent:!0,customContent:!0,expressionContent:!0,fieldsContent:!0,mediaContent:!0,textContent:!0};let Zi=ly=class extends di.Z{constructor(y){super(y),this._handles=new ka.Z,this._error=null,this._featureAbortController=null,this.graphicChangedThrottled=(0,SE.P)(this.graphicChanged,1,this),this._expressionAttributes=null,this._graphicExpressionAttributes=null,this.abilities=Pt({},TP),this.content=null,this.contentViewModels=[],this.defaultPopupTemplateEnabled=!1,this.formattedAttributes=null,this.lastEditInfo=null,this.relatedInfos=new Map,this.title="",this.view=null,this._isAllowedContentType=p=>{const{abilities:g}=this;return"attachments"===p.type&&g.attachmentsContent||"custom"===p.type&&g.customContent||"fields"===p.type&&g.fieldsContent||"media"===p.type&&g.mediaContent||"text"===p.type&&g.textContent||"expression"===p.type&&g.expressionContent},this._handles.add((0,kr.S1)(this,["graphic","_effectivePopupTemplate","abilities"],()=>this.graphicChangedThrottled()))}destroy(){this._clear(),this._cancelFeatureQuery(),this._error=null,this._handles.destroy(),this._handles=null,this.graphic=null,this._destroyContentViewModels(),this.relatedInfos.clear()}get _effectivePopupTemplate(){return(0,fr.pC)(this.graphic)?this.graphic.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled):null}get _fieldInfoMap(){return function kG(y,p){const g=new Map;return y&&y.forEach(v=>{const _=ry(v.fieldName,p);v.fieldName=_,g.set(_.toLowerCase(),v)}),g}(dP(this._effectivePopupTemplate),this._sourceLayer)}get _sourceLayer(){return iP(this.graphic)}castAbilities(y){return Pt(Pt({},TP),y)}get state(){return this.graphic?this._error?"error":this.waitingForContent?"loading":"ready":"disabled"}set graphic(y){this._set("graphic",y?y.clone():null)}get spatialReference(){return this.get("view.spatialReference")||null}set spatialReference(y){void 0!==y?this._override("spatialReference",y):this._clearOverride("spatialReference")}get map(){return this.get("view.map")||null}set map(y){void 0!==y?this._override("map",y):this._clearOverride("map")}get waitingForContent(){return!!this._featureAbortController}setActiveMedia(y,p){const g=this.contentViewModels[y];g instanceof bc&&g.setActiveMedia(p)}nextMedia(y){const p=this.contentViewModels[y];p instanceof bc&&p.next()}previousMedia(y){const p=this.contentViewModels[y];p instanceof bc&&p.previous()}_clear(){this._set("title",""),this._set("content",null),this._set("formattedAttributes",null)}graphicChanged(){var y=this;return(0,qr.Z)(function*(){y._cancelFeatureQuery(),y._error=null,y._clear();const{graphic:p}=y;if(!p)return;const g=new AbortController;y._featureAbortController=g;try{yield y._queryFeature({signal:g.signal})}catch(v){(0,Hn.D_)(v)||(y._error=v,QH.error("error","The popupTemplate could not be displayed for this feature.",{error:v,graphic:p,popupTemplate:y._effectivePopupTemplate}))}y._featureAbortController===g&&(y._featureAbortController=null)})()}_cancelFeatureQuery(){const{_featureAbortController:y}=this;y&&y.abort(),this._featureAbortController=null}_compileContentElement(y,p){return"attachments"===y.type?this._compileAttachments(y,p):"custom"===y.type?this._compileCustom(y,p):"fields"===y.type?this._compileFields(y,p):"media"===y.type?this._compileMedia(y,p):"text"===y.type?this._compileText(y,p):"expression"===y.type?this._compileExpression(y,p):void 0}_compileContent(y){if(this._destroyContentViewModels(),this.graphic)return Array.isArray(y)?y.filter(this._isAllowedContentType).map((p,g)=>this._compileContentElement(p,g)):"string"==typeof y?this._compileText(new xP.Z({text:y}),0).text:y}_destroyContentViewModels(){var y;null==(y=this._handles)||y.remove(SP),this.contentViewModels.forEach(p=>p&&!p.destroyed&&p.destroy()),this._set("contentViewModels",[])}_setExpressionContentVM(y,p){const{formattedAttributes:g}=this,{contentElement:v,contentElementViewModel:_}=y,E=null==v?void 0:v.type;_&&E&&("fields"===E&&(this._createFieldsFormattedAttributes({contentElement:v,contentElementIndex:p,formattedAttributes:g}),_.set(this._createFieldsVMParams(v,p))),"media"===E&&(this._createMediaFormattedAttributes({contentElement:v,contentElementIndex:p,formattedAttributes:g}),_.set(this._createMediaVMParams(v,p))),"text"===E&&_.set(this._createTextVMParams(v)))}_compileExpression(y,p){const{expressionInfo:g}=y,{graphic:v,map:_,spatialReference:E,view:w}=this,D=new i2({expressionInfo:g,graphic:v,interceptor:ly.interceptor,map:_,spatialReference:E,view:w});return this.contentViewModels[p]=D,this._handles.add((0,kr.S1)(D,"contentElementViewModel",()=>this._setExpressionContentVM(D,p)),SP),y}_compileAttachments(y,p){const{graphic:g}=this,{description:v,title:_}=y;return this.contentViewModels[p]=new kE(Pt({graphic:g},this._compileTitleAndDesc({title:_,description:v}))),y}_compileCustom(y,p){const{graphic:g}=this,{creator:v,destroyer:_}=y;return this.contentViewModels[p]=new ny({graphic:g,creator:v,destroyer:_}),y}_compileTitleAndDesc({title:y,description:p}){const{_fieldInfoMap:g,_sourceLayer:v,graphic:_,formattedAttributes:E,_expressionAttributes:w}=this,{attributes:D}=_,O=E.global;return{title:Ec({attributes:D,fieldInfoMap:g,globalAttributes:O,expressionAttributes:w,layer:v,text:y}),description:Ec({attributes:D,fieldInfoMap:g,globalAttributes:O,expressionAttributes:w,layer:v,text:p})}}_createFieldsVMParams(y,p){const{_effectivePopupTemplate:g,formattedAttributes:v}=this,_=Pt(Pt({},v.global),v.content[p]),E=(null==y?void 0:y.fieldInfos)||(null==g?void 0:g.fieldInfos),w=null==E?void 0:E.filter(({fieldName:z})=>sP(z)||Zl(z)||_.hasOwnProperty(z)),D=null==g?void 0:g.expressionInfos,{description:O,title:L}=y;return Pt({attributes:_,expressionInfos:D,fieldInfos:w},this._compileTitleAndDesc({title:L,description:O}))}_compileFields(y,p){const g=y.clone(),v=new oy(this._createFieldsVMParams(y,p));return this.contentViewModels[p]=v,g.fieldInfos=v.formattedFieldInfos.slice(0),g}_createMediaVMParams(y,p){const{graphic:g,_fieldInfoMap:v,formattedAttributes:_,_effectivePopupTemplate:E,relatedInfos:w,_sourceLayer:D,_expressionAttributes:O}=this,{attributes:L}=g,{description:z,mediaInfos:se,title:Ee}=y;return Pt({activeMediaInfoIndex:y.activeMediaInfoIndex||0,attributes:L,layer:D,fieldInfoMap:v,formattedAttributes:Pt(Pt({},_.global),_.content[p]),expressionAttributes:O,mediaInfos:se,popupTemplate:E,relatedInfos:w},this._compileTitleAndDesc({title:Ee,description:z}))}_compileMedia(y,p){const g=y.clone(),v=new bc(this._createMediaVMParams(y,p));return g.mediaInfos=v.formattedMediaInfos.slice(0),this.contentViewModels[p]=v,g}_createTextVMParams(y){const{graphic:p,_fieldInfoMap:g,_sourceLayer:v,_expressionAttributes:_}=this;if(y&&y.text){const{attributes:E}=p;y.text=Ec({attributes:E,fieldInfoMap:g,globalAttributes:this.formattedAttributes.global,expressionAttributes:_,layer:v,text:y.text})}return{graphic:p,creator:y.text}}_compileText(y,p){const g=y.clone();return this.contentViewModels[p]=new ny(this._createTextVMParams(g)),g}_compileLastEditInfo(){const{_effectivePopupTemplate:y,_sourceLayer:p,graphic:g}=this;if(!y)return;const{lastEditInfoEnabled:v}=y,_=null==p?void 0:p.editFieldsInfo;return v&&_?function WG(y,p){const{creatorField:g,creationDateField:v,editorField:_,editDateField:E}=y;if(!p)return;const w=p[E];if("number"==typeof w){const O=p[_];return{type:"edit",date:(0,ey.p6)(w,TE),user:O}}const D=p[v];if("number"==typeof D){const O=p[g];return{type:"create",date:(0,ey.p6)(D,TE),user:O}}return null}(_,g.attributes):void 0}_compileTitle(y){const{_fieldInfoMap:p,_sourceLayer:g,graphic:v,_expressionAttributes:_}=this,{attributes:E}=v;return Ec({attributes:E,fieldInfoMap:p,globalAttributes:this.formattedAttributes.global,expressionAttributes:_,layer:g,text:y})}_getTitle(){var y=this;return(0,qr.Z)(function*(){const{_effectivePopupTemplate:p,graphic:g}=y;return ty(null==p?void 0:p.title,{graphic:g})})()}_getContent(){var y=this;return(0,qr.Z)(function*(){const{_effectivePopupTemplate:p,graphic:g}=y;return ty(null==p?void 0:p.content,{graphic:g})})()}_queryFeature(y){var p=this;return(0,qr.Z)(function*(){const{_featureAbortController:g,_sourceLayer:v,graphic:_,_effectivePopupTemplate:E,spatialReference:w,map:D,view:O}=p,{content:{value:L},title:{value:z}}=yield(0,Hn.as)({content:p._getContent(),title:p._getTitle()});if(g!==p._featureAbortController||!_)return;yield function zG(y,p){return BE.apply(this,arguments)}({graphic:_,popupTemplate:E,layer:v,spatialReference:w},y);const{expressionAttributes:{value:se}}=yield(0,Hn.as)({checkForRelatedFeatures:p._checkForRelatedFeatures(y),expressionAttributes:GH({expressionInfos:null==E?void 0:E.expressionInfos,spatialReference:w,graphic:_,map:D,interceptor:ly.interceptor,view:O})});g===p._featureAbortController&&_&&(p._expressionAttributes=se,p._graphicExpressionAttributes=Pt(Pt({},_.attributes),se),p._set("formattedAttributes",p._createFormattedAttributes(L)),p._set("title",p._compileTitle(z)),p._set("lastEditInfo",p._compileLastEditInfo()||null),p._set("content",p._compileContent(L)||null))})()}_createMediaFormattedAttributes({contentElement:y,contentElementIndex:p,formattedAttributes:g}){const{_effectivePopupTemplate:v,graphic:_,relatedInfos:E,_sourceLayer:w,_fieldInfoMap:D,_graphicExpressionAttributes:O}=this;g.content[p]=FE({fieldInfos:null==v?void 0:v.fieldInfos,graphic:_,attributes:Pt(Pt({},O),y.attributes),layer:w,fieldInfoMap:D,relatedInfos:E})}_createFieldsFormattedAttributes({contentElement:y,contentElementIndex:p,formattedAttributes:g}){if(y.fieldInfos){const{graphic:v,relatedInfos:_,_sourceLayer:E,_fieldInfoMap:w,_graphicExpressionAttributes:D}=this;g.content[p]=FE({fieldInfos:y.fieldInfos,graphic:v,attributes:Pt(Pt({},D),y.attributes),layer:E,fieldInfoMap:w,relatedInfos:_})}}_createFormattedAttributes(y){const{_effectivePopupTemplate:p,graphic:g,relatedInfos:v,_sourceLayer:_,_fieldInfoMap:E,_graphicExpressionAttributes:w}=this,O={global:FE({fieldInfos:null==p?void 0:p.fieldInfos,graphic:g,attributes:w,layer:_,fieldInfoMap:E,relatedInfos:v}),content:[]};return Array.isArray(y)&&y.forEach((L,z)=>{"fields"===L.type&&this._createFieldsFormattedAttributes({contentElement:L,contentElementIndex:z,formattedAttributes:O}),"media"===L.type&&this._createMediaFormattedAttributes({contentElement:L,contentElementIndex:z,formattedAttributes:O})}),O}_checkForRelatedFeatures(y){const{graphic:p,_effectivePopupTemplate:g}=this;return this._queryRelatedInfos(p,dP(g),y)}_queryRelatedInfos(y,p,g){var v=this;return(0,qr.Z)(function*(){const{relatedInfos:_,_sourceLayer:E}=v;_.clear();const w=(0,fr.pC)(E.associatedLayer)?yield E.associatedLayer.load(g):E;if(!w)return;const D=p.filter(z=>z&&Zl(z.fieldName));if(!D||!D.length)return;p.forEach(z=>v._configureRelatedInfo(z,w));const O=yield function MH({relatedInfos:y,layer:p},g){const v={};return y.forEach((_,E)=>{const{relation:w}=_;if(!w){const se=new on.Z("relation-required","A relation is required on a layer to retrieve related records.");throw EP.error(se),se}const{relatedTableId:D}=w;if("number"!=typeof D){const se=new on.Z("A related table ID is required on a layer to retrieve related records.");throw EP.error(se),se}const O=`${p.url}/${D}`,L=bP.get(O),z=L||function CH(y,p){return(0,Bm.default)(y,{query:{f:"json"},signal:p&&p.signal})}(O,g);L||bP.set(O,z),v[E]=z}),(0,Hn.as)(v)}({relatedInfos:_,layer:w},g);Object.keys(O).forEach(z=>{var se;const Ee=_.get(z.toString()),Me=null==(se=O[z])?void 0:se.value;Ee&&Me&&(Ee.layerInfo=Me.data)});const L=yield function wH({graphic:y,relatedInfos:p,layer:g},v){const _={};return p.forEach((E,w)=>{E.layerInfo&&(_[w]=function bH(y,p,g,v){return JE.apply(this,arguments)}(y,E,g,v))}),(0,Hn.as)(_)}({graphic:y,relatedInfos:_,layer:w},g);Object.keys(L).forEach(z=>{var se;!function vH(y,p){if(!p||!y)return;const{features:g,statsFeatures:v}=y,_=g&&g.value;p.relatedFeatures=_?_.features:[];const E=v&&v.value;p.relatedStatsFeatures=E?E.features:[]}(null==(se=L[z])?void 0:se.value,_.get(z.toString()))})})()}_configureRelatedInfo(y,p){const{relatedInfos:g}=this,v=Gf(y.fieldName);if(!v)return;const{layerId:_,fieldName:E}=v;if(!_)return;const w=g.get(_.toString())||function gH(y,p){const g=function pH(y,p){if(!p.relationships)return null;let g=null;const{relationships:v}=p;return v.some(_=>_.id===parseInt(y,10)&&(g=_,!0)),g}(y,p);if(!g)return;const v=`${p.url}/${g.relatedTableId}`;return{url:v,queryTask:new hH.Z({url:v,sourceSpatialReference:p.spatialReference}),relation:g,relatedFields:[],outStatistics:[]}}(_,p);w&&(function xH({relatedInfo:y,fieldName:p,fieldInfo:g}){if(y.relatedFields.push(p),g.statisticType){const v=new dH.Z({statisticType:g.statisticType,onStatisticField:p,outStatisticFieldName:p});y.outStatistics.push(v)}}({relatedInfo:w,fieldName:E,fieldInfo:y}),this.relatedInfos.set(_,w))}};Zi.interceptor=new class YH{constructor(p,g){this.preLayerQueryCallback=p,this.preRequestCallback=g,this.preLayerQueryCallback||(this.preLayerQueryCallback=v=>{}),this.preRequestCallback||(this.preLayerQueryCallback=v=>{})}}(({query:y,layer:p,method:g})=>{pP({layer:p,method:g,query:y,definitionExpression:`${p.definitionExpression} ${p.serviceDefinitionExpression}`})},({queryPayload:y,layer:p,method:g})=>{pP({layer:p,method:g,query:y,definitionExpression:`${p.definitionExpression} ${p.serviceDefinitionExpression}`})}),(0,De._)([(0,Be.Cb)()],Zi.prototype,"_error",void 0),(0,De._)([(0,Be.Cb)()],Zi.prototype,"_featureAbortController",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],Zi.prototype,"_effectivePopupTemplate",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],Zi.prototype,"_fieldInfoMap",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],Zi.prototype,"_sourceLayer",null),(0,De._)([(0,Be.Cb)()],Zi.prototype,"abilities",void 0),(0,De._)([(0,hl.p)("abilities")],Zi.prototype,"castAbilities",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],Zi.prototype,"content",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],Zi.prototype,"contentViewModels",void 0),(0,De._)([(0,Be.Cb)({type:Boolean})],Zi.prototype,"defaultPopupTemplateEnabled",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],Zi.prototype,"state",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],Zi.prototype,"formattedAttributes",void 0),(0,De._)([(0,Be.Cb)({type:Gd.Z,value:null})],Zi.prototype,"graphic",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],Zi.prototype,"lastEditInfo",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],Zi.prototype,"relatedInfos",void 0),(0,De._)([(0,Be.Cb)()],Zi.prototype,"spatialReference",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],Zi.prototype,"title",void 0),(0,De._)([(0,Be.Cb)()],Zi.prototype,"map",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],Zi.prototype,"waitingForContent",null),(0,De._)([(0,Be.Cb)()],Zi.prototype,"view",void 0),Zi=ly=(0,De._)([(0,Lr.j)(IP)],Zi);const o2=Zi,PP=y=>{let p=class extends y{constructor(){super(...arguments),this.renderNodeContent=g=>(0,zE.Qd)(g)&&!g.destroyed?(0,or.u)("div",{key:g},g.render()):g instanceof HTMLElement?(0,or.u)("div",{key:g,bind:g,afterCreate:this._attachToNode}):(0,zE.o)(g)?(0,or.u)("div",{key:g,bind:g.domNode,afterCreate:this._attachToNode}):null}_attachToNode(g){g.appendChild(this)}};return p=(0,De._)([(0,Lr.j)("esri.widgets.Feature.ContentMixin")],p),p};var Kl=C(97059);const qo_contentElement="esri-feature__content-element",AP={title:!0,content:!0,lastEditedInfo:!0};let es=class extends(PP(ws.Z)){constructor(y,p){super(y,p),this._contentWidgets=[],this.graphic=null,this.defaultPopupTemplateEnabled=!1,this.headingLevel=2,this.label=void 0,this.messages=null,this.messagesCommon=null,this.messagesURIUtils=null,this.spatialReference=null,this.title=null,this.visibleElements=Pt({},AP),this.map=null,this.view=null,this.viewModel=new o2}initialize(){this.own((0,kr.S1)(this,"viewModel.contentViewModels",()=>this._setupContentWidgets()))}loadDependencies(){return C.e(953).then(C.bind(C,20953))}destroy(){this._destroyContentWidgets()}castVisibleElements(y){return Pt(Pt({},AP),y)}render(){const{state:y}=this.viewModel,p=(0,or.u)("div",{class:"esri-feature__size-container",key:"container"},this.renderTitle(),"error"===y?this.renderError():"loading"===y?this.renderLoading():this.renderContentContainer());return(0,or.u)("div",{class:this.classes("esri-feature","esri-widget")},p)}setActiveMedia(y,p){this.viewModel.setActiveMedia(y,p)}nextMedia(y){this.viewModel.nextMedia(y)}previousMedia(y){this.viewModel.previousMedia(y)}renderError(){const{messagesCommon:y,messages:p,visibleElements:g}=this;return(0,or.u)("calcite-notice",{active:!0,color:"red",icon:"exclamation-mark-circle",scale:"s"},g.title?(0,or.u)("div",{key:"error-title",slot:"title"},y.errorMessage):null,(0,or.u)("div",{key:"error-message",slot:"message"},p.loadingError))}renderLoading(){return(0,or.u)("div",{key:"loading-container",class:"esri-feature__loading-container"},(0,or.u)("span",{class:this.classes("esri-icon-loading-indicator esri-rotating","esri-feature__loading-spinner")}))}renderContentContainer(){const{visibleElements:y}=this;return y.content?(0,or.u)("div",{class:"esri-feature__main-container"},[this.renderContent(),this.renderLastEditInfo()]):null}renderTitle(){const{visibleElements:y,title:p}=this;return y.title?(0,or.u)(ZE,{level:this.headingLevel,class:"esri-feature__title",innerHTML:p}):null}renderContent(){const y=this.viewModel.content,p="content";if(!y)return null;if(Array.isArray(y))return y.length?(0,or.u)("div",{key:`${p}-content-elements`},y.map(this.renderContentElement,this)):null;if("string"==typeof y){const g=this._contentWidgets[0];return!g||g.destroyed?null:(0,or.u)("div",{key:`${p}-content`},g.render())}return this.renderNodeContent(y)}renderContentElement(y,p){const{visibleElements:g}=this;if("boolean"!=typeof g.content&&!g.content[y.type])return null;switch(y.type){case"attachments":return this.renderAttachments(p);case"custom":return this.renderCustom(y,p);case"fields":return this.renderFields(p);case"media":return this.renderMedia(p);case"text":return this.renderText(y,p);case"expression":return this.renderExpression(p);default:return null}}renderAttachments(y){const p=this._contentWidgets[y];if(!p||p.destroyed)return null;const{state:g,attachmentInfos:v}=p.viewModel;return"loading"===g||v.length>0?(0,or.u)("div",{key:this._buildKey("attachments-element",y),class:this.classes(qo_contentElement)},p.render()):null}renderExpression(y){const p=this._contentWidgets[y];return!p||p.destroyed?null:(0,or.u)("div",{key:this._buildKey("expression-element",y),class:qo_contentElement},p.render())}renderCustom(y,p){const{creator:g}=y,v=this._contentWidgets[p];return!v||v.destroyed?null:g?(0,or.u)("div",{key:this._buildKey("custom-element",p),class:qo_contentElement},v.render()):null}renderFields(y){const p=this._contentWidgets[y];return!p||p.destroyed?null:(0,or.u)("div",{key:this._buildKey("fields-element",y),class:qo_contentElement},p.render())}renderMedia(y){const p=this._contentWidgets[y];return!p||p.destroyed?null:(0,or.u)("div",{key:this._buildKey("media-element",y),class:qo_contentElement},p.render())}renderLastEditInfo(){const{visibleElements:y,messages:p}=this,{lastEditInfo:g}=this.viewModel;if(!g||!y.lastEditedInfo)return null;const{date:v,user:_}=g,w=(0,Kl.n)("edit"===g.type?_?p.lastEditedByUser:p.lastEdited:_?p.lastCreatedByUser:p.lastCreated,{date:v,user:_});return(0,or.u)("div",{key:"edit-info-element",class:this.classes("esri-feature__last-edited-info",qo_contentElement)},w)}renderText(y,p){const v=this._contentWidgets[p];return!v||v.destroyed?null:y.text?(0,or.u)("div",{key:this._buildKey("text-element",p),class:this.classes(qo_contentElement,"esri-feature__text")},v.render()):null}_buildKey(y,...p){return`${y}__${this.get("viewModel.graphic.uid")||"0"}-${p.join("-")}`}_destroyContentWidget(y){y&&(y.viewModel=null,!y.destroyed&&y.destroy())}_destroyContentWidgets(){this._contentWidgets.forEach(y=>this._destroyContentWidget(y)),this._contentWidgets=[]}_setupContentWidgets(){this._destroyContentWidgets();const{headingLevel:y,visibleElements:p}=this,g=this.get("viewModel.content"),{contentViewModels:v}=this.viewModel;if(Array.isArray(g))g.forEach((_,E)=>{"attachments"===_.type&&(this._contentWidgets[E]=new iH({displayType:_.displayType,headingLevel:p.title?y+1:y,viewModel:v[E]})),"fields"===_.type&&(this._contentWidgets[E]=new _P({viewModel:v[E]})),"media"===_.type&&(this._contentWidgets[E]=new wP({viewModel:v[E]})),"text"===_.type&&(this._contentWidgets[E]=new iy({viewModel:v[E]})),"custom"===_.type&&(this._contentWidgets[E]=new iy({viewModel:v[E]})),"expression"===_.type&&(this._contentWidgets[E]=new JH({viewModel:v[E]}))},this);else{const _=v[0];_&&!_.destroyed&&(this._contentWidgets[0]=new iy({viewModel:_}))}this.scheduleRender()}};(0,De._)([(0,hn.B)("viewModel.graphic")],es.prototype,"graphic",void 0),(0,De._)([(0,hn.B)("viewModel.defaultPopupTemplateEnabled")],es.prototype,"defaultPopupTemplateEnabled",void 0),(0,De._)([(0,Be.Cb)()],es.prototype,"headingLevel",void 0),(0,De._)([(0,Be.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],es.prototype,"label",void 0),(0,De._)([(0,Be.Cb)(),(0,Vs.H)("esri/widgets/Feature/t9n/Feature")],es.prototype,"messages",void 0),(0,De._)([(0,Be.Cb)(),(0,Vs.H)("esri/t9n/common")],es.prototype,"messagesCommon",void 0),(0,De._)([(0,Be.Cb)(),(0,Vs.H)("esri/widgets/support/t9n/uriUtils")],es.prototype,"messagesURIUtils",void 0),(0,De._)([(0,hn.B)("viewModel.spatialReference")],es.prototype,"spatialReference",void 0),(0,De._)([(0,hn.B)("viewModel.title")],es.prototype,"title",void 0),(0,De._)([(0,Be.Cb)()],es.prototype,"visibleElements",void 0),(0,De._)([(0,hl.p)("visibleElements")],es.prototype,"castVisibleElements",null),(0,De._)([(0,hn.B)("viewModel.map")],es.prototype,"map",void 0),(0,De._)([(0,hn.B)("viewModel.view")],es.prototype,"view",void 0),(0,De._)([(0,Be.Cb)({type:o2})],es.prototype,"viewModel",void 0),es=(0,De._)([(0,Lr.j)("esri.widgets.Feature")],es);const qH=es;let Cc=class extends Bf.Z.EventedAccessor{constructor(y){super(y),this._anchorHandles=new ka.Z,this.location=null,this.screenLocation=null,this.screenLocationEnabled=!1,this.view=null,this._anchorHandles.add([(0,kr.YP)(this,["screenLocationEnabled","location","view.size","view.stationary"],()=>this._updateScreenPointAndHandle()),(0,kr.YP)(this,["view","view.ready"],()=>this._wireUpView())])}destroy(){this.view=null,this._anchorHandles&&this._anchorHandles.destroy(),this._anchorHandles=null,this._viewpointHandle=null}_wireUpView(){const y="view";if(this._anchorHandles.remove(y),this._viewpointHandle=null,!this.get("view.ready"))return;this._setScreenLocation();const{view:p}=this,v=(0,kr.Wy)(p,"3d"===p.type?"camera":"viewpoint",()=>this._viewpointChange());this._anchorHandles.add(v,y),this._viewpointHandle=v,this._toggleWatchingViewpoint()}_viewpointChange(){this._setScreenLocation(),this.emit("view-change")}_updateScreenPointAndHandle(){this._setScreenLocation(),this._toggleWatchingViewpoint()}_toggleWatchingViewpoint(){const{_viewpointHandle:y,location:p,screenLocationEnabled:g}=this;!y||(p&&g?y.resume():y.pause())}_setScreenLocation(){const{location:y,view:p,screenLocationEnabled:g}=this,v=this.get("view.ready"),_=g&&v&&(0,fr.pC)(y)?p.toScreen(y):null;this._set("screenLocation",_)}};(0,De._)([(0,Be.Cb)()],Cc.prototype,"location",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],Cc.prototype,"screenLocation",void 0),(0,De._)([(0,Be.Cb)()],Cc.prototype,"screenLocationEnabled",void 0),(0,De._)([(0,Be.Cb)()],Cc.prototype,"view",void 0),Cc=(0,De._)([(0,Lr.j)("esri.widgets.support.AnchorElementViewModel")],Cc);const RP=Cc;let uy=class extends RP{constructor(y){super(y),this.visible=!1}};(0,De._)([(0,Be.Cb)()],uy.prototype,"visible",void 0),uy=(0,De._)([(0,Lr.j)("esri.widgets.CompassViewModel")],uy);const LP=uy;let Mc=class extends ws.Z{constructor(y,p){super(y,p),this._animationDelay=500,this._animationPromise=null,this.location=null,this.view=null,this.viewModel=new LP,this.visible=!1}initialize(){this.own([(0,kr.YP)(this,"visible",y=>this._visibleChange(y))])}destroy(){this._animationPromise=null}show(y){const{location:p,promise:g}=y;p&&(this.viewModel.location=p),this.visible=!0,g&&g.catch(()=>{}).then(()=>this.hide())}hide(){this.visible=!1}render(){const{visible:y}=this,{screenLocation:p}=this.viewModel,g=!!p,E={"esri-spinner--start":y&&g,"esri-spinner--finish":!y&&g},w=this._getPositionStyles();return(0,or.u)("div",{class:this.classes("esri-spinner",E),styles:w})}_visibleChange(y){if(y)return void(this.viewModel.screenLocationEnabled=!0);const p=(0,Hn.e4)(this._animationDelay);this._animationPromise=p,p.catch(()=>{}).then(()=>{this._animationPromise===p&&(this.viewModel.screenLocationEnabled=!1,this._animationPromise=null)})}_getPositionStyles(){const{screenLocation:y,view:p}=this.viewModel;if(!p||(0,fr.Wi)(y))return{};const{padding:g}=p;return{left:y.x-g.left+"px",top:y.y-g.top+"px"}}};(0,De._)([(0,hn.B)("viewModel.location")],Mc.prototype,"location",void 0),(0,De._)([(0,hn.B)("viewModel.view")],Mc.prototype,"view",void 0),(0,De._)([(0,Be.Cb)({type:LP})],Mc.prototype,"viewModel",void 0),(0,De._)([(0,hn.B)("viewModel.visible")],Mc.prototype,"visible",void 0),Mc=(0,De._)([(0,Lr.j)("esri.widgets.Spinner")],Mc);const tJ=Mc;C(29132),C(65787);var rJ=C(63602),nJ=C(59397),Jf=C(48753),iJ=C(10671),Yf=C(86606);function l2(y){return y&&"opacity"in y?y.opacity*l2(y.parent):1}function u2(){return u2=(0,qr.Z)(function*(y,p){var g,v;if(!y)return;const _=y.sourceLayer,E=null!=(g=(0,fr.pC)(p)&&null!=(v=p.useSourceLayer)&&v?_:y.layer)?g:_,w=l2(E);if((0,fr.pC)(y.symbol)&&(!(0,fr.pC)(p)||!0!==p.ignoreGraphicSymbol)){const pt="web-style"===y.symbol.type?yield y.symbol.fetchSymbol((0,fr.pC)(p)?p.abortOptions:null):y.symbol.clone();return(0,Yf.tb)(pt,null,w),pt}const D=(0,fr.pC)(p)&&p.renderer||E&&"renderer"in E&&E.renderer;let O=D&&"getSymbolAsync"in D?yield D.getSymbolAsync(y,p):null;if(!O)return;if(O="web-style"===O.type?yield O.fetchSymbol((0,fr.pC)(p)?p.abortOptions:null):O.clone(),!("visualVariables"in D)||!D.visualVariables||!D.visualVariables.length)return(0,Yf.tb)(O,null,w),O;if("arcadeRequiredForVisualVariables"in D&&D.arcadeRequiredForVisualVariables&&((0,fr.Wi)(p)||(0,fr.Wi)(p.arcade))){const pt=Pt({},(0,fr.Wg)(p));pt.arcade=yield(0,eP.LC)(),p=pt}const L=yield Promise.resolve().then(C.bind(C,81808)),z=[],se=[],Ee=[],Me=[];for(const pt of D.visualVariables)switch(pt.type){case"color":z.push(pt);break;case"opacity":se.push(pt);break;case"rotation":Me.push(pt);break;case"size":pt.target||Ee.push(pt)}const Ge=!!z.length&&z[z.length-1],st=Ge?L.getColor(Ge,y,p):null,vt=!!se.length&&se[se.length-1];let Ct=vt?L.getOpacity(vt,y,p):null;if(null!=w&&(Ct=null!=Ct?Ct*w:w),(0,Yf.tb)(O,st,Ct),Ee.length){const pt=L.getAllSizes(Ee,y,p);yield(0,Yf.e3)(O,pt)}for(const pt of Me)(0,Yf.BR)(O,L.getRotationAngle(pt,y,p),pt.axis);return O}),u2.apply(this,arguments)}var th=C(58677);const cy_iconZoom="esri-icon-zoom-in-magnifying-glass",Nu=new Jf.Z({id:"zoom-to-feature",title:"{messages.zoom}",className:cy_iconZoom}),d2=new Jf.Z({id:"remove-selected-feature",title:"{messages.remove}",className:"esri-icon-trash"}),wc=new Jf.Z({id:"zoom-to-clustered-features",title:"{messages.zoom}",className:cy_iconZoom}),xc=new Jf.Z({id:"browse-clustered-features",title:"{messages.browseClusteredFeatures}",className:"esri-icon-table"}),Fu=co.Z.getLogger("esri.widgets.Popup.PopupViewModel");function FP(y){const{selectedFeature:p,location:g,view:v}=y;return v?"3d"===v.type?p||g:y.get("selectedFeature.geometry")||g:null}function cJ(y,p){if("3d"!==(null==p?void 0:p.type)||!y||"esri.Graphic"!==y.declaredClass)return!0;const g=p.getViewForGraphic(y);if(g&&"whenGraphicBounds"in g){let v=!1;return g.whenGraphicBounds(y,{useViewElevation:!0}).then(_=>{v=!_||!_.boundingBox||_.boundingBox[0]===_.boundingBox[3]&&_.boundingBox[1]===_.boundingBox[4]&&_.boundingBox[2]===_.boundingBox[5]}).catch(()=>{const _=new on.Z("zoom-to:invalid-graphic","Could not zoom to the location of the graphic.",{graphic:y});Fu.error(_)}),v}return!0}function h2(){return h2=(0,qr.Z)(function*(y){const{location:p,selectedFeature:g,view:v,zoomFactor:_}=y,E=FP(y);if(!E){const L=new on.Z("zoom-to:invalid-target-or-view","Cannot zoom to location without a target and view.",{target:E,view:v});return Fu.error(L),Promise.reject(L)}const w=v.scale/_,D=y.get("selectedFeature.geometry")||p,O=D&&"point"===D.type&&cJ(g,v);Nu.active=!0,Nu.disabled=!0;try{yield y.view.goTo({target:E,scale:O?w:void 0})}finally{Nu.active=!1,Nu.disabled=!1,y.zoomToLocation=null,O&&(y.location=D)}}),h2.apply(this,arguments)}function f2(){return f2=(0,qr.Z)(function*(y){const{selectedFeature:p,view:g}=y;if("2d"!==(null==g?void 0:g.type)){const D=new on.Z("zoomToCluster:invalid-view","View must be 2d MapView.",{view:g});throw Fu.error(D),D}if(!p.isAggregate){const D=new on.Z("zoomToCluster:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:p});throw Fu.error(D),D}const v=p.sourceLayer,_=yield g.whenLayerView(v),E=_.createQuery();E.aggregateIds=[p.getObjectId()],wc.active=!0,wc.disabled=!0;const{extent:w}=yield _.queryExtent(E);yield g.goTo({target:w}),wc.active=!1,wc.disabled=!1}),f2.apply(this,arguments)}function p2(){return p2=(0,qr.Z)(function*(y){const{selectedFeature:p,view:g}=y;if("2d"!==(null==g?void 0:g.type)){const D=new on.Z("displayClusterExtent:invalid-view","View must be 2d MapView.",{view:g});throw Fu.error(D),D}if(!p.isAggregate){const D=new on.Z("zoomToCluster:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:p});throw Fu.error(D),D}const v=p.sourceLayer,_=yield g.whenLayerView(v),E=_.createQuery();E.aggregateIds=[p.getObjectId()];const{extent:w}=yield _.queryExtent(E);y.selectedClusterBoundaryFeature.geometry=w,g.graphics.add(y.selectedClusterBoundaryFeature)}),p2.apply(this,arguments)}function m2(){return m2=(0,qr.Z)(function*(y){const{selectedFeature:p,view:g}=y;if("2d"!==(null==g?void 0:g.type)){const D=new on.Z("browseAggregateFeatures:invalid-view","View must be 2d MapView.",{view:g});throw Fu.error(D),D}if(!p.isAggregate){const D=new on.Z("browseAggregateFeatures:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:p});throw Fu.error(D),D}const v=p.sourceLayer,_=yield g.whenLayerView(v),E=_.createQuery();E.aggregateIds=[p.getObjectId()],xc.active=!0,xc.disabled=!0;const{features:w}=yield _.queryFeatures(E);xc.active=!1,xc.disabled=!1,g.popup.open({features:[p].concat(w),featureMenuOpen:!0})}),m2.apply(this,arguments)}const jP=y=>{let p=class extends y{constructor(...g){super(...g),this.goToOverride=null,this.view=null}callGoTo(g){const{view:v}=this;return this.goToOverride?this.goToOverride(v,g):v.goTo(g.target,g.options)}};return(0,De._)([(0,Be.Cb)()],p.prototype,"goToOverride",void 0),(0,De._)([(0,Be.Cb)()],p.prototype,"view",void 0),p=(0,De._)([(0,Lr.j)("esri.widgets.support.GoTo")],p),p};var yJ=C(88493),zl=C(49672);const Xf=zi.Z.ofType({key:"type",defaultKeyValue:"button",base:nJ.Z,typeMap:{button:Jf.Z,toggle:iJ.Z}}),UP="esri.widgets.Popup.PopupViewModel",BP=co.Z.getLogger(UP);let Jn=class extends(jP(RP)){constructor(y){super(y),this._handles=new ka.Z,this._pendingPromises=new Set,this._fetchFeaturesController=null,this._selectedClusterFeature=null,this.featurePage=null,this.actions=new Xf,this.defaultPopupTemplateEnabled=!1,this.autoCloseEnabled=!1,this.autoOpenEnabled=!0,this.browseClusterEnabled=!1,this.content=null,this.featuresPerPage=20,this.featureViewModelAbilities=null,this.featureViewModels=[],this.highlightEnabled=!0,this.includeDefaultActions=!0,this.selectedClusterBoundaryFeature=new Gd.Z({symbol:new yJ.Z({outline:{width:1.5,color:"cyan"},style:"none"})}),this.title=null,this.updateLocationEnabled=!1,this.view=null,this.visible=!1,this.zoomFactor=4,this.zoomToLocation=null}get isLoadingFeature(){return this.featureViewModels.some(y=>y.waitingForContent)}initialize(){this._handles.add([(0,kr.S1)(this,["autoOpenEnabled","view"],()=>this._autoOpenEnabledChange()),this.on("view-change",()=>this._autoClose()),(0,kr.YP)(this,["highlightEnabled","selectedFeature","visible","view"],()=>this._highlightFeature()),(0,kr.YP)(this,"view.animation.state",y=>this._animationStateChange(y)),(0,kr.YP)(this,"location",y=>this._locationChange(y)),(0,kr.YP)(this,"selectedFeature",y=>this._selectedFeatureChange(y)),(0,kr.YP)(this,["selectedFeatureIndex","featureCount","featuresPerPage"],()=>this._selectedFeatureIndexChange()),(0,kr.YP)(this,["featurePage","selectedFeatureIndex","featureCount","featuresPerPage, featureViewModels"],()=>this._setGraphicOnFeatureViewModels()),(0,kr.YP)(this,"featureViewModels",()=>this._featureViewModelsChange()),this.on("trigger-action",y=>function(y){const{event:p,view:g}=y,{action:v}=p,_=g&&g.popup;if(!v)return Promise.reject(new on.Z("trigger-action:missing-arguments","Event has no action"));if(!_)return Promise.reject(new on.Z("trigger-action:missing-arguments","view.popup is missing"));const{disabled:E,id:w}=v;if(!w)return Promise.reject(new on.Z("trigger-action:invalid-action","action.id is missing"));if(E)return Promise.reject(new on.Z("trigger-action:invalid-action","Action is disabled"));if(w===Nu.id)return function dJ(y){return h2.apply(this,arguments)}(_.viewModel).catch(Hn.H9);if(w===wc.id)return function hJ(y){return f2.apply(this,arguments)}(_.viewModel);if(w===xc.id)return _.featureMenuOpen=!_.featureMenuOpen,_.viewModel.browseClusterEnabled=!_.viewModel.browseClusterEnabled,Promise.resolve();if(_.viewModel.browseClusterEnabled=!1,w===d2.id){_.close();const{selectedFeature:D}=_;if(!D)return Promise.reject(new on.Z(`trigger-action:${d2.id}`,"selectedFeature is required",{selectedFeature:D}));const{sourceLayer:O}=D;return O?O.remove(D):g.graphics.remove(D),Promise.resolve()}return Promise.resolve()}({event:y,view:this.view})),(0,kr.Nj)(this,"waitingForResult",()=>this._waitingForResultChange(),!0),(0,kr.YP)(this,["features","view","view.map","view.spatialReference"],()=>this._updateFeatureVMs()),(0,kr.YP)(this,["view.scale"],this._viewScaleChange),(0,kr.Nj)(this,"visible",()=>this.browseClusterEnabled=!1),(0,kr.YP)(this,"browseClusterEnabled",y=>y?this.enableClusterBrowsing():this.disableClusterBrowsing())])}destroy(){this._cancelFetchingFeatures(),this._handles.destroy(),this._handles=null,this._pendingPromises.clear(),this.browseClusterEnabled=!1,this.view=null}get active(){return!(!this.visible||this.waitingForResult)}get allActions(){const y=this._get("allActions")||new Xf;y.removeAll();const{actions:p,defaultActions:g,defaultPopupTemplateEnabled:v,includeDefaultActions:_,selectedFeature:E}=this,w=_?g.concat(p):p,D=E&&("function"==typeof E.getEffectivePopupTemplate&&E.getEffectivePopupTemplate(v)||E.popupTemplate),O=D&&D.actions,L=D&&D.overwriteActions?O:O?O.concat(w):w;return L&&L.filter(Boolean).forEach(z=>y.add(z)),y}get defaultActions(){var y;const p=this._get("defaultActions")||new Xf;return p.removeAll(),p.addMany(null!=(y=this.selectedFeature)&&y.isAggregate?[wc.clone(),xc.clone()]:[Nu.clone()]),p}get featureCount(){return this.features.length}get features(){return this._get("features")||[]}set features(y){const p=y||[];this._set("features",p);const{pendingPromisesCount:g,promiseCount:v,selectedFeatureIndex:_}=this,E=v&&p.length;E&&g&&-1===_?this.selectedFeatureIndex=0:E&&-1!==_||(this.selectedFeatureIndex=p.length?0:-1)}get location(){return this._get("location")||null}set location(y){const p=this.get("view.spatialReference.isWebMercator");y&&y.get("spatialReference.isWGS84")&&p&&(y=(0,pl.$)(y)),this._set("location",y)}get pendingPromisesCount(){return this._pendingPromises.size}get waitingForResult(){return!(!(this._fetchFeaturesController||this.pendingPromisesCount>0)||0!==this.featureCount)}get promiseCount(){return this.promises.length}get promises(){return this._get("promises")||[]}set promises(y){if(this._pendingPromises.clear(),this.features=[],!Array.isArray(y)||!y.length)return this._set("promises",[]),void this.notifyChange("pendingPromisesCount");this._set("promises",y),(y=y.slice(0)).forEach(p=>{this._pendingPromises.add(p),p.then(_=>{this._pendingPromises.has(p)&&this._updateFeatures(_),this._updatePendingPromises(p)},()=>this._updatePendingPromises(p))}),this.notifyChange("pendingPromisesCount")}get selectedFeature(){const{features:y,selectedFeatureIndex:p}=this;return-1===p?null:y[p]||null}get selectedFeatureIndex(){const y=this._get("selectedFeatureIndex");return"number"==typeof y?y:-1}set selectedFeatureIndex(y){const{featureCount:p}=this;y=isNaN(y)||y<-1||!p?-1:(y+p)%p,this._set("selectedFeatureIndex",y)}get selectedFeatureViewModel(){return this.featureViewModels[this.selectedFeatureIndex]||null}get state(){return this.get("view.ready")?"ready":"disabled"}centerAtLocation(){const{view:y}=this,p=FP(this);if(!p){const g=new on.Z("center-at-location:invalid-target-or-view","Cannot center at a location without a target and view.",{target:p,view:y});return BP.error(g),Promise.reject(g)}return this.callGoTo({target:{target:p,scale:y.scale}})}clear(){this.set({promises:[],features:[],content:null,title:null,location:null})}fetchFeatures(y,p){const{view:g}=this;if(!g||!y){const v=new on.Z("fetch-features:invalid-screenpoint-or-view","Cannot fetch features without a screenPoint and view.",{screenPoint:y,view:g});return BP.error(v),Promise.reject(v)}return g.fetchPopupFeatures(y,{event:p&&p.event,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,signal:p&&p.signal})}open(y){const p=Xr(Pt({updateLocationEnabled:!1,promises:[],fetchFeatures:!1},y),{visible:!0}),{fetchFeatures:g}=p;delete p.fetchFeatures,g&&this._setFetchFeaturesPromises(p.location),this.set(p)}triggerAction(y){const p=this.allActions.getItemAt(y);p&&!p.disabled&&this.emit("trigger-action",{action:p})}next(){return this.selectedFeatureIndex=this.selectedFeatureIndex+1,this}previous(){return this.selectedFeatureIndex=this.selectedFeatureIndex-1,this}disableClusterBrowsing(){(function mJ(y){y.features=y.features.filter(p=>p.isAggregate)})(this),this._clearBrowsedClusterGraphics()}enableClusterBrowsing(){var y=this;return(0,qr.Z)(function*(){yield function fJ(y){return p2.apply(this,arguments)}(y),yield function pJ(y){return m2.apply(this,arguments)}(y)})()}_animationStateChange(y){this.zoomToLocation||(Nu.disabled="waiting-for-target"===y)}_clearBrowsedClusterGraphics(){var y;const p=null==(y=this.view)?void 0:y.graphics;p&&(p.remove(this.selectedClusterBoundaryFeature),p.remove(this._selectedClusterFeature)),this._selectedClusterFeature=null,this.selectedClusterBoundaryFeature.geometry=null}_viewScaleChange(){var y;(null!=(y=this.selectedFeature)&&y.isAggregate||this.browseClusterEnabled)&&(this.browseClusterEnabled=!1,this.visible=!1)}_locationChange(y){const{selectedFeature:p,updateLocationEnabled:g}=this;g&&y&&(!p||p.geometry)&&this.centerAtLocation()}_selectedFeatureIndexChange(){this.featurePage=this.featureCount>1?Math.floor(this.selectedFeatureIndex/this.featuresPerPage)+1:null}_featureViewModelsChange(){this.featurePage=this.featureCount>1?1:null}_setGraphicOnFeatureViewModels(){const{features:y,featureCount:p,featurePage:g,featuresPerPage:v,featureViewModels:_}=this;if(null===g)return;const E=((g-1)*v+p)%p;_.slice(E,E+v).forEach((D,O)=>{D&&!D.graphic&&(D.graphic=y[E+O])})}_selectedFeatureChange(y){var p=this;return(0,qr.Z)(function*(){if(!y)return;const{location:g,updateLocationEnabled:v,view:_}=p;if(p.browseClusterEnabled)return p._selectedClusterFeature&&(_.graphics.remove(p._selectedClusterFeature),p._selectedClusterFeature=null),y.isAggregate?void 0:(y.symbol=yield function sJ(y,p){return u2.apply(this,arguments)}(y),p._selectedClusterFeature=y,void _.graphics.add(p._selectedClusterFeature));!v&&g||!y.geometry?v&&!y.geometry&&p.centerAtLocation().then(()=>{p.location=_.center.clone()}):p.location=(0,fr.Wg)(p._getPointFromGeometry(y.geometry))})()}_waitingForResultChange(){!this.featureCount&&this.promises&&(this.visible=!1)}_setFetchFeaturesPromises(y){return this._fetchFeaturesWithController(this._getScreenPoint(y||this.location)).then(p=>{const{clientOnlyGraphics:g,promisesPerLayerView:v}=p,_=Promise.resolve(g),E=v.map(w=>w.promise);this.promises=[_,...E]})}_destroyFeatureVMs(){this.featureViewModels.forEach(y=>y&&!y.destroyed&&y.destroy()),this._set("featureViewModels",[])}_updateFeatureVMs(){const{selectedFeature:y,features:p,featureViewModels:g}=this;if(null!=y&&y.isAggregate||(this.browseClusterEnabled=!1),this._destroyFeatureVMs(),!p||!p.length)return;const v=g.slice(0),_=[];p.forEach((E,w)=>{if(!E)return;let D=null;if(v.some((z,se)=>(z&&z.graphic===E&&(D=z,v.splice(se,1)),!!D)),D)_[w]=D;else{var O,L;const z=new o2({abilities:this.featureViewModelAbilities,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,spatialReference:null==(O=this.view)?void 0:O.spatialReference,graphic:E===y?E:null,map:null==(L=this.view)?void 0:L.map,view:this.view});_[w]=z}}),v.forEach(E=>E&&!E.destroyed&&E.destroy()),this._set("featureViewModels",_)}_getScreenPoint(y){const{view:p}=this;return p&&y&&"function"==typeof p.toScreen?p.toScreen(y):null}_autoOpenEnabledChange(){const y="auto-fetch-features",{_handles:p,autoOpenEnabled:g}=this;if(p.remove(y),g&&this.view){const v=this.view.on("click",_=>{"mouse"===_.pointerType&&0!==_.button||this._fetchFeaturesAndOpen(_)},th.f.WIDGET);p.add(v,y)}}_cancelFetchingFeatures(){const y=this._fetchFeaturesController;y&&y.abort(),this._fetchFeaturesController=null,this.notifyChange("waitingForResult")}_fetchFeaturesWithController(y,p){this._cancelFetchingFeatures();const g=new AbortController,{signal:v}=g;this._fetchFeaturesController=g,this.notifyChange("waitingForResult");const _=this.fetchFeatures(y,{signal:v,event:p});return _.catch(()=>{}).then(()=>{this._fetchFeaturesController=null,this.notifyChange("waitingForResult")}),_}_fetchFeaturesAndOpen(y){const{screenPoint:p,mapPoint:g}=y,{view:v}=this;this._fetchFeaturesWithController(p,y).then(_=>{const{clientOnlyGraphics:E,promisesPerLayerView:w,location:D}=_,O=[Promise.resolve(E),...w.map(L=>L.promise)];return v.popup.open({location:D||g,promises:O}),_})}_updatePendingPromises(y){y&&this._pendingPromises.has(y)&&(this._pendingPromises.delete(y),this.notifyChange("pendingPromisesCount"))}_autoClose(){this.autoCloseEnabled&&(this.visible=!1)}_getPointFromGeometry(y){return(0,fr.Wi)(y)?null:"point"===y.type?y:"extent"===y.type?y.center:"polygon"===y.type?y.centroid:"multipoint"===y.type||"polyline"===y.type?y.extent.center:null}_getLayerView(y,p){return(0,qr.Z)(function*(){return yield y.when(),y.whenLayerView(p)})()}_highlightFeature(){var y=this;return(0,qr.Z)(function*(){const p="highlight";y._handles.remove(p);const{selectedFeature:g,highlightEnabled:v,view:_,visible:E}=y;if(!(g&&_&&v&&E))return;let{layer:w,sourceLayer:D}=g;if("map-notes"!==(null==D?void 0:D.type)&&"subtype-group"!==(null==D?void 0:D.type)||(w=D),!(w&&w instanceof rJ.Z))return;const O=y._getLayerView(_,w);y._highlightPromise=O;const L=yield O;if(!(L&&function aJ(y){return y&&"function"==typeof y.highlight}(L)&&y._highlightPromise===O&&y.selectedFeature&&y.highlightEnabled&&y.visible))return;const z="objectIdField"in w&&w.objectIdField,se=g.attributes,Me=L.highlight(se&&z&&se[z]||g);y._handles.add(Me,p)})()}_updateFeatures(y){const{features:p}=this;if(!y||!y.length)return;if(!p.length)return void(this.features=y);const g=y.filter(v=>-1===p.indexOf(v));this.features=p.concat(g)}};(0,De._)([(0,Be.Cb)()],Jn.prototype,"featurePage",void 0),(0,De._)([(0,Be.Cb)()],Jn.prototype,"isLoadingFeature",null),(0,De._)([(0,Be.Cb)({type:Xf})],Jn.prototype,"actions",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],Jn.prototype,"active",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],Jn.prototype,"allActions",null),(0,De._)([(0,Be.Cb)({type:Boolean})],Jn.prototype,"defaultPopupTemplateEnabled",void 0),(0,De._)([(0,Be.Cb)()],Jn.prototype,"autoCloseEnabled",void 0),(0,De._)([(0,Be.Cb)()],Jn.prototype,"autoOpenEnabled",void 0),(0,De._)([(0,Be.Cb)()],Jn.prototype,"browseClusterEnabled",void 0),(0,De._)([(0,Be.Cb)()],Jn.prototype,"content",void 0),(0,De._)([(0,Be.Cb)({type:Xf,readOnly:!0})],Jn.prototype,"defaultActions",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],Jn.prototype,"featureCount",null),(0,De._)([(0,Be.Cb)()],Jn.prototype,"features",null),(0,De._)([(0,Be.Cb)()],Jn.prototype,"featuresPerPage",void 0),(0,De._)([(0,Be.Cb)()],Jn.prototype,"featureViewModelAbilities",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],Jn.prototype,"featureViewModels",void 0),(0,De._)([(0,Be.Cb)()],Jn.prototype,"highlightEnabled",void 0),(0,De._)([(0,Be.Cb)()],Jn.prototype,"includeDefaultActions",void 0),(0,De._)([(0,Be.Cb)({type:zl.Z})],Jn.prototype,"location",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],Jn.prototype,"pendingPromisesCount",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],Jn.prototype,"selectedClusterBoundaryFeature",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],Jn.prototype,"waitingForResult",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],Jn.prototype,"promiseCount",null),(0,De._)([(0,Be.Cb)()],Jn.prototype,"promises",null),(0,De._)([(0,Be.Cb)({value:null,readOnly:!0})],Jn.prototype,"selectedFeature",null),(0,De._)([(0,Be.Cb)({value:-1})],Jn.prototype,"selectedFeatureIndex",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],Jn.prototype,"selectedFeatureViewModel",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],Jn.prototype,"state",null),(0,De._)([(0,Be.Cb)()],Jn.prototype,"title",void 0),(0,De._)([(0,Be.Cb)()],Jn.prototype,"updateLocationEnabled",void 0),(0,De._)([(0,Be.Cb)()],Jn.prototype,"view",void 0),(0,De._)([(0,Be.Cb)()],Jn.prototype,"visible",void 0),(0,De._)([(0,Be.Cb)()],Jn.prototype,"zoomFactor",void 0),(0,De._)([(0,Be.Cb)()],Jn.prototype,"zoomToLocation",void 0),(0,De._)([(0,Be.Cb)()],Jn.prototype,"centerAtLocation",null),Jn=(0,De._)([(0,Lr.j)(UP)],Jn);const VP=Jn;var va=C(24940);const WP="selected-index",kP="popup-spinner",Rr_shadow="esri-popup--shadow",Rr_button="esri-popup__button",Rr_icon="esri-popup__icon",ZP={buttonEnabled:!0,position:"auto",breakpoint:{width:544}},$P="esri-popup";function Gl(y,p){return void 0===p?`${$P}__${y}`:`${$P}__${y}-${p}`}const KP="esri.widgets.Popup",zP=co.Z.getLogger(KP),GP={closeButton:!0,featureNavigation:!0};let cn=class extends(PP(ws.Z)){constructor(y,p){super(y,p),this._blurClose=!1,this._blurContainer=!1,this._containerNode=null,this._mainContainerNode=null,this._featureMenuNode=null,this._actionsMenuNode=null,this._focusClose=!1,this._focusContainer=!1,this._focusDockButton=!1,this._focusFeatureMenuButton=!1,this._focusActionsMenuButton=!1,this._focusFirstFeature=!1,this._focusFirstAction=!1,this._handles=new ka.Z,this._pointerOffsetInPx=16,this._spinner=null,this._feature=null,this._featureMenuIntersectionObserverCallback=([g])=>{null!=g&&g.isIntersecting&&this.viewModel.featurePage++},this._featureMenuIntersectionObserver=new IntersectionObserver(this._featureMenuIntersectionObserverCallback,{root:window.document}),this._displaySpinnerThrottled=(0,SE.P)(()=>this._displaySpinner(),0),this.actions=null,this.alignment="auto",this.autoCloseEnabled=null,this.autoOpenEnabled=null,this.defaultPopupTemplateEnabled=null,this.content=null,this.collapsed=!1,this.collapseEnabled=!0,this.dockEnabled=!1,this.featureCount=null,this.featureMenuOpen=!1,this.features=null,this.goToOverride=null,this.headingLevel=2,this.highlightEnabled=null,this.location=null,this.label=void 0,this.maxInlineActions=3,this.messages=null,this.messagesCommon=null,this.promises=null,this.selectedFeature=null,this.selectedFeatureIndex=null,this.spinnerEnabled=!0,this.title=null,this.updateLocationEnabled=null,this.view=null,this.viewModel=new VP,this.visible=null,this.visibleElements=Pt({},GP),this._addSelectedFeatureIndexHandle(),this.own([(0,kr.YP)(this,"viewModel.screenLocation",()=>this._positionContainer()),(0,kr.YP)(this,["viewModel.active","dockEnabled"],()=>this._toggleScreenLocationEnabled()),(0,kr.YP)(this,"viewModel.screenLocation",(g,v)=>{!!g!=!!v&&this.reposition()}),(0,kr.YP)(this,["viewModel.view.padding","viewModel.view.size","viewModel.active","viewModel.location","alignment"],()=>this.reposition()),(0,kr.YP)(this,"spinnerEnabled",g=>this._spinnerEnabledChange(g)),(0,kr.YP)(this,"viewModel.view.size",(g,v)=>this._updateDockEnabledForViewSize(g,v)),(0,kr.YP)(this,"viewModel.view",(g,v)=>this._viewChange(g,v)),(0,kr.YP)(this,"viewModel.view.ready",(g,v)=>this._viewReadyChange(g,v)),(0,kr.YP)(this,["viewModel.waitingForResult","viewModel.location"],()=>{this._hideSpinner(),this._displaySpinnerThrottled()}),(0,kr.YP)(this,["selectedFeatureWidget.viewModel.title","selectedFeatureWidget.viewModel.state"],()=>this._setTitleFromFeatureWidget()),(0,kr.YP)(this,["selectedFeatureWidget.viewModel.content","selectedFeatureWidget.viewModel.state"],()=>this._setContentFromFeatureWidget()),(0,kr.Nj)(this,"collapsed",()=>{var g,v;"xsmall"===(null==(g=this.viewModel)||null==(v=g.view)?void 0:v.widthBreakpoint)&&this.viewModel.active&&this.collapseEnabled&&this.viewModel.centerAtLocation()}),(0,kr.on)(this,"viewModel.allActions","change",()=>this._watchActions()),(0,kr.S1)(this,"viewModel.allActions",()=>this._watchActions()),(0,kr.YP)(this,"viewModel.featureViewModels",()=>this._featureMenuViewportScrollTop())])}destroy(){var y,p;this._destroySelectedFeatureWidget(),this._destroySpinner(),null==(y=this._handles)||y.destroy(),this._unobserveFeatureMenuObserver(),null==(p=this._featureMenuIntersectionObserver)||p.disconnect(),this._handles=null}get actionsMenuId(){return`${this.id}-actions-menu`}get actionsMenuButtonId(){return`${this.id}-actions-menu-button`}get featureMenuId(){return`${this.id}-feature-menu`}get titleId(){return`${this.id}-popup-title`}get contentId(){return`${this.id}-popup-content`}get hasContent(){var y,p,g,v,_,E,w;return!!(this.selectedFeatureWidget?(null==(y=this.selectedFeatureWidget)||null==(p=y.viewModel)?void 0:p.waitingForContent)||"error"===(null==(g=this.selectedFeatureWidget)||null==(v=g.viewModel)?void 0:v.state)||(null==(_=this.selectedFeatureWidget)||null==(E=_.viewModel)?void 0:E.content):null==(w=this.viewModel)?void 0:w.content)}get featureNavigationVisible(){return this.viewModel.active&&this.viewModel.featureCount>1&&this.visibleElements.featureNavigation}get collapsible(){return!!(this.collapseEnabled&&this.viewModel.title&&this.hasContent)}get featureMenuVisible(){return this.featureNavigationVisible&&this.featureMenuOpen}get contentCollapsed(){return this.collapsible&&!this.featureMenuVisible&&this.collapsed}get dividedActions(){return this._divideActions()}set actionsMenuOpen(y){this._set("actionsMenuOpen",!!y)}get actionsMenuOpen(){return!!this.viewModel.active&&this._get("actionsMenuOpen")}get currentAlignment(){return this._getCurrentAlignment()}get currentDockPosition(){return this._getCurrentDockPosition()}get dockOptions(){return this._get("dockOptions")||ZP}set dockOptions(y){const p=Pt({},ZP),g=this.get("viewModel.view.breakpoints"),v={};g&&(v.width=g.xsmall,v.height=g.xsmall);const _=Pt(Pt({},p),y),E=Pt(Pt({},p.breakpoint),v),{breakpoint:w}=_;!0===w?_.breakpoint=E:"object"==typeof w&&(_.breakpoint=Pt(Pt({},E),w)),this._set("dockOptions",_),this._setCurrentDockPosition(),this.reposition()}get selectedFeatureWidget(){const{_feature:y,visibleElements:p,headingLevel:g}=this,{selectedFeatureViewModel:v}=this.viewModel,_=Xr(Pt({},p),{title:!1});return v?(y?(y.viewModel=v,y.visibleElements=_):this._feature=new qH({headingLevel:g+1,viewModel:v,visibleElements:_}),this._feature):null}castVisibleElements(y){return Pt(Pt({},GP),y)}blur(){const{active:y}=this.viewModel;y||zP.warn("Popup can only be blurred when currently active."),this.visibleElements.closeButton?this._blurClose=!0:this._blurContainer=!0,this.scheduleRender()}clear(){this.viewModel.clear()}close(){this.visible=!1}fetchFeatures(y,p){return this.viewModel.fetchFeatures(y,p)}focus(){const{active:y}=this.viewModel;y||zP.warn("Popup can only be focused when currently active."),this.visibleElements.closeButton?this._focusClose=!0:this._focusContainer=!0,this.scheduleRender()}next(){return this.viewModel.next()}open(y){var p,g;this._handles.remove(WP);const E={collapsed:!!y&&!!y.collapsed,actionsMenuOpen:!!y&&!!y.actionsMenuOpen,featureMenuOpen:!!y&&!!y.featureMenuOpen};"xsmall"===(null==(p=this.viewModel)||null==(g=p.view)?void 0:g.widthBreakpoint)&&(E.collapsed=!0),this.set(E),this.viewModel.open(y),this._addSelectedFeatureIndexHandle()}previous(){return this.viewModel.previous()}reposition(){this.renderNow(),this._positionContainer(),this._setCurrentAlignment()}triggerAction(y){this.viewModel.triggerAction(y)}render(){var y,p,g,v;const{actionsMenuOpen:_,dockEnabled:E,featureMenuVisible:w,dividedActions:D,currentAlignment:O,currentDockPosition:L}=this,{active:z}=this.viewModel,{menuActions:se}=D,st=null==(y=this.selectedFeature)||null==(p=y.layer)?void 0:p.title,vt=null==(g=this.selectedFeature)||null==(v=g.layer)?void 0:v.id;return(0,or.u)("div",{class:this.classes("esri-popup",{"esri-popup--aligned-top-center":"top-center"===O,"esri-popup--aligned-bottom-center":"bottom-center"===O,"esri-popup--aligned-top-left":"top-left"===O,"esri-popup--aligned-bottom-left":"bottom-left"===O,"esri-popup--aligned-top-right":"top-right"===O,"esri-popup--aligned-bottom-right":"bottom-right"===O,"esri-popup--is-docked":z&&E,[Rr_shadow]:z&&!E,"esri-popup--is-docked-top-left":"top-left"===L,"esri-popup--is-docked-top-center":"top-center"===L,"esri-popup--is-docked-top-right":"top-right"===L,"esri-popup--is-docked-bottom-left":"bottom-left"===L,"esri-popup--is-docked-bottom-center":"bottom-center"===L,"esri-popup--is-docked-bottom-right":"bottom-right"===L,"esri-popup--feature-menu-open":w,"esri-popup--actions-menu-open":z&&se.length>1&&_}),role:"presentation","data-layer-title":st,"data-layer-id":vt,bind:this,afterCreate:this._positionContainer,afterUpdate:this._positionContainer},z?[this.renderMainContainer(),this.renderPointer()]:null)}renderLoadingIcon(){return(0,or.u)("span",{"aria-hidden":"true",class:this.classes(Rr_icon,"esri-icon-loading-indicator","esri-rotating")})}renderNavigationLoading(){const{messagesCommon:y}=this;return this.viewModel.pendingPromisesCount?(0,or.u)("div",{key:Gl("loading-container"),role:"presentation",class:"esri-popup__loading-container","aria-label":y.loading,title:y.loading},this.renderLoadingIcon()):null}renderPreviousIcon(){const y=(0,Xo.dZ)(this.container);return(0,or.u)("span",{"aria-hidden":"true",class:this.classes(Rr_icon,{"esri-icon-right-triangle-arrow":y,"esri-popup__pagination-previous-icon--rtl":y,"esri-icon-left-triangle-arrow":!y,"esri-popup__pagination-previous-icon":!y})})}renderPreviousButton(){const{messages:y}=this;return(0,or.u)("div",{role:"button",tabIndex:0,bind:this,onclick:this._previous,onkeydown:this._previous,class:this.classes(Rr_button,"esri-popup__pagination-previous"),"aria-label":y.previous,title:y.previous},this.renderPreviousIcon())}renderNextIcon(){const y=(0,Xo.dZ)(this.container);return(0,or.u)("span",{"aria-hidden":"true",class:this.classes(Rr_icon,{"esri-icon-left-triangle-arrow":y,"esri-popup__pagination-next-icon--rtl":y,"esri-icon-right-triangle-arrow":!y,"esri-popup__pagination-next-icon":!y})})}renderNextButton(){const{messages:y}=this;return(0,or.u)("div",{role:"button",tabIndex:0,bind:this,onclick:this._next,onkeydown:this._next,class:this.classes(Rr_button,"esri-popup__pagination-next"),"aria-label":y.next,title:y.next},this.renderNextIcon())}renderFeatureMenuButton(){const{featureMenuOpen:y,featureMenuId:p,messagesCommon:g}=this,{featureCount:v,selectedFeatureIndex:_}=this.viewModel;return(0,or.u)("div",{role:"button",tabIndex:0,bind:this,onclick:this._toggleFeatureMenu,onkeydown:this._toggleFeatureMenu,afterCreate:this._focusFeatureMenuButtonNode,afterUpdate:this._focusFeatureMenuButtonNode,class:this.classes(Rr_button,"esri-popup__feature-menu-button"),"aria-haspopup":"true","aria-controls":p,"aria-expanded":y.toString(),"aria-label":g.menu,title:g.menu},this._getPageText(v,_))}renderNavigationButtons(){return this.featureNavigationVisible?[this.renderPreviousButton(),this.renderNavigationLoading()||this.renderFeatureMenuButton(),this.renderNextButton()]:null}renderDockIcon(){const{dockEnabled:y}=this,p=this._wouldDockTo();return(0,or.u)("span",{"aria-hidden":"true",class:this.classes({"esri-icon-minimize":y,"esri-popup__icon--dock-icon":!y,"esri-icon-dock-right":!y&&("top-right"===p||"bottom-right"===p),"esri-icon-dock-left":!y&&("top-left"===p||"bottom-left"===p),"esri-icon-maximize":!y&&"top-center"===p,"esri-icon-dock-bottom":!y&&"bottom-center"===p},Rr_icon)})}renderDockButton(){var y,p,g;const{dockEnabled:v,messages:_}=this,E=null==(y=this.viewModel)||null==(p=y.view)?void 0:p.widthBreakpoint,w=v?_.undock:_.dock;return"xsmall"!==E&&null!=(g=this.dockOptions)&&g.buttonEnabled?(0,or.u)("div",{role:"button","aria-label":w,title:w,tabIndex:0,bind:this,onclick:this._toggleDockEnabled,onkeydown:this._toggleDockEnabled,afterCreate:this._focusDockButtonNode,afterUpdate:this._focusDockButtonNode,class:this.classes(Rr_button,"esri-popup__button--dock")},this.renderDockIcon()):null}renderTitle(){const{title:y}=this.viewModel,{titleId:p,collapsible:g,contentCollapsed:v,messagesCommon:_}=this,E={"esri-popup__header-container--button":g},w=(0,or.u)(ZE,{level:this.headingLevel,class:"esri-popup__header-title",innerHTML:y}),D=g?(0,or.u)("button",{key:`${y}--collapsible`,id:p,title:v?_.expand:_.collapse,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes("esri-popup__header-container",E),"aria-expanded":v?"false":"true",onclick:this._toggleCollapsed},w):(0,or.u)("div",{key:y,id:p,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes("esri-popup__header-container",E)},w);return y?D:null}renderCloseIcon(){return(0,or.u)("span",{"aria-hidden":"true",class:this.classes(Rr_icon,"esri-icon-close")})}renderCloseButton(){const{visibleElements:y,messagesCommon:p}=this;return y.closeButton?(0,or.u)("div",{role:"button",tabIndex:0,bind:this,onclick:this._close,onkeydown:this._close,class:Rr_button,"aria-label":p.close,title:p.close,afterCreate:this._closeButtonNodeUpdated,afterUpdate:this._closeButtonNodeUpdated},this.renderCloseIcon()):null}renderHeader(){return(0,or.u)("header",{class:"esri-popup__header"},this.renderTitle(),(0,or.u)("div",{class:"esri-popup__header-buttons"},this.renderDockButton(),this.renderCloseButton()))}renderContentContainer(){const{contentId:y,hasContent:p,contentCollapsed:g}=this,{content:v}=this.viewModel;return p&&!g?(0,or.u)("article",{key:v,enterAnimation:this._createFeatureUpdatedAnimation(),id:y,class:"esri-popup__content"},this.renderContent()):null}renderActionsMenuButton(){const{actionsMenuId:y,actionsMenuButtonId:p,actionsMenuOpen:g,dividedActions:v,messagesCommon:_}=this,E=g?_.close:_.open,{menuActions:w}=v;return w.length?(0,or.u)("div",{key:Gl("actions-menu-button"),class:this.classes(Rr_button,"esri-popup__actions-menu-button"),role:"button",id:p,"aria-haspopup":"true","aria-controls":g?y:null,tabIndex:0,bind:this,onclick:this._toggleActionsMenu,onkeydown:this._toggleActionsMenu,afterCreate:this._focusActionsMenuButtonNode,afterUpdate:this._focusActionsMenuButtonNode,"aria-label":E,title:E},(0,or.u)("span",{"aria-hidden":"true",class:"esri-icon-handle-horizontal"})):null}renderMenuActions(){const{actionsMenuId:y,actionsMenuButtonId:p,actionsMenuOpen:g,dividedActions:v}=this,{menuActions:_}=v;return _.length&&g?(0,or.u)("ul",{id:y,role:"menu","aria-labelledby":p,key:Gl("actions"),class:"esri-popup__actions",bind:this,onkeyup:this._handleActionMenuKeyup,afterCreate:this._actionsMenuNodeUpdated,afterUpdate:this._actionsMenuNodeUpdated},_.toArray().map(E=>this.renderAction({action:E,type:"menu-item"}))):null}renderInlineActions(){const{inlineActions:y}=this.dividedActions;return!!y.length&&y.toArray().map(p=>this.renderAction({action:p,type:"inline"}))}renderInlineActionsContainer(){const{inlineActions:y,menuActions:p}=this.dividedActions,g=!!y.length,v=!!p.length;return g||v?(0,or.u)("div",{key:"inline-actions-container","data-inline-actions":g.toString(),"data-menu-actions":v.toString(),class:"esri-popup__inline-actions-container"},this.renderInlineActions(),this.renderActionsMenuButton(),this.renderMenuActions()):null}renderNavigation(){return this.featureNavigationVisible?(0,or.u)("section",{key:Gl("navigation"),class:this.classes("esri-popup__navigation")},this.renderNavigationButtons()):null}renderFooter(){const{featureNavigationVisible:y,dividedActions:p}=this,{inlineActions:g,menuActions:v}=p,_=!!g.length,w={"esri-popup__footer--has-pagination":y,"esri-popup__footer--has-actions":_,"esri-popup__footer--has-actions-menu":!!v.length};return y||_?(0,or.u)("div",{key:Gl("feature-buttons"),class:this.classes("esri-popup__footer",w)},this.renderInlineActionsContainer(),this.renderNavigation()):null}renderFeatureMenuContainer(){const{messages:y}=this,{featureViewModels:p,isLoadingFeature:g}=this.viewModel,v=(0,Kl.n)(y.selectedFeatures,{total:p.length});return(0,or.u)("section",{key:Gl("menu"),class:"esri-popup__feature-menu"},(0,or.u)("strong",{class:"esri-popup__feature-menu-header"},v),(0,or.u)("nav",{bind:this,class:"esri-popup__feature-menu-viewport","data-node-ref":"_featureMenuViewportNode",afterCreate:Xo.Se},this.renderFeatureMenu(),(0,or.u)("div",{class:"esri-popup__feature-menu-observer",bind:this,afterCreate:this._featureMenuIntersectionObserverCreated}),g?(0,or.u)("div",{class:"esri-popup__feature-menu-loader"},this.renderLoadingIcon()):null))}renderPointer(){return this.dockEnabled?null:(0,or.u)("div",{key:Gl("pointer"),class:"esri-popup__pointer",role:"presentation"},(0,or.u)("div",{class:this.classes("esri-popup__pointer-direction",Rr_shadow)}))}renderMainContainer(){const{dockEnabled:y,currentAlignment:p,currentDockPosition:g,titleId:v,contentId:_,collapsible:E,hasContent:w,contentCollapsed:D,visibleElements:O}=this,{title:L}=this.viewModel,z="bottom-left"===p||"bottom-center"===p||"bottom-right"===p||"top-left"===g||"top-center"===g||"top-right"===g,se="top-left"===p||"top-center"===p||"top-right"===p||"bottom-left"===g||"bottom-center"===g||"bottom-right"===g;return(0,or.u)("div",{class:this.classes("esri-popup__main-container","esri-widget",{[Rr_shadow]:y,"esri-popup--is-collapsible":E,"esri-popup--is-collapsed":D}),tabIndex:O.closeButton?null:-1,role:"dialog","aria-labelledby":L?v:"","aria-describedby":w&&!D?_:"",bind:this,onkeyup:this._handleMainKeyup,afterCreate:this._mainContainerNodeUpdated,afterUpdate:this._mainContainerNodeUpdated},z?this.renderFooter():null,z?this.renderFeatureMenuContainer():null,this.renderHeader(),this.renderContentContainer(),se?this.renderFooter():null,se?this.renderFeatureMenuContainer():null)}renderContent(){var y;const p=null==(y=this.viewModel)?void 0:y.content;return p?"string"==typeof p?(0,or.u)("div",{key:p,innerHTML:p}):this.renderNodeContent(p):null}renderActionText(y){return(0,or.u)("span",{key:"text",class:"esri-popup__action-text"},y)}renderActionIcon(y){const p=this._getActionClass(y),g=this._getActionImage(y),v={"esri-icon-loading-indicator":y.active,"esri-rotating":y.active,[Rr_icon]:!!p,"esri-popup__action-image":!y.active&&!!g};return p&&(v[p]=!y.active),(0,or.u)("span",{key:"icon","aria-hidden":"true",class:this.classes(Rr_icon,v),styles:this._getIconStyles(g)})}renderAction(y){const{action:p,type:g}=y,v=this._getActionTitle(p),_={"esri-popup__action":"toggle"!==p.type,"esri-popup__action-toggle":"toggle"===p.type,"esri-popup__action-toggle--on":"toggle"===p.type&&p.value,"esri-popup__button--disabled":p.disabled},E=[this.renderActionIcon(p),this.renderActionText(v)],w="menu-item"===g?(0,or.u)("li",{key:p.uid,role:"menuitem",tabIndex:0,title:v,"aria-label":v,class:this.classes(Rr_button,_),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-uid":p.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},E):(0,or.u)("div",{key:p.uid,role:"button",tabIndex:0,title:v,"aria-label":v,class:this.classes(Rr_button,_),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-uid":p.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},E);return p.visible?w:null}renderFeatureMenuItem(y,p){const{messages:g,messagesCommon:v}=this,{selectedFeatureIndex:_,selectedFeatureViewModel:E}=this.viewModel,w=y===E,D={"esri-popup__feature-menu-item--selected":w},O=w?(0,or.u)("span",{key:Gl(`feature-menu-selected-feature-${_}`),title:g.selectedFeature,"aria-label":g.selectedFeature,class:"esri-icon-check-mark"}):null,L=(0,or.u)("span",{innerHTML:y.title||v.untitled});return(0,or.u)("li",{role:"menuitem",tabIndex:-1,key:Gl(`feature-menu-feature-${_}`),class:this.classes(D,"esri-popup__feature-menu-item"),bind:this,"data-feature-index":p,onkeyup:this._handleFeatureMenuItemKeyup,onclick:this._selectFeature,onkeydown:this._selectFeature},(0,or.u)("span",{class:"esri-popup__feature-menu-title"},L,O))}renderFeatureMenu(){const{featureMenuId:y}=this,{featureViewModels:p}=this.viewModel;return p.length>1?(0,or.u)("ol",{class:"esri-popup__feature-menu-list",id:y,bind:this,afterCreate:this._featureMenuNodeUpdated,afterUpdate:this._featureMenuNodeUpdated,onkeyup:this._handleFeatureMenuKeyup,role:"menu"},p.filter(g=>!!g.graphic).map((g,v)=>this.renderFeatureMenuItem(g,v))):null}_getActionTitle(y){const{messages:p,selectedFeature:g,messagesCommon:v}=this,{id:_}=y,E=null==g?void 0:g.attributes,w="zoom-to-feature"===_?(0,Kl.n)(y.title,{messages:p}):"remove-selected-feature"===_?(0,Kl.n)(y.title,{messages:v}):"zoom-to-clustered-features"===_||"browse-clustered-features"===_?(0,Kl.n)(y.title,{messages:p}):y.title;return w&&E?(0,Kl.n)(w,E):w}_getActionClass(y){const{selectedFeature:p}=this,g=null==p?void 0:p.attributes,{className:v,image:_}=y,E=_||v?v:"esri-icon-default-action";return E&&g?(0,Kl.n)(E,g):E}_getActionImage(y){const{selectedFeature:p}=this,g=null==p?void 0:p.attributes,{image:v}=y;return v&&g?(0,Kl.n)(v,g):v}_createFeatureUpdatedAnimation(){return(0,Xo.vU)("enter","esri-popup--feature-updated")}_getInlineActionCount(){const{maxInlineActions:y,featureNavigationVisible:p}=this;if("number"!=typeof y)return null;const g=Math.round(y);return Math.max(p?g-1:g,0)}_watchActions(){const{allActions:y}=this.viewModel;this.notifyChange("dividedActions");const p="actions";this._handles.remove(p),y&&y.forEach(g=>{this._handles.add((0,kr.YP)(g,["uid","active","className","disabled","id","title","image","visible"],()=>this.scheduleRender()),p)})}_divideActions(){const{allActions:y}=this.viewModel,p=y.filter(E=>E.visible),g=this._getInlineActionCount(),v=null===g,_=0===g;return{inlineActions:v?p.slice(0):_?new zi.Z:p.slice(0,g),menuActions:v?new zi.Z:p.slice(_?0:g)}}_featureMenuOpenChanged(y){y?this._focusFirstFeature=!0:this._focusFeatureMenuButton=!0}_actionsMenuOpenChanged(y){y?this._focusFirstAction=!0:this._focusActionsMenuButton=!0}_setTitleFromFeatureWidget(){const{selectedFeatureWidget:y,messagesCommon:p}=this;var g,v;y&&(this.viewModel.title="error"===(null==(g=y.viewModel)?void 0:g.state)?p.errorMessage:(null==(v=y.viewModel)?void 0:v.title)||"")}_setContentFromFeatureWidget(){const{selectedFeatureWidget:y}=this;y&&(this.viewModel.content=y)}_unobserveFeatureMenuObserver(){this._featureMenuIntersectionObserverNode&&this._featureMenuIntersectionObserver.unobserve(this._featureMenuIntersectionObserverNode)}_featureMenuIntersectionObserverCreated(y){this._unobserveFeatureMenuObserver(),this._featureMenuIntersectionObserver.observe(y),this._featureMenuIntersectionObserverNode=y}_handleFeatureMenuKeyup(y){"Escape"===(0,Hd.kK)(y)&&(y.stopPropagation(),this._focusFeatureMenuButton=!0,this.featureMenuOpen=!1,this.scheduleRender())}_handleActionMenuKeyup(y){"Escape"===(0,Hd.kK)(y)&&(y.stopPropagation(),this._focusActionsMenuButton=!0,this.actionsMenuOpen=!1,this.scheduleRender())}_handleFeatureMenuItemKeyup(y){const p=(0,Hd.kK)(y),{_featureMenuNode:g}=this,v=y.currentTarget["data-feature-index"];if(!g)return;const _=g.querySelectorAll("li"),E=_.length;"ArrowUp"!==p?"ArrowDown"!==p?"Home"!==p?"End"!==p||(y.stopPropagation(),_[_.length-1].focus()):(y.stopPropagation(),_[0].focus()):(y.stopPropagation(),_[(v+1+E)%E].focus()):(y.stopPropagation(),_[(v-1+E)%E].focus())}_handleActionMenuItemKeyup(y){const p=(0,Hd.kK)(y),{_actionsMenuNode:g}=this,v=y.currentTarget.dataset.actionUid,{menuActions:_}=this.dividedActions,E=_.findIndex(O=>O.uid===v);if(!g)return;const w=g.querySelectorAll("li"),D=w.length;"ArrowUp"!==p?"ArrowDown"!==p?"Home"!==p?"End"!==p||(y.stopPropagation(),w[w.length-1].focus()):(y.stopPropagation(),w[0].focus()):(y.stopPropagation(),w[(E+1+D)%D].focus()):(y.stopPropagation(),w[(E-1+D)%D].focus())}_handleMainKeyup(y){const p=(0,Hd.kK)(y);"ArrowLeft"===p&&(y.stopPropagation(),this.previous()),"ArrowRight"===p&&(y.stopPropagation(),this.next())}_spinnerEnabledChange(y){if(this._destroySpinner(),!y)return;const p=this.get("viewModel.view");this._createSpinner(p)}_hideSpinner(){const{_spinner:y}=this;y&&(y.location=null,y.hide())}_displaySpinner(){const{_spinner:y}=this;if(!y)return;const{location:p,waitingForResult:g}=this.viewModel;g?y.show({location:p}):y.hide()}_getIconStyles(y){return{"background-image":y?`url(${y})`:""}}_addSelectedFeatureIndexHandle(){const y=(0,kr.YP)(this,"viewModel.selectedFeatureIndex",(p,g)=>this._selectedFeatureIndexUpdated(p,g));this._handles.add(y,WP)}_selectedFeatureIndexUpdated(y,p){const{featureCount:g}=this;g&&y!==p&&-1!==y&&(this.actionsMenuOpen=!1,this.featureMenuOpen=!1)}_destroySelectedFeatureWidget(){const{_feature:y}=this;y&&(y.viewModel=null,y&&!y.destroyed&&y.destroy()),this._feature=null}_isScreenLocationWithinView(y,p){return y.x>-1&&y.y>-1&&y.x<=p.width&&y.y<=p.height}_isOutsideView(y){const{popupHeight:p,popupWidth:g,screenLocation:v,side:_,view:E}=y;if(isNaN(g)||isNaN(p)||!E||!v)return!1;const w=E.padding;return"right"===_&&v.x+g/2>E.width-w.right||"left"===_&&v.x-g/2<w.left||"top"===_&&v.y-p<w.top||"bottom"===_&&v.y+p>E.height-w.bottom}_calculateAutoAlignment(y){if("auto"!==y)return y;const{_pointerOffsetInPx:p,_containerNode:g,_mainContainerNode:v,viewModel:_}=this,{screenLocation:E,view:w}=_;if((0,fr.Wi)(E)||!w||!g)return"top-center";if(!this._isScreenLocationWithinView(E,w))return this._get("currentAlignment")||"top-center";function D(Nt){return parseInt(Nt.replace(/[^-\d\.]/g,""),10)}const O=v?window.getComputedStyle(v,null):null,L=O?D(O.getPropertyValue("max-height")):0,z=O?D(O.getPropertyValue("height")):0,{height:se,width:Ee}=g.getBoundingClientRect(),Me=Ee+p,Ge=Math.max(se,L,z)+p,st=this._isOutsideView({popupHeight:Ge,popupWidth:Me,screenLocation:E,side:"right",view:w}),vt=this._isOutsideView({popupHeight:Ge,popupWidth:Me,screenLocation:E,side:"left",view:w}),Ct=this._isOutsideView({popupHeight:Ge,popupWidth:Me,screenLocation:E,side:"top",view:w}),pt=this._isOutsideView({popupHeight:Ge,popupWidth:Me,screenLocation:E,side:"bottom",view:w});return vt?Ct?"bottom-right":"top-right":st?Ct?"bottom-left":"top-left":Ct?pt?"top-center":"bottom-center":"top-center"}_callCurrentAlignment(y){return"function"==typeof y?y.call(this):y}_getCurrentAlignment(){const{alignment:y,dockEnabled:p}=this;return p||!this.viewModel.active?null:this._calculatePositionResult(this._calculateAutoAlignment(this._callCurrentAlignment(y)))}_setCurrentAlignment(){this._set("currentAlignment",this._getCurrentAlignment())}_setCurrentDockPosition(){this._set("currentDockPosition",this._getCurrentDockPosition())}_calculatePositionResult(y){const p=["left","right"];return(0,Xo.dZ)(this.container)&&p.reverse(),y.replace(/leading/gi,p[0]).replace(/trailing/gi,p[1])}_callDockPosition(y){return"function"==typeof y?y.call(this):y}_getDockPosition(){var y;return this._calculatePositionResult(this._calculateAutoDockPosition(this._callDockPosition(null==(y=this.dockOptions)?void 0:y.position)))}_getCurrentDockPosition(){return this.dockEnabled&&this.viewModel.active?this._getDockPosition():null}_wouldDockTo(){return this.dockEnabled?null:this._getDockPosition()}_calculateAutoDockPosition(y){var p;if("auto"!==y)return y;const g=null==(p=this.viewModel)?void 0:p.view,v=(0,Xo.dZ)(this.container)?"top-left":"top-right";if(!g)return v;const _=g.padding||{left:0,right:0,top:0,bottom:0},E=g.width-_.left-_.right,{breakpoints:w}=g;return w&&E<=w.xsmall?"bottom-center":v}_positionContainer(y=this._containerNode){if(y&&(this._containerNode=y),!y)return;const{screenLocation:p}=this.viewModel,{width:g}=y.getBoundingClientRect(),v=this._calculatePositionStyle(p,g);v&&(y.style.top=v.top,y.style.left=v.left,y.style.bottom=v.bottom,y.style.right=v.right)}_calculateFullWidth(y){const{currentAlignment:p,_pointerOffsetInPx:g}=this;return"top-left"===p||"bottom-left"===p||"top-right"===p||"bottom-right"===p?y+g:y}_calculateAlignmentPosition(y,p,g,v){const{currentAlignment:_,_pointerOffsetInPx:E}=this,w=v/2,D=g.height-p,O=g.width-y,{padding:L}=this.view;return"bottom-center"===_?{top:p+E-L.top,left:y-w-L.left}:"top-left"===_?{bottom:D+E-L.bottom,right:O+E-L.right}:"bottom-left"===_?{top:p+E-L.top,right:O+E-L.right}:"top-right"===_?{bottom:D+E-L.bottom,left:y+E-L.left}:"bottom-right"===_?{top:p+E-L.top,left:y+E-L.left}:"top-center"===_?{bottom:D+E-L.bottom,left:y-w-L.left}:void 0}_calculatePositionStyle(y,p){const{dockEnabled:g,view:v}=this;if(!v)return;if(g)return{left:"",top:"",right:"",bottom:""};if((0,fr.Wi)(y)||!p)return;const _=this._calculateFullWidth(p),E=this._calculateAlignmentPosition(y.x,y.y,v,_);return E?{top:void 0!==E.top?`${E.top}px`:"auto",left:void 0!==E.left?`${E.left}px`:"auto",bottom:void 0!==E.bottom?`${E.bottom}px`:"auto",right:void 0!==E.right?`${E.right}px`:"auto"}:void 0}_viewChange(y,p){y&&p&&(this.close(),this.clear())}_viewReadyChange(y,p){if(y){const g=this.get("viewModel.view");this._wireUpView(g)}else p&&(this.close(),this.clear())}_wireUpView(y){if(this._destroySpinner(),!y)return;const{spinnerEnabled:p}=this;p&&this._createSpinner(y),this._setDockEnabledForViewSize(this.dockOptions)}_dockingThresholdCrossed(y,p,g){const[v,_]=y,[E,w]=p,{width:D,height:O}=g;return v<=D&&E>D||v>D&&E<=D||_<=O&&w>O||_>O&&w<=O}_updateDockEnabledForViewSize(y,p){if(!y||!p)return;const g=this.get("viewModel.view.padding")||{left:0,right:0,top:0,bottom:0},v=g.left+g.right,_=g.top+g.bottom,E=[],w=[];E[0]=y[0]-v,E[1]=y[1]-_,w[0]=p[0]-v,w[1]=p[1]-_;const{dockOptions:D}=this;this._dockingThresholdCrossed(E,w,D.breakpoint)&&this._setDockEnabledForViewSize(D),this._setCurrentDockPosition()}_focusDockButtonNode(y){this._focusDockButton&&(this._focusDockButton=!1,y.focus())}_closeButtonNodeUpdated(y){return this._focusClose?(this._focusClose=!1,void y.focus()):this._blurClose?(this._blurClose=!1,void y.blur()):void 0}_mainContainerNodeUpdated(y){return this._mainContainerNode=y,this._focusContainer?(this._focusContainer=!1,void y.focus()):this._blurContainer?(this._blurContainer=!1,void y.blur()):void 0}_featureMenuNodeUpdated(y){if(this._featureMenuNode=y,!y||!this._focusFirstFeature)return;this._focusFirstFeature=!1;const p=y.querySelectorAll("li");p.length&&p[0].focus()}_actionsMenuNodeUpdated(y){if(this._actionsMenuNode=y,!y||!this._focusFirstAction)return;this._focusFirstAction=!1;const p=y.querySelectorAll("li");p.length&&p[0].focus()}_focusFeatureMenuButtonNode(y){this._focusFeatureMenuButton&&(this._focusFeatureMenuButton=!1,y.focus())}_focusActionsMenuButtonNode(y){this._focusActionsMenuButton&&(this._focusActionsMenuButton=!1,y.focus())}_featureMenuViewportScrollTop(){this._featureMenuViewportNode&&(this._featureMenuViewportNode.scrollTop=0)}_toggleScreenLocationEnabled(){const{dockEnabled:y,viewModel:p}=this;p&&(p.screenLocationEnabled=p.active&&!y)}_shouldDockAtCurrentViewSize(y){var p,g;const v=y.breakpoint,_=null==(p=this.viewModel)||null==(g=p.view)?void 0:g.ui;if(!_)return!1;const{width:E,height:w}=_;if(isNaN(E)||isNaN(w))return!1;const D=v.hasOwnProperty("width")&&E<=v.width,O=v.hasOwnProperty("height")&&w<=v.height;return D||O}_setDockEnabledForViewSize(y){y.breakpoint&&(this.dockEnabled=this._shouldDockAtCurrentViewSize(y))}_getPageText(y,p){return this.featureNavigationVisible?(0,Kl.n)(this.messages.pageText,{index:p+1,total:y}):null}_destroySpinner(){const{_spinner:y,view:p}=this;y&&(p&&p.ui&&p.ui.remove(this._spinner,kP),y.destroy(),this._spinner=null)}_createSpinner(y){y&&(this._spinner=new tJ({view:y}),y.ui.add(this._spinner,{key:kP,position:"manual"}))}_toggleCollapsed(){this.collapsed=!this.collapsed}_close(){this.close(),this.view&&this.view.focus()}_toggleDockEnabled(){this.dockEnabled=!this.dockEnabled,this._focusDockButton=!0,this.scheduleRender()}_toggleFeatureMenu(){const y=!this.featureMenuOpen;this._featureMenuOpenChanged(y),this.actionsMenuOpen=!1,this.featureMenuOpen=y}_toggleActionsMenu(){const y=!this.actionsMenuOpen;this._actionsMenuOpenChanged(y),this.featureMenuOpen=!1,this.actionsMenuOpen=y}_triggerAction(y){const p=y.currentTarget.dataset.actionUid,{allActions:g}=this.viewModel,v=g.findIndex(E=>E.uid===p),_=g.getItemAt(v);_&&"toggle"===_.type&&(_.value=!_.value),this.actionsMenuOpen=!1,this.viewModel.triggerAction(v)}_selectFeature(y){const p=y.currentTarget["data-feature-index"];isNaN(p)||(this.viewModel.selectedFeatureIndex=p),this.featureMenuOpen=!1,this._focusFeatureMenuButton=!0,this.scheduleRender()}_next(){this.next()}_previous(){this.previous()}};(0,De._)([(0,Be.Cb)({readOnly:!0})],cn.prototype,"actionsMenuId",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],cn.prototype,"actionsMenuButtonId",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],cn.prototype,"featureMenuId",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],cn.prototype,"titleId",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],cn.prototype,"contentId",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],cn.prototype,"hasContent",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],cn.prototype,"featureNavigationVisible",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],cn.prototype,"collapsible",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],cn.prototype,"featureMenuVisible",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],cn.prototype,"contentCollapsed",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],cn.prototype,"dividedActions",null),(0,De._)([(0,hn.B)("viewModel.actions")],cn.prototype,"actions",void 0),(0,De._)([(0,Be.Cb)()],cn.prototype,"actionsMenuOpen",null),(0,De._)([(0,Be.Cb)()],cn.prototype,"alignment",void 0),(0,De._)([(0,hn.B)("viewModel.autoCloseEnabled")],cn.prototype,"autoCloseEnabled",void 0),(0,De._)([(0,hn.B)("viewModel.autoOpenEnabled")],cn.prototype,"autoOpenEnabled",void 0),(0,De._)([(0,hn.B)("viewModel.defaultPopupTemplateEnabled")],cn.prototype,"defaultPopupTemplateEnabled",void 0),(0,De._)([(0,hn.B)("viewModel.content")],cn.prototype,"content",void 0),(0,De._)([(0,Be.Cb)()],cn.prototype,"collapsed",void 0),(0,De._)([(0,Be.Cb)()],cn.prototype,"collapseEnabled",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],cn.prototype,"currentAlignment",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],cn.prototype,"currentDockPosition",null),(0,De._)([(0,Be.Cb)()],cn.prototype,"dockOptions",null),(0,De._)([(0,Be.Cb)()],cn.prototype,"dockEnabled",void 0),(0,De._)([(0,hn.B)("viewModel.featureCount")],cn.prototype,"featureCount",void 0),(0,De._)([(0,Be.Cb)()],cn.prototype,"featureMenuOpen",void 0),(0,De._)([(0,hn.B)("viewModel.features")],cn.prototype,"features",void 0),(0,De._)([(0,hn.B)("viewModel.goToOverride")],cn.prototype,"goToOverride",void 0),(0,De._)([(0,Be.Cb)()],cn.prototype,"headingLevel",void 0),(0,De._)([(0,hn.B)("viewModel.highlightEnabled")],cn.prototype,"highlightEnabled",void 0),(0,De._)([(0,hn.B)("viewModel.location")],cn.prototype,"location",void 0),(0,De._)([(0,Be.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],cn.prototype,"label",void 0),(0,De._)([(0,Be.Cb)()],cn.prototype,"maxInlineActions",void 0),(0,De._)([(0,Be.Cb)(),(0,Vs.H)("esri/widgets/Popup/t9n/Popup")],cn.prototype,"messages",void 0),(0,De._)([(0,Be.Cb)(),(0,Vs.H)("esri/t9n/common")],cn.prototype,"messagesCommon",void 0),(0,De._)([(0,hn.B)("viewModel.promises")],cn.prototype,"promises",void 0),(0,De._)([(0,hn.B)("viewModel.selectedFeature")],cn.prototype,"selectedFeature",void 0),(0,De._)([(0,hn.B)("viewModel.selectedFeatureIndex")],cn.prototype,"selectedFeatureIndex",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],cn.prototype,"selectedFeatureWidget",null),(0,De._)([(0,Be.Cb)()],cn.prototype,"spinnerEnabled",void 0),(0,De._)([(0,hn.B)("viewModel.title")],cn.prototype,"title",void 0),(0,De._)([(0,hn.B)("viewModel.updateLocationEnabled")],cn.prototype,"updateLocationEnabled",void 0),(0,De._)([(0,hn.B)("viewModel.view")],cn.prototype,"view",void 0),(0,De._)([(0,Be.Cb)({type:VP}),function bJ(y){return p=>{p.hasOwnProperty("_delegatedEventNames")||(p._delegatedEventNames=p._delegatedEventNames?p._delegatedEventNames.slice():[]);const g=p._delegatedEventNames,v=Array.isArray(y)?y:function _J(y){return y.split(",").map(p=>p.trim())}(y);g.push(...v)}}(["triggerAction","trigger-action"])],cn.prototype,"viewModel",void 0),(0,De._)([(0,hn.B)("viewModel.visible")],cn.prototype,"visible",void 0),(0,De._)([(0,Be.Cb)()],cn.prototype,"visibleElements",void 0),(0,De._)([(0,hl.p)("visibleElements")],cn.prototype,"castVisibleElements",null),(0,De._)([(0,va.h)()],cn.prototype,"_close",null),(0,De._)([(0,va.h)()],cn.prototype,"_toggleDockEnabled",null),(0,De._)([(0,va.h)()],cn.prototype,"_toggleFeatureMenu",null),(0,De._)([(0,va.h)()],cn.prototype,"_toggleActionsMenu",null),(0,De._)([(0,va.h)()],cn.prototype,"_triggerAction",null),(0,De._)([(0,va.h)()],cn.prototype,"_selectFeature",null),(0,De._)([(0,va.h)()],cn.prototype,"_next",null),(0,De._)([(0,va.h)()],cn.prototype,"_previous",null),cn=(0,De._)([(0,Lr.j)(KP)],cn);const HP=cn,y2=[0,0];function JP(y){y&&((0,Au.cS)(y),y.parentNode&&y.parentNode.removeChild(y))}const OJ=y=>{let p=class extends y{constructor(...g){super(...g),this._freqInfo={freq:16,time:750},this._overlayRenderTaskHandle=null,this.height=0,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.handles.add([this.watch("cursor",v=>{const _=this.surface;_&&_.setAttribute("data-cursor",v)}),this.watch("interacting",v=>{const _=this.surface;_&&_.setAttribute("data-interacting",v.toString())})])}initialize(){this.handles.add(this.watch("ui",(g,v)=>this._handleUIChange(g,v))),this._wireUI(this.ui),this.handles.add([this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused"))])}destroy(){this.destroyed||(this.ui&&(this.ui.destroy(),this.ui=null),this.popup&&!this.popup.destroyed&&this.popup.destroy(),this.container=null)}set container(g){const v=this._get("container");if(v===g)return;const _="dom-size";if(this.handles.remove(_),this._stopMeasuring(),v&&(v.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay.destroy(),this._set("overlay",null),JP(this.root),this._set("root",null),(0,Au.YD)(this.userContent,v),JP(this.userContent),this._set("userContent",null)),g){g.classList.add("esri-view");const E=document.createElement("div");E.className="esri-view-user-storage",(0,Au.YD)(g,E),g.appendChild(E),this._set("userContent",E);const w=document.createElement("div");w.className="esri-view-root",g.insertBefore(w,g.firstChild),this._set("root",w);const D=document.createElement("div");D.className="esri-view-surface",D.setAttribute("role","application"),D.tabIndex=0,w.appendChild(D),this._set("surface",D);const O=new YT;w.appendChild(O.surface),this._set("overlay",O),O.watch("needsRender",L=>{L&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=(0,vc.A)({render:()=>{this.overlay.render()}}):this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null)}),this.forceDOMReadyCycle(),this.handles.add((0,kr.S1)(this,"size",L=>{const[z,se]=L,Ee="esri-view-surface--inset-outline";z>=document.body.clientWidth||se>=document.body.clientHeight?D.classList.add(Ee):D.classList.remove(Ee)}),_),this._set("container",g),this._startMeasuring()}else this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),this._set("container",null)}get focused(){const g=document.activeElement===this.surface;return document.hasFocus()&&g}get popup(){return this._get("popup")||new HP({view:this})}set popup(g){const v=this._get("popup");v&&v!==g&&v.destroy(),this._set("popup",g)}get size(){return[this.width,this.height]}blur(){this.surface&&this.surface.blur()}focus(){this.surface&&this.surface.focus()}pageToContainer(g,v,_){const E=this.position;return g-=E[0],v-=E[1],_?(_[0]=g,_[1]=v):_=[g,v],_}containerToPage(g,v,_){const E=this.position;return g+=E[0],v+=E[1],_?(_[0]=g,_[1]=v):_=[g,v],_}_handleUIChange(g,v){v&&(this.handles.remove("ui"),v.destroy()),g&&this._wireUI(g),this._set("ui",g)}_wireUI(g){this.handles.remove("ui"),g&&(g.view=this,this.handles.add([(0,kr.S1)(this,"root",v=>{g.container=v?function wJ(y){const p=document.createElement("div");return y.appendChild(p),p}(v):null}),(0,kr.S1)(this,"popup",(v,_)=>{const E="popup";_&&g.remove(_,E),v&&(v.view=g.view,g.add(v,{key:E,position:"manual"}))})],"ui"))}_stopMeasuring(){this.handles.remove("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const g=this._freqInfo;g.freq=16,g.time=750,this.handles.add([(()=>{const v=()=>{g.freq=16,g.time=750};return window.addEventListener("resize",v),{remove(){window.removeEventListener("resize",v)}}})(),(0,vc.A)({prepare:v=>{const _=this._measure(),E=this._freqInfo;if(E.time+=v.deltaTime,_&&(E.freq=16,this._get("resizing")||this._set("resizing",!0)),E.time<E.freq)return;E.time=0;const w=this._position();E.freq=w||_?16:Math.min(750,2*E.freq),!_&&E.freq>=512&&this._get("resizing")&&this._set("resizing",!1)}})],"measuring"),this._measure(),this._position()}_measure(){const g=this.container,v=g?g.clientWidth:0,_=g?g.clientHeight:0;if(0===v||0===_)return this.suspended||this._set("suspended",!0),!1;const E=this.width,w=this.height;return v===E&&_===w?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",v),this._set("height",_),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:E,oldHeight:w,width:v,height:_}),!0)}_position(){const v=this.position,_=function MJ(y){const p=(y.ownerDocument||window.document).defaultView,g=y.getBoundingClientRect();return y2[0]=g.left+p.pageXOffset,y2[1]=g.top+p.pageYOffset,y2}(this.container);return!(v&&_[0]===v[0]&&_[1]===v[1]||(this._set("position",[_[0],_[1]]),0))}forceDOMReadyCycle(){}};return(0,De._)([(0,Be.Cb)({value:null,cast:g=>(0,Au.L7)(g)})],p.prototype,"container",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],p.prototype,"focused",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],p.prototype,"height",void 0),(0,De._)([(0,Be.Cb)({type:HP})],p.prototype,"popup",null),(0,De._)([(0,Be.Cb)({type:YT})],p.prototype,"overlay",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],p.prototype,"position",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],p.prototype,"resizing",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],p.prototype,"root",void 0),(0,De._)([(0,Be.Cb)({value:null,readOnly:!0})],p.prototype,"size",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],p.prototype,"surface",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],p.prototype,"suspended",void 0),(0,De._)([(0,Be.Cb)()],p.prototype,"ui",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],p.prototype,"userContent",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],p.prototype,"width",void 0),(0,De._)([(0,Be.Cb)()],p.prototype,"widthBreakpoint",void 0),p=(0,De._)([(0,Lr.j)("esri.views.DOMContainer")],p),p};var ks=C(23841),SJ=C(2584);const IJ=y=>{let p=class extends y{fetchPopupFeatures(g,v){var _=this;return(0,qr.Z)(function*(){yield _.when();const{location:E,queryArea:w,layerViewsAndGraphics:D,clientOnlyGraphics:O}=yield _._prepareFetchPopupFeatures(g,v),L=Promise.resolve(O),z=_._queryLayerPopupFeatures(w,D,v),se=z.map(Ee=>Ee.promise);return{location:E,clientOnlyGraphics:O,allGraphicsPromise:(0,Hn.WW)([L,...se]).then(oT.xH),promisesPerLayerView:z}})()}_queryLayerPopupFeatures(g,v,_){return v.map(({layerView:E,graphics:w})=>{const D={clientGraphics:w,event:(0,fr.pC)(_)?_.event:null,signal:(0,fr.pC)(_)?_.signal:null,defaultPopupTemplateEnabled:!!(0,fr.pC)(_)&&!!_.defaultPopupTemplateEnabled},O=E.fetchPopupFeatures(g,D);return{layerView:E,promise:O}})}_isValidPopupGraphic(g,v){return g&&!!g.getEffectivePopupTemplate((0,fr.pC)(v)&&v.defaultPopupTemplateEnabled)}_prepareFetchPopupFeatures(g,v){var _=this;return(0,qr.Z)(function*(){const{clientGraphics:E,queryArea:w,location:D}=yield _._popupHitTestGraphics(g,v),O=_._getFetchPopupLayerViews(),{layerViewsAndGraphics:L,clientOnlyGraphics:z}=_._graphicsPerFetchPopupLayerView(E,O);return{clientOnlyGraphics:z,layerViewsAndGraphics:L,queryArea:w,location:D}})()}_popupHitTestGraphics(g,v){var _=this;return(0,qr.Z)(function*(){const{results:E,mapPoint:w}=yield _.popupHitTest(g),D=E.filter(L=>_._isValidPopupGraphic(L.graphic,v)),O=D.length?D[0].mapPoint:null;return{clientGraphics:D.map(L=>L.graphic),queryArea:w,location:w||O}})()}_getFetchPopupLayerViews(){const g=[];return this.allLayerViews.forEach(v=>{this._isValidPopupLayerView(v)&&g.push(v)}),(0,fr.pC)(this.graphicsView)&&this._isValidPopupLayerView(this.graphicsView)&&g.push(this.graphicsView),g.reverse()}_isValidPopupLayerView(g){return(0,fr.pC)(g)&&(!("layer"in g)||!g.suspended)&&"fetchPopupFeatures"in g}_graphicsPerFetchPopupLayerView(g,v){const _=[],E=new Map,w=v.map(D=>{const O=[];return E.set("layer"in D?D.layer:D.graphics,O),{layerView:D,graphics:O}});for(const D of g){const O=E.get(D.layer)||E.get(D.sourceLayer)||null;O?O.push(D):_.push(D)}return{layerViewsAndGraphics:w,clientOnlyGraphics:_}}};return p=(0,De._)([(0,Lr.j)("esri.views.PopupView")],p),p};var YP=C(54024),hy=C(32917),g2=C(28705),v2=C(79334);let fy=class extends g2.a{_own(y){y.parent=this.owner}_release(y){y.parent=null}};fy=(0,De._)([(0,Lr.j)("esri.support.AnalysesCollection")],fy);var XP=C(51815);let ju=class extends di.Z{constructor(y){super(y),this.view=null,this.baseLayerViews=new zi.Z,this.referenceLayerViews=new zi.Z,this._loadingHandle=(0,kr.S1)(this,"view.map.basemap",p=>{p&&p.load().catch(()=>{})})}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null)}get suspended(){return!this.view||this.view.suspended}get updating(){return!(this.view&&this.view.suspended||!(this.view&&this.view.map&&this.view.map.basemap)||this.view.map.basemap.loaded)}};(0,De._)([(0,Be.Cb)({constructOnly:!0})],ju.prototype,"view",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],ju.prototype,"baseLayerViews",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],ju.prototype,"referenceLayerViews",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],ju.prototype,"suspended",null),(0,De._)([(0,Be.Cb)({type:Boolean,readOnly:!0})],ju.prototype,"updating",null),ju=(0,De._)([(0,Lr.j)("esri.views.BasemapView")],ju);var py=C(88159);const TJ=co.Z.getLogger("esri.views.LayerViewManager");class PJ{constructor(p,g,v){this.layer=p,this.view=g,this.layerViewImporter=v,this._controller=new AbortController,this._deferred=(0,Hn.dD)(),this._started=!1,this.done=!1,(0,Hn.fu)(this._controller.signal,()=>{const _=new on.Z("cancelled:layerview-create","layerview creation cancelled",{layer:p});this._deferred.reject(_)})}get promise(){return this._deferred.promise}destroy(){this._controller.abort();const{layerView:p}=this;if(!p)return;const{layer:g,view:v}=this;g.emit("layerview-destroy",{view:v,layerView:p}),v.emit("layerview-destroy",{layer:g,layerView:p}),this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null}start(){var p=this;return(0,qr.Z)(function*(){if(p._started)return;p._started=!0;const{_controller:{signal:g},layer:v,view:_}=p;p._map=_.map;try{var E,w;let D,O;if(yield v.load({signal:g}),"prefetchResources"in v&&(yield v.prefetchResources({signal:g})),v.createLayerView)D=yield v.createLayerView(_,{signal:g});else{if(!p.layerViewImporter.hasLayerViewModule(v))throw new on.Z("layer:view-not-supported","No layerview implementation was found");const z=yield p.layerViewImporter.importLayerView(v);(0,Hn.k_)(g),D="default"in z?new z.default({layer:v,view:_}):new z({layer:v,view:_})}const L=()=>{O=(0,fr.hw)(O),D.destroyed||D.destroy(),D.layer=null,D.parent=null,D.view=null,p.done=!0};O=(0,Hn.fu)(g,L),(0,Hn.k_)(g);try{yield D.when()}catch(z){throw L(),z}if(!(null==(E=p._map)||null==(w=E.allLayers)?void 0:w.includes(v)))return L(),void p._deferred.reject(new on.Z("view:no-layerview-for-layer","The layer has been removed from the map",{layer:v}));p.layerView=D,v.emit("layerview-create",{view:_,layerView:D}),_.emit("layerview-create",{layer:v,layerView:D}),p.done=!0,p._deferred.resolve(D)}catch(D){v.emit("layerview-create-error",{view:_,error:D}),_.emit("layerview-create-error",{layer:v,error:D}),p.done=!0,p._deferred.reject(new on.Z("layerview:create-error","layerview creation failed",{layer:v,error:D}))}})()}}let _a=class extends _c.r{constructor(y){super(y),this._layerLayerViewInfoMap=new Map,this._watchUpdatingTracking=new JT.t,this.supportsGround=!0,this._preloadLayerViewModules=()=>{var p;const g=null==(p=this.view.map)?void 0:p.allLayers;if(g)for(const v of g)this.layerViewImporter.hasLayerViewModule(v)&&this.layerViewImporter.importLayerView(v)},this._reschedule=()=>((0,fr.Wi)(this._workPromise)&&(this._workPromise=(0,Hn.dD)()),this.handles.remove("reschedule"),this.handles.add((0,vc.Os)(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{var p,g,v;const _=this.view.map;if(this._map!==_&&(this.clear(),this._map=_),(0,fr.Wi)(this._workPromise))return void this.notifyChange("updating");this.handles.remove("reschedule"),this.handles.remove("collection-change");const E=new Fd.Z({getCollections:()=>this._rootCollectionNames.map(O=>this.get(O)),getChildrenFunction:O=>O&&"layers"in O?O.layers:null});if(!E)return this._workPromise.resolve(),void(this._workPromise=null);for(const O of E)this._createLayerView(O);this._refreshCollections();for(const[O,L]of this._layerLayerViewInfoMap)E.includes(O)||(this._layerLayerViewInfoMap.delete(L.layer),L.destroy());const w=E.filter(O=>"group"===O.type).map(O=>O.layers),D=[null==_||null==(p=_.ground)?void 0:p.layers,null==_||null==(g=_.basemap)?void 0:g.baseLayers,null==_||null==(v=_.basemap)?void 0:v.referenceLayers,null==_?void 0:_.layers,...w].filter(O=>!!O);this.handles.add(D.map(O=>this._watchUpdatingTracking.addOnCollectionChange(O,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.handles.add([(0,kr.on)(this,"view.map.allLayers","change",this._preloadLayerViewModules,this._preloadLayerViewModules),(0,kr.S1)(this.view,["map.basemap","map.ground","map.layers","ready"],this._reschedule,!0)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),this._watchUpdatingTracking.destroy(),this._map=null}get _layersToLayerViews(){const y=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&y.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(y)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return(0,fr.pC)(this._workPromise)||this._watchUpdatingTracking.updating||(0,py.oE)(this._layerLayerViewInfoMap,y=>!y.done)}get updatingRemaining(){let y=0;for(const p of this._layerLayerViewInfoMap.values())p.done||++y;return y}clear(){if(!this.destroyed){for(const y of this._layerLayerViewInfoMap.values())y.destroy();this._layerLayerViewInfoMap.clear(),this._refreshCollections()}}whenLayerView(y){var p=this;return(0,qr.Z)(function*(){if(yield p._reschedule(),!p._layerLayerViewInfoMap.has(y))throw new on.Z("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:y});return p._layerLayerViewInfoMap.get(y).promise})()}_refreshCollections(){for(const[y,p]of this._layersToLayerViews)this._populateLayerViewsOwners(this.get(y),this.get(p),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(y,p,g){if(!y||!p)return void(p&&p.removeAll());let v=0;for(const _ of y){const E=this._layerLayerViewInfoMap.get(_);if(!E||!E.layerView)continue;const w=E.layerView;w.layer=_,w.parent=g,p.getItemAt(v)!==w&&p.splice(v,0,w),_.layers&&this._populateLayerViewsOwners(_.layers,w.layerViews,w),v+=1}v<p.length&&p.splice(v,p.length)}_createLayerView(y){if(this._layerLayerViewInfoMap.has(y))return this.view.ready&&this._layerLayerViewInfoMap.get(y).start(),this.notifyChange("updating"),void this.notifyChange("updatingRemaining");y.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(y)&&this.layerViewImporter.importLayerView(y);const p=new PJ(y,this.view,this.layerViewImporter);p.promise.then(()=>this._refreshCollections(),g=>{var v,_;g&&((0,Hn.D_)(g)||"cancelled:layerview-create"===g.name)||TJ.error(`Failed to create layerview for layer title:'${null!=(v=y.title)?v:"no title"}', id:'${null!=(_=y.id)?_:"no id"}' of type '${y.type}'.`,{layer:y,error:g}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(y,p),this.view.ready&&p.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};(0,De._)([(0,Be.Cb)()],_a.prototype,"_workPromise",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],_a.prototype,"_watchUpdatingTracking",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],_a.prototype,"_layersToLayerViews",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],_a.prototype,"_rootCollectionNames",null),(0,De._)([(0,Be.Cb)()],_a.prototype,"layerViewImporter",void 0),(0,De._)([(0,Be.Cb)()],_a.prototype,"supportsGround",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],_a.prototype,"updating",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],_a.prototype,"updatingRemaining",null),(0,De._)([(0,Be.Cb)({constructOnly:!0})],_a.prototype,"view",void 0),_a=(0,De._)([(0,Lr.j)("esri.views.LayerViewManager")],_a);const AJ=_a;let ia=class extends di.Z{constructor(y){super(y),this.factor=1.5,this.offset=(0,ks.vW)(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};(0,De._)([(0,Be.Cb)({type:Number})],ia.prototype,"factor",void 0),(0,De._)([(0,Be.Cb)({nonNullable:!0})],ia.prototype,"offset",void 0),(0,De._)([(0,Be.Cb)()],ia.prototype,"position",void 0),(0,De._)([(0,Be.Cb)({type:Number,range:{min:0}})],ia.prototype,"size",void 0),(0,De._)([(0,Be.Cb)()],ia.prototype,"maskUrl",void 0),(0,De._)([(0,Be.Cb)()],ia.prototype,"maskEnabled",void 0),(0,De._)([(0,Be.Cb)()],ia.prototype,"overlayUrl",void 0),(0,De._)([(0,Be.Cb)()],ia.prototype,"overlayEnabled",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],ia.prototype,"version",null),(0,De._)([(0,Be.Cb)({type:Boolean})],ia.prototype,"visible",void 0),ia=(0,De._)([(0,Lr.j)("esri.views.Magnifier")],ia);const QP=ia;var qP=C(74447);class RJ{constructor(p,g){this._stage=p,this._textureRequests=new Map,this._frameTask=(0,fr.pC)(g)?g.registerTask(qP.T8.TEXTURE_UNLOAD):qP.sq}destroy(){this._frameTask.remove(),this._textureRequests.forEach(p=>this._releaseTextureRequest(p)),this._textureRequests.clear()}fromData(p,g){const v=this.makeUid(p);let _=this._textureRequests.get(v);return _||(_={referenceCount:0,texture:g(),textureAsync:null,abortController:null},this._stage&&(this._stage.add(_.texture),this._stage.loadSynchronous(_.texture)),this._textureRequests.set(v,_)),_.referenceCount++,{uid:v,texture:_.texture,release:()=>this._release(v)}}_release(p){if(!this._textureRequests)return;const g=this._textureRequests.get(p);g?(g.referenceCount<1&&console.warn("TextureCollection: reference count is < 1 for "+p),g.referenceCount--,g.referenceCount<1&&this._frameTask.schedule(()=>this._releaseNow(p))):console.warn(`TextureCollection: texture doesn't exist: '${p}'`)}get test(){return{textureRequests:this._textureRequests}}_releaseNow(p){if(!this._textureRequests)return;const g=this._textureRequests.get(p);!g||g.referenceCount>0||(this._releaseTextureRequest(g),this._textureRequests.delete(p))}_releaseTextureRequest(p){var g;p.texture?null==(g=this._stage)||g.remove(p.texture):p.abortController&&(p.abortController.abort(),p.abortController=null)}makeUid(p,g=null){return(0,fr.pC)(g)?`${p}.${g}px`:p}}var ts=C(35216);const eA=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],tA={};function rA(y){return!!tA[y]}eA.forEach(y=>{tA[y]=!0});class NJ{constructor(p){this.handlers=new Map,this.counter=0,this.handlerCounts=new Map,this.view=p,this.inputManager=null}connect(p){p&&this.disconnect(),this.inputManager=p,this.handlers.forEach(({handler:g,priority:v},_)=>this.inputManager.installHandlers(_,[g],v))}disconnect(){this.inputManager&&this.handlers.forEach((p,g)=>this.inputManager.uninstallHandlers(g)),this.inputManager=null}destroy(){this.disconnect(),this.handlers.clear(),this.view=null}on(p,g,v,_){const E=Array.isArray(p)?p:p.split(",");if(!function LJ(y){for(const p of y)if(!rA(p))return!1;return!0}(E))return E.some(rA)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let w,D;Array.isArray(g)?D=g:(w=g,D=[]),"function"==typeof v?w=v:_=v,_=null!=_?_:th.f.DEFAULT;const O=this.createUniqueGroupName(),L=new FJ(this.view,E,D,w);this.handlers.set(O,{handler:L,priority:_});for(const z of E){const se=this.handlerCounts.get(z)||0;this.handlerCounts.set(z,se+1)}return this.inputManager&&this.inputManager.installHandlers(O,[L],_),{remove:()=>this.removeHandler(O,E)}}hasHandler(p){return!!this.handlerCounts.get(p)}removeHandler(p,g){if(this.handlers.has(p)){this.handlers.delete(p);for(const v of g){const _=this.handlerCounts.get(v);void 0===_?console.error("Trying to remove handler for event that has no handlers registered: ",v):1===_?this.handlerCounts.delete(v):this.handlerCounts.set(v,_-1)}}this.inputManager&&this.inputManager.uninstallHandlers(p)}createUniqueGroupName(){return this.counter+=1,`viewEvents_${this.counter}`}}class FJ extends ts.a{constructor(p,g,v,_){super(!0),this.view=p;for(const E of g)switch(E){case"click":this.registerIncoming("click",v,w=>_(this.wrapClick(w)));break;case"double-click":this.registerIncoming("double-click",v,w=>_(this.wrapDoubleClick(w)));break;case"immediate-click":this.registerIncoming("immediate-click",v,w=>_(this.wrapImmediateClick(w)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",v,w=>_(this.wrapImmediateDoubleClick(w)));break;case"hold":this.registerIncoming("hold",v,w=>_(this.wrapHold(w)));break;case"drag":this.registerIncoming("drag",v,w=>{const D=this.wrapDrag(w);D&&_(D)});break;case"key-down":this.registerIncoming("key-down",v,w=>_(this.wrapKeyDown(w)));break;case"key-up":this.registerIncoming("key-up",v,w=>_(this.wrapKeyUp(w)));break;case"pointer-down":this.registerIncoming("pointer-down",v,w=>_(this.wrapPointer(w,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",v,w=>_(this.wrapPointer(w,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",v,w=>_(this.wrapPointer(w,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",v,w=>_(this.wrapPointerDrag(w)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",v,w=>_(this.wrapMouseWheel(w)));break;case"pointer-enter":this.registerIncoming("pointer-enter",v,w=>_(this.wrapPointer(w,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",v,w=>_(this.wrapPointer(w,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",v,w=>{_(this.wrapGamepad(w))});break;case"focus":this.registerIncoming("focus",v,w=>{_(this.wrapFocus(w))});break;case"blur":this.registerIncoming("blur",v,w=>{_(this.wrapBlur(w))})}}wrapFocus(p){return{type:"focus",timestamp:p.timestamp,native:p.data.native,cancelable:p.cancelable,stopPropagation:()=>p.stopPropagation(),async:g=>p.async(g),preventDefault:()=>p.preventDefault()}}wrapBlur(p){return{type:"blur",timestamp:p.timestamp,native:p.data.native,cancelable:p.cancelable,stopPropagation:()=>p.stopPropagation(),async:g=>p.async(g),preventDefault:()=>p.preventDefault()}}wrapClick(p){const{pointerType:g,button:v,buttons:_,x:E,y:w,native:D,eventId:O}=p.data,{cancelable:L,timestamp:z}=p;return{type:"click",pointerType:g,button:v,buttons:_,x:E,y:w,native:D,timestamp:z,screenPoint:(0,ks.vW)(E,w),mapPoint:this.getMapPoint(E,w),eventId:O,cancelable:L,stopPropagation:()=>p.stopPropagation(),async:se=>p.async(se),preventDefault:()=>p.preventDefault()}}wrapDoubleClick(p){const{pointerType:g,button:v,buttons:_,x:E,y:w,native:D,eventId:O}=p.data,{cancelable:L,timestamp:z}=p;return{type:"double-click",pointerType:g,button:v,buttons:_,x:E,y:w,native:D,timestamp:z,mapPoint:this.getMapPoint(E,w),eventId:O,cancelable:L,stopPropagation:()=>p.stopPropagation(),async:se=>p.async(se),preventDefault:()=>p.preventDefault()}}wrapImmediateClick(p){const{pointerType:g,button:v,buttons:_,x:E,y:w,native:D,eventId:O}=p.data,L=D.pointerId,{cancelable:z,timestamp:se}=p;return{type:"immediate-click",pointerId:L,pointerType:g,button:v,buttons:_,x:E,y:w,native:D,timestamp:se,mapPoint:this.getMapPoint(E,w),eventId:O,cancelable:z,stopPropagation:()=>p.stopPropagation(),async:Ee=>p.async(Ee),preventDefault:()=>p.preventDefault()}}wrapImmediateDoubleClick(p){const{pointerType:g,button:v,buttons:_,x:E,y:w,native:D,eventId:O}=p.data,L=D.pointerId,{cancelable:z,timestamp:se}=p;return{type:"immediate-double-click",pointerId:L,pointerType:g,button:v,buttons:_,x:E,y:w,native:D,timestamp:se,mapPoint:this.getMapPoint(E,w),eventId:O,cancelable:z,stopPropagation:()=>p.stopPropagation(),async:Ee=>p.async(Ee),preventDefault:()=>p.preventDefault()}}wrapHold(p){const{pointerType:g,button:v,buttons:_,x:E,y:w,native:D}=p.data,{cancelable:O,timestamp:L}=p;return{type:"hold",pointerType:g,button:v,buttons:_,x:E,y:w,native:D,timestamp:L,mapPoint:this.getMapPoint(E,w),cancelable:O,stopPropagation:()=>p.stopPropagation(),async:z=>p.async(z),preventDefault:()=>p.preventDefault()}}getMapPoint(p,g){return this.view.toMap((0,ks.vW)(p,g),{exclude:[]})}wrapDrag(p){const g=p.data,{x:v,y:_}=g.center,{action:E,pointerType:w,button:D}=g;if("start"===E&&(this.latestDragStart=g),!this.latestDragStart)return;const O=g.pointer.native,L=g.buttons,{cancelable:z,timestamp:se}=p,Ee={x:this.latestDragStart.center.x,y:this.latestDragStart.center.y};return"end"===E&&(this.latestDragStart=void 0),{type:"drag",action:E,x:v,y:_,origin:Ee,pointerType:w,button:D,buttons:L,radius:g.radius,angle:(0,Zf.BV)(g.angle),native:O,timestamp:se,cancelable:z,stopPropagation:()=>p.stopPropagation(),async:Me=>p.async(Me),preventDefault:()=>p.preventDefault()}}wrapKeyDown(p){const{key:g,repeat:v,native:_}=p.data,{cancelable:E,timestamp:w}=p;return{type:"key-down",key:g,repeat:v,native:_,timestamp:w,cancelable:E,stopPropagation:()=>p.stopPropagation(),async:D=>p.async(D),preventDefault:()=>p.preventDefault()}}wrapKeyUp(p){const{key:g,native:v}=p.data,{cancelable:_,timestamp:E}=p;return{type:"key-up",key:g,native:v,timestamp:E,cancelable:_,stopPropagation:()=>p.stopPropagation(),async:w=>p.async(w),preventDefault:()=>p.preventDefault()}}wrapPointer(p,g){const{x:v,y:_,button:E,buttons:w,native:D,eventId:O}=p.data,L=D.pointerId,z=D.pointerType,{cancelable:se,timestamp:Ee}=p;return{type:g,x:v,y:_,pointerId:L,pointerType:z,button:E,buttons:w,native:D,timestamp:Ee,eventId:O,cancelable:se,stopPropagation:()=>p.stopPropagation(),async:Me=>p.async(Me),preventDefault:()=>p.preventDefault()}}wrapPointerDrag(p){const{x:g,y:v,buttons:_,native:E,eventId:w}=p.data.currentEvent,{button:D}=p.data.startEvent,O=p.data.startEvent.native.pointerId,L=p.data.startEvent.native.pointerType,z=p.data.action,se={x:p.data.startEvent.x,y:p.data.startEvent.y},{cancelable:Ee,timestamp:Me}=p;return{type:"pointer-drag",x:g,y:v,pointerId:O,pointerType:L,button:D,buttons:_,action:z,origin:se,native:E,timestamp:Me,eventId:w,cancelable:Ee,stopPropagation:()=>p.stopPropagation(),async:Ge=>p.async(Ge),preventDefault:()=>p.preventDefault()}}wrapMouseWheel(p){const{cancelable:g,data:v,timestamp:_}=p,{x:E,y:w,deltaY:D,native:O}=v;return{type:"mouse-wheel",x:E,y:w,deltaY:D,native:O,timestamp:_,cancelable:g,stopPropagation:()=>p.stopPropagation(),async:L=>p.async(L),preventDefault:()=>p.preventDefault()}}wrapGamepad(p){const{action:g,state:v,device:_}=p.data,{cancelable:E,timestamp:w}=p,{buttons:D,axes:O}=v;return{type:"gamepad",device:_,timestamp:w,action:g,buttons:D,axes:O,cancelable:E,stopPropagation:()=>p.stopPropagation(),async:L=>p.async(L),preventDefault:()=>p.preventDefault()}}}function jJ(y){return[y.on("after-add",p=>{const g=p.item;g.view&&g.view.ready&&!g.attached&&g.attach()}),y.on("after-remove",p=>{const g=p.item;g.active&&(g.view.activeTool=null),g.attached&&g.detach()})]}function my(y){return y.visible&&y.getEditableFlag(0)&&y.getEditableFlag(1)}function _l(y){return(0,ks.vW)(y.x,y.y)}function nA(y,p){const g=(y instanceof HTMLElement?y:y.surface).getBoundingClientRect();return(0,ks.vW)(p.clientX-g.left,p.clientY-g.top)}function iA(y,p){return p instanceof Event?nA(y,p):_l(p)}function oA(y){if(y instanceof Event)return!0;if("object"==typeof y&&"type"in y)switch(y.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}class UJ{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._currentlyActiveTool=null,this._revertToActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}handleInputEvent(p,g){const v=()=>p.stopPropagation();switch(p.type){case"pointer-move":sA(p.pointerType)&&this._pointerLocations.set(p.pointerId,{x:p.x,y:p.y,pointerType:p.pointerType});break;case"drag":this._grabbedManipulators.size>0&&(this._stopDrag=!0),this._stopDrag&&(v(),"end"===p.action&&(this._stopDrag=!1));break;case"pointer-down":{if(!aA(p))break;const _=_l(p),E=this._intersect(_,p.pointerType,g.forEachTool);if((0,fr.Wi)(E))break;const w=this._findToolAndManipulatorByKey(E,g.forEachTool,yy),D=(0,fr.yw)(w,L=>L.manipulator),O=(0,fr.yw)(w,L=>L.tool);!((0,fr.pC)(D)&&(0,fr.pC)(O)&&D.interactive)||D.grabbable&&D.grabbableForEvent(p)||!D.grabbing||D.dragging||this._ungrabManipulatorBeforeDragging(D,O,p),(0,fr.pC)(D)&&D.interactive&&D.grabbable&&D.grabbableForEvent(p)&&!D.grabbing&&(this._grabbedManipulators.set(p.pointerId,{key:E,start:_,pointerType:p.pointerType}),1===this._grabbedManipulators.size&&g.activeTool!==E.tool&&(this._currentlyActiveTool=g.activeTool,this._revertToActiveTool=!0,g.setActiveTool(E.tool)),D.grabbing=!0,D.events.emit("grab-changed",{action:"start",pointerType:p.pointerType,screenPoint:_}),v());break}case"pointer-up":this._handlePointerEnd(p,g);break;case"pointer-drag":{if(!aA(p))break;const _=this._grabbedManipulators.get(p.pointerId),E=this._draggedManipulators.get(p.pointerId),w=(0,fr.yw)(_||E,({key:z})=>z),D=this._findManipulatorByKey(w,g.forEachTool);if((0,fr.Wi)(D))break;const O=_l(p);O.x=(0,Zf.uZ)(O.x,0,g.view.width),O.y=(0,Zf.uZ)(O.y,0,g.view.height);const L=(0,fr.Wg)(_||E).start;switch(p.action){case"start":case"update":"update"!==p.action&&1!==this._grabbedManipulators.size||(D.dragging=!0,D.events.emit("drag",E?{action:"update",start:L,screenPoint:O}:{action:"start",start:L,screenPoint:O,pointerType:p.pointerType}),this._draggedManipulators.set(p.pointerId,{key:(0,fr.Wg)(w),start:L}));break;case"end":D.dragging=!1,E&&D.events.emit("drag",{action:"end",start:L,screenPoint:O}),this._draggedManipulators.delete(p.pointerId),this._handlePointerEnd(p,g)}v();break}case"immediate-click":{const _=_l(p),E=this._intersect(_,p.pointerType,g.forEachTool),w=this._findToolAndManipulatorByKey(E,g.forEachTool,yy);if(function BJ(y){return!!y.native.shiftKey}(p)||g.forEachTool(z=>{if((!(0,fr.pC)(w)||w.tool!==z||z.automaticManipulatorSelection)&&z.manipulators){let se=!1;z.manipulators.forEach(({manipulator:Ee})=>{Ee.selected&&(Ee.selected=!1,se=!0)}),se&&z.manipulatorSelectionChanged&&z.manipulatorSelectionChanged()}}),(0,fr.Wi)(w))break;const{manipulator:D,tool:O}=w;if(!D.interactive)break;D.selectable&&O.automaticManipulatorSelection&&(D.selected=!D.selected,O.manipulatorSelectionChanged&&O.manipulatorSelectionChanged()),D.events.emit("immediate-click",{screenPoint:_,button:p.button,pointerType:p.pointerType,shiftKey:p.native.shiftKey,stopPropagation:v});break}case"click":{const _=_l(p),E=this._intersect(_,p.pointerType,g.forEachTool),w=this._findManipulatorByKey(E,g.forEachTool);if((0,fr.Wi)(w)||!w.interactive)break;w.events.emit(p.type,{screenPoint:_,button:p.button,pointerType:p.pointerType,shiftKey:p.native.shiftKey}),v();break}case"double-click":{const _=_l(p),E=this._intersect(_,p.pointerType,g.forEachTool),w=this._findManipulatorByKey(E,g.forEachTool);if((0,fr.Wi)(w)||!w.interactive)break;w.events.emit("double-click",{screenPoint:_,button:p.button,pointerType:p.pointerType,shiftKey:p.native.shiftKey,stopPropagation:v});break}case"immediate-double-click":{const _=_l(p),E=this._intersect(_,p.pointerType,g.forEachTool),w=this._findManipulatorByKey(E,g.forEachTool);if((0,fr.Wi)(w)||!w.interactive)break;w.events.emit("immediate-double-click",{screenPoint:_,button:p.button,pointerType:p.pointerType,shiftKey:p.native.shiftKey,stopPropagation:v});break}}this._updateCursor(g.forEachTool)}_ungrabManipulatorBeforeDragging(p,g,v){p.grabbing=!1,p.events.emit("grab-changed",{action:"end",pointerType:v.pointerType,screenPoint:_l(v)}),this._grabbedManipulators.forEach(({key:_},E)=>{_.tool===g&&g.manipulators.findById(_.manipulatorId)===p&&this._grabbedManipulators.delete(E)})}_handlePointerEnd(p,g){const v=(0,fr.yw)(this._grabbedManipulators.get(p.pointerId),({key:E})=>E),_=this._findManipulatorByKey(v,g.forEachTool);(0,fr.pC)(_)&&!_.dragging&&(1===this._grabbedManipulators.size&&0===this._draggedManipulators.size&&this._revertToActiveTool&&(g.setActiveTool(this._currentlyActiveTool),this._revertToActiveTool=!1,this._currentlyActiveTool=null),_.grabbing&&(_.grabbing=!1,_.events.emit("grab-changed",{action:"end",pointerType:p.pointerType,screenPoint:_l(p)})),this._grabbedManipulators.delete(p.pointerId))}_cursorFromMap(p,g){let v=null;return(0,py.oE)(p,({key:_})=>{const E=this._findManipulatorByKey(_,g);return!!((0,fr.pC)(E)&&E.interactive&&"cursor"in E&&E.cursor)&&(v=E.cursor,!0)}),v}_updateCursor(p){this._cursor=this._grabbedManipulators.size>0?this._cursorFromMap(this._grabbedManipulators,p)||"grabbing":this._hoveredManipulators.size>0?this._cursorFromMap(this._hoveredManipulators,p)||"pointer":null}clearPointers(p,g,v=!0,_){const E=w=>w.tool===p&&((0,fr.Wi)(_)||w.manipulatorId===_);this._grabbedManipulators.forEach(({key:w,pointerType:D},O)=>{if(E(w)){this._grabbedManipulators.delete(O);const L=this._findManipulatorByKey(w,g);(0,fr.pC)(L)&&(L.grabbing=!1,L.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:D}))}}),this._draggedManipulators.forEach(({key:w},D)=>{if(E(w)){this._draggedManipulators.delete(D);const O=this._findManipulatorByKey(w,g);(0,fr.pC)(O)&&(O.dragging=!1,O.events.emit("drag",{action:"cancel"}))}}),v&&this._hoveredManipulators.forEach(({key:w},D)=>{if(E(w)){this._hoveredManipulators.delete(D);const O=this._findManipulatorByKey(w,g);(0,fr.pC)(O)&&(O.hovering=!1)}}),this._updateCursor(g)}_intersect(p,g,v){let _=null;return v(E=>{if(null==E.manipulators||!my(E))return!1;const w=E.manipulators.intersect(p,g);return!(0,fr.Wi)(w)&&(_={manipulatorId:w.id,tool:E},!0)}),_}updateHoveredStateFromKnownPointers(p){this._pointerLocations.forEach((g,v)=>{this._updateHoveredStateForPointerAtScreenPosition((0,ks.vW)(g.x,g.y),v,g.pointerType,p)})}handleHoverEvent(p,g){"pointer-up"!==p.type&&"immediate-click"!==p.type&&"pointer-move"!==p.type||!sA(p.pointerType)||this._updateHoveredStateForPointerAtScreenPosition(_l(p),p.pointerId,p.pointerType,g)}_updateHoveredStateForPointerAtScreenPosition(p,g,v,_){const E=this._intersect(p,v,_);let w=this._findManipulatorByKey(E,_);const D=(0,fr.yw)(this._hoveredManipulators.get(g),({key:L})=>L),O=this._findManipulatorByKey(D,_);(0,fr.pC)(w)&&!w.interactive&&(w=null),O!==w&&((0,fr.pC)(O)&&(O.hovering=!1),(0,fr.pC)(w)?(w.hovering=!0,this._hoveredManipulators.set(g,{key:(0,fr.Wg)(E)})):this._hoveredManipulators.delete(g),this._updateCursor(_))}_findManipulatorByKey(p,g){return this._findToolAndManipulatorByKey(p,g,yy)?yy.manipulator:null}_findToolAndManipulatorByKey(p,g,v){return(0,fr.Wi)(p)?null:(v.tool=null,v.manipulator=null,g(_=>{if(_!==p.tool||null==_.manipulators||!my(_))return!1;const E=_.manipulators.findById(p.manipulatorId);return!!(0,fr.pC)(E)&&(v.manipulator=E,v.tool=_,!0)}),v.manipulator?v:null)}}function sA(y){return"mouse"===y}function aA(y){return"mouse"!==y.pointerType||0===y.button}const yy={manipulator:null,tool:null},_2=co.Z.getLogger("esri.views.ToolViewManager"),lA="attached",E2="tools";let Hl=class extends _c.r{constructor(y){super(y),this._manipulatorState=new UJ,this.tools=new zi.Z,this.cursor=null,this._forEachTool=p=>{for(const g of this.tools.items)if(p(g))return}}initialize(){this.handles.add([this.view.on(eA,y=>{this._handleInputEvent(y)},th.f.TOOL),...jJ(this.tools),this.tools.on("before-add",y=>{const p=y.item;if(null==p||this.tools.includes(p))return _2.warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void y.preventDefault()}),this.tools.on("before-remove",({item:y})=>{this._manipulatorState.clearPointers(y,this._forEachTool)}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this._forEachTool(y=>y.destroy())}set activeTool(y){if((0,fr.pC)(y)&&!this.view.ready)return void _2.error("Cannot set active tool while view is not ready.");if(y===this.activeTool)return void((0,fr.pC)(y)&&_2.warn("Tool is already active - ignoring activation request."));(0,fr.pC)(this.activeTool)&&this.activeTool.deactivate(),(0,fr.pC)(y)&&y.activate(),this._set("activeTool",y),this._removeIncompleteTools(y);const p=(0,fr.Wi)(this.activeTool);for(const g of this.tools){g.setEditableFlag(1,p||g===this.activeTool);const v=my(g);!p&&v||this._manipulatorState.clearPointers(g,this._forEachTool,!v)}this._updateCursor()}get updating(){return this.updatingHandles.updating||this.tools.some(y=>y.updating)}attach(){this._forEachTool(y=>y.attach()),"3d"===this.view.type?(this._set("textures",new RJ(this.view._stage,this.view.resourceController.scheduler)),this.handles.add([this.view.state.watch("camera",()=>{this._forEachManipulator(y=>{null!=y.onViewChange&&y.onViewChange()})}),this.view.elevationProvider.on("elevation-change",y=>{this._forEachManipulator(p=>{null!=p.onElevationChange&&p.onElevationChange(y)})}),(0,YP.kB)(()=>this._set("textures",(0,fr.SC)(this.textures)))],lA)):this.handles.add(this.view.watch("extent",()=>{this._forEachManipulator(y=>{null!=y.onViewChange&&y.onViewChange()})}))}detach(){(0,fr.pC)(this.activeTool)&&(this.activeTool=null),this._forEachTool(y=>{y.detach(),y.destroy()}),this.tools.removeAll(),this.handles.remove(lA)}_forEachManipulator(y){this._forEachTool(p=>{p.manipulators&&p.manipulators.forEach(({manipulator:g})=>y(g,p))})}_handleInputEvent(y){let p=!1;const g=Xr(Pt({},y),{stopPropagation:()=>{p=!0,y.stopPropagation()}});(0,fr.pC)(this.activeTool)?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(g):this._forEachTool(v=>{!p&&v.attached&&v.visible&&v.handleInputEvent(g)}),!p&&"key-down"===y.type&&"Escape"===y.key&&this.activeTool&&(y.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(g,{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:v=>{this.activeTool=v},view:this.view}),!p&&(0,fr.pC)(this.activeTool)&&this.activeTool.handleInputEventAfter(g),this._manipulatorState.handleHoverEvent(g,this._forEachTool),this._updateCursor()}_refreshToolWatchers(){this.handles.remove(E2),this._forEachTool(y=>{if(y instanceof di.Z){const p=(0,kr.YP)(y,["cursor","visible","editable"],()=>{my(y)||this._manipulatorState.clearPointers(y,this._forEachTool),this._updateCursor()});this.handles.add(p,E2)}y.manipulators&&this.handles.add(y.manipulators.on("change",p=>{p.removed.forEach(({id:g})=>{this._manipulatorState.clearPointers(y,this._forEachTool,!0,g)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}),E2)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateCursor(){let y=this._manipulatorState.cursor;this._forEachTool(p=>!(!(0,fr.pC)(p.cursor)||!p.visible||(y=p.cursor,0))),this._get("cursor")!==y&&this._set("cursor",y)}_removeIncompleteTools(y){this.tools.filter(p=>((0,fr.Wi)(y)||p!==y)&&!p.completed).forEach(p=>{this.tools.remove(p),p.destroy()})}};(0,De._)([(0,Be.Cb)({constructOnly:!0,nonNullable:!0})],Hl.prototype,"view",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0,nonNullable:!0})],Hl.prototype,"textures",void 0),(0,De._)([(0,Be.Cb)({value:null})],Hl.prototype,"activeTool",null),(0,De._)([(0,Be.Cb)({readOnly:!0,type:zi.Z})],Hl.prototype,"tools",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],Hl.prototype,"cursor",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],Hl.prototype,"updating",null),Hl=(0,De._)([(0,Lr.j)("esri.views.ToolViewManager")],Hl);const VJ=Hl;let rh=class extends di.Z{constructor(y){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",this._detectedDeviceType="standard"===y.mapping?"standard":WJ.test(y.id)?"spacemouse":"unknown",this.nativeIndex=y.index}get native(){return(navigator.getGamepads?navigator.getGamepads():[])[this.nativeIndex]}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return kJ[this.deviceType]}};(0,De._)([(0,Be.Cb)({nonNullable:!0,readOnly:!0})],rh.prototype,"nativeIndex",void 0),(0,De._)([(0,Be.Cb)({type:String,readOnly:!0})],rh.prototype,"deviceType",null),(0,De._)([(0,Be.Cb)({type:Number,readOnly:!0})],rh.prototype,"axisThreshold",null),rh=(0,De._)([(0,Lr.j)("esri.views.input.gamepad.GamepadInputDevice")],rh);const WJ=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),kJ={standard:.15,spacemouse:.025,unknown:0},b2=rh;let qf=class extends di.Z{constructor(...y){super(...y),this.devices=new zi.Z,this.enabledFocusMode="document"}};(0,De._)([(0,Be.Cb)({type:zi.Z.ofType(b2),readOnly:!0})],qf.prototype,"devices",void 0),(0,De._)([(0,Be.Cb)({type:["document","view","none"]})],qf.prototype,"enabledFocusMode",void 0),qf=(0,De._)([(0,Lr.j)("esri.views.input.gamepad.GamepadSettings")],qf);const ZJ=qf;let gy=class extends di.Z{constructor(){super(...arguments),this.gamepad=new ZJ}};(0,De._)([(0,Be.Cb)({readOnly:!0})],gy.prototype,"gamepad",void 0),gy=(0,De._)([(0,Lr.j)("esri.views.input.Input")],gy);const $J=gy;let Uu=class extends di.Z{constructor(y){super(y),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};(0,De._)([(0,Be.Cb)({type:Boolean,nonNullable:!0})],Uu.prototype,"enabled",void 0),(0,De._)([(0,Be.Cb)({type:b2})],Uu.prototype,"device",void 0),(0,De._)([(0,Be.Cb)({type:["pan","zoom"],nonNullable:!0})],Uu.prototype,"mode",void 0),(0,De._)([(0,Be.Cb)({type:["forward-down","forward-up"],nonNullable:!0})],Uu.prototype,"tiltDirection",void 0),(0,De._)([(0,Be.Cb)({type:Number,nonNullable:!0})],Uu.prototype,"velocityFactor",void 0),Uu=(0,De._)([(0,Lr.j)("esri.views.navigation.gamepad.GamepadSettings")],Uu);const uA=Uu;let Dc=class extends di.Z{constructor(y){super(y),this.browserTouchPanEnabled=!0,this.gamepad=new uA,this.momentumEnabled=!0,this.mouseWheelZoomEnabled=!0}};(0,De._)([(0,Be.Cb)({type:Boolean})],Dc.prototype,"browserTouchPanEnabled",void 0),(0,De._)([(0,Be.Cb)({type:uA,nonNullable:!0})],Dc.prototype,"gamepad",void 0),(0,De._)([(0,Be.Cb)({type:Boolean})],Dc.prototype,"momentumEnabled",void 0),(0,De._)([(0,Be.Cb)({type:Boolean})],Dc.prototype,"mouseWheelZoomEnabled",void 0),Dc=(0,De._)([(0,Lr.j)("esri.views.navigation.Navigation")],Dc);const cA=Dc;var ep=C(56741);function dA(y){const p=y.url&&(0,Um.Qc)(y.url);return null==(y.spatialReference&&y.spatialReference.vcsWkid)&&(0,fr.pC)(p)&&"ImageServer"===p.serverType||!hA(y)||!y.heightModelInfo?function pA(y){return fA(y)?!!(y.capabilities&&y.capabilities.data&&y.capabilities.data.supportsZ):mA(y)}(y)?v2.Z.deriveUnitFromSR(HJ,y.spatialReference):null:y.heightModelInfo}function hA(y){return"heightModelInfo"in y}function fA(y){if("unknown"===y.type||!("capabilities"in y))return!1;switch(y.type){case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"wfs":return!0;default:return!1}}function GJ(y){return null!=y.layers||mA(y)||fA(y)||hA(y)}function mA(y){switch(y.type){case"building-scene":case"elevation":case"integrated-mesh":case"point-cloud":case"scene":case"voxel":return!0;case"analysis":case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"csv":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"map-image":case"map-notes":case"ogc-feature":case"open-street-map":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}const HJ=new v2.Z({heightModel:"gravity-related-height"});function yA(y){return 1===y?"global":"local"}const vA=co.Z.getLogger("esri.views.support.DefaultsFromMap");vA.level="info";let Ci=class extends di.Z{constructor(y){super(y),this._handles=new ka.Z,this.required={tileInfo:!1,heightModelInfo:!1,extent:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.priorityCollection=null,this.logDebugInformation=!1,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._handles=(0,fr.SC)(this._handles),this._projectExtentTask.task&&(this._debug("Aborting project extent task"),this._projectExtentTask.task=(0,fr.IM)(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return(0,fr.pC)(this.userSpatialReference)?this.userSpatialReference:(0,fr.Wg)(this._spatialReferenceTask.spatialReference)}get extent(){return(0,fr.Wg)(this._extentTask.extent)}get heightModelInfo(){return(0,fr.Wg)(this._heightModelInfoTask.heightModelInfo)}get vcsWkid(){return(0,fr.Wg)(this._heightModelInfoTask.vcsWkid)}get latestVcsWkid(){return(0,fr.Wg)(this._heightModelInfoTask.latestVcsWkid)}get viewingMode(){return(0,fr.Wi)(this.userSpatialReference)||this.userSpatialReference.equals((0,fr.Wg)(this._spatialReferenceTask.spatialReference))?(0,fr.Wg)(this._spatialReferenceTask.viewingMode):null}get tileInfo(){return(0,fr.Wg)(this._tileInfoTask.tileInfo)}get mapCollections(){var y,p,g,v;const _=null==(y=this.map)?void 0:y.call(this),E=[];return(0,fr.pC)(this.priorityCollection)&&E.push(this.priorityCollection),E.push({parent:null==_?void 0:_.basemap,layers:null==_||null==(p=_.basemap)?void 0:p.baseLayers},{layers:null==_?void 0:_.layers},{parent:null==_?void 0:_.ground,layers:null==_||null==(g=_.ground)?void 0:g.layers},{parent:null==_?void 0:_.basemap,layers:null==_||null==(v=_.basemap)?void 0:v.referenceLayers}),E}get _allLayers(){var y,p;const g=this._collectLayers(this.mapCollections);return this._debug("Collected",null!=(y=null==(p=g.layers)?void 0:p.length)?y:0,"layers, updating",g.updating),g}get _spatialReferenceTask(){var y,p;if(this.suspended)return null!=(p=this._get("_spatialReferenceTask"))?p:{updating:!1};const{layers:g,updating:v}=this._allLayers,_={candidates:null};for(const w of g)if(this._processSpatialReferenceCandidates(w,_),_.candidates&&1===_.candidates.length)break;if(1!==(null==(y=_.candidates)?void 0:y.length)&&v)return{updating:!0};const E=this._pickSpatialReferenceCandidate(_.candidates);return this._debug("Finished spatial reference",(0,fr.pC)(E)?`${E.spatialReference.wkid}:${(0,fr.pC)(E.viewingMode)?yA(E.viewingMode):"global/local"}`:"none available"),{spatialReference:(0,fr.pC)(E)?E.spatialReference:null,viewingMode:(0,fr.pC)(E)?E.viewingMode:null,updating:!1}}get _tileInfoTask(){var y,p,g,v,_,E,w,D;if(!this.required.tileInfo)return null!=(D=this._get("_tileInfoTask"))?D:{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const{layers:O,updating:L}=this._collectLayers([{parent:null==(y=this.map)||null==(p=y.call(this))?void 0:p.basemap,layers:null==(g=this.map)||null==(v=g.call(this))||null==(_=v.basemap)?void 0:_.baseLayers},{layers:null==(E=this.map)||null==(w=E.call(this))?void 0:w.layers}]);if(O&&O.length>0&&"tileInfo"in O[0]){const z=O[0].tileInfo;return{tileInfo:z&&z.spatialReference.equals(this.spatialReference)?z:null,updating:!1}}return{updating:L}}get _heightModelInfoTask(){var y,p;if(!this.required.heightModelInfo||this.suspended&&null!=(y=this._get("_heightModelInfoTask"))&&y.heightModelInfo)return null!=(p=this._get("_heightModelInfoTask"))?p:{updating:!1};const{layers:g,updating:v}=this._allLayers;for(const O of g){var _,E;if(this._debug("Considering",null!=(_=null!=(E=O.title)?E:O.id)?_:O.declaredClass,"for height model info"),GJ(O)){const L=dA(O);var w,D;if(L)return this._debug("Derived height model info",L),{heightModelInfo:L,vcsWkid:null==(w=O.spatialReference)?void 0:w.vcsWkid,latestVcsWkid:null==(D=O.spatialReference)?void 0:D.latestVcsWkid,updating:!1}}this._debug("Layer does not support height models")}return this._debug("No height model info found,","updating",v),{updating:v}}get _extentCandidatesTask(){var y;if(this.suspended||!this.required.extent)return null!=(y=this._get("_extentCandidatesTask"))?y:{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const p=this._allLayers,g=p.updating,v=[];for(const _ of p.layers){const E="fullExtents"in _&&_.fullExtents||((0,fr.pC)(_.fullExtent)?[_.fullExtent]:[]),w=E.find(D=>D.spatialReference.equals(this.spatialReference));if(w)return{candidates:[{extent:w,layer:_}],updating:!1};if(this._getSupportedSpatialReferences(_).length>0)for(const D of E)v.push({extent:D,layer:_})}return{candidates:v,updating:g}}get _extentTask(){var y=this;const{candidates:p,updating:g}=this._extentCandidatesTask;if(g)return{updating:g};if((0,fr.Wi)(p)||0===p.length)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const{candidate:v,requiresGeometryService:_}=this._pickExtentCandidate(p),E=this.spatialReference;if(v.extent.equals(this._projectExtentTask.input)&&E.equals(this._projectExtentTask.spatialReference))return{extent:this._projectExtentTask.output,updating:(0,fr.pC)(this._projectExtentTask.task)&&!this._projectExtentTask.task.finished};if((0,fr.pC)(this._projectExtentTask.task)&&(this._debug("Aborting project extent task"),this._projectExtentTask.task=(0,fr.IM)(this._projectExtentTask.task)),!_){this._projectExtentTask={input:null,output:null,task:null,spatialReference:null};try{return{extent:(0,ep.iV)(v.extent,E),updating:!1}}catch(w){return{updating:!1}}}return this._debug("Starting project extent task for",v.extent),this._projectExtentTask={input:v.extent.clone(),output:null,spatialReference:E.clone(),task:(0,Hn.vr)(function(){var w=(0,qr.Z)(function*(D){try{const O=yield(0,Hn.Hl)(C.e(5082).then(C.bind(C,35082)),D),L=yield O.projectGeometry(v.extent,E,v.layer.portalItem,D);y._debug("Project extent task finished",L),y._projectExtentTask=Xr(Pt({},y._projectExtentTask),{task:null,output:L})}catch(O){if((0,Hn.Hc)(D))return;y._projectExtentTask=Xr(Pt({},y._projectExtentTask),{task:null})}});return function(D){return w.apply(this,arguments)}}())},{updating:!0}}_processSpatialReferenceCandidates(y,p){var g;const v=this._getSupportedSpatialReferences(y);if(0!==v.length)if(this._debug("Spatial reference candidates from",null!=(g=y.title)?g:y.id,":",v.map(_=>`${_.spatialReference.wkid}:${(0,fr.pC)(_.viewingMode)?yA(_.viewingMode):"global/local"}`).join(", ")),p.candidates){const _=[],E=(w,D)=>(0,fr.Wi)(w.viewingMode)?D.viewingMode:((0,fr.Wi)(D.viewingMode)||w.viewingMode===D.viewingMode)&&w.viewingMode;for(const w of p.candidates)for(const D of v){if(!w.spatialReference.equals(D.spatialReference))continue;const O=E(w,D);if(!1!==O){_.push({spatialReference:w.spatialReference,viewingMode:O});break}}_.length>0&&(p.candidates=_)}else p.candidates=v}_pickSpatialReferenceCandidate(y){const p=this.defaultSpatialReference;return!y||y.length<1?(0,fr.pC)(p)?{spatialReference:p,viewingMode:null}:null:(0,fr.pC)(p)&&y.length>1&&y.some(({spatialReference:g})=>g.equals(p))?{spatialReference:p,viewingMode:null}:y[0]}_getSupportedSpatialReferences(y){const p="supportedSpatialReferences"in y&&y.supportedSpatialReferences||(y.spatialReference?[y.spatialReference]:[]);if(0===p.length)return[];const g=[];for(const v of p){const _=this.getSpatialReferenceSupport({spatialReference:v,layer:y});if((0,fr.pC)(_)){const E=(0,fr.pC)(_.constraints)?_.constraints:[{spatialReference:v}];for(const{spatialReference:w,viewingMode:D}of E)((0,fr.Wi)(this.userSpatialReference)||w.equals(this.userSpatialReference))&&g.push({spatialReference:w,viewingMode:D})}}return g}_pickExtentCandidate(y){const p=this.spatialReference,g=y.find(({extent:v})=>(0,ep.Up)(v.spatialReference,p)||(0,ep.kR)());return(0,fr.pC)(g)?{candidate:g,requiresGeometryService:!1}:{candidate:y[0],requiresGeometryService:!0}}_collectLayers(y){var p;if("loaded"!==this._loadMaybe(null==(p=this.map)?void 0:p.call(this)))return{layers:[],updating:!0};const g={layers:[],preloading:-1,updating:!1};for(const v of y)if(this._collectCollection(v,g),10===g.preloading)break;return{layers:g.layers,updating:g.updating}}_collectCollection(y,p){if(y.layers){switch(this._loadMaybe(y.parent)){case"loading":return p.updating=!0,void++p.preloading;case"failed":return}for(const _ of y.layers){switch(this._loadMaybe(_)){case"failed":continue;case"loading":p.updating=!0,++p.preloading;break;case"loaded":var g,v;p.updating||(this._debug("Considering layer",null!=(g=null!=(v=_.title)?v:_.id)?g:_.declaredClass),p.layers.push(_)),"layers"in _&&this._collectCollection({layers:_.layers},p)}if(10===p.preloading)break}}}_loadMaybe(y){return y&&"loadStatus"in y?"not-loaded"===y.loadStatus?(this._debug("Triggering load",null!=(p=null!=(g=y.title)?g:y.id)?p:y.declaredClass),y.load(),"loading"):y.loadStatus:"loaded";var p,g}_debug(...y){this.logDebugInformation&&vA.info(...y)}};(0,De._)([(0,Be.Cb)()],Ci.prototype,"required",void 0),(0,De._)([(0,Be.Cb)({constructOnly:!0})],Ci.prototype,"map",void 0),(0,De._)([(0,Be.Cb)({constructOnly:!0})],Ci.prototype,"getSpatialReferenceSupport",void 0),(0,De._)([(0,Be.Cb)()],Ci.prototype,"defaultSpatialReference",void 0),(0,De._)([(0,Be.Cb)()],Ci.prototype,"userSpatialReference",void 0),(0,De._)([(0,Be.Cb)()],Ci.prototype,"priorityCollection",void 0),(0,De._)([(0,Be.Cb)()],Ci.prototype,"logDebugInformation",void 0),(0,De._)([(0,Be.Cb)()],Ci.prototype,"suspended",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],Ci.prototype,"ready",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],Ci.prototype,"heightModelInfoReady",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],Ci.prototype,"spatialReference",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],Ci.prototype,"extent",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],Ci.prototype,"heightModelInfo",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],Ci.prototype,"vcsWkid",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],Ci.prototype,"latestVcsWkid",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],Ci.prototype,"viewingMode",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],Ci.prototype,"tileInfo",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],Ci.prototype,"mapCollections",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],Ci.prototype,"_allLayers",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],Ci.prototype,"_spatialReferenceTask",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],Ci.prototype,"_tileInfoTask",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],Ci.prototype,"_heightModelInfoTask",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],Ci.prototype,"_extentCandidatesTask",null),(0,De._)([(0,Be.Cb)()],Ci.prototype,"_extentTask",null),(0,De._)([(0,Be.Cb)()],Ci.prototype,"_projectExtentTask",void 0),Ci=(0,De._)([(0,Lr.j)("esri.views.support.DefaultsFromMap")],Ci);const JJ=Ci;var vy;const _y=co.Z.getLogger("esri.views.View");let vn=vy=class extends((0,_c.p)(Bf.Z.EventedMixin((0,rE.v)(di.Z)))){constructor(y){super(y),this._userSpatialReference=null,this._cursor=null,this.allLayerViews=new Fd.Z({getCollections:()=>{var p,g,v;return[null==(p=this.basemapView)?void 0:p.baseLayerViews,null==(g=this.groundView)?void 0:g.layerViews,this.layerViews,null==(v=this.basemapView)?void 0:v.referenceLayerViews]},getChildrenFunction:p=>p.layerViews}),this.groundView=null,this.animation=null,this.basemapView=null,this.fatalError=null,this.extent=null,this.graphics=new XP.J,this.analyses=new fy,this.navigating=!1,this.typeSpecificPreconditionsReady=!0,this.layerViews=new zi.Z,this.magnifier=new QP,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this.spatialReferenceWarningDelay=1e3,this.supportsGround=!0,this.timeExtent=null,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new $J,this.navigation=new cA,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new NJ(this),this.persistableViewModels=new zi.Z,this._isValid=!1,this._readyCycleForced=!1,this.handles.add(this.watch("preconditionsReady",p=>{var g,v;p?(this._currentSpatialReference=this.spatialReference,vy.views.add(this)):(this._currentSpatialReference=null,vy.views.remove(this)),this.notifyChange("spatialReference"),!p&&this.ready?(null==(g=this.layerViewManager)||g.clear(),null==(v=this.toolViewManager)||v.detach(),(0,fr.pC)(this.analysisViewManager)&&this.analysisViewManager.detach(),this._teardown()):p&&!this.ready&&((0,fr.pC)(this.analysisViewManager)&&this.analysisViewManager.attach(),this._startup(),this.toolViewManager.attach())},!0))}initialize(){this.addResolvingPromise(this.validate().then(()=>(this._isValid=!0,(0,kr.N1)(this,"ready")))),this.basemapView=new ju({view:this}),this.layerViewManager=new AJ({view:this,layerViewImporter:{importLayerView:y=>this.importLayerView(y),hasLayerViewModule:y=>this.hasLayerViewModule(y)},supportsGround:this.supportsGround}),this.toolViewManager=new VJ({view:this}),this._setupSpatialReferenceLogger(),this.handles.add([(0,hy.Ym)(()=>this.initialExtentRequired,y=>this.defaultsFromMap.required=Xr(Pt({},this.defaultsFromMap.required),{extent:y}),{sync:!0,initial:!0}),(0,hy.Ym)(()=>this.ready,y=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=y,this.defaultsFromMap.userSpatialReference=y?this.spatialReference:this._userSpatialReference)},{sync:!0}),(0,hy.Ym)(()=>this._userSpatialReference,y=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=y)},{sync:!0,initial:!0})])}_setupSpatialReferenceLogger(){var y=this;let p=null;this.handles.add([(0,hy.Ym)(()=>{var g;return null==(g=this.defaultsFromMap)?void 0:g.ready},g=>{var v;const _=(null==(v=this.map)?void 0:v.allLayers.length)>0;if(g&&!this.spatialReference&&_){if((0,fr.pC)(p))return;const E=(0,YP.kB)(()=>p=(0,fr.IM)(p));p=(0,Hn.vr)(function(){var w=(0,qr.Z)(function*(D){try{yield(0,Hn.e4)(y.spatialReferenceWarningDelay,null,D)}catch(O){return}finally{p=null}_y.warn("#spatialReference","no spatial reference could be derived from the currently added map layers")});return function(D){return w.apply(this,arguments)}}()),this.handles.add(E,"spatial-reference-logger-task")}else this.handles.remove("spatial-reference-logger-task")},{sync:!0})])}destroy(){if(this.destroyed)return;this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=(0,fr.SC)(this.graphics),this.analyses=(0,fr.SC)(this.analyses),this.handles.remove("defaultsFromMap"),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),this.toolViewManager=(0,fr.SC)(this.toolViewManager),this.layerViewManager=(0,fr.SC)(this.layerViewManager),this.basemapView=(0,fr.SC)(this.basemapView),this.invalidate(),this._emitter.clear(),this.handles.removeAll();const y=this.map;this.map=null,null==y||y.destroy()}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return _y.error("#toMap()","Not implemented on this instance of View"),null}get _defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new JJ(Pt({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:y=>this.getSpatialReferenceSupport(y)},this._defaultsFromMapSettings))}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get preconditionsReady(){var y;return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||Uf.Z.isLoadable(this.map)&&!this.map.loaded||0===this.width||0===this.height||!this.spatialReference||!this.typeSpecificPreconditionsReady||!this._validateSpatialReference(this.spatialReference)||!(this._currentSpatialReference||null!=(y=this.defaultsFromMap)&&y.ready))}set map(y){var p;y!==this._get("map")&&(null!=(p=y)&&p.destroyed&&(_y.warn("#map","The provided map is already destroyed",{map:y}),y=null),Uf.Z.isLoadable(y)&&y.load().catch(()=>{}),this.initialized&&(this.forceReadyCycle(),this._currentSpatialReference=null),this._set("map",y))}get spatialReference(){var y,p;let g=this._userSpatialReference||this._currentSpatialReference||this.getDefaultSpatialReference()||null;return g&&null!=(y=this.defaultsFromMap)&&null!=(p=y.required)&&p.heightModelInfo&&(g=g.clone(),g.vcsWkid=this.defaultsFromMap.vcsWkid,g.latestVcsWkid=this.defaultsFromMap.latestVcsWkid),g}set spatialReference(y){this._userSpatialReference=y,this._set("spatialReference",y)}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get initialExtent(){var y;return null==(y=this.defaultsFromMap)?void 0:y.extent}get cursor(){const y=this.toolViewManager?this.toolViewManager.cursor:null;return(0,fr.pC)(y)?y:this._cursor||"default"}set cursor(y){this._cursor=y,this.notifyChange("cursor")}get size(){return[this.width,this.height]}whenLayerView(y){return this.layerViewManager.whenLayerView(y)}getDefaultSpatialReference(){var y;return null==(y=this.defaultsFromMap)?void 0:y.spatialReference}getDefaultHeightModelInfo(){var y,p,g;return null!=(y=null!=(p=this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)?p:null==(g=this.defaultsFromMap)?void 0:g.heightModelInfo)?y:null}importLayerView(y){throw new on.Z("importLayerView() not implemented")}hasLayerViewModule(y){return!1}validate(){return(0,qr.Z)(function*(){})()}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{}}_validateSpatialReference(y){return(0,fr.pC)(this.getSpatialReferenceSupport({spatialReference:y}))}when(y,p){return this.isResolved()&&!this.ready&&_y.warn("#when()",'Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use watchUtils.whenOnce(view, "ready").then(...) instead.'),super.when(y,p)}forceReadyCycle(){this.ready&&((0,kr.OY)(this,"preconditionsReady",()=>this._readyCycleForced=!1),this._readyCycleForced=!0)}addAndActivateTool(y){this.toolViewManager.tools.add(y),this.activeTool=y}tryFatalErrorRecovery(){this.fatalError=null}};vn.views=new zi.Z,(0,De._)([(0,Be.Cb)()],vn.prototype,"_userSpatialReference",void 0),(0,De._)([(0,hn.B)("toolViewManager.activeTool")],vn.prototype,"activeTool",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],vn.prototype,"allLayerViews",void 0),(0,De._)([(0,Be.Cb)()],vn.prototype,"groundView",void 0),(0,De._)([(0,Be.Cb)()],vn.prototype,"animation",void 0),(0,De._)([(0,Be.Cb)()],vn.prototype,"basemapView",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],vn.prototype,"_defaultsFromMapSettings",null),(0,De._)([(0,Be.Cb)()],vn.prototype,"defaultsFromMap",null),(0,De._)([(0,Be.Cb)()],vn.prototype,"fatalError",void 0),(0,De._)([(0,Be.Cb)({type:Iu.Z})],vn.prototype,"extent",void 0),(0,De._)([(0,Be.Cb)((0,g2.z)(XP.J,"graphics"))],vn.prototype,"graphics",void 0),(0,De._)([(0,Be.Cb)((0,g2.z)(fy,"analyses"))],vn.prototype,"analyses",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0,type:v2.Z})],vn.prototype,"heightModelInfo",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],vn.prototype,"interacting",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],vn.prototype,"navigating",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_currentSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],vn.prototype,"preconditionsReady",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],vn.prototype,"typeSpecificPreconditionsReady",void 0),(0,De._)([(0,Be.Cb)({type:zi.Z,readOnly:!0})],vn.prototype,"layerViews",void 0),(0,De._)([(0,Be.Cb)({type:QP})],vn.prototype,"magnifier",void 0),(0,De._)([(0,Be.Cb)({value:null,type:wT})],vn.prototype,"map",null),(0,De._)([(0,Be.Cb)()],vn.prototype,"padding",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],vn.prototype,"ready",void 0),(0,De._)([(0,Be.Cb)({type:Su.Z})],vn.prototype,"spatialReference",null),(0,De._)([(0,Be.Cb)()],vn.prototype,"spatialReferenceWarningDelay",void 0),(0,De._)([(0,Be.Cb)()],vn.prototype,"stationary",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],vn.prototype,"supportsGround",void 0),(0,De._)([(0,Be.Cb)({type:Wd.Z})],vn.prototype,"timeExtent",void 0),(0,De._)([(0,hn.B)("toolViewManager.tools")],vn.prototype,"tools",void 0),(0,De._)([(0,Be.Cb)()],vn.prototype,"toolViewManager",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],vn.prototype,"type",void 0),(0,De._)([(0,Be.Cb)({type:Number})],vn.prototype,"scale",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],vn.prototype,"updating",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],vn.prototype,"initialExtentRequired",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0,type:Iu.Z})],vn.prototype,"initialExtent",null),(0,De._)([(0,Be.Cb)()],vn.prototype,"cursor",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],vn.prototype,"input",void 0),(0,De._)([(0,Be.Cb)({type:cA,nonNullable:!0})],vn.prototype,"navigation",void 0),(0,De._)([(0,Be.Cb)()],vn.prototype,"layerViewManager",void 0),(0,De._)([(0,Be.Cb)()],vn.prototype,"analysisViewManager",void 0),(0,De._)([(0,Be.Cb)()],vn.prototype,"width",void 0),(0,De._)([(0,Be.Cb)()],vn.prototype,"height",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],vn.prototype,"resizing",void 0),(0,De._)([(0,Be.Cb)({value:null,readOnly:!0})],vn.prototype,"size",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],vn.prototype,"suspended",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],vn.prototype,"viewEvents",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],vn.prototype,"persistableViewModels",void 0),(0,De._)([(0,Be.Cb)()],vn.prototype,"_isValid",void 0),(0,De._)([(0,Be.Cb)()],vn.prototype,"_readyCycleForced",void 0),(0,De._)([(0,Be.Cb)()],vn.prototype,"_currentSpatialReference",void 0),vn=vy=(0,De._)([(0,Lr.j)("esri.views.View")],vn);const YJ=vn;let Bu=class extends rE.D{constructor(y){super(y),this.state="running",this.target=null}initialize(){this.addResolvingPromise(new Promise((y,p)=>this._dfd={resolve:y,reject:p}))}get done(){return"finished"===this.state||"stopped"===this.state}stop(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._dfd.reject(new on.Z("ViewAnimation stopped")))}finish(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","finished"),this._dfd.resolve())}update(y,p){p||(p=(0,Hn.y8)(y)?"waiting-for-target":"running"),this._set("target",y),this._set("state",p)}};(0,De._)([(0,Be.Cb)({readOnly:!0})],Bu.prototype,"done",null),(0,De._)([(0,Be.Cb)({readOnly:!0,type:String})],Bu.prototype,"state",void 0),(0,De._)([(0,Be.Cb)()],Bu.prototype,"target",void 0),Bu=(0,De._)([(0,Lr.j)("esri.views.ViewAnimation")],Bu),function(y){y.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(Bu||(Bu={}));const M2=Bu;var Ey=C(78041),xo=C(24926);class XJ{constructor(p,g,v,_){const E=p.targetGeometry,w=g.targetGeometry;_?"string"==typeof _&&(_=(0,Ey.Qc)(_)||Ey.LI.ease):_=Ey.LI.ease,this.easing=_,this.duration=v,this.sCenterX=E.x,this.sCenterY=E.y,this.sScale=p.scale,this.sRotation=p.rotation,this.tCenterX=w.x,this.tCenterY=w.y,this.tScale=g.scale,this.tRotation=g.rotation,this.dCenterX=this.tCenterX-this.sCenterX,this.dCenterY=this.tCenterY-this.sCenterY,this.dScale=this.tScale-this.sScale,this.dRotation=this.tRotation-this.sRotation,this.dRotation>180?this.dRotation-=360:this.dRotation<-180&&(this.dRotation+=360)}applyRatio(p,g){const v=this.easing(g);let _,E,w,D;g>=1?(_=this.tCenterX,E=this.tCenterY,w=this.tRotation,D=this.tScale):(_=this.sCenterX+v*this.dCenterX,E=this.sCenterY+v*this.dCenterY,w=this.sRotation+v*this.dRotation,D=this.sScale+v*this.dScale),p.targetGeometry.x=_,p.targetGeometry.y=E,p.scale=D,p.rotation=w}}let Jl=class extends di.Z{constructor(y){super(y),this.duration=200,this.transition=null,this.easing=Ey.LI.ease,this.view=null,this.viewpoint=null,this.viewpoint=new Us.Z({targetGeometry:new zl.Z,scale:0,rotation:0}),this._updateTask=(0,vc.A)({postRender:this._postRender.bind(this)}),this._updateTask.pause()}destroy(){this._updateTask.remove(),this._updateTask=null}animate(y,p,g){this.stop(),(0,xo.JG)(this.viewpoint,p),this.transition=new XJ(this.viewpoint,y.target,g&&g.duration||this.duration,g&&g.easing||this.easing);const _=()=>{this.animation===y&&this._updateTask&&("finished"===y.state&&(this.transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return y.when(_,_),this._startTime=performance.now(),this._updateTask.resume(),this.animation=y,y}animateContinous(y,p){this.stop(),this.updateFunction=p,this.viewpoint=y;const g=new M2({target:y.clone()}),v=()=>{this.animation===g&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return g.when(v,v),this._startTime=performance.now(),this._updateTask.resume(),this.animation=g,g}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(y){const p=this.animation;if(p&&p.state!==M2.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,y.deltaTime);else{const g=(performance.now()-this._startTime)/this.transition.duration,v=g>=1;this.transition.applyRatio(this.viewpoint,g),v&&this.animation.finish()}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};(0,De._)([(0,Be.Cb)()],Jl.prototype,"animation",void 0),(0,De._)([(0,Be.Cb)()],Jl.prototype,"duration",void 0),(0,De._)([(0,Be.Cb)()],Jl.prototype,"transition",void 0),(0,De._)([(0,Be.Cb)()],Jl.prototype,"easing",void 0),(0,De._)([(0,Be.Cb)()],Jl.prototype,"view",void 0),(0,De._)([(0,Be.Cb)()],Jl.prototype,"viewpoint",void 0),Jl=(0,De._)([(0,Lr.j)("esri.views.2d.AnimationManager")],Jl);const QJ=Jl;class qJ{constructor(p){this.view=p,this._frameTaskHandle=null,this._updateRequested=!1,this.stationary=!0,this.updateEnabled=!0,this.animationInProgress=!1,this.prepare=()=>{this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions},this.update=()=>{if(this._updateRequested=!1,!this.updateEnabled)return;const{basemapView:g,graphicsView:v,labelManager:_,layerViews:E,state:{id:w}}=this.view;g.baseLayerViews.forEach(this._updateLayerView,this),E.forEach(this._updateLayerView,this),g.referenceLayerViews.forEach(this._updateLayerView,this),(0,fr.pC)(_)&&(_.lastUpdateId!==w&&(_.viewChange(),_.lastUpdateId=w),_.updateRequested&&_.processUpdate(this._updateParameters)),(0,fr.pC)(v)&&(v.lastUpdateId!==w&&(v.viewChange(),v.lastUpdateId=w),v.updateRequested&&v.processUpdate(this._updateParameters)),this.view.graphicsTileStore.setViewState(this._updateParameters.state),this.animationInProgress||this._updateRequested||this._frameTaskHandle.pause()}}destroy(){this.stop()}start(){this.stationary=this.view.stationary,this._updateParameters={state:this.view.state,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:this.view.renderingOptions},this._stationaryHandle=this.view.watch("stationary",p=>{this.stationary=p,this.requestFrame()}),this._frameTaskHandle=(0,vc.A)(this)}stop(){this._frameTaskHandle&&(this._stationaryHandle.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0,this.animationInProgress=!1)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(p){const g=this.view.state,v=p.lastUpdateId;null!=v&&(this.stationary||p.moving)||(p.moving=!0,p.moveStart()),v!==g.id&&p.viewChange(),this.stationary&&p.moving&&(p.moving=!1,p.moveEnd()),p.lastUpdateId=g.id,p.updateRequested&&p.processUpdate(this._updateParameters),"layerViews"in p&&p.layerViews.forEach(this._updateLayerView,this)}}function Lo(){return Promise.all([Promise.all([C.e(3070),C.e(8592),C.e(4266)]).then(C.bind(C,14266)),Promise.all([C.e(7692),C.e(3755),C.e(3070),C.e(5024),C.e(4589),C.e(3751),C.e(5909),C.e(4175),C.e(3997),C.e(4522),C.e(1619),C.e(1572),C.e(4056),C.e(8773),C.e(8592),C.e(9510)]).then(C.bind(C,39510))])}const tp=()=>Lo().then(()=>Promise.all([C.e(7692),C.e(3755),C.e(3070),C.e(5024),C.e(4589),C.e(9516),C.e(5391)]).then(C.bind(C,55391))),by=()=>Lo().then(()=>Promise.all([C.e(3755),C.e(5024),C.e(3751),C.e(5909),C.e(4175),C.e(3997),C.e(1529)]).then(C.bind(C,68915))),_A={"base-dynamic":()=>Lo().then(()=>Promise.all([C.e(7692),C.e(3755),C.e(3070),C.e(5024),C.e(4589),C.e(5207),C.e(4126)]).then(C.bind(C,54126))),"base-tile":tp,"bing-maps":tp,csv:by,"geo-rss":()=>Lo().then(()=>Promise.all([C.e(7692),C.e(3755),C.e(3070),C.e(5024),C.e(4589),C.e(3751),C.e(5909),C.e(4175),C.e(3997),C.e(4522),C.e(1619),C.e(1572),C.e(4056),C.e(8773),C.e(8592),C.e(5072)]).then(C.bind(C,5072))),feature:by,geojson:by,graphics:()=>Lo().then(()=>Promise.all([C.e(7692),C.e(3755),C.e(3070),C.e(5024),C.e(4589),C.e(3751),C.e(5909),C.e(4175),C.e(3997),C.e(4522),C.e(1619),C.e(1572),C.e(4056),C.e(8773),C.e(8592),C.e(3375)]).then(C.bind(C,63375))),group:()=>Lo().then(()=>Promise.all([C.e(7692),C.e(3755),C.e(3070),C.e(5024),C.e(4589),C.e(408)]).then(C.bind(C,60408))),imagery:()=>Lo().then(()=>Promise.all([C.e(7692),C.e(3755),C.e(3070),C.e(5024),C.e(4589),C.e(3751),C.e(5909),C.e(4175),C.e(3997),C.e(4522),C.e(1619),C.e(1572),C.e(4056),C.e(8773),C.e(6926),C.e(5207),C.e(9929),C.e(8592),C.e(8446)]).then(C.bind(C,98446))),"imagery-tile":()=>Lo().then(()=>Promise.all([C.e(7692),C.e(3755),C.e(3070),C.e(5024),C.e(4589),C.e(6926),C.e(9929),C.e(8592),C.e(178)]).then(C.bind(C,60178))),kml:()=>Lo().then(()=>Promise.all([C.e(7692),C.e(3755),C.e(3070),C.e(5024),C.e(4589),C.e(3751),C.e(5909),C.e(4175),C.e(3997),C.e(4522),C.e(1619),C.e(1572),C.e(4056),C.e(8773),C.e(8592),C.e(5868)]).then(C.bind(C,85868))),"map-image":()=>Lo().then(()=>Promise.all([C.e(7692),C.e(3755),C.e(3070),C.e(5024),C.e(4589),C.e(3751),C.e(5909),C.e(4175),C.e(3997),C.e(4522),C.e(1619),C.e(1572),C.e(4056),C.e(8773),C.e(5207),C.e(8592),C.e(8618)]).then(C.bind(C,82519))),"map-notes":()=>Lo().then(()=>Promise.all([C.e(7692),C.e(3755),C.e(3070),C.e(5024),C.e(4589),C.e(3751),C.e(5909),C.e(4175),C.e(3997),C.e(4522),C.e(1619),C.e(1572),C.e(4056),C.e(8773),C.e(8592),C.e(6899)]).then(C.bind(C,36899))),"ogc-feature":()=>Lo().then(()=>Promise.all([C.e(3755),C.e(5024),C.e(3751),C.e(5909),C.e(4175),C.e(3997),C.e(1529),C.e(6829)]).then(C.bind(C,96829))),"open-street-map":tp,route:()=>Lo().then(()=>Promise.all([C.e(7692),C.e(3755),C.e(3070),C.e(5024),C.e(4589),C.e(3751),C.e(5909),C.e(4175),C.e(3997),C.e(4522),C.e(1619),C.e(1572),C.e(4056),C.e(8773),C.e(8592),C.e(9066)]).then(C.bind(C,9066))),stream:()=>Lo().then(()=>Promise.all([C.e(3755),C.e(5024),C.e(3751),C.e(5909),C.e(4175),C.e(3997),C.e(1529),C.e(9051)]).then(C.bind(C,39051))),"subtype-group":()=>Lo().then(()=>Promise.all([C.e(3755),C.e(5024),C.e(3751),C.e(5909),C.e(4175),C.e(3997),C.e(1529),C.e(5876)]).then(C.bind(C,65876))),tile:tp,"vector-tile":()=>Lo().then(()=>Promise.all([C.e(7692),C.e(3755),C.e(3070),C.e(5024),C.e(4589),C.e(3751),C.e(5909),C.e(8364),C.e(1651)]).then(C.bind(C,1651))),wcs:()=>Lo().then(()=>Promise.all([C.e(7692),C.e(3755),C.e(3070),C.e(5024),C.e(4589),C.e(6926),C.e(9929),C.e(8592),C.e(178)]).then(C.bind(C,60178))),"web-tile":tp,wfs:by,wms:()=>Lo().then(()=>Promise.all([C.e(7692),C.e(3755),C.e(3070),C.e(5024),C.e(4589),C.e(5207),C.e(8592),C.e(6053)]).then(C.bind(C,6053))),wmts:()=>Lo().then(()=>Promise.all([C.e(7692),C.e(3755),C.e(3070),C.e(5024),C.e(4589),C.e(9516),C.e(9300)]).then(C.bind(C,49300))),analysis:null,"base-elevation":null,"building-scene":null,elevation:null,"integrated-mesh":null,"point-cloud":null,voxel:null,scene:null,unknown:null,unsupported:null};var x2,tY=C(72258),w2=C(33190),Ea=C(67831),rY=C(25748);const iY=co.Z.getLogger("esri.views.MapView");let Oc=x2=class extends di.Z{constructor(y){super(y),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){return(0,fr.Wi)(this.geometry)||!this.spatialReference?null:this.spatialReference.equals(this.geometry.spatialReference)?this.geometry:(0,pl.Q8)(this.geometry,this.spatialReference)?(0,pl.iV)(this.geometry,this.spatialReference):(0,ep.kR)()?(0,ep.iV)(this.geometry,this.spatialReference):(iY.error("#constraints.geometry","unsupported coordinate system. The source geometry cannot be projected to the view's coordinate system. The projection engine cannot be loaded.",{geometry:this.geometry}),null)}constrain(y,p){if((0,fr.Wi)(this.normalizedGeometry))return y;const g=y.targetGeometry;if("extent"===this.normalizedGeometry.type?(0,w2.aV)(this.normalizedGeometry,g):(0,w2.CI)(this.normalizedGeometry,g))return y;const{coordinate:v}=function nY(y,p){const{spatialReference:g}=p,v=[p.x,p.y];let _=Number.POSITIVE_INFINITY,E=0,w=0;const D=[0,0],O="extent"===y.type?[[[y.xmin,y.ymin],[y.xmin,y.ymax],[y.xmax,y.ymax],[y.xmax,y.ymin],[y.xmin,y.ymin]]]:y.rings;for(const L of O)for(let z=0;z<L.length-1;z++){(0,rY.Tx)(D,v,L,z);const se=(0,Ea.b)(v,D);se<_&&(_=se,E=D[0],w=D[1])}return{coordinate:new zl.Z({x:E,y:w,spatialReference:g}),distance:_}}(this.normalizedGeometry,g);return v&&(y.targetGeometry=v),y}clone(){var y,p;return new x2({geometry:null==(y=this.geometry)?void 0:y.clone(),spatialReference:null==(p=this.spatialReference)?void 0:p.clone()})}};var D2;(0,De._)([(0,Be.Cb)({constructOnly:!0})],Oc.prototype,"geometry",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],Oc.prototype,"normalizedGeometry",null),(0,De._)([(0,Be.Cb)({constructOnly:!0})],Oc.prototype,"spatialReference",void 0),Oc=x2=(0,De._)([(0,Lr.j)("esri.views.2d.constraints.GeometryConstraint")],Oc);let rp=D2=class extends di.Z{constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(y,p){return this.enabled&&p&&(this.rotationEnabled||(y.rotation=p.rotation)),y}clone(){return new D2({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};(0,De._)([(0,Be.Cb)()],rp.prototype,"enabled",void 0),(0,De._)([(0,Be.Cb)()],rp.prototype,"rotationEnabled",void 0),rp=D2=(0,De._)([(0,Lr.j)("esri.views.2d.constraints.RotationConstraint")],rp);const bA=rp;var O2;let Zs=O2=class extends di.Z{constructor(y){super(y),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let y,{lods:p,minScale:g,maxScale:v,minZoom:_,maxZoom:E}=this,w=-1,D=-1,O=!1,L=!1;if(0!==g&&0!==v&&g<v&&([g,v]=[v,g]),!p||!p.length)return this._set("effectiveMinScale",g),void this._set("effectiveMaxScale",v);p=p.map(z=>z.clone()),p.sort((z,se)=>se.scale-z.scale),p.forEach((z,se)=>z.level=se);for(const z of p)!O&&g>0&&g>=z.scale&&(w=z.level,O=!0),!L&&v>0&&v>=z.scale&&(D=y?y.level:-1,L=!0),y=z;-1===_&&(_=0===g?0:w),-1===E&&(E=0===v?p.length-1:D),_=Math.max(_,0),_=Math.min(_,p.length-1),E=Math.max(E,0),E=Math.min(E,p.length-1),_>E&&([_,E]=[E,_]),g=p[_].scale,v=p[E].scale,p.splice(0,_),p.splice(E-_+1,p.length),p.forEach((z,se)=>{this._lodByScale[z.scale]=z,this._scales[se]=z.scale}),this._set("effectiveLODs",p),this._set("effectiveMinZoom",_),this._set("effectiveMaxZoom",E),this._set("effectiveMinScale",g),this._set("effectiveMaxScale",v)}constrain(y,p){if(p&&y.scale===p.scale)return y;const g=this.effectiveMinScale,v=this.effectiveMaxScale,_=y.targetGeometry,E=p&&p.targetGeometry,D=0!==g&&y.scale>g;if(0!==v&&y.scale<v||D){const O=D?g:v;if(E){const L=(O-p.scale)/(y.scale-p.scale);_.x=E.x+(_.x-E.x)*L,_.y=E.y+(_.y-E.y)*L}y.scale=O}return this.snapToZoom&&this.effectiveLODs&&(y.scale=this._getClosestScale(y.scale)),y}fit(y){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(y,null);const p=this.scaleToZoom(y.scale),g=Math.abs(p-Math.floor(p));return y.scale=this.zoomToScale(g>.99?Math.round(p):Math.floor(p)),y}zoomToScale(y){if(!this.effectiveLODs)return 0;y-=this.effectiveMinZoom,y=Math.max(0,y);const p=this._scales;if(y<=0)return p[0];if(y>=p.length)return p[p.length-1];const g=Math.round(y-.5),v=Math.round(y);return p[v]+(v-y)*(p[g]-p[v])}scaleToZoom(y){if(!this.effectiveLODs)return-1;const p=this._scales;let g,v;if(y>=p[0])return this.effectiveMinZoom;if(y<=p[p.length-1])return this.effectiveMaxZoom;for(let _=0;_<p.length-1;_++){if(g=p[_],v=p[_+1],v===y)return _+this.effectiveMinZoom+1;if(g>y&&v<y)return _+this.effectiveMinZoom+1-(y-v)/(g-v)}}snapToClosestScale(y){if(!this.effectiveLODs)return y;const p=this.scaleToZoom(y);return this.zoomToScale(Math.round(p))}snapToNextScale(y,p=.5){if(!this.effectiveLODs)return y*p;const g=Math.round(this.scaleToZoom(y));return this.zoomToScale(g+1)}snapToPreviousScale(y,p=2){if(!this.effectiveLODs)return y*p;const g=Math.round(this.scaleToZoom(y));return this.zoomToScale(g-1)}clone(){return new O2({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(y){return this._lodByScale[y]||(y=this._scales.reduce((p,g)=>Math.abs(g-y)<=Math.abs(p-y)?g:p,this._scales[0])),this._lodByScale[y].scale}};(0,De._)([(0,Be.Cb)({readOnly:!0})],Zs.prototype,"effectiveLODs",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],Zs.prototype,"effectiveMinZoom",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],Zs.prototype,"effectiveMaxZoom",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],Zs.prototype,"effectiveMinScale",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],Zs.prototype,"effectiveMaxScale",void 0),(0,De._)([(0,Be.Cb)()],Zs.prototype,"lods",void 0),(0,De._)([(0,Be.Cb)()],Zs.prototype,"minZoom",void 0),(0,De._)([(0,Be.Cb)()],Zs.prototype,"maxZoom",void 0),(0,De._)([(0,Be.Cb)()],Zs.prototype,"minScale",void 0),(0,De._)([(0,Be.Cb)()],Zs.prototype,"maxScale",void 0),(0,De._)([(0,Be.Cb)()],Zs.prototype,"snapToZoom",void 0),Zs=O2=(0,De._)([(0,Lr.j)("esri.views.2d.constraints.ZoomConstraint")],Zs);const CA=Zs;var oY=C(37118);const sY={base:null,key:"type",typeMap:{extent:Iu.Z,polygon:oY.Z}};let po=class extends Bf.Z.EventedAccessor{constructor(){super(...arguments),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0}initialize(){this.watch(["_zoom","_rotation"],this.emit.bind(this,"update"),!0)}destroy(){this.view=null,this._set("_zoom",null),this._set("_rotation",null)}set geometry(y){this._set("geometry",y||null)}get _defaultLODs(){var y,p,g;const v=null==(y=this.view)||null==(p=y.defaultsFromMap)?void 0:p.tileInfo,_=null==(g=this.view)?void 0:g.spatialReference;return v&&_&&v.spatialReference.equals(_)?v.lods:null}get _geometry(){return new Oc({geometry:this.geometry,spatialReference:this.view.spatialReference})}get _rotation(){return new bA({rotationEnabled:this.rotationEnabled})}get _zoom(){const y=this._get("_zoom"),p=this.lods||this._defaultLODs,g=this.minZoom,v=this.maxZoom,_=this.minScale,E=this.maxScale,w=this.snapToZoom;return y&&y.lods===p&&y.minZoom===g&&y.maxZoom===v&&y.minScale===_&&y.maxScale===E&&y.snapToZoom===w?y:new CA({lods:p,minZoom:g,maxZoom:v,minScale:_,maxScale:E,snapToZoom:w})}canZoomInTo(y){const p=this.effectiveMaxScale;return 0===p||y>=p}canZoomOutTo(y){const p=this.effectiveMinScale;return 0===p||y<=p}constrain(y,p){return this._zoom.constrain(y,p),this._rotation.constrain(y,p),this._geometry.constrain(y,p),y}constrainByGeometry(y){return this._geometry.constrain(y)}fit(y){return this._zoom.fit(y)}zoomToScale(y){return this._zoom.zoomToScale(y)}scaleToZoom(y){return this._zoom.scaleToZoom(y)}snapScale(y){return this._zoom.snapToClosestScale(y)}snapToNextScale(y){return this._zoom.snapToNextScale(y)}snapToPreviousScale(y){return this._zoom.snapToPreviousScale(y)}};(0,De._)([(0,Be.Cb)({readOnly:!0,aliasOf:"_zoom.effectiveLODs"})],po.prototype,"effectiveLODs",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0,aliasOf:"_zoom.effectiveMinScale"})],po.prototype,"effectiveMinScale",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0,aliasOf:"_zoom.effectiveMaxScale"})],po.prototype,"effectiveMaxScale",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0,aliasOf:"_zoom.effectiveMinZoom"})],po.prototype,"effectiveMinZoom",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0,aliasOf:"_zoom.effectiveMaxZoom"})],po.prototype,"effectiveMaxZoom",void 0),(0,De._)([(0,Be.Cb)({types:sY,value:null})],po.prototype,"geometry",null),(0,De._)([(0,Be.Cb)({type:[tY.Z]})],po.prototype,"lods",void 0),(0,De._)([(0,Be.Cb)()],po.prototype,"minScale",void 0),(0,De._)([(0,Be.Cb)()],po.prototype,"maxScale",void 0),(0,De._)([(0,Be.Cb)()],po.prototype,"minZoom",void 0),(0,De._)([(0,Be.Cb)()],po.prototype,"maxZoom",void 0),(0,De._)([(0,Be.Cb)()],po.prototype,"rotationEnabled",void 0),(0,De._)([(0,Be.Cb)()],po.prototype,"snapToZoom",void 0),(0,De._)([(0,Be.Cb)()],po.prototype,"view",void 0),(0,De._)([(0,Be.Cb)()],po.prototype,"_defaultLODs",null),(0,De._)([(0,Be.Cb)({type:Oc})],po.prototype,"_geometry",null),(0,De._)([(0,Be.Cb)({type:bA})],po.prototype,"_rotation",null),(0,De._)([(0,Be.Cb)({readOnly:!0,type:CA})],po.prototype,"_zoom",null),po=(0,De._)([(0,Lr.j)("esri.views.2d.MapViewConstraints")],po);const MA=po;var P2,wA=C(99770),aY=C(39863),np=C(31478),lY=C(12225),S2=C(46342),nh=C(30217),I2=C(49966),xA=C(9545);function T2(y){return function uY(y){return y instanceof Float32Array&&y.length>=2}(y)||function cY(y){return Array.isArray(y)&&y.length>=2}(y)}const Yl=[0,0];let Sc=P2=class extends Fi.wq{constructor(y){super(y),this._viewpoint2D={center:(0,wA.a)(),rotation:0,scale:0,spatialReference:null},this.center=[0,0],this.extent=new Iu.Z,this.id=0,this.inverseTransform=(0,S2.c)(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=(0,S2.c)(),this.transformNoRotation=(0,S2.c)(),this.displayMat3=(0,I2.c)(),this.displayViewMat3=(0,I2.c)(),this.viewMat3=(0,I2.c)(),this.viewMat2d=(0,lY.c)(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(y){this._set("pixelRatio",y),this._update()}set size(y){this._set("size",y),this._update()}set viewpoint(y){if(y){const p=this._viewpoint2D,g=y.targetGeometry;p.center[0]=g.x,p.center[1]=g.y,p.rotation=y.rotation,p.scale=y.scale,p.spatialReference=g.spatialReference}this._update()}copy(y){const p=this.size,g=this.viewpoint;return g&&p?(this.viewpoint=(0,xo.JG)(g,y.viewpoint),this._set("size",(0,Ea.c)(p,y.size))):(this.viewpoint=y.viewpoint.clone(),this._set("size",[y.size[0],y.size[1]])),this._set("pixelRatio",y.pixelRatio),this}clone(){return new P2({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(y,p,g){return T2(p)?(0,Ea.t)(y,p,this.inverseTransform):(Yl[0]=p,Yl[1]=g,(0,Ea.t)(y,Yl,this.inverseTransform))}toScreen(y,p,g){return T2(p)?(0,Ea.t)(y,p,this.transform):(Yl[0]=p,Yl[1]=g,(0,Ea.t)(y,Yl,this.transform))}toScreenNoRotation(y,p,g){return T2(p)?(0,Ea.t)(y,p,this.transformNoRotation):(Yl[0]=p,Yl[1]=g,(0,Ea.t)(y,Yl,this.transformNoRotation))}getScreenTransform(y,p){const{center:g}=this._viewpoint2D,v=this._get("pixelRatio")||1,_=this._get("size");return(0,xo.Rb)(y,g,_,p,0,v),y}_update(){const{center:y,spatialReference:p,scale:g,rotation:v}=this._viewpoint2D,_=this._get("pixelRatio")||1,E=this._get("size"),w=new Us.Z({targetGeometry:new zl.Z(y[0],y[1],p),scale:g,rotation:v});if(this._set("viewpoint",w),!E||!p||!g)return;this.resolution=(0,xo.uG)(w),this.rotation=v,this.scale=g,this.spatialReference=p,(0,Ea.c)(this.center,y),(0,nh.s)(this.displayMat3,0!==E[0]?2/E[0]:0,0,0,0,0!==E[1]?-2/E[1]:0,0,-1,1,1);const L=(0,nh.b)(this.viewMat3),z=(0,xA.f)(E[0]/2,E[1]/2),se=(0,xA.f)(-E[0]/2,-E[1]/2),Ee=(0,aY.t)(v);(0,nh.c)(L,L,z),(0,nh.r)(L,L,Ee),(0,nh.c)(L,L,se),(0,nh.m)(this.displayViewMat3,this.displayMat3,L);const Me=(0,np.i)(this.viewMat2d);return(0,np.t)(Me,Me,z),(0,np.r)(Me,Me,Ee),(0,np.t)(Me,Me,se),(0,xo.bk)(this.extent,w,E),(0,xo.Ck)(this.transform,w,E,_),(0,np.a)(this.inverseTransform,this.transform),(0,xo.Jp)(this.transformNoRotation,w,E,_),this.worldScreenWidth=(0,xo.L2)(this.spatialReference,this.resolution),this._set("id",this.id+1),this}};(0,De._)([(0,Be.Cb)({readOnly:!0})],Sc.prototype,"id",void 0),(0,De._)([(0,Be.Cb)({value:1,json:{write:!0}})],Sc.prototype,"pixelRatio",null),(0,De._)([(0,Be.Cb)({json:{write:!0}})],Sc.prototype,"size",null),(0,De._)([(0,Be.Cb)({type:Us.Z,json:{write:!0}})],Sc.prototype,"viewpoint",null),Sc=P2=(0,De._)([(0,Lr.j)("esri.views.2d.ViewState")],Sc);const DA=Sc;let Xl=class extends di.Z{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}};(0,De._)([(0,Be.Cb)()],Xl.prototype,"left",void 0),(0,De._)([(0,Be.Cb)()],Xl.prototype,"top",void 0),(0,De._)([(0,Be.Cb)()],Xl.prototype,"right",void 0),(0,De._)([(0,Be.Cb)()],Xl.prototype,"bottom",void 0),Xl=(0,De._)([(0,Lr.j)("esri.views.2d.PaddedViewState.Padding")],Xl);let ih=class extends DA{constructor(...y){super(...y),this.paddedViewState=new DA,this._updateContent=(()=>{const p=(0,wA.a)();return()=>{const g=this._get("size"),v=this._get("padding");if(!g||!v)return;const _=this.paddedViewState;(0,Ea.s)(p,v.left+v.right,v.top+v.bottom),(0,Ea.f)(p,g,p),(0,Ea.c)(_.size,p);const E=_.viewpoint;E&&(this.viewpoint=E)}})(),this.watch(["size","padding"],this._updateContent,!0),this.padding=new Xl,this.size=[0,0]}set padding(y){this._set("padding",y||new Xl)}set viewpoint(y){if(y){const p=y.clone();this.paddedViewState.viewpoint=y,(0,xo.H4)(p,y,this._get("size"),this._get("padding"));const g=this._viewpoint2D,v=p.targetGeometry;g.center[0]=v.x,g.center[1]=v.y,g.rotation=p.rotation,g.scale=p.scale,g.spatialReference=v.spatialReference,this._update()}}};(0,De._)([(0,Be.Cb)()],ih.prototype,"paddedViewState",void 0),(0,De._)([(0,Be.Cb)({type:Xl})],ih.prototype,"padding",null),(0,De._)([(0,Be.Cb)()],ih.prototype,"viewpoint",null),ih=(0,De._)([(0,Lr.j)("esri.views.2d.PaddedViewState")],ih);const dY=ih;C(17083);var hY=C(9598),fY=(C(58098),C(8480),C(79527),C(56656)),OA=C(33412);const Vu=co.Z.getLogger("esri.views.MapView");let li=class extends(IJ(YJ)){constructor(y){super(y),this._stationaryTimer=null,this.frameTask=new qJ(this),this.featuresTilingScheme=null,this.fullOpacity=1,this.graphicsView=null,this.initialExtent=null,this.map=null,this.labelManager=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.resizeAlign="center",this.supportsGround=!1,this.timeline=new OA.T,this.type="2d",this.constraints=new MA,this.padding={top:0,right:0,bottom:0,left:0};const p=this.handles,g=()=>this.notifyChange("updating");p.add([this.watch("viewpoint",()=>{this._lastStationaryEventTimestamp=performance.now(),this._flipStationary(160)},!0),this.on("resize",v=>this._resizeHandler(v)),this.watch("animationManager.animation",v=>{this.animation=v}),this.allLayerViews.on("change",()=>{g(),p.remove("map-view-base-layerViewsUpdating"),p.add(this.allLayerViews.map(v=>v.watch("updating",g)),"map-view-base-layerViewsUpdating")})],"map-view-base")}destroy(){this.destroyed||(this._set("preconditionsReady",!1),this._gotoTask=this.frameTask=null)}get _defaultsFromMapSettings(){return{required:{tileInfo:!0,heightModelInfo:!1,extent:!1}}}set animation(y){const p=this._get("animation");if(y===p)return;if(p&&p.stop(),!y||y.isFulfilled())return void this._set("animation",null);this._set("animation",y),this.frameTask.animationInProgress=!0;const g=()=>{y===this._get("animation")&&(this._set("animation",null),this.frameTask.requestFrame()),this.frameTask.animationInProgress=!1};y.when(g,g)}get center(){if(!this.ready)return this._get("center");const{center:y,spatialReference:p}=this.state.paddedViewState;return new zl.Z({x:y[0],y:y[1],spatialReference:p})}set center(y){if(null==y)return;if(!this._normalizeInput(y))return void Vu.error("#center",`incompatible spatialReference ${JSON.stringify(y.spatialReference)} with view's spatialReference ${JSON.stringify(this.spatialReference)}`);if(!this.ready)return this._set("center",y),void this.notifyChange("initialExtentRequired");const p=this.viewpoint;(0,xo.o2)(p,p,y),this.viewpoint=p}set constraints(y){const p=this._get("constraints");p&&(this.handles.remove("map-view-base-constraints"),p.destroy()),this._set("constraints",y),y&&(y.view=this,this.ready&&(this.state.viewpoint=y.fit(this.state.paddedViewState.viewpoint)),this.handles.add(y.on("update",()=>{this.ready&&this.state&&(this.state.viewpoint=y.fit(this.state.paddedViewState.viewpoint))}),"map-view-base-constraints"))}get extent(){return this.ready?this.state.paddedViewState.extent.clone():this._get("extent")}set extent(y){if(null==y)return;const p=this._normalizeInput(y);if(!p)return void Vu.error("#center",`incompatible spatialReference ${JSON.stringify(y.spatialReference)} with view's spatialReference ${JSON.stringify(this.spatialReference)}`);if(!p.width||!p.height)return void Vu.error("#extent","invalid extent size");if(!this.ready)return this._set("extent",p),this._set("center",null),this._set("viewpoint",null),this._set("scale",0),this._set("zoom",-1),void this.notifyChange("initialExtentRequired");const g=this.viewpoint;(0,xo.qf)(g,g,p,this.size,{constraints:this.constraints}),this.viewpoint=g}get graphicsTileStore(){return new fY.Z(this.featuresTilingScheme)}get initialExtentRequired(){const y=this._normalizeInput(this.center),p=this._normalizeInput(this.viewpoint),g=this._normalizeInput(this.extent),{scale:v,constraints:_}=this;let E=this.zoom;return!(this.get("map.initialViewProperties.viewpoint")||g||(_.effectiveLODs||(E=-1),y&&(0!==v||-1!==E)||p&&(0,fr.pC)(p.targetGeometry)&&("extent"===p.targetGeometry.type||p.scale)))}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(y){this.ready?(this.state.padding=y,this._set("padding",this.state.padding)):this._set("padding",y)}get resolution(){return this.state?this.state.resolution:0}get rotation(){return this.ready?this.state.rotation:this._get("rotation")}set rotation(y){if(isNaN(y))return;if(!this.ready)return void this._set("rotation",y);const p=this.viewpoint;(0,xo.YQ)(p,p,y),this.viewpoint=p}get scale(){return this.ready?this.state.scale:this._get("scale")}set scale(y){if(!y||isNaN(y))return;if(!this.ready){this._set("scale",y),this._set("zoom",-1);const g=this._get("extent");return g&&(this._set("extent",null),this._set("center",g.center)),void this.notifyChange("initialExtentRequired")}const p=this.viewpoint;(0,xo.Hy)(p,p,y),this.viewpoint=p}get stationary(){return!(this.animation||this.navigating||this._get("resizing")||this._stationaryTimer)}get updating(){return!this.destroyed&&(!0===this.get("layerViewManager.updating")||!0===this.get("labelManager.updating")||!0===this.get("graphicsView.updating")||this.allLayerViews.some(y=>!y.destroyed&&!("layerViews"in y)&&!0===y.updating))}get viewpoint(){if(!this.ready)return this._get("viewpoint");const y=this.state.paddedViewState;return y&&y.viewpoint.clone()}set viewpoint(y){if(null==y)return;const p=this._normalizeInput(y);if(!p)return void(!y.scale||isNaN(y.scale)?Vu.error("#viewpoint",`invalid scale value of ${y.scale}`):(0,fr.Wi)(y.targetGeometry)?Vu.error("#viewpoint","geometry not defined"):Vu.error("#viewpoint",`incompatible spatialReference ${JSON.stringify(y.targetGeometry.spatialReference)} with view's spatialReference ${JSON.stringify(this.spatialReference)}`));if(!this.ready)return this._set("viewpoint",p),this._set("extent",null),this._set("center",null),this._set("zoom",-1),this._set("scale",0),void this.notifyChange("initialExtentRequired");const g=new Us.Z({targetGeometry:new zl.Z,scale:0,rotation:0});(0,xo.JG)(g,p),this.constraints.constrain(g,this.state.paddedViewState.viewpoint),this.state.viewpoint=g,this.frameTask.requestFrame(),this._set("viewpoint",g)}get zoom(){return this.ready?this.constraints.scaleToZoom(this.scale):this._get("zoom")}set zoom(y){if(null==y)return;if(!this.ready){this.notifyChange("initialExtentRequired"),this._set("zoom",y),this._set("scale",0);const g=this._get("extent");g&&(this._set("extent",null),this._set("center",g.center))}if(!this.constraints.effectiveLODs)return;const p=this.viewpoint;(0,xo.Hy)(p,p,this.constraints.zoomToScale(y)),this.viewpoint=p,this._set("zoom",this.constraints.scaleToZoom(this.scale))}goTo(y,p){if(y)return this.animation&&(this.animation=null),this._createAnimation(),(0,kr.LR)(this,"ready",p&&p.signal).then(()=>{const g=Pt({animate:!0},p),v=(0,xo.km)(y,this);return this.animation.update(v),this._gotoTask={},g.animate?this._gotoAnimated(v,g):this._gotoImmediate(v,g)});Vu.error("#goTo()","target cannot be null or undefined")}hitTest(y){return Promise.reject("Should be implemented by subclasses")}popupHitTest(y){return this.hitTest(y).then(p=>Xr(Pt({},p),{mapPoint:this.toMap(y)}))}toMap(y){if(!this.ready)return null;const[g,v]=this.state.toMap([0,0],[y.x,y.y]);return new zl.Z({x:g,y:v,spatialReference:this.spatialReference})}toScreen(y){if(!this.ready)return null;const p=this._normalizeInput(y),g=[p.x,p.y];return this.state.toScreen(g,g),(0,ks.vW)(g[0],g[1])}pixelSizeAt(){return this.ready?this.state.resolution:(Vu.error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}getDefaultSpatialReference(){var y,p,g;return this.map&&"initialViewProperties"in this.map&&(null==(y=this.map)||null==(p=y.initialViewProperties)?void 0:p.spatialReference)||(null==(g=this.defaultsFromMap)?void 0:g.spatialReference)||null}getSpatialReferenceSupport({layer:y}){return y||this._get("ready")||null!==this._getDefaultViewpoint()?{}:null}importLayerView(y){return(y=>{const p=_A[y.type];if(!(0,fr.pC)(p))throw function eY(y){const p=y.declaredClass?y.declaredClass.slice(y.declaredClass.lastIndexOf(".")+1):"Unknown",g=p.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new on.Z(`${g}:view-not-supported`,`${p} is not supported in 2D`)}(y);return p(y)})(y)}hasLayerViewModule(y){return(y=>(0,fr.pC)(_A[y.type]))(y)}_createAnimation(){return this.animation&&!this.animation.done||(this.animation=new M2),this.animation}_cancellableGoTo(y,p,g){const v=()=>y===this._gotoTask,_=g.then(()=>{v()&&(this.animation=null)}).catch(w=>{throw v()&&(this.animation=null,p.done||(p.stop(),this.frameTask.animationInProgress=!1)),w}),E=new Promise(w=>w(_));return p.when().catch(()=>{v()&&E.cancel&&E.cancel()}),E}_gotoImmediate(y,p){const g=this._gotoTask,v=this.animation,_=y.then(E=>{if((0,Hn.k_)(p),g!==this._gotoTask)throw new on.Z("view:goto-interrupted","Goto was interrupted");this.viewpoint=v.target=E,v.finish()});return this._cancellableGoTo(g,v,_)}_gotoAnimated(y,p){const g=this._gotoTask,v=this.animation,_=y.then(E=>{if((0,Hn.k_)(p),g!==this._gotoTask)throw new on.Z("view:goto-interrupted","Goto was interrupted");return v.update(E),this.animationManager.animate(v,this.viewpoint,p),v.when().then(()=>{},()=>{})});return this._cancellableGoTo(g,v,_)}_resizeHandler(y){const p=this.state;if(!p)return;let g=this.state.paddedViewState.viewpoint;const v=this.state.paddedViewState.size.concat();p.size=[y.width,y.height],(0,xo.SI)(g,g,v,this.state.paddedViewState.size,this.resizeAlign),g=this.constraints.constrain(g,null),this.state.viewpoint=g}_startup(){const y=this._getDefaultViewpoint();this.constraints.view=this,this.constraints.fit(y),this._set("animationManager",new QJ({view:this})),this._set("state",new dY({padding:this._get("padding"),size:this.size,viewpoint:y})),this._set("featuresTilingScheme",new hY.Z(SJ.Z.create({spatialReference:this.spatialReference,size:512,numLODs:36}))),this._set("ready",!0),this.frameTask&&this.frameTask.start()}_teardown(){this.frameTask&&this.frameTask.stop(),this._set("ready",!1),this._stationaryTimer&&(clearTimeout(this._stationaryTimer),this._stationaryTimer=null);const{center:[y,p],spatialReference:g,rotation:v,scale:_}=this.state.paddedViewState,E=new zl.Z({x:y,y:p,spatialReference:g});this._set("viewpoint",null),this._set("extent",null),this._set("center",E),this._set("zoom",-1),this._set("rotation",v),this._set("scale",_),this._set("spatialReference",g),this.constraints.view=null,this.animationManager.destroy(),this._set("animationManager",null),this._set("state",null),this.animation=null}_flipStationary(y){return null!==this._stationaryTimer||(this._stationaryTimer=setTimeout(()=>{this._stationaryTimer=null;const p=performance.now()-this._lastStationaryEventTimestamp;p<160&&(this._stationaryTimer=this._flipStationary(p))},y)),this._stationaryTimer}_normalizeInput(y,p=this.spatialReference){const g=y&&y.targetGeometry||y;return p?g?p.equals(g.spatialReference)?y:(0,pl.Q8)(g,p)?function pY(y){return y&&"esri.Viewpoint"===y.declaredClass}(y)?(y.targetGeometry=(0,pl.iV)(g,p),y):(0,pl.iV)(g,p):null:null:y}_getDefaultViewpoint(){const y=this.constraints,p={zoom:this._get("zoom"),scale:this._get("scale"),center:this._normalizeInput(this._get("center")),extent:this._normalizeInput(this._get("extent")),rotation:this._get("rotation"),viewpoint:this._normalizeInput(this._get("viewpoint")),spatialReference:this._userSpatialReference};y.effectiveLODs?-1!==p.zoom&&(p.scale=y.zoomToScale(p.zoom)):p.zoom=-1;let g=null,v=null,_=0;const E=p.viewpoint&&p.viewpoint.rotation,w=p.viewpoint&&p.viewpoint.targetGeometry;(0,fr.pC)(w)&&("extent"===w.type?g=w:"point"===w.type&&(v=w,_=p.viewpoint.scale));const D=this._normalizeInput(this.get("map.initialViewProperties.viewpoint.targetGeometry.extent")),O=this._normalizeInput(this.initialExtent),L=p.extent||g||D||O,z=p.center||v||L&&L.center,se=this.get("map.initialViewProperties.viewpoint.scale"),Ee=p.scale||_||se||L&&(0,xo.EK)(L,this.size),Me=this.get("map.initialViewProperties.viewpoint.rotation");return z&&Ee?new Us.Z({targetGeometry:z,scale:Ee,rotation:p.rotation||E||Me||0}):null}};(0,De._)([(0,Be.Cb)()],li.prototype,"_stationaryTimer",void 0),(0,De._)([(0,Be.Cb)()],li.prototype,"_defaultsFromMapSettings",null),(0,De._)([(0,Be.Cb)()],li.prototype,"animation",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],li.prototype,"animationManager",void 0),(0,De._)([(0,Be.Cb)({value:null,type:zl.Z,dependsOn:["state.id","ready"]})],li.prototype,"center",null),(0,De._)([(0,Be.Cb)({type:MA})],li.prototype,"constraints",null),(0,De._)([(0,Be.Cb)({value:null,type:Iu.Z,dependsOn:["state.id","ready"]})],li.prototype,"extent",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],li.prototype,"featuresTilingScheme",void 0),(0,De._)([(0,Be.Cb)()],li.prototype,"fullOpacity",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],li.prototype,"graphicsTileStore",null),(0,De._)([(0,Be.Cb)()],li.prototype,"graphicsView",void 0),(0,De._)([(0,Be.Cb)({type:Iu.Z})],li.prototype,"initialExtent",void 0),(0,De._)([(0,Be.Cb)({dependsOn:["map.initialViewProperties?.viewpoint","constraints.effectiveLODs","spatialReference"]})],li.prototype,"initialExtentRequired",null),(0,De._)([(0,Be.Cb)()],li.prototype,"map",void 0),(0,De._)([(0,Be.Cb)()],li.prototype,"labelManager",void 0),(0,De._)([(0,Be.Cb)({value:{top:0,right:0,bottom:0,left:0},cast:y=>Pt({top:0,right:0,bottom:0,left:0},y)})],li.prototype,"padding",null),(0,De._)([(0,Be.Cb)({type:Object})],li.prototype,"renderingOptions",void 0),(0,De._)([(0,Be.Cb)()],li.prototype,"resizeAlign",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0,dependsOn:["state.id"]})],li.prototype,"resolution",null),(0,De._)([(0,Be.Cb)({value:0,type:Number,dependsOn:["state.id","ready"]})],li.prototype,"rotation",null),(0,De._)([(0,Be.Cb)({value:0,type:Number,dependsOn:["state.id","ready"]})],li.prototype,"scale",null),(0,De._)([(0,Be.Cb)({type:Su.Z,dependsOn:["map.initialViewProperties?.spatialReference","defaultsFromMap.ready"]})],li.prototype,"spatialReference",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],li.prototype,"state",void 0),(0,De._)([(0,Be.Cb)({dependsOn:["animation","navigating","resizing","_stationaryTimer"]})],li.prototype,"stationary",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],li.prototype,"supportsGround",void 0),(0,De._)([(0,Be.Cb)({type:OA.T,readOnly:!0})],li.prototype,"timeline",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],li.prototype,"type",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0,dependsOn:["layerViewManager.updating","labelManager.updating","graphicsView?.updating"]})],li.prototype,"updating",null),(0,De._)([(0,Be.Cb)({value:null,type:Us.Z,dependsOn:["state.id","ready"]})],li.prototype,"viewpoint",null),(0,De._)([(0,Be.Cb)({value:-1,dependsOn:["state.id"]})],li.prototype,"zoom",null),li=(0,De._)([(0,Lr.j)("esri.views.MapViewBase")],li);const mY=li;function A2(y,p){switch(p){case"primary":return"touch"===y.pointerType||0===y.button;case"secondary":return"touch"!==y.pointerType&&2===y.button;case"tertiary":return"touch"!==y.pointerType&&1===y.button}}class IA extends ts.a{constructor(p,g){super(!0),this.view=p,this.registerIncoming("double-click",g,v=>this._handleDoubleClick(v,g))}_handleDoubleClick(p,g){A2(p.data,"primary")&&(p.stopPropagation(),g?this.view.mapViewNavigation.zoomOut([p.data.x,p.data.y]):this.view.mapViewNavigation.zoomIn([p.data.x,p.data.y]))}}class yY extends ts.a{constructor(p,g,v){super(!0),this.view=p,this.pointerType=g,this.registerIncoming("double-tap-drag",v,_=>this._handleDoubleTapDrag(_))}_handleDoubleTapDrag(p){const{data:g}=p,{pointerType:v}=g;if(v!==this.pointerType)return;p.stopPropagation();const{action:_,delta:E}=g,{view:w}=this,{mapViewNavigation:D}=w;switch(_){case"begin":{const{scale:O}=w;this._startScale=O,this._currentScale=O,this._previousDelta=E,D.begin();break}case"update":{if(this._previousDelta.y===E.y)return;this._previousDelta=E;const L=this._startScale*1.015**E.y;D.setViewpointImmediate(L/this._currentScale),this._currentScale=L;break}case"end":{const{constraints:O}=w,{effectiveLODs:L,snapToZoom:z}=O;if(!z||!L)return void D.end();const se=O.snapScale(this._currentScale),Ee=(E.y>0?Math.max(se,O.snapToPreviousScale(this._startScale)):Math.min(se,O.snapToNextScale(this._startScale)))/this._currentScale;D.zoom(Ee);break}}}}class Cy{constructor(p){this.callbacks=p,this.currentCount=0,this.callbacks.condition||(this.callbacks.condition=()=>!0)}handle(p){const g=p.data,v=g.pointers.size;switch(g.action){case"start":this.currentCount=v,this.emitStart(p);break;case"added":this.emitEnd(this.previousEvent),this.currentCount=v,this.emitStart(p);break;case"update":this.emitUpdate(p);break;case"removed":this.startEvent&&this.emitEnd(this.previousEvent),this.currentCount=v,this.emitStart(p);break;case"end":this.emitEnd(p),this.currentCount=0}this.previousEvent=p}emitStart(p){this.startEvent=p,this.callbacks.condition(this.currentCount,p)&&this.callbacks.start(this.currentCount,p,this.startEvent)}emitUpdate(p){this.callbacks.condition(this.currentCount,p)&&this.callbacks.update(this.currentCount,p,this.startEvent)}emitEnd(p){this.callbacks.condition(this.currentCount,p)&&this.callbacks.end(this.currentCount,p,this.startEvent),this.startEvent=null}}class gY extends ts.a{constructor(p,g,v){super(!0),this.view=p,this.pointerAction=g,this.registerIncoming("drag",v,E=>this._handleDrag(E)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation());const _=this.view.mapViewNavigation;this.dragEventSeparator=new Cy({start:(E,w)=>{_.pan.begin(this.view,w.data),w.stopPropagation()},update:(E,w)=>{_.pan.update(this.view,w.data),w.stopPropagation()},end:(E,w)=>{_.pan.end(this.view,w.data),w.stopPropagation()},condition:(E,w)=>1===E&&A2(w.data,this.pointerAction)})}_handleDrag(p){const g=this.view.mapViewNavigation;g.pinch.zoomMomentum||g.pinch.rotateMomentum?this.stopMomentumNavigation():this.dragEventSeparator.handle(p)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}}class vY extends ts.a{constructor(p,g,v){super(!0),this.view=p,this.pointerAction=g;const _=this.view.mapViewNavigation;this.dragEventSeparator=new Cy({start:(E,w)=>{_.rotate.begin(this.view,w.data),w.stopPropagation()},update:(E,w)=>{_.rotate.update(this.view,w.data),w.stopPropagation()},end:(E,w)=>{_.rotate.end(),w.stopPropagation()},condition:(E,w)=>1===E&&A2(w.data,this.pointerAction)}),this.registerIncoming("drag",v,E=>this.dragEventSeparator.handle(E))}}var _Y=C(84161);function Ka(y){let p=y*y;return y<0&&(p*=-1),p}class MY extends ts.a{constructor(p){super(!0),this.view=p,this.frameTask=null,this.watchHandles=new ka.Z,this.currentDevice=null,this.transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this.handle=this.registerIncoming("gamepad",g=>this.handleEvent(g)),this.handle.pause()}onInstall(p){super.onInstall(p),this.watchHandles.add([(0,kr.S1)(this.view.navigation.gamepad,"enabled",g=>{g?(this.handle.resume(),this.frameTask||(this.frameTask=(0,vc.A)({update:v=>this.frameUpdate(v.deltaTime)}))):(this.handle.pause(),this.frameTask&&(this.frameTask.remove(),this.frameTask=null))})])}onUninstall(){this.watchHandles.removeAll(),this.frameTask&&(this.frameTask.remove(),this.frameTask=null),super.onUninstall()}handleEvent(p){const g=this.view.navigation.gamepad.device;g&&p.data.device!==g||this.currentDevice&&this.currentDevice!==p.data.device||("end"===p.data.action?(this.currentDevice=null,function EY(y){y.translation[0]=0,y.translation[1]=0,y.translation[2]=0,y.heading=0,y.tilt=0}(this.transformation)):(this.currentDevice=p.data.device,function bY(y,p,g){const v=g,_=y.state,E=y.device,w="forward-down"===p.tiltDirection?1:-1;"standard"===E.deviceType?(v.translation[0]=Ka(_.axes[0]),v.translation[1]=Ka(_.axes[1]),v.translation[2]=Ka(_.buttons[7])-Ka(_.buttons[6]),v.heading=Ka(_.axes[2]),v.tilt=Ka(_.axes[3])):"spacemouse"===E.deviceType&&(v.translation[0]=1.2*Ka(_.axes[0]),v.translation[1]=1.2*Ka(_.axes[1]),v.translation[2]=2*-Ka(_.axes[2]),v.heading=1.2*Ka(_.axes[5]),v.tilt=1.2*Ka(_.axes[3])),v.tilt*=w,(0,_Y.a)(v.translation,v.translation,1)}(p.data,this.view.navigation.gamepad,this.transformation)))}frameUpdate(p){const g=this.transformation;if(function CY(y){return 0===y.translation[0]&&0===y.translation[1]&&0===y.translation[2]&&0===y.heading&&0===y.tilt&&0===y.zoom}(g))return;const v=this.view.viewpoint.clone(),E=xY*this.view.navigation.gamepad.velocityFactor*p;(0,xo.Rx)(v,v,[g.translation[0]*E,-g.translation[1]*E]);const O=this.view.size;(0,xo.UZ)(v,v,1+g.translation[2]*DY*p,this.view.constraints.rotationEnabled?-g.heading*wY*p:0,[O[0]/2,O[1]],O);const z=this.view.constraints.constrain(v,this.view.viewpoint);this.view.viewpoint=z}}const wY=.06,xY=.7,DY=6e-4;class OY extends ts.a{constructor(p,g,v){super(!0),this.view=p,this.keys=g,this._pressed=!1,this._keyMap={[g.left]:"left",[g.right]:"right",[g.up]:"up",[g.down]:"down"},this.registerIncoming("key-down",v,_=>this._handleKeyDown(_)),this.registerIncoming("key-up",v,_=>this._handleKeyUp(_)),this.registerIncoming("blur",v,()=>this._handleBlur())}_handleKeyDown(p){p.data.repeat||this._handleKey(p,!0)}_handleKeyUp(p){this._handleKey(p,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(p,g){const v=this._keyMap[p.data.key];if(this._pressed=null!=v,this._pressed){if(g)switch(this.view.mapViewNavigation.begin(),v){case"left":this.view.mapViewNavigation.continousPanLeft();break;case"right":this.view.mapViewNavigation.continousPanRight();break;case"up":this.view.mapViewNavigation.continousPanUp();break;case"down":this.view.mapViewNavigation.continousPanDown()}else this._pressed=!1,this.view.mapViewNavigation.stop();p.stopPropagation()}}}class SY extends ts.a{constructor(p,g,v){super(!0),this.view=p,this.keys=g,this._pressed=!1,this._keyToDirection={[g.clockwiseOption1]:"clockwise",[g.clockwiseOption2]:"clockwise",[g.counterClockwiseOption1]:"counterClockwise",[g.counterClockwiseOption2]:"counterClockwise",[g.resetOption1]:"reset",[g.resetOption2]:"reset"},this.registerIncoming("key-down",v,_=>this._handleKeyDown(_)),this.registerIncoming("key-up",v,_=>this._handleKeyUp(_)),this.registerIncoming("blur",v,()=>this._handleBlur())}_handleKeyDown(p){p.data.repeat||this._handleKey(p,!0)}_handleKeyUp(p){this._handleKey(p,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(p,g){const v=p.modifiers;if(v.size>0&&!v.has("Shift")||!this.view.constraints.rotationEnabled)return;const _=this._keyToDirection[p.data.key];if(this._pressed=null!=_,this._pressed){if(g)switch(this.view.mapViewNavigation.begin(),_){case"clockwise":this.view.mapViewNavigation.continousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();p.stopPropagation()}}}class IY extends ts.a{constructor(p,g,v){super(!0),this.view=p,this.keys=g,this._keysToZoomAction={},this.registerIncoming("key-down",v,_=>this._handleKeyDown(_)),g.zoomIn.forEach(_=>this._keysToZoomAction[_]=0),g.zoomOut.forEach(_=>this._keysToZoomAction[_]=1)}_handleKeyDown(p){this._handleKey(p)}_handleKey(p){const g=p.modifiers;if(g.size>0&&!g.has("Shift"))return;const{key:v}=p.data;if(!(v in this._keysToZoomAction))return;const _=this._keysToZoomAction[v],{mapViewNavigation:E}=this.view;let w=null;switch(_){case 0:w=E.zoomIn();break;case 1:w=E.zoomOut();break;default:return}E.begin(),w.then(()=>E.end()),p.stopPropagation()}}class PY extends ts.a{constructor(p,g){super(!0),this.view=p,this._canZoom=!0,this.registerIncoming("mouse-wheel",g,v=>this._handleMouseWheel(v))}_handleMouseWheel(p){if(!this.view.navigation.mouseWheelZoomEnabled||(p.preventDefault(),p.stopPropagation(),!this._canZoom))return;const g=this.view.mapViewNavigation,{x:v,y:_,deltaY:E}=p.data,D=g.zoom(1/.6**(1/60*E),[v,_]);D&&(this._canZoom=!1,D.catch(()=>{}).then(()=>{this._canZoom=!0,g.end()}))}}class AY extends ts.a{constructor(p){super(!0),this.view=p,this.registerIncoming("drag",v=>this._handleDrag(v)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation());const g=this.view.mapViewNavigation;this.dragEventSeparator=new Cy({start:(v,_)=>{g.pinch.begin(this.view,_.data),_.stopPropagation()},update:(v,_)=>{g.pinch.update(this.view,_.data),_.stopPropagation()},end:(v,_)=>{g.pinch.end(this.view),_.stopPropagation()},condition:v=>v>=2})}_handleDrag(p){this.dragEventSeparator.handle(p)}stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}}var RY=C(25441);function TA(y){const p=y.native;return p?{buttons:p.buttons.map(g=>g.pressed?g.value?g.value:1:0),axes:p.axes.map(g=>function FY(y,p){const g=Math.abs(y);return g<p?0:Math.sign(y)*(g-p)/(1-p)}(g,y.axisThreshold))}:{buttons:[],axes:[]}}class jY{constructor(p,g){this.element=p,this.input=g,this._hasEventListeners=!1,this.onConnectGamepad=E=>{this.connectGamepad(E.gamepad)},this.onDisconnectGamepad=E=>{const w=E.gamepad,D=w.index,O=this.inputDevices[D];O&&(this.emitGamepadEvent(w,TA(O),!1),this.inputDevices.splice(D,1),this.latestUpdate.splice(D,1),this.input.gamepad.devices.remove(O),this.ensurePollingState())},this.frameTask=null,this.latestUpdate=new Array,this.inputDevices=new Array,this.callback=null;const v="getGamepads"in window.navigator,_=window.isSecureContext;this.supported=v&&_,this.supported&&(this.forEachGamepad(E=>this.connectGamepad(E)),window.addEventListener("gamepadconnected",this.onConnectGamepad),window.addEventListener("gamepaddisconnected",this.onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this.onConnectGamepad),window.removeEventListener("gamepaddisconnected",this.onDisconnectGamepad))}set hasEventListeners(p){this._hasEventListeners!==p&&(this._hasEventListeners=p,this.ensurePollingState())}get eventsEnabled(){return this.supported&&this.inputDevices.length>0&&this._hasEventListeners}set onEvent(p){this.callback=p}connectGamepad(p){const g=new b2(p);"unknown"!==g.deviceType&&(this.inputDevices[p.index]=g,this.input.gamepad.devices.add(g)),this.ensurePollingState()}ensurePollingState(){this.eventsEnabled?this.startPolling():this.stopPolling()}startPolling(){null==this.frameTask&&(this.frameTask=(0,vc.A)({update:()=>this.readGamepadState()}))}stopPolling(){null!=this.frameTask&&(this.frameTask.remove(),this.frameTask=null,this.latestUpdate=new Array)}readGamepadState(){const p=document.hasFocus(),g=this.element.contains(document.activeElement),v="document"===this.input.gamepad.enabledFocusMode&&!p||"view"===this.input.gamepad.enabledFocusMode&&!g;this.forEachGamepad(_=>{const E=this.inputDevices[_.index];if(!E)return;const w=this.latestUpdate[_.index],D=TA(E),O=v||function NY(y){for(let p=0;p<y.axes.length;p++)if(0!==y.axes[p])return!1;for(let p=0;p<y.buttons.length;p++)if(0!==y.buttons[p])return!1;return!0}(D);w&&(w.timestamp===_.timestamp||!w.active&&O||function LY(y,p){if(y.axes.length!==p.axes.length||y.buttons.length!==p.buttons.length)return!1;for(let g=0;g<y.axes.length;g++)if(y.axes[g]!==p.axes[g])return!1;for(let g=0;g<y.buttons.length;g++)if(y.buttons[g]!==p.buttons[g])return!1;return!0}(w.state,D))||this.emitGamepadEvent(_,D,!O)})}forEachGamepad(p){const g=window.navigator.getGamepads();for(let v=0;v<g.length;v++){const _=g[v];this.validate(_)&&p(_)}}emitGamepadEvent(p,g,v){const _=this.latestUpdate[p.index],E=_&&_.active;if(!E&&!v)return;const w=!E&&v?"start":E&&v?"update":"end";this.latestUpdate[p.index]={timestamp:p.timestamp,state:g,active:v},this.callback&&this.callback({device:this.inputDevices[p.index],state:g,action:w})}validate(p){if(!p||!p.connected)return!1;for(let g=0;g<p.axes.length;g++)if(isNaN(p.axes[g]))return!1;return!0}}const PA=(0,Du.Z)("trident"),AA=(0,Du.Z)("edge"),UY=(0,Du.Z)("chrome"),BY=(0,Du.Z)("ff"),VY=(0,Du.Z)("safari"),oh_touchNone="esri-view-surface--touch-none",oh_touchPan="esri-view-surface--touch-pan";let WY=(()=>{class y{constructor(g,v){this.input=v,this._active={},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=g,g.getAttribute("tabindex")||g.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new jY(g,this.input),this._gamepadSource.onEvent=_=>this._callback("gamepad",_)}destroy(){this._callback=null,this.activeEvents=null,this._activePointerCaptures.forEach(g=>{this._releasePointerCaptureSafe(g)}),this._gamepadSource&&(this._gamepadSource.destroy(),this._gamepadSource=null),this._activePointerCaptures=null,this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(g){this._browserTouchPanningEnabled=g,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(g){this._callback=g}set activeEvents(g){for(const v in this._active)g&&g.has(v)||(this._element.removeEventListener(R2[v],this._active[v]),delete this._active[v]);g&&g.forEach(v=>{if(!this._active[v]&&R2[v]){const _=(this._eventHandlers[v]||this._handleDefault).bind(this,v);this._element.addEventListener(R2[v],_),this._active[v]=_}}),this._gamepadSource.hasEventListeners=g&&g.has("gamepad")}setPointerCapture(g,v){v?(this._element.setPointerCapture(g.pointerId),this._activePointerCaptures.add(g.pointerId)):(this._releasePointerCaptureSafe(g.pointerId),this._activePointerCaptures.delete(g.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?oh_touchNone:oh_touchPan),this._element.classList.add(this._browserTouchPanningEnabled?oh_touchPan:oh_touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(oh_touchNone),this._element.classList.remove(oh_touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_releasePointerCaptureSafe(g){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(g))return;this._element.releasePointerCapture(g)}catch(v){}}_updateNormalizedPointerLikeEvent(g,v){const _=nA(this._element,g);return y.test.disableSubpixelCoordinates&&(_.x=Math.round(_.x),_.y=Math.round(_.y)),v.x=_.x,v.y=_.y,v}_handleKey(g,v){const _=(0,RY.kK)(v);_&&"key-up"===g&&this._keyDownState.delete(_);const E={native:v,key:_,repeat:_&&this._keyDownState.has(_)};_&&"key-down"===g&&this._keyDownState.add(E.key),this._callback(g,E)}_handlePointer(g,v){const _=this._updateNormalizedPointerLikeEvent(v,{native:v,x:0,y:0,pointerType:v.pointerType,button:v.button,buttons:v.buttons,eventId:this._eventId++});this._callback(g,_)}_handlePointerPreventDefault(g,v){const _=this._updateNormalizedPointerLikeEvent(v,{native:v,x:0,y:0,pointerType:v.pointerType,button:v.button,buttons:v.buttons,eventId:this._eventId++});v.preventDefault(),this._callback(g,_)}_handleMouseWheel(g,v){let _=v.deltaY;switch(v.deltaMode){case 0:(PA||AA)&&(_=_/document.documentElement.clientHeight*600);break;case 1:_*=30;break;case 2:_*=900}PA||AA?_*=.7:UY||VY?_*=.6:BY&&(_*=1.375);const w=Math.abs(_);w>100&&(_=_/w*200/(1+Math.exp(-.02*(w-100))));const D=this._updateNormalizedPointerLikeEvent(v,{native:v,x:0,y:0,deltaY:_});this._callback(g,D)}_handlePointerCaptureLost(g,v){this._activePointerCaptures.delete(v.pointerId),this._handleDefault(g,v)}_handleDefault(g,v){const _={native:v};v.preventDefault(),this._callback(g,_)}_preventAltKeyDefault(g){"Alt"===g.key&&g.preventDefault()}_preventMultiTouchPanning(g){g.touches.length>1&&g.preventDefault()}}return y.test={disableSubpixelCoordinates:!1},y})();const R2={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};class kY extends ts.a{constructor(){super(!0),this.registerIncoming("context-menu",p=>{p.data.native.preventDefault()})}}var My=C(84244);function L2(y,p){return Math.abs(p.x-y.x)+Math.abs(p.y-y.y)}class KY extends ts.a{constructor(p=250,g=10,v=350,_=35,E=My.Z){super(!1),this.maximumDoubleClickDelay=p,this.maximumDoubleClickDistance=g,this.maximumDoubleTouchDelay=v,this.maximumDoubleTouchDistance=_,this._clock=E,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",this._handleImmediateClick.bind(this)),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("drag",this._handleDrag.bind(this))}onUninstall(){this._pointerState.forEach(p=>{null!=p.doubleClickTimeout&&(p.doubleClickTimeout.remove(),p.doubleClickTimeout=null)})}get hasPendingInputs(){return(0,py.oE)(this._pointerState,p=>null!=p.doubleClickTimeout)}_pointerId(p){const g=p.native;return"mouse"===g.pointerType?`${g.pointerId}:${g.button}`:`${g.pointerType}`}_handleImmediateClick(p){const g=p.data,v=this._pointerId(g),_=this._pointerState.get(v);if(_){const E="touch"===g.native.pointerType?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;L2(_.event.data,g)>E?(this._clearDoubleClickTimeout(v,!0),this._startClick(p)):(this._clearDoubleClickTimeout(v,!1),this._doubleClick.emit(_.event.data,void 0,_.event.modifiers))}else this._startClick(p)}_startClick(p){const g=this._pointerId(p.data);this._pointerState.set(g,{event:p,doubleClickTimeout:this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(g),"touch"===p.data.native.pointerType?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay)}),this.refreshHasPendingInputs()}_handlePointerDrag(p){const g=this._pointerId(p.data.currentEvent);this._clearDoubleClickTimeout(g,!0)}_handleDrag(p){const g=this._pointerId(p.data.pointer);this._clearDoubleClickTimeout(g,!0)}_clearDoubleClickTimeout(p,g){const v=this._pointerState.get(p);v&&(v.doubleClickTimeout.remove(),v.doubleClickTimeout=null,g&&this._doubleClickTimeoutExceeded(p),this._pointerState.delete(p),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(p){const g=this._pointerState.get(p);this._click.emit(g.event.data,void 0,g.event.modifiers),g.doubleClickTimeout=null,this._pointerState.delete(p),this.refreshHasPendingInputs()}}class zY extends ts.a{constructor(p=250,g=10,v=350,_=35,E=My.Z){super(!1),this.maximumDoubleClickDelay=p,this.maximumDoubleClickDistance=g,this.maximumDoubleTouchDelay=v,this.maximumDoubleTouchDistance=_,this._clock=E,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=(0,ks.vW)(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new Cy({start:(w,D)=>this._dragStart(w,D),update:(w,D)=>this._dragUpdate(D),end:(w,D)=>this._dragEnd(D)}),this.registerIncoming("drag",w=>this._dragEventSeparator.handle(w)),this.registerIncoming("pointer-down",w=>this._handlePointerDown(w)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(p=>{null!=p.doubleTapTimeout&&(p.doubleTapTimeout.remove(),p.doubleTapTimeout=null)})}get hasPendingInputs(){return(0,py.oE)(this._pointerState,p=>null!=p.doubleTapTimeout)}_clearPointerDown(p){const g=this._pointerState.get(p);g&&(g.doubleTapTimeout.remove(),g.doubleTapTimeout=null,this._pointerState.delete(p),this.refreshHasPendingInputs())}_createDoubleTapDragData(p,g,v){const{button:_,buttons:E,pointer:w,pointers:D,pointerType:O,timestamp:L}=v;return{action:p,delta:g,button:_,buttons:E,pointer:w,pointers:D,pointerType:O,timestamp:L}}_dragStart(p,g){if(!this._doubleTapDragReady||1!==p)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:v,modifiers:_}=g,{center:E}=v;this._dragStartCenter=E;const w=this._createDoubleTapDragData("begin",(0,ks.vW)(0,0),v);this._doubleTapDrag.emit(w,void 0,_),g.stopPropagation()}_dragUpdate(p){if(!this._doubleTapDragActive)return;const{data:g,modifiers:v}=p,{center:_}=g,E=(0,ks.vW)(_.x-this._dragStartCenter.x,_.y-this._dragStartCenter.y),w=this._createDoubleTapDragData("update",E,g);this._doubleTapDrag.emit(w,void 0,v),p.stopPropagation()}_dragEnd(p){if(!this._doubleTapDragActive)return;const{data:g,modifiers:v}=p,{center:_}=g,E=(0,ks.vW)(_.x-this._dragStartCenter.x,_.y-this._dragStartCenter.y),w=this._createDoubleTapDragData("end",E,g);this._doubleTapDrag.emit(w,void 0,v),this._doubleTapDragActive=!1,p.stopPropagation()}_handlePointerDown(p){const{data:g}=p,v=this._pointerId(g),_=this._pointerState.get(v),{pointerType:E}=g.native;if(_){const w="touch"===E?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;this._clearPointerDown(v),L2(_.event.data,g)>w?this._storePointerDown(p):this._doubleTapDragReady=!0}else this._storePointerDown(p)}_handlePointerUp(){this._doubleTapDragReady=!1}_pointerId(p){const{native:g}=p,{pointerId:v,button:_,pointerType:E}=g;return"mouse"===E?`${v}:${_}`:`${E}`}_storePointerDown(p){const{data:g}=p,{pointerType:v}=g.native,_=this._pointerId(g),w=this._clock.setTimeout(()=>this._clearPointerDown(_),"touch"===v?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay);this._pointerState.set(_,{event:p,doubleTapTimeout:w}),this.refreshHasPendingInputs()}}var LA,N2=C(27422);class GY extends ts.a{constructor(p){super(!1),this.navigationTouch=p,this.startStateModifiers=new Set,this.activePointerMap=new Map,this.isDragging=!1,this.isCurrentDragSuppressed=!1,this.drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this.handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this.handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this.handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this.handlePointerUpAndPointerLost.bind(this))}createPayload(p,g,v,_){return{action:p,pointerType:this.pointerType,button:this.mouseButton,buttons:g.buttons,timestamp:_,pointers:HY(this.activePointerMap),pointer:g,angle:v.angle,radius:v.radius,center:v.center}}addPointer(p){const g=p.native.pointerId,v=wy(this.activePointerMap).angle,_={event:p,initialAngle:0,lastAngle:0};this.activePointerMap.set(g,_);const E=xy(_,RA(this.activePointerMap));_.initialAngle=E,_.lastAngle=E,this.updatePointerAngles(v)}updatePointer(p){if(p&&null==p.x&&null==p.y)return;const v=this.activePointerMap.get(p.native.pointerId);v?v.event=p:this.addPointer(p)}removePointer(p){const g=wy(this.activePointerMap).angle;this.activePointerMap.delete(p),this.updatePointerAngles(g)}updatePointerAngles(p){const g=wy(this.activePointerMap);this.activePointerMap.forEach(v=>{v.initialAngle=xy(v,g)-p,v.lastAngle=xy(v,g)-p})}emitEvent(p,g,v){const _=wy(this.activePointerMap);this.drag.emit(this.createPayload(p,g,_,v),void 0,this.startStateModifiers)}handlePointerUpAndPointerLost(p){const g=p.data.native.pointerId,v=(0,N2.HA)(p.timestamp);this.activePointerMap.get(g)&&(1===this.activePointerMap.size?(this.updatePointer(p.data),!this.isCurrentDragSuppressed&&this.emitEvent("end",p.data,v),this.isDragging=!1,this.isCurrentDragSuppressed=!1,this.removePointer(g)):(this.removePointer(g),this.emitEvent("removed",p.data,(0,N2.HA)(p.timestamp))))}handlePointerDrag(p){const g=p.data,v=g.currentEvent,_=(0,N2.HA)(p.timestamp);switch(g.action){case"start":case"update":this.isDragging?this.activePointerMap.has(v.native.pointerId)?(this.updatePointer(v),!this.isCurrentDragSuppressed&&this.emitEvent("update",v,_)):(this.addPointer(v),this.emitEvent("added",v,_),this.isCurrentDragSuppressed=this.isSuppressed):(this.updatePointer(v),this.pointerType=p.data.startEvent.pointerType,this.mouseButton=p.data.startEvent.button,this.startStateModifiers=p.modifiers,this.isDragging=!0,this.isCurrentDragSuppressed=this.isSuppressed,!this.isCurrentDragSuppressed&&this.emitEvent("start",v,_))}}get isSuppressed(){return this.navigationTouch&&!this.navigationTouch.browserTouchPanEnabled&&"touch"===this.pointerType&&1===this.activePointerMap.size}}function RA(y){const p=[];return y.forEach(g=>{p.push((0,ks.vW)(g.event.x,g.event.y))}),function $Y(y,p){if(p?(p.radius=0,p.center.x=0,p.center.y=0):p={radius:0,center:(0,ks.vW)()},0===y.length)return p;if(1===y.length)return p.center.x=y[0].x,p.center.y=y[0].y,p;if(2===y.length){const[Nt,zt]=y,[ar,Mr]=[zt.x-Nt.x,zt.y-Nt.y];return p.radius=Math.sqrt(ar*ar+Mr*Mr)/2,p.center.x=(Nt.x+zt.x)/2,p.center.y=(Nt.y+zt.y)/2,p}let g=0,v=0;for(let Nt=0;Nt<y.length;Nt++)g+=y[Nt].x,v+=y[Nt].y;g/=y.length,v/=y.length;const _=y.map(Nt=>Nt.x-g),E=y.map(Nt=>Nt.y-v);let w=0,D=0,O=0,L=0,z=0,se=0,Ee=0;for(let Nt=0;Nt<_.length;Nt++){const zt=_[Nt],ar=E[Nt],Mr=zt*zt,jr=ar*ar;w+=Mr,D+=jr,O+=zt*ar,L+=Mr*zt,z+=jr*ar,se+=zt*jr,Ee+=ar*Mr}const Me=.5*(L+se),Ge=.5*(z+Ee),st=w*D-O*O,vt=(Me*D-Ge*O)/st,Ct=(w*Ge-O*Me)/st,pt=(0,ks.vW)(vt+g,Ct+v);return{radius:Math.sqrt(vt*vt+Ct*Ct+(w+D)/y.length),center:pt}}(p)}function wy(y){const p=RA(y);let g=0;return y.forEach(v=>{let _=xy(v,p),E=_-v.lastAngle;for(;E>Math.PI;)E-=2*Math.PI;for(;E<-Math.PI;)E+=2*Math.PI;_=v.lastAngle+E,v.lastAngle=_,g+=_-v.initialAngle}),g/=y.size||1,{angle:g,radius:p.radius,center:p.center}}function HY(y){const p=new Map;return y.forEach((g,v)=>p.set(v,g.event)),p}function xy(y,p){const g=y.event;return Math.atan2(g.y-p.center.y,g.x-p.center.x)}!function(y){y[y.Left=0]="Left",y[y.Middle=1]="Middle",y[y.Right=2]="Right",y[y.Back=3]="Back",y[y.Forward=4]="Forward",y[y.Undefined=-1]="Undefined"}(LA||(LA={}));class JY extends ts.a{constructor(p=250,g=10,v=350,_=35,E=My.Z){super(!1),this.maximumDoubleClickDelay=p,this.maximumDoubleClickDistance=g,this.maximumDoubleTouchDelay=v,this.maximumDoubleTouchDistance=_,this._clock=E,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",w=>{this._handlePointerLoss(w,"pointer-up")}),this.registerIncoming("pointer-capture-lost",w=>{this._handlePointerLoss(w,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",w=>{this._handlePointerLoss(w,"pointer-cancel")})}onUninstall(){this._pointerState.forEach(p=>{p.immediateDoubleClick&&p.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(p){const g=p.data,v=this._pointerId(g);this._pointerState.has(v)||(this._pointerState.set(v,{downButton:g.native.button,immediateDoubleClick:null}),this.startCapturingPointer(g.native))}_handlePointerLoss(p,g){const v=p.data,_=this._pointerId(v),E=this._pointerState.get(_);if(E&&"pointer-up"===g&&E.downButton===v.native.button){const w=E.immediateDoubleClick;if(w){w.timeoutHandle.remove();const D="touch"===p.data.native.pointerType?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;L2(w,p.data)>D?this._startImmediateDoubleClick(p,E):(this._immediateDoubleClick.emit(p.data,void 0,w.modifiers),this._removeState(v))}else this._startImmediateDoubleClick(p,E)}}_startImmediateDoubleClick(p,g){g.immediateDoubleClick={x:p.data.x,y:p.data.y,modifiers:p.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(p.data),"touch"===p.data.native.pointerType?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay)}}_pointerId(p){const g=p.native;return"mouse"===g.pointerType?`${g.pointerId}:${g.button}`:`${g.pointerType}`}_removeState(p){const g=this._pointerId(p);this._pointerState.delete(g),this.stopCapturingPointer(p.native),this.refreshHasPendingInputs()}}class YY extends ts.a{constructor(p=300,g=1.5,v=6,_=6,E=500,w=My.Z){super(!1),this.maximumClickDelay=p,this.movementUntilMouseDrag=g,this.movementUntilPenDrag=v,this.movementUntilTouchDrag=_,this.holdDelay=E,this._clock=w,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",D=>{this._handlePointerLoss(D,"pointer-up")}),this.registerIncoming("pointer-capture-lost",D=>{this._handlePointerLoss(D,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",D=>{this._handlePointerLoss(D,"pointer-cancel")}),this._moveHandle=this.registerIncoming("pointer-move",this._handlePointerMove.bind(this)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(p=>{null!=p.holdTimeout&&(p.holdTimeout.remove(),p.holdTimeout=null)}),super.onUninstall()}_handlePointerDown(p){const g=p.data,v=g.native.pointerId;let _=null;0===this._pointerState.size&&(_=this._clock.setTimeout(()=>{const w=this._pointerState.get(v);w&&(w.isDragging||(this._pointerHold.emit(w.previousEvent,void 0,p.modifiers),w.holdEmitted=!0),w.holdTimeout=null)},this.holdDelay)),this._pointerState.set(v,{startEvent:g,previousEvent:g,startTimestamp:p.timestamp,isDragging:!1,downButton:g.native.button,holdTimeout:_,modifiers:new Set}),this.startCapturingPointer(g.native),this._moveHandle.resume(),this._pointerState.size>1&&this.startDragging(p)}_createPointerDragData(p,g,v){return{action:p,startEvent:g.startEvent,previousEvent:g.previousEvent,currentEvent:v}}_handlePointerMove(p){const g=p.data,_=this._pointerState.get(g.native.pointerId);_&&(_.isDragging?this._pointerDrag.emit(this._createPointerDragData("update",_,g),void 0,_.modifiers):function ZY(y,p){const g=p.x-y.x,v=p.y-y.y;return Math.sqrt(g*g+v*v)}(g,_.startEvent)>this._getDragThreshold(g.native.pointerType)&&this.startDragging(p),_.previousEvent=g)}_getDragThreshold(p){switch(p){case"touch":return this.movementUntilTouchDrag;case"pen":return this.movementUntilPenDrag;default:return this.movementUntilMouseDrag}}startDragging(p){const g=p.data,v=g.native.pointerId;this._pointerState.forEach(_=>{null!=_.holdTimeout&&(_.holdTimeout.remove(),_.holdTimeout=null),_.isDragging||(_.modifiers=p.modifiers,_.isDragging=!0,v===_.startEvent.native.pointerId?this._pointerDrag.emit(this._createPointerDragData("start",_,g)):this._pointerDrag.emit(this._createPointerDragData("start",_,_.previousEvent),p.timestamp))})}_handlePointerLoss(p,g){const v=p.data,_=v.native.pointerId,E=this._pointerState.get(_);E&&(null!=E.holdTimeout&&(E.holdTimeout.remove(),E.holdTimeout=null),E.isDragging?this._pointerDrag.emit(this._createPointerDragData("end",E,"pointer-up"===g?v:E.previousEvent),void 0,E.modifiers):"pointer-up"===g&&E.downButton===v.native.button&&p.timestamp-E.startTimestamp<=this.maximumClickDelay&&!E.holdEmitted&&this._immediateClick.emit(v),this._pointerState.delete(_),this.stopCapturingPointer(v.native),0===this._pointerState.size&&this._moveHandle.pause())}}const Dy_pan={left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},Dy_zoom={zoomIn:["=","+"],zoomOut:["-","_"]},Dy_rotate={clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"};let Oy=class extends di.Z{constructor(){super(...arguments),this._handles=new ka.Z}initialize(){this._handles.add([(0,kr.PA)(this.view,"ready",()=>this._disconnect()),(0,kr.gx)(this.view,"ready",()=>this._connect())])}destroy(){this._handles&&(this._handles.removeAll(),this._handles=null),this._disconnect()}_disconnect(){this._inputManager&&(this.view.viewEvents.disconnect(),this._inputManager.destroy(),this._inputManager=null,this._source.destroy(),this._source=null)}_connect(){const p=new WY(this.view.surface,this.view.input),g=[new JY,new YY,new KY,new GY(this.view.navigation),new zY],v=new th.$({eventSource:p,recognizers:g});v.installHandlers("prevent-context-menu",[new kY],th.f.INTERNAL),v.installHandlers("navigation",[new AY(this.view),new MY(this.view),new PY(this.view),new IA(this.view),new IA(this.view,["Ctrl"]),new gY(this.view,"primary"),new OY(this.view,Dy_pan),new IY(this.view,Dy_zoom),new SY(this.view,Dy_rotate),new vY(this.view,"secondary"),new yY(this.view,"touch")],th.f.INTERNAL),this.view.viewEvents.connect(v),this._source=p,this._inputManager=v,(0,kr.S1)(this.view.navigation,"browserTouchPanEnabled",_=>{this._source.browserTouchPanningEnabled=!_})}get test(){return{inputManager:this._inputManager}}};(0,De._)([(0,Be.Cb)()],Oy.prototype,"view",void 0),Oy=(0,De._)([(0,Lr.j)("esri.views.2d.input.MapViewInputManager")],Oy);const XY=Oy;let QY=0,Wu=class extends di.Z{constructor(){super(...arguments),this.color=new Ld.Z([0,255,255]),this.haloOpacity=1,this.fillOpacity=.25}get version(){return QY++}};(0,De._)([(0,Be.Cb)({readOnly:!0})],Wu.prototype,"version",null),(0,De._)([(0,Be.Cb)({type:Ld.Z})],Wu.prototype,"color",void 0),(0,De._)([(0,Be.Cb)({type:Ld.Z})],Wu.prototype,"haloColor",void 0),(0,De._)([(0,Be.Cb)()],Wu.prototype,"haloOpacity",void 0),(0,De._)([(0,Be.Cb)()],Wu.prototype,"fillOpacity",void 0),Wu=(0,De._)([(0,Lr.j)("esri.views.2d.support.HighlightOptions")],Wu);const NA=Wu;var FA=C(18605),eX=C(31637);const tX={checkMajorWebPerformanceCaveat:!0};let Ic=class extends di.Z{constructor(){super(...arguments),this.widget=null}destroy(){this.widget&&this.widget.destroy(),this.node=null}get id(){return this.get("widget.id")||this.get("node.id")}set node(y){const p=this._get("node");y!==p&&(y&&y.classList.add("esri-component"),p&&p.classList.remove("esri-component"),this._set("node",y))}castNode(y){return y?"string"==typeof y||function nX(y){return y&&"nodeType"in y}(y)?(this._set("widget",null),(0,Au.L7)(y)):(function iX(y){return y&&"function"==typeof y.render}(y)&&!y.domNode&&(y.domNode=document.createElement("div")),this._set("widget",y),y.domNode):(this._set("widget",null),null)}};(0,De._)([(0,Be.Cb)({dependsOn:[]})],Ic.prototype,"id",null),(0,De._)([(0,Be.Cb)()],Ic.prototype,"node",null),(0,De._)([(0,hl.p)("node")],Ic.prototype,"castNode",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],Ic.prototype,"widget",void 0),Ic=(0,De._)([(0,Lr.j)("esri.views.ui.Component")],Ic);const Sy=Ic,oX={left:0,top:0,bottom:0,right:0},UA={bottom:30,top:15,right:15,left:15},F2="manual",xs_corner="esri-ui-corner";function j2(y){const p=y,g="object"==typeof p&&null!==p&&Object.getPrototypeOf(p);return null!==g&&g!==Object.prototype||!("component"in p||"index"in p||"position"in p)?null:y}function U2(y,{top:p,bottom:g,left:v,right:_}){y.style.top=p,y.style.bottom=g,y.style.left=v,y.style.right=_}let Ql=class extends Bf.Z.EventedAccessor{constructor(y){super(y),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentToKey=new Map,this._handles=new ka.Z,this.view=null,this._initContainers()}initialize(){this._handles.add([(0,kr.S1)(this,"view.padding, container",this._applyViewPadding.bind(this)),(0,kr.S1)(this,"padding",this._applyUIPadding.bind(this))])}destroy(){this.container=null;for(const y of this._components)y.destroy();this._components.length=0,this._handles.destroy(),this._componentToKey.clear()}set container(y){const p=this._get("container");y!==p&&(y&&(y.classList.add("esri-ui"),y.classList.add((0,Xo.rk)()),this._attachContainers(y)),p&&(p.classList.remove("esri-ui"),U2(p,{top:"",bottom:"",left:"",right:""}),(0,Au.cS)(p)),this._set("container",y))}get height(){const y=this.get("view.height")||0;if(0===y)return y;const p=this._getViewPadding();return Math.max(y-(p.top+p.bottom),0)}get padding(){return this._get("padding")}set padding(y){y?this._override("padding",y):this._clearOverride("padding")}castPadding(y){return"number"==typeof y?{bottom:y,top:y,right:y,left:y}:Pt(Pt({},UA),y)}get width(){const y=this.get("view.width")||0;if(0===y)return y;const p=this._getViewPadding();return Math.max(y-(p.left+p.right),0)}add(y,p){let g,v;if(Array.isArray(y))return void y.forEach(E=>this.add(E,p));const _=j2(y);_&&({index:g,position:p,component:y,key:v}=_),p&&"object"==typeof p&&({index:g,key:v,position:p}=p),!y||p&&!this._isValidPosition(p)||this._add(y,p,g,v)}remove(y,p){if(!y)return;if(Array.isArray(y))return y.map(v=>this.remove(v,p));const g=this._find(y);if(g){const v=this._componentToKey;if(v.has(y)&&v.get(y)!==p)return;const _=this._components.indexOf(g);return g.node.parentNode&&g.node.parentNode.removeChild(g.node),this._componentToKey.delete(y),this._components.splice(_,1)[0]}}empty(y){return Array.isArray(y)?y.map(p=>this.empty(p)).reduce((p,g)=>p.concat(g)):(y=y||F2)===F2?Array.prototype.slice.call(this._manualContainer.children).filter(p=>!p.classList.contains(xs_corner)).map(p=>this.remove(p)):this._isValidPosition(y)?Array.prototype.slice.call(this._cornerNameToContainerLookup[y].children).map(this.remove,this):null}move(y,p){if(Array.isArray(y)&&y.forEach(E=>this.move(E,p)),!y)return;let g;const v=j2(y)||j2(p);if(v&&(g=v.index,p=v.position,y=v.component||y),p&&!this._isValidPosition(p))return;const _=this.remove(y);_&&this.add(_,{position:p,index:g})}find(y){if(!y)return null;const p=this._findById(y);return p&&(p.widget||p.node)}getPosition(y){for(const p in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[p].contains(y))return p;return null}_add(y,p,g,v){y instanceof Sy||(y=new Sy({node:y})),this._place({component:y,position:p,index:g}),this._components.push(y),v&&this._componentToKey.set(y,v)}_find(y){return y?y instanceof Sy?this._findByComponent(y):"string"==typeof y?this._findById(y):this._findByNode(y.domNode||y):null}_getViewPadding(){return this.get("view.padding")||oX}_attachContainers(y){y.appendChild(this._innerContainer),y.appendChild(this._manualContainer)}_initContainers(){const y=document.createElement("div");y.classList.add("esri-ui-inner-container"),y.classList.add("esri-ui-corner-container");const p=document.createElement("div");p.classList.add("esri-ui-inner-container"),p.classList.add("esri-ui-manual-container");const g=document.createElement("div");g.classList.add("esri-ui-top-left"),g.classList.add(xs_corner),y.appendChild(g);const v=document.createElement("div");v.classList.add("esri-ui-top-right"),v.classList.add(xs_corner),y.appendChild(v);const _=document.createElement("div");_.classList.add("esri-ui-bottom-left"),_.classList.add(xs_corner),y.appendChild(_);const E=document.createElement("div");E.classList.add("esri-ui-bottom-right"),E.classList.add(xs_corner),y.appendChild(E),this._innerContainer=y,this._manualContainer=p;const w=(0,Xo.dZ)();this._cornerNameToContainerLookup={"top-left":g,"top-right":v,"bottom-left":_,"bottom-right":E,"top-leading":w?v:g,"top-trailing":w?g:v,"bottom-leading":w?E:_,"bottom-trailing":w?_:E},this._positionNameToContainerLookup=Pt({manual:p},this._cornerNameToContainerLookup)}_isValidPosition(y){return!!this._positionNameToContainerLookup[y]}_place(y){const p=y.component,v=y.index,_=this._positionNameToContainerLookup[y.position||F2],E=v>-1;if(function sX(y){return y&&!y._started&&"function"==typeof y.postMixInProperties&&"function"==typeof y.buildRendering&&"function"==typeof y.postCreate&&"function"==typeof y.startup}(p.widget)&&p.widget.startup(),!E)return void _.appendChild(p.node);const w=Array.prototype.slice.call(_.children);0!==v?v>=w.length?_.appendChild(p.node):(0,Au.Vt)(p.node,w[v]):_.firstChild?(0,Au.Vt)(p.node,_.firstChild):_.appendChild(p.node)}_applyViewPadding(){const y=this.container;y&&U2(y,this._toPxPosition(this._getViewPadding()))}_applyUIPadding(){const y=this._innerContainer;y&&U2(y,this._toPxPosition(this.padding))}_toPxPosition(y){return{top:this._toPxUnit(y.top),left:this._toPxUnit(y.left),right:this._toPxUnit(y.right),bottom:this._toPxUnit(y.bottom)}}_toPxUnit(y){return 0===y?"0":y+"px"}_findByComponent(y){let p,g=null;return this._components.some(v=>(p=v===y,p&&(g=v),p)),g}_findById(y){let p,g=null;return this._components.some(v=>(p=v.id===y,p&&(g=v),p)),g}_findByNode(y){let p,g=null;return this._components.some(v=>(p=v.node===y,p&&(g=v),p)),g}};(0,De._)([(0,Be.Cb)()],Ql.prototype,"container",null),(0,De._)([(0,Be.Cb)()],Ql.prototype,"height",null),(0,De._)([(0,Be.Cb)({value:UA})],Ql.prototype,"padding",null),(0,De._)([(0,hl.p)("padding")],Ql.prototype,"castPadding",null),(0,De._)([(0,Be.Cb)()],Ql.prototype,"view",void 0),(0,De._)([(0,Be.Cb)()],Ql.prototype,"width",null),Ql=(0,De._)([(0,Lr.j)("esri.views.ui.UI")],Ql);const aX=Ql;var lX=C(59213);function BA(y,p){return y&&"copyright"in y&&(!p||"function"==typeof y.originOf&&"user"===y.originOf("copyright"))}function Iy(y,p,g){!g||!p||y.find(v=>v.layerView===p&&v.text===g)||y.push({text:g,layerView:p})}const ku=[];let sh=class extends _c.r{constructor(y){super(y),this.clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.handles.remove("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new zi.Z,this.view=null,this._allLayerViewsChange=p=>{this.handles.remove("suspension");const g=this.get("view.allLayerViews");g&&this.handles.add(g.map(v=>v.watch(["suspended","attributionVisible"],this._updateAttributionItems)),"suspension"),p&&p.removed&&p.removed.forEach(v=>{this._pendingAttributions.delete(v),this._fetchedAttributionData.delete(v)}),this._updateAttributionItems()},this._updateAttributionItems=()=>{const p=this.get("view.allLayerViews");ku.length=0,p?(p.forEach(g=>{if(g.suspended||!g.get("layer.attributionVisible"))return;const v=g.layer;if(BA(v,"user"))return void Iy(ku,g,v.copyright);if(v.hasAttributionData){if(this._fetchedAttributionData.has(g)){const E=this._fetchedAttributionData.get(g);return void(E?Iy(ku,g,this._getDynamicAttribution(E,this.view,v)):BA(v)&&Iy(ku,g,v.copyright))}return void this._fetchAttributionData(g)}const _=v.get("portalItem.accessInformation");Iy(ku,g,_||v.copyright)}),function uX(y,p){return y.length!==p.length||y.some((g,v)=>g.text!==p[v].text)}(this.items,ku)&&(this.items.removeAll(),this.items.addMany(ku)),ku.length=0,this.notifyChange("state")):this.clear()},this.handles.add([(0,kr.on)(this,"view.allLayerViews","change",this._allLayerViewsChange,this._allLayerViewsChange,this.clear),(0,kr.Z4)(this,"view.stationary",()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){return this.get("view.ready")?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_fetchAttributionData(y){var p=this;return(0,qr.Z)(function*(){if(p._pendingAttributions.has(y))return;p._pendingAttributions.add(y);const g=yield(0,lX.q6)(y.layer.fetchAttributionData());if(p._pendingAttributions.has(y)){const v=g.ok?p._createContributionIndex(g.value,function cX(y){return"bing-maps"===y.type}(y.layer)):null;p._pendingAttributions.delete(y),p._fetchedAttributionData.set(y,v)}p._updateAttributionItems()})()}_createContributionIndex(y,p){const g=y.contributors,v={};if(!g)return v;for(let _=0;_<g.length;_++){const E=g[_],w=E.coverageAreas;if(!w)return;for(const D of w){const O=D.bbox,L=D.zoomMin-(p&&D.zoomMin?1:0),z=D.zoomMax-(p&&D.zoomMax?1:0),Ee={extent:(0,pl.$)({xmin:O[1],ymin:O[0],xmax:O[3],ymax:O[2],spatialReference:Su.Z.WGS84}),attribution:E.attribution||"",score:null!=D.score?D.score:100,id:_};for(let Me=L;Me<=z;Me++)v[Me]=v[Me]||[],v[Me].push(Ee)}}return v.maxKey=Math.max.apply(null,Object.keys(v)),v}_getDynamicAttribution(y,p,g){const{extent:v,scale:_}=p;let E=g.tileInfo.scaleToZoom(_);if(E=Math.min(y.maxKey,Math.round(E)),!v||null==E||E<=-1)return"";const w=y[E],D=(0,pl.iV)(v.center.clone().normalize(),p.spatialReference),O={};return w?w.filter(L=>{const z=!O[L.id]&&D&&(0,w2.aV)(L.extent,D);return z&&(O[L.id]=!0),z}).sort((L,z)=>z.score-L.score||L.objectId-z.objectId).map(L=>L.attribution).join(", "):""}};(0,De._)([(0,Be.Cb)({readOnly:!0,type:zi.Z})],sh.prototype,"items",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],sh.prototype,"state",null),(0,De._)([(0,Be.Cb)()],sh.prototype,"view",void 0),sh=(0,De._)([(0,Lr.j)("esri.widgets.Attribution.AttributionViewModel")],sh);const VA=sh;let Ds=class extends ws.Z{constructor(y,p){super(y,p),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this.iconClass="esri-icon-description",this.itemDelimiter=" | ",this.label=void 0,this.messages=null,this.view=null,this.viewModel=new VA}initialize(){this.own((0,kr.on)(this,"viewModel.items","change",()=>this.scheduleRender()))}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((y,p)=>(-1===y.indexOf(p.text)&&y.push(p.text),y),[]).join(this.itemDelimiter)}render(){return(0,or.u)("div",{bind:this,class:this.classes("esri-attribution esri-widget",{"esri-attribution--open":this._isOpen}),onclick:this._toggleState,onkeydown:this._toggleState},this.renderSourcesNode(),this.renderPoweredBy())}renderPoweredBy(){return(0,or.u)("div",{class:"esri-attribution__powered-by"},"Powered by"," ",(0,or.u)("a",{class:"esri-attribution__link",href:"http://www.esri.com/",target:"_blank",rel:"noreferrer"},"Esri"))}renderSourcesNode(){const y=this._isOpen,p=this._isInteractive,g=p?0:-1,{attributionText:v}=this,_=p?"button":void 0;return(0,or.u)("div",{afterCreate:this._afterSourcesNodeCreate,afterUpdate:this._afterSourcesNodeUpdate,bind:this,class:this.classes("esri-attribution__sources",{"esri-attribution__sources--open":y,"esri-interactive":p}),innerHTML:v,role:_,tabIndex:g})}_afterSourcesNodeCreate(y){this._prevSourceNodeHeight=y.clientWidth}_afterSourcesNodeUpdate(y){let p=!1;const{clientHeight:g,clientWidth:v,scrollWidth:_}=y,E=_>=v,w=this._attributionTextOverflowed!==E;if(this._attributionTextOverflowed=E,w&&(p=!0),this._isOpen){const D=g<this._prevSourceNodeHeight;this._prevSourceNodeHeight=g,D&&(this._isOpen=!1,p=!0)}p&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};(0,De._)([(0,Be.Cb)()],Ds.prototype,"_isOpen",void 0),(0,De._)([(0,Be.Cb)()],Ds.prototype,"_isInteractive",null),(0,De._)([(0,Be.Cb)()],Ds.prototype,"_attributionTextOverflowed",void 0),(0,De._)([(0,Be.Cb)()],Ds.prototype,"_prevSourceNodeHeight",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],Ds.prototype,"attributionText",null),(0,De._)([(0,Be.Cb)()],Ds.prototype,"iconClass",void 0),(0,De._)([(0,Be.Cb)()],Ds.prototype,"itemDelimiter",void 0),(0,De._)([(0,Be.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Ds.prototype,"label",void 0),(0,De._)([(0,Be.Cb)(),(0,Vs.H)("esri/widgets/Attribution/t9n/Attribution")],Ds.prototype,"messages",void 0),(0,De._)([(0,hn.B)("viewModel.view")],Ds.prototype,"view",void 0),(0,De._)([(0,Be.Cb)({type:VA})],Ds.prototype,"viewModel",void 0),(0,De._)([(0,va.h)()],Ds.prototype,"_toggleState",null),Ds=(0,De._)([(0,Lr.j)("esri.widgets.Attribution")],Ds);const dX=Ds;let Tc=class extends(jP(di.Z)){constructor(y){super(y),this._handles=new ka.Z,this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._handles.add((0,kr.S1)(this,"view",this._updateRotationWatcher))}destroy(){this._handles.destroy(),this._handles=null,this.view=null}get canShowNorth(){const y=this.get("view.spatialReference");return!(!y||!y.isWebMercator&&!y.isGeographic)}get state(){return this.get("view.ready")?this.canShowNorth?"compass":"rotation":"disabled"}reset(){if(!this.get("view.ready"))return;const y={};"2d"===this.view.type?y.rotation=0:y.heading=0,this.callGoTo({target:y})}_updateForRotation(y){null!=y&&(this.orientation={z:y})}_updateForCamera(y){y&&(this.orientation={x:0,y:0,z:-y.heading})}_updateRotationWatcher(y){this._handles.removeAll(),y&&this._handles.add("2d"===y.type?(0,kr.S1)(this,"view.rotation",this._updateForRotation):(0,kr.S1)(this,"view.camera",this._updateForCamera))}};(0,De._)([(0,Be.Cb)({readOnly:!0})],Tc.prototype,"canShowNorth",null),(0,De._)([(0,Be.Cb)()],Tc.prototype,"orientation",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],Tc.prototype,"state",null),(0,De._)([(0,Be.Cb)()],Tc.prototype,"view",void 0),Tc=(0,De._)([(0,Lr.j)("esri.widgets.CompassViewModel")],Tc);const WA=Tc;let El=class extends ws.Z{constructor(y,p){super(y,p),this.goToOverride=null,this.iconClass="esri-icon-locate-circled",this.label=void 0,this.messages=null,this.view=null,this.viewModel=new WA}reset(){return this.viewModel.reset()}render(){const{orientation:y,state:p}=this.viewModel,g="disabled"===p,v="compass"==("rotation"===p?"rotation":"compass"),_=g?-1:0,E={"esri-disabled":g,"esri-interactive":!g},w={"esri-icon-compass":v,"esri-icon-dial":!v},{messages:D}=this;return(0,or.u)("div",{bind:this,class:this.classes("esri-compass esri-widget--button esri-widget",E),onclick:this._reset,onkeydown:this._reset,role:"button",tabIndex:_,"aria-label":D.reset,title:D.reset},(0,or.u)("span",{"aria-hidden":"true",class:this.classes("esri-compass__icon",w),styles:this._toRotationTransform(y)}),(0,or.u)("span",{class:"esri-icon-font-fallback-text"},D.reset))}_reset(){this.viewModel.reset()}_toRotationTransform(y){return{transform:`rotateZ(${y.z}deg)`}}};(0,De._)([(0,hn.B)("viewModel.goToOverride")],El.prototype,"goToOverride",void 0),(0,De._)([(0,Be.Cb)()],El.prototype,"iconClass",void 0),(0,De._)([(0,Be.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],El.prototype,"label",void 0),(0,De._)([(0,Be.Cb)(),(0,Vs.H)("esri/widgets/Compass/t9n/Compass")],El.prototype,"messages",void 0),(0,De._)([(0,hn.B)("viewModel.view")],El.prototype,"view",void 0),(0,De._)([(0,Be.Cb)({type:WA})],El.prototype,"viewModel",void 0),(0,De._)([(0,va.h)()],El.prototype,"_reset",null),El=(0,De._)([(0,Lr.j)("esri.widgets.Compass")],El);const fX=El;let ah=class extends di.Z{constructor(y){super(y),this._handles=new ka.Z,this.navigationMode="pan",this.view=null}initialize(){this._handles.add((0,kr.gx)(this,"view.inputManager",this._setNavigationMode.bind(this)))}destroy(){this._handles.destroy(),this._handles=null,this.view=null}get state(){return this.get("view.ready")&&"3d"===this.view.type?"ready":"disabled"}toggle(){"disabled"!==this.state&&(this.navigationMode="pan"!==this.navigationMode?"pan":"rotate",this._setNavigationMode())}_setNavigationMode(){this.get("view.inputManager").primaryDragAction="pan"===this.navigationMode?"pan":"rotate"}};(0,De._)([(0,Be.Cb)({readOnly:!0})],ah.prototype,"state",null),(0,De._)([(0,Be.Cb)()],ah.prototype,"navigationMode",void 0),(0,De._)([(0,Be.Cb)()],ah.prototype,"view",void 0),ah=(0,De._)([(0,Lr.j)("esri.widgets.NavigationToggleViewModel")],ah);const kA=ah,Ca_button="esri-navigation-toggle__button esri-widget--button";let bl=class extends ws.Z{constructor(y,p){super(y,p),this.iconClass="esri-icon-pan2",this.label=void 0,this.messages=null,this.view=null,this.viewModel=new kA}set layout(y){"horizontal"!==y&&(y="vertical"),this._set("layout",y)}toggle(){return this.viewModel.toggle()}render(){const y="disabled"===this.get("viewModel.state"),p="pan"===this.get("viewModel.navigationMode"),v={"esri-navigation-toggle__button--active":p},_={"esri-navigation-toggle__button--active":!p},E=y?-1:0,w=this.messages.toggle;return(0,or.u)("div",{bind:this,class:this.classes("esri-navigation-toggle esri-widget",{"esri-disabled":y,"esri-navigation-toggle--horizontal":"horizontal"===this.layout}),onclick:this._toggle,onkeydown:this._toggle,tabIndex:E,"aria-label":w,title:w},(0,or.u)("div",{class:this.classes(Ca_button,"esri-navigation-toggle__button--pan",v)},(0,or.u)("span",{class:"esri-icon-pan"})),(0,or.u)("div",{class:this.classes(Ca_button,"esri-navigation-toggle__button--rotate",_)},(0,or.u)("span",{class:"esri-icon-rotate"})))}_toggle(){this.toggle()}};(0,De._)([(0,Be.Cb)()],bl.prototype,"iconClass",void 0),(0,De._)([(0,Be.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],bl.prototype,"label",void 0),(0,De._)([(0,Be.Cb)({value:"vertical"})],bl.prototype,"layout",null),(0,De._)([(0,Be.Cb)(),(0,Vs.H)("esri/widgets/NavigationToggle/t9n/NavigationToggle")],bl.prototype,"messages",void 0),(0,De._)([(0,hn.B)("viewModel.view")],bl.prototype,"view",void 0),(0,De._)([(0,Be.Cb)({type:kA})],bl.prototype,"viewModel",void 0),(0,De._)([(0,va.h)()],bl.prototype,"_toggle",null),bl=(0,De._)([(0,Lr.j)("esri.widgets.NavigationToggle")],bl);const pX=bl;let Ku=class extends ws.Z{constructor(){super(...arguments),this.enabled=!0,this.iconClass="",this.title=""}render(){const y=this.enabled?0:-1,g={[this.iconClass]:!!this.iconClass};return(0,or.u)("div",{bind:this,class:this.classes("esri-widget--button esri-widget",{"esri-disabled":!this.enabled,"esri-interactive":this.enabled}),onclick:this._triggerAction,onkeydown:this._triggerAction,role:"button",tabIndex:y,title:this.title},(0,or.u)("span",{"aria-hidden":"true",role:"presentation",class:this.classes("esri-icon",g)}),(0,or.u)("span",{class:"esri-icon-font-fallback-text"},this.title))}_triggerAction(){this.action.call(this)}};(0,De._)([(0,Be.Cb)()],Ku.prototype,"action",void 0),(0,De._)([(0,Be.Cb)()],Ku.prototype,"enabled",void 0),(0,De._)([(0,Be.Cb)()],Ku.prototype,"iconClass",void 0),(0,De._)([(0,Be.Cb)()],Ku.prototype,"title",void 0),(0,De._)([(0,va.h)()],Ku.prototype,"_triggerAction",null),Ku=(0,De._)([(0,Lr.j)("esri.widgets.IconButton")],Ku);const ZA=Ku;let lh=class extends di.Z{get canZoomIn(){if(!this.get("view.ready"))return!1;const y=this.get("view.animation.target.scale")||this.get("view.scale"),p=this.get("view.constraints.effectiveMaxScale");return 0===p||y>p}get canZoomOut(){if(!this.get("view.ready"))return!1;const y=this.get("view.animation.target.scale")||this.get("view.scale"),p=this.get("view.constraints.effectiveMinScale");return 0===p||y<p}};(0,De._)([(0,Be.Cb)({readOnly:!0})],lh.prototype,"canZoomIn",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],lh.prototype,"canZoomOut",null),(0,De._)([(0,Be.Cb)()],lh.prototype,"view",void 0),lh=(0,De._)([(0,Lr.j)("esri.widgets.Zoom.ZoomConditions2D")],lh);const mX=lh;let uh=class extends di.Z{get canZoomIn(){return!!this.get("view.ready")}get canZoomOut(){return!!this.get("view.ready")}};(0,De._)([(0,Be.Cb)({readOnly:!0})],uh.prototype,"canZoomIn",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],uh.prototype,"canZoomOut",null),(0,De._)([(0,Be.Cb)()],uh.prototype,"view",void 0),uh=(0,De._)([(0,Lr.j)("esri.widgets.Zoom.ZoomConditions3D")],uh);const yX=uh;let zu=class extends di.Z{constructor(y){super(y),this.canZoomIn=!1,this.canZoomOut=!1}destroy(){this.view=null}get state(){return this.get("view.ready")?"ready":"disabled"}set view(y){y?"2d"===y.type?this._zoomConditions=new mX({view:y}):"3d"===y.type&&(this._zoomConditions=new yX({view:y})):this._zoomConditions=null,this._set("view",y)}zoomIn(){if(!this.canZoomIn)return;const y=this.view;"2d"===y.type?y.mapViewNavigation.zoomIn():(0,Hn.R8)(y.goTo({zoomFactor:2}))}zoomOut(){if(!this.canZoomOut)return;const y=this.view;"2d"===y.type?y.mapViewNavigation.zoomOut():(0,Hn.R8)(y.goTo({zoomFactor:.5}))}};(0,De._)([(0,Be.Cb)()],zu.prototype,"_zoomConditions",void 0),(0,De._)([(0,Be.Cb)({aliasOf:"_zoomConditions.canZoomIn",readOnly:!0})],zu.prototype,"canZoomIn",void 0),(0,De._)([(0,Be.Cb)({aliasOf:"_zoomConditions.canZoomOut",readOnly:!0})],zu.prototype,"canZoomOut",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],zu.prototype,"state",null),(0,De._)([(0,Be.Cb)()],zu.prototype,"view",null),zu=(0,De._)([(0,Lr.j)("esri.widgets.Zoom.ZoomViewModel")],zu);const $A=zu;let ql=class extends ws.Z{constructor(y,p){super(y,p),this.iconClass="esri-icon-zoom-in-magnifying-glass",this.label=void 0,this.messages=null,this.view=null,this.viewModel=new $A}initialize(){this._zoomInButton=new ZA({action:this.zoomIn.bind(this),iconClass:"esri-icon-plus"}),this._zoomOutButton=new ZA({action:this.zoomOut.bind(this),iconClass:"esri-icon-minus"})}destroy(){this._zoomInButton.destroy(),this._zoomOutButton.destroy(),this._zoomInButton=null,this._zoomOutButton=null}set layout(y){"horizontal"!==y&&(y="vertical"),this._set("layout",y)}render(){const y=this.viewModel,p={"esri-zoom--horizontal":"horizontal"===this.layout};return this._zoomInButton.enabled="ready"===y.state&&y.canZoomIn,this._zoomOutButton.enabled="ready"===y.state&&y.canZoomOut,this._zoomInButton.title=this.messages.zoomIn,this._zoomOutButton.title=this.messages.zoomOut,(0,or.u)("div",{class:this.classes("esri-zoom esri-widget",p)},this._zoomInButton.render(),this._zoomOutButton.render())}zoomIn(){return this.viewModel.zoomIn()}zoomOut(){return this.viewModel.zoomOut()}};(0,De._)([(0,Be.Cb)()],ql.prototype,"iconClass",void 0),(0,De._)([(0,Be.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],ql.prototype,"label",void 0),(0,De._)([(0,Be.Cb)({value:"vertical"})],ql.prototype,"layout",null),(0,De._)([(0,Be.Cb)(),(0,Vs.H)("esri/widgets/Zoom/t9n/Zoom")],ql.prototype,"messages",void 0),(0,De._)([(0,hn.B)("viewModel.view")],ql.prototype,"view",void 0),(0,De._)([(0,Be.Cb)({type:$A})],ql.prototype,"viewModel",void 0),ql=(0,De._)([(0,Lr.j)("esri.widgets.Zoom")],ql);const gX=ql,KA="esri.views.ui.DefaultUI";co.Z.getLogger(KA);let Ty=class extends aX{constructor(y){super(y),this._defaultPositionLookup={attribution:"manual",compass:"top-leading","navigation-toggle":"top-leading",zoom:"top-leading"},this.components=[]}initialize(){this._handles.add([(0,kr.S1)(this,"components",this._componentsWatcher.bind(this)),(0,kr.S1)(this,"view",this._updateViewAwareWidgets.bind(this))])}_add(y,p,g,v){if("string"==typeof y&&this._defaultPositionLookup[y]){if(this._find(y))return;y=this._createComponent(y)}super._add(y,p,g,v)}_removeComponents(y){y.forEach(p=>{const g=this._find(p);g&&(this.remove(g),g.destroy())})}_updateViewAwareWidgets(y){this.components.forEach(p=>{const g=this._find(p),v=g&&g.widget;(function vX(y){return y&&void 0!==y.view})(v)&&(v.view=y)})}_componentsWatcher(y,p){this._removeComponents(p),this._addComponents(y),this._adjustPadding(y)}_adjustPadding(y){if(-1===y.indexOf("attribution")&&!this._isOverridden("padding")){const{top:p}=this.padding;this.padding=p}}_addComponents(y){this.initialized&&y.forEach(p=>this.add(this._createComponent(p),this._defaultPositionLookup[p]))}_createComponent(y){const p=this._createWidget(y);if(p)return new Sy({id:y,node:p})}_createWidget(y){return"attribution"===y?this._createAttribution():"compass"===y?this._createCompass():"navigation-toggle"===y?this._createNavigationToggle():"zoom"===y?this._createZoom():void 0}_createAttribution(){return new dX({view:this.view})}_createCompass(){return new fX({view:this.view})}_createNavigationToggle(){return new pX({view:this.view})}_createZoom(){return new gX({view:this.view})}};(0,De._)([(0,Be.Cb)()],Ty.prototype,"components",void 0),Ty=(0,De._)([(0,Lr.j)(KA)],Ty);const _X=Ty;let Py=class extends _X{constructor(y){super(y),this.components=["attribution","zoom"]}};(0,De._)([(0,Be.Cb)()],Py.prototype,"components",void 0),Py=(0,De._)([(0,Lr.j)("esri.views.ui.2d.DefaultUI2D")],Py);const zA=Py,EX=co.Z.getLogger("esri.views.MapView");let GA,HA,JA,YA,XA,QA;function B2(){return B2=(0,qr.Z)(function*(){const[,{GraphicsView2D:y,GraphicContainer:p,LabelManager:g,MapViewNavigation:v,MagnifierView2D:_,Stage:E}]=yield Promise.all([Promise.all([C.e(3070),C.e(8592),C.e(4266)]).then(C.bind(C,14266)),Promise.all([C.e(7692),C.e(3755),C.e(3070),C.e(5024),C.e(4589),C.e(3751),C.e(5909),C.e(4175),C.e(3997),C.e(4522),C.e(1619),C.e(1572),C.e(4056),C.e(8773),C.e(8592),C.e(9510)]).then(C.bind(C,39510))]);HA=y,JA=p,YA=g,XA=v,QA=_,GA=E}),B2.apply(this,arguments)}let Zo=class extends(pG(OJ(mY))){constructor(y){super(y),this._magnifierView=null,this._stage=null,this._resolveWhenReady=[],this.rootLayerViews=new Fd.Z({getCollections:()=>{var p,g;return[null==(p=this.basemapView)?void 0:p.baseLayerViews,this.layerViews,null==(g=this.basemapView)?void 0:g.referenceLayerViews]},getChildrenFunction:()=>null}),this.floors=new zi.Z,this.graphicsView=null,this.highlightOptions=new NA,this.inputManager=new XY({view:this}),this.mapViewNavigation=null,this.supersampleScreenshotsEnabled=!1,this.ui=new zA,this.rendering=!1,(0,hG.j2)()}destroy(){this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get background(){return this.get("map.initialViewProperties.background")||null}set background(y){void 0===y?this._clearOverride("background"):this._override("background",y)}get resourceManager(){return this._stage.resourceManager}get textureManager(){return this._stage.painter.textureManager}get navigating(){return!(!this.mapViewNavigation||!this.mapViewNavigation.interacting)}toMap(y){if(oA(y)){const p=iA(this,y);return super.toMap(p)}return super.toMap(y)}hitTest(y,p){var g=this;return(0,qr.Z)(function*(){const v=oA(y)?iA(g,y):y;if(!g.ready||isNaN(v.x)||isNaN(v.y))return{screenPoint:v,results:[]};let _=new Set,E=!1,w=null,D=null;null!=p&&p.include?t3(p.include,e3(g,se=>_.add(se),se=>{w||(w=new Set),w.add(se)},se=>_.add(se),()=>E=!0)):(E=!0,_=new Set(g.allLayerViews)),null!=p&&p.exclude&&t3(p.exclude,e3(g,se=>_.delete(se),se=>{D||(D=new Set),D.add(se)}));const O=g.allLayerViews.filter(se=>!se.suspended&&_.has(se)).reverse(),L=g.toMap(v);let z=(yield Promise.all([E?g.graphicsView.hitTest(L):null,...O.map(se=>se.hitTest(L,v))])).filter(fr.pC).flat();return w&&(z=z.filter(se=>w.has(V2(se)))),D&&(z=z.filter(se=>!D.has(V2(se)))),{screenPoint:v,results:z.map(se=>({mapPoint:L,graphic:se}))}})()}takeScreenshot(y){y=y||{};const p=this.supersampleScreenshotsEnabled?Math.min(4,(0,FA.RZ)(this.size,Math.min(4096,this._stage.context.parameters.maxTextureSize))):1;let g;y.layers?(g=[],y.layers.forEach(w=>{const D=this.allLayerViews.find(O=>O.layer.id===w.id);D&&"container"in D&&D.container&&g.push(D.container)})):g=this._stage.children;const{format:v,quality:_}=(0,FA.LI)(y.format,y.quality),E=function qY(y,p,g,v,_,E,w,D){let O;y.ignorePadding&&(v={left:0,right:0,top:0,bottom:0}),null!=y.width&&null!=y.height?O=[y.width,y.height]:null==y.width&&null!=y.height?O=[y.height,y.height]:null!=y.width&&null==y.height?O=[y.width,y.width]:null==y.width&&null==y.height&&(O=null);const L=g[0]-(v.left+v.right),z=g[1]-(v.top+v.bottom);let se,Ee,Me=y.area||{x:0,y:0,width:L,height:z};if(O){const st=O[0]/O[1];if(st>L/z){const vt=Me.width/st;Me={x:Me.x,y:Math.round(Me.y+(Me.height-vt)/2),width:Me.width,height:Math.round(vt)}}else{const vt=Me.height*st;Me={x:Math.round(Me.x+(Me.width-vt)/2),y:Me.y,width:Math.round(vt),height:Me.height}}}else O=[Me.width,Me.height];return O[0]>Me.width?(se=Math.min(O[0]/Me.width,p),Ee=O[0]/Me.width/se):(se=1,Ee=O[0]/Me.width),{resolutionScale:se,cropArea:{x:Math.round((Me.x+v.left)*se),y:Math.round((Me.y+v.top)*se),width:Math.round(Me.width*se),height:Math.round(Me.height*se)},outputScale:Ee,format:_,quality:E,children:w,rotation:D}}(y,p,this.size,this.padding,v,_,g,y.rotation);return this._stage.takeScreenshot(E)}on(y,p,g,v){return this.inputManager&&this.viewEvents.on(y,p,g,v)||super.on(y,p)}hasEventListener(y){return super.hasEventListener(y)||this.viewEvents.hasHandler(y)}whenLayerView(y){return super.whenLayerView(y)}graphicChanged(y){this.graphicsView&&this.graphicsView.graphicUpdateHandler(y)}whenReady(){return new Promise(y=>{this.ready?y(this):this._resolveWhenReady.push(y)})}forceDOMReadyCycle(){this.forceReadyCycle()}validate(){let y=function rX(y){y=Pt(Pt({},tX),y);const p=(0,eX.Z)();return p.available?y.checkMajorWebPerformanceCaveat&&p.majorPerformanceCaveat?new on.Z("webgl:major-performance-caveat-detected","Your WebGL implementation doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist."):p.supportsHighPrecisionFragment?p.supportsVertexShaderSamplers?p.supportsElementIndexUint?p.supportsStandardDerivatives?p.supportsInstancedArrays?null:new on.Z("webgl:instanced-arrays-required","WebGL support for instanced rendering is required but not supported."):new on.Z("webgl:standard-derivatives-required","WebGL support for standard derivatives is required but not supported."):new on.Z("webgl:element-index-uint-required","WebGL support for uint vertex indices is required but not supported."):new on.Z("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported."):new on.Z("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported."):new on.Z("webgl:required","WebGL is required but not supported.")}({checkMajorWebPerformanceCaveat:!1});return(0,Du.Z)("safari")&&(0,Du.Z)("safari")<9&&(y=new on.Z("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:(0,Du.Z)("safari")})),(0,fr.pC)(y)?(EX.warn("#validate()",y.message),Promise.reject(y)):function bX(){return B2.apply(this,arguments)}()}_startup(){this.timeline.begin("MapView Startup"),super._startup(),this.graphics.owner=this;const p=new GA(this.surface,{canvas:this.renderCanvas,supersampleScreenshots:this.supersampleScreenshotsEnabled,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline}),g=new HA({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new JA(this.featuresTilingScheme)}),v=new XA({view:this,animationManager:this.animationManager}),_=new YA({view:this});this._magnifierView=new QA,this._magnifierView.magnifier=this.magnifier,this._stage=p,this.frameTask.graphicsView=g,this._set("graphicsView",g),this._set("mapViewNavigation",v),this._set("labelManager",_),this.handles.add([this.rootLayerViews.on("change",()=>this._updateStageChildren()),p.on("post-render",()=>this._set("rendering",p.renderRequested)),p.on("will-render",()=>this._set("rendering",p.renderRequested)),p.on("webgl-error",w=>this.fatalError=w.error),(0,kr.S1)(this,"stationary",w=>p.stationary=w,!0),(0,kr.S1)(this,"state.id",()=>p.state=this.state,!0),(0,kr.S1)(this,"background",w=>{p.background=w,this._magnifierView.background=w},!0),(0,kr.S1)(this,"magnifier",w=>this._magnifierView.magnifier=w,!0),(0,kr.S1)(this,"renderingOptions",w=>p.renderingOptions=w,!0),(0,kr.S1)(this,"highlightOptions",()=>p.highlightOptions=this.highlightOptions,!0)],"map-view"),p.state=this.state,this._updateStageChildren();const E=this._resolveWhenReady;this._resolveWhenReady=[],E.forEach(w=>w(this)),this.timeline.end("MapView Startup")}_teardown(){this.handles.remove("map-view"),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._stage.destroy(),this.graphicsView.destroy(),this.mapViewNavigation.destroy(),this._stage=null,this._set("graphicsView",null),this._magnifierView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,super._teardown()}_updateStageChildren(){this._stage.removeAllChildren(),this.rootLayerViews.forEach(p=>{this._stage.addChild(p.container)}),this._stage.addChild(this.graphicsView.container),this._stage.addChild(this._magnifierView)}};(0,De._)([(0,Be.Cb)({type:Hm})],Zo.prototype,"background",null),(0,De._)([(0,Be.Cb)()],Zo.prototype,"floors",void 0),(0,De._)([(0,Be.Cb)()],Zo.prototype,"graphicsView",void 0),(0,De._)([(0,Be.Cb)({type:NA})],Zo.prototype,"highlightOptions",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],Zo.prototype,"inputManager",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],Zo.prototype,"resourceManager",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],Zo.prototype,"textureManager",null),(0,De._)([(0,Be.Cb)({readOnly:!0})],Zo.prototype,"mapViewNavigation",void 0),(0,De._)([(0,Be.Cb)({type:Boolean})],Zo.prototype,"navigating",null),(0,De._)([(0,Be.Cb)({type:Boolean,constructOnly:!0})],Zo.prototype,"supersampleScreenshotsEnabled",void 0),(0,De._)([(0,Be.Cb)({type:zA})],Zo.prototype,"ui",void 0),(0,De._)([(0,Be.Cb)({readOnly:!0})],Zo.prototype,"rendering",void 0),(0,De._)([(0,Be.Cb)({constructOnly:!0})],Zo.prototype,"renderCanvas",void 0),(0,De._)([(0,Be.Cb)({constructOnly:!0})],Zo.prototype,"deactivatedWebGLExtensions",void 0),(0,De._)([(0,Be.Cb)({constructOnly:!0})],Zo.prototype,"debugWebGLExtensions",void 0),Zo=(0,De._)([(0,Lr.j)("esri.views.MapView")],Zo);const qA=Zo;function V2(y){const p=y.getObjectId();var g,v,_,E;return p?`${null!=(g=null!=(v=null==(_=y.layer)?void 0:_.uid)?v:null==(E=y.sourceLayer)?void 0:E.uid)?g:"MapView"}/${p}`:`"MapView/${y.uid}`}function e3(y,p,g,v,_){return E=>{if(E instanceof Gd.Z){if(E.layer===y)null==_||_();else{const w=y.allLayerViews.find(D=>D.layer===E.layer);w&&(null==v||v(w))}g(V2(E))}else{const w=y.allLayerViews.find(D=>D.layer===E);w&&p(w)}}}function t3(y,p){if(y)if((0,GT.TW)(y))for(const g of y)if((0,GT.TW)(g))for(const v of g)p(v);else p(g);else p(y)}const CX=["mapViewNode"],MX=[{path:"",redirectTo:"geo",pathMatch:"full"},{path:"geo",component:yz},{path:"map",component:(()=>{class y{constructor(){this.view=null}initializeMap(){const g=this.mapViewEl.nativeElement,v=new zT({portalItem:{id:"aa1d3f80270146208328cf66d022e09c"}}),_=new qA({container:g,map:v});return v.when(()=>{v.bookmarks&&v.bookmarks.length?console.log("Bookmarks: ",v.bookmarks.length):console.log("No bookmarks in this webmap.")}),this.view=_,this.view.when()}ngOnInit(){this.initializeMap().then(()=>{console.log("The map is ready.")})}ngOnDestroy(){this.view&&this.view.destroy()}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275cmp=za({type:y,selectors:[["ng-component"]],viewQuery:function(g,v){if(1&g&&Hv(CX,7),2&g){let _;qh(_=ef())&&(v.mapViewEl=_.first)}},decls:2,vars:0,consts:[["mapViewNode",""]],template:function(g,v){1&g&&Ta(0,"div",null,0)},styles:['@import"https://js.arcgis.com/4.22/@arcgis/core/assets/esri/themes/light/main.css";.esri-view[_ngcontent-%COMP%], #mapViewNode[_ngcontent-%COMP%]{height:400px;width:400px}']}),y})()},{path:"scan",component:WK}];let wX=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275mod=Os({type:y}),y.\u0275inj=At({imports:[[HO.forRoot(MX)],HO]}),y})(),xX=(()=>{class y{constructor(){this.title="ANB Fauna & Flora"}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275cmp=za({type:y,selectors:[["app-root"]],decls:36,vars:1,consts:[["role","banner",1,"toolbar"],["width","40","alt","Angular Logo","src","data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg=="],[1,"spacer"],["role","main",1,"content"],[1,"card","highlight-card","card-small"],["id","rocket","xmlns","http://www.w3.org/2000/svg","width","101.678","height","101.678","viewBox","0 0 101.678 101.678"],["id","Group_83","data-name","Group 83","transform","translate(-141 -696)"],["id","Ellipse_8","data-name","Ellipse 8","cx","50.839","cy","50.839","r","50.839","transform","translate(141 696)","fill","#dd0031"],["id","Group_47","data-name","Group 47","transform","translate(165.185 720.185)"],["id","Path_33","data-name","Path 33","d","M3.4,42.615a3.084,3.084,0,0,0,3.553,3.553,21.419,21.419,0,0,0,12.215-6.107L9.511,30.4A21.419,21.419,0,0,0,3.4,42.615Z","transform","translate(0.371 3.363)","fill","#fff"],["id","Path_34","data-name","Path 34","d","M53.3,3.221A3.09,3.09,0,0,0,50.081,0,48.227,48.227,0,0,0,18.322,13.437c-6-1.666-14.991-1.221-18.322,7.218A33.892,33.892,0,0,1,9.439,25.1l-.333.666a3.013,3.013,0,0,0,.555,3.553L23.985,43.641a2.9,2.9,0,0,0,3.553.555l.666-.333A33.892,33.892,0,0,1,32.647,53.3c8.55-3.664,8.884-12.326,7.218-18.322A48.227,48.227,0,0,0,53.3,3.221ZM34.424,9.772a6.439,6.439,0,1,1,9.106,9.106,6.368,6.368,0,0,1-9.106,0A6.467,6.467,0,0,1,34.424,9.772Z","transform","translate(0 0.005)","fill","#fff"],["id","rocket-smoke","xmlns","http://www.w3.org/2000/svg","width","516.119","height","1083.632","viewBox","0 0 516.119 1083.632"],["id","Path_40","data-name","Path 40","d","M644.6,141S143.02,215.537,147.049,870.207s342.774,201.755,342.774,201.755S404.659,847.213,388.815,762.2c-27.116-145.51-11.551-384.124,271.9-609.1C671.15,139.365,644.6,141,644.6,141Z","transform","translate(-147.025 -140.939)","fill","#f5f5f5"],[1,"card-container"],["routerLink","/geo",1,"card"],["routerLink","/scan",1,"card"],["routerLink","/map",1,"card"],["id","clouds","xmlns","http://www.w3.org/2000/svg","width","2611.084","height","485.677","viewBox","0 0 2611.084 485.677"],["id","Path_39","data-name","Path 39","d","M2379.709,863.793c10-93-77-171-168-149-52-114-225-105-264,15-75,3-140,59-152,133-30,2.83-66.725,9.829-93.5,26.25-26.771-16.421-63.5-23.42-93.5-26.25-12-74-77-130-152-133-39-120-212-129-264-15-54.084-13.075-106.753,9.173-138.488,48.9-31.734-39.726-84.4-61.974-138.487-48.9-52-114-225-105-264,15a162.027,162.027,0,0,0-103.147,43.044c-30.633-45.365-87.1-72.091-145.206-58.044-52-114-225-105-264,15-75,3-140,59-152,133-53,5-127,23-130,83-2,42,35,72,70,86,49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33,61.112,8.015,113.854-5.72,150.492-29.764a165.62,165.62,0,0,0,110.861-3.236c47,94,178,113,251,33,31.385,4.116,60.563,2.495,86.487-3.311,25.924,5.806,55.1,7.427,86.488,3.311,73,80,204,61,251-33a165.625,165.625,0,0,0,120,0c51,13,108,15,157-5a147.188,147.188,0,0,0,33.5-18.694,147.217,147.217,0,0,0,33.5,18.694c49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33C2446.709,1093.793,2554.709,922.793,2379.709,863.793Z","transform","translate(142.69 -634.312)","fill","#eee"]],template:function(g,v){1&g&&(_o(0,"div",0),Ta(1,"img",1),_o(2,"span"),la(3,"Welcome"),Eo(),Ta(4,"div",2),Eo(),_o(5,"div",3)(6,"div",4),Op(),_o(7,"svg",5)(8,"title"),la(9,"Rocket Ship"),Eo(),_o(10,"g",6),Ta(11,"circle",7),_o(12,"g",8),Ta(13,"path",9)(14,"path",10),Eo()()(),Sp(),_o(15,"span"),la(16),Eo(),Op(),_o(17,"svg",11)(18,"title"),la(19,"Rocket Ship Smoke"),Eo(),Ta(20,"path",12),Eo()(),Sp(),_o(21,"div",13)(22,"a",14)(23,"span"),la(24,"Geolocation"),Eo()(),_o(25,"a",15)(26,"span"),la(27,"QR-Code"),Eo()(),_o(28,"a",16)(29,"span"),la(30,"Map"),Eo()(),Op(),_o(31,"svg",17)(32,"title"),la(33,"Gray Clouds Background"),Eo(),Ta(34,"path",18),Eo()(),Sp(),Ta(35,"router-outlet"),Eo()),2&g&&(function pC(y){mC(ti(),Sr(),ys()+y,Mp())}(16),l0("",v.title," app is running!"))},directives:[tm,Y_],styles:["",'[_nghost-%COMP%] {\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n    font-size: 14px;\n    color: #333;\n    box-sizing: border-box;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }']}),y})();let DX=(()=>{class y{constructor(){this.view=null}createMap(g){var v=this;return(0,qr.Z)(function*(){const _=new zT({portalItem:{id:"aa1d3f80270146208328cf66d022e09c"}}),E=new qA({container:g,map:_});return _.when(()=>{_.bookmarks&&_.bookmarks.length?console.log("Bookmarks: ",_.bookmarks.length):console.log("No bookmarks in this webmap.")}),v.view=E,v.view.when()})()}destroyMap(){this.view&&this.view.destroy()}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=xt({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),OX=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275mod=Os({type:y,bootstrap:[xX]}),y.\u0275inj=At({providers:[DX],imports:[[KN,wX,dz.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"}),VK]]}),y})();(function D7(){Yx=!1})(),ZN().bootstrapModule(OX).catch(y=>console.error(y))},76210:(lt,Se,C)=>{"use strict";C.d(Se,{Z5:()=>dn,AA:()=>Ut,yM:()=>xr,K3:()=>Bn,h:()=>wt,GH:()=>Kr,YY:()=>Wr});var x=C(15861);let ee,ie,J,B=!1,X=!1,W=!1,K=!1,ae=null,V=!1;const P="undefined"!=typeof window?window:{},Z=P.document||{head:{}},H={$flags$:0,$resourcesUrl$:"",jmp:je=>je(),raf:je=>requestAnimationFrame(je),ael:(je,rt,bt,Le)=>je.addEventListener(rt,bt,Le),rel:(je,rt,bt,Le)=>je.removeEventListener(rt,bt,Le),ce:(je,rt)=>new CustomEvent(je,rt)},ge=(()=>{let je=!1;try{Z.addEventListener("e",null,Object.defineProperty({},"passive",{get(){je=!0}}))}catch(rt){}return je})(),ye=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(je){}return!1})(),Q=(je,rt,bt,Le)=>{bt&&bt.map(([We,it,Dt])=>{const Bt=ue(je,We),Jt=pe(rt,Dt),rr=me(We);H.ael(Bt,it,Jt,rr),(rt.$rmListeners$=rt.$rmListeners$||[]).push(()=>H.rel(Bt,it,Jt,rr))})},pe=(je,rt)=>bt=>{try{je.$hostElement$[rt](bt)}catch(Le){Tn(Le)}},ue=(je,rt)=>4&rt?Z:8&rt?P:16&rt?Z.body:je,me=je=>ge?{passive:0!=(1&je),capture:0!=(2&je)}:0!=(2&je),Fe="http://www.w3.org/1999/xlink",Je=new WeakMap,Pe=(je,rt,bt,Le)=>{let We=Ye(rt,bt),it=At.get(We);if(je=11===je.nodeType?je:Z,it)if("string"==typeof it){let Bt,Dt=Je.get(je=je.head||je);Dt||Je.set(je,Dt=new Set),Dt.has(We)||(Bt=Z.createElement("style"),Bt.innerHTML=it,je.insertBefore(Bt,je.querySelector("link")),Dt&&Dt.add(We))}else!je.adoptedStyleSheets.includes(it)&&(je.adoptedStyleSheets=[...je.adoptedStyleSheets,it]);return We},Ye=(je,rt)=>"sc-"+(rt&&32&je.$flags$?je.$tagName$+"-"+rt:je.$tagName$),ht={},at=je=>"object"==(je=typeof je)||"function"===je,wt=(je,rt,...bt)=>{let Le=null,We=null,it=null,Dt=!1,Bt=!1,Jt=[];const rr=Vr=>{for(let Nr=0;Nr<Vr.length;Nr++)Le=Vr[Nr],Array.isArray(Le)?rr(Le):null!=Le&&"boolean"!=typeof Le&&((Dt="function"!=typeof je&&!at(Le))&&(Le=String(Le)),Dt&&Bt?Jt[Jt.length-1].$text$+=Le:Jt.push(Dt?Tt(null,Le):Le),Bt=Dt)};if(rr(bt),rt&&(rt.key&&(We=rt.key),rt.name&&(it=rt.name),true)){const Vr=rt.className||rt.class;Vr&&(rt.class="object"!=typeof Vr?Vr:Object.keys(Vr).filter(Nr=>Vr[Nr]).join(" "))}if("function"==typeof je)return je(null===rt?{}:rt,Jt,er);const Dr=Tt(je,null);return Dr.$attrs$=rt,Jt.length>0&&(Dr.$children$=Jt),Dr.$key$=We,Dr.$name$=it,Dr},Tt=(je,rt)=>{const bt={$flags$:0,$tag$:je,$text$:rt,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null};return bt},Ut={},Wt=je=>je&&je.$tag$===Ut,er={forEach:(je,rt)=>je.map(gr).forEach(rt),map:(je,rt)=>je.map(gr).map(rt).map(yr)},gr=je=>({vattrs:je.$attrs$,vchildren:je.$children$,vkey:je.$key$,vname:je.$name$,vtag:je.$tag$,vtext:je.$text$}),yr=je=>{if("function"==typeof je.vtag){const bt=Object.assign({},je.vattrs);return je.vkey&&(bt.key=je.vkey),je.vname&&(bt.name=je.vname),wt(je.vtag,bt,...je.vchildren||[])}const rt=Tt(je.vtag,je.vtext);return rt.$attrs$=je.vattrs,rt.$children$=je.vchildren,rt.$key$=je.vkey,rt.$name$=je.vname,rt},gt=(je,rt,bt,Le,We,it)=>{if(bt!==Le){let Dt=Wi(je,rt),Bt=rt.toLowerCase();if("class"===rt){const Jt=je.classList,rr=Gt(bt),Dr=Gt(Le);Jt.remove(...rr.filter(Vr=>Vr&&!Dr.includes(Vr))),Jt.add(...Dr.filter(Vr=>Vr&&!rr.includes(Vr)))}else if("style"===rt){for(const Jt in bt)(!Le||null==Le[Jt])&&(Jt.includes("-")?je.style.removeProperty(Jt):je.style[Jt]="");for(const Jt in Le)(!bt||Le[Jt]!==bt[Jt])&&(Jt.includes("-")?je.style.setProperty(Jt,Le[Jt]):je.style[Jt]=Le[Jt])}else if("key"!==rt)if("ref"===rt)Le&&Le(je);else if(je.__lookupSetter__(rt)||"o"!==rt[0]||"n"!==rt[1]){{const Jt=at(Le);if((Dt||Jt&&null!==Le)&&!We)try{if(je.tagName.includes("-"))je[rt]=Le;else{let Dr=null==Le?"":Le;"list"===rt?Dt=!1:(null==bt||je[rt]!=Dr)&&(je[rt]=Dr)}}catch(Dr){}let rr=!1;Bt!==(Bt=Bt.replace(/^xlink\:?/,""))&&(rt=Bt,rr=!0),null==Le||!1===Le?(!1!==Le||""===je.getAttribute(rt))&&(rr?je.removeAttributeNS(Fe,rt):je.removeAttribute(rt)):(!Dt||4&it||We)&&!Jt&&(Le=!0===Le?"":Le,rr?je.setAttributeNS(Fe,rt,Le):je.setAttribute(rt,Le))}}else rt="-"===rt[2]?rt.slice(3):Wi(P,Bt)?Bt.slice(2):Bt[2]+rt.slice(3),bt&&H.rel(je,rt,bt,!1),Le&&H.ael(je,rt,Le,!1)}},kt=/\s/,Gt=je=>je?je.split(kt):[],Qt=(je,rt,bt,Le)=>{const We=11===rt.$elm$.nodeType&&rt.$elm$.host?rt.$elm$.host:rt.$elm$,it=je&&je.$attrs$||ht,Dt=rt.$attrs$||ht;for(Le in it)Le in Dt||gt(We,Le,it[Le],void 0,bt,rt.$flags$);for(Le in Dt)gt(We,Le,it[Le],Dt[Le],bt,rt.$flags$)},lr=(je,rt,bt,Le)=>{let Dt,Bt,Jt,We=rt.$children$[bt],it=0;if(!B&&(W=!0,"slot"===We.$tag$&&(ee&&Le.classList.add(ee+"-s"),We.$flags$|=We.$children$?2:1)),null!==We.$text$)Dt=We.$elm$=Z.createTextNode(We.$text$);else if(1&We.$flags$)Dt=We.$elm$=Z.createTextNode("");else{if(!K&&(K="svg"===We.$tag$),Dt=We.$elm$=Z.createElementNS(K?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&We.$flags$?"slot-fb":We.$tag$),K&&"foreignObject"===We.$tag$&&(K=!1),Qt(null,We,K),(je=>null!=je)(ee)&&Dt["s-si"]!==ee&&Dt.classList.add(Dt["s-si"]=ee),We.$children$)for(it=0;it<We.$children$.length;++it)Bt=lr(je,We,it,Dt),Bt&&Dt.appendChild(Bt);"svg"===We.$tag$?K=!1:"foreignObject"===Dt.tagName&&(K=!0)}return Dt["s-hn"]=J,3&We.$flags$&&(Dt["s-sr"]=!0,Dt["s-cr"]=ie,Dt["s-sn"]=We.$name$||"",Jt=je&&je.$children$&&je.$children$[bt],Jt&&Jt.$tag$===We.$tag$&&je.$elm$&&dr(je.$elm$,!1)),Dt},dr=(je,rt)=>{H.$flags$|=1;const bt=je.childNodes;for(let Le=bt.length-1;Le>=0;Le--){const We=bt[Le];We["s-hn"]!==J&&We["s-ol"]&&(Zt(We).insertBefore(We,Yt(We)),We["s-ol"].remove(),We["s-ol"]=void 0,W=!0),rt&&dr(We,rt)}H.$flags$&=-2},ct=(je,rt,bt,Le,We,it)=>{let Bt,Dt=je["s-cr"]&&je["s-cr"].parentNode||je;for(Dt.shadowRoot&&Dt.tagName===J&&(Dt=Dt.shadowRoot);We<=it;++We)Le[We]&&(Bt=lr(null,bt,We,je),Bt&&(Le[We].$elm$=Bt,Dt.insertBefore(Bt,Yt(rt))))},Ot=(je,rt,bt,Le,We)=>{for(;rt<=bt;++rt)(Le=je[rt])&&(We=Le.$elm$,Ue(Le),X=!0,We["s-ol"]?We["s-ol"].remove():dr(We,!0),We.remove())},Vt=(je,rt)=>je.$tag$===rt.$tag$&&("slot"===je.$tag$?je.$name$===rt.$name$:je.$key$===rt.$key$),Yt=je=>je&&je["s-ol"]||je,Zt=je=>(je["s-ol"]?je["s-ol"]:je).parentNode,ke=(je,rt)=>{const bt=rt.$elm$=je.$elm$,Le=je.$children$,We=rt.$children$,it=rt.$tag$,Dt=rt.$text$;let Bt;null!==Dt?(Bt=bt["s-cr"])?Bt.parentNode.textContent=Dt:je.$text$!==Dt&&(bt.data=Dt):(K="svg"===it||"foreignObject"!==it&&K,"slot"===it||Qt(je,rt,K),null!==Le&&null!==We?((je,rt,bt,Le)=>{let mi,Ri,We=0,it=0,Dt=0,Bt=0,Jt=rt.length-1,rr=rt[0],Dr=rt[Jt],Vr=Le.length-1,Nr=Le[0],Rn=Le[Vr];for(;We<=Jt&&it<=Vr;)if(null==rr)rr=rt[++We];else if(null==Dr)Dr=rt[--Jt];else if(null==Nr)Nr=Le[++it];else if(null==Rn)Rn=Le[--Vr];else if(Vt(rr,Nr))ke(rr,Nr),rr=rt[++We],Nr=Le[++it];else if(Vt(Dr,Rn))ke(Dr,Rn),Dr=rt[--Jt],Rn=Le[--Vr];else if(Vt(rr,Rn))("slot"===rr.$tag$||"slot"===Rn.$tag$)&&dr(rr.$elm$.parentNode,!1),ke(rr,Rn),je.insertBefore(rr.$elm$,Dr.$elm$.nextSibling),rr=rt[++We],Rn=Le[--Vr];else if(Vt(Dr,Nr))("slot"===rr.$tag$||"slot"===Rn.$tag$)&&dr(Dr.$elm$.parentNode,!1),ke(Dr,Nr),je.insertBefore(Dr.$elm$,rr.$elm$),Dr=rt[--Jt],Nr=Le[++it];else{for(Dt=-1,Bt=We;Bt<=Jt;++Bt)if(rt[Bt]&&null!==rt[Bt].$key$&&rt[Bt].$key$===Nr.$key$){Dt=Bt;break}Dt>=0?(Ri=rt[Dt],Ri.$tag$!==Nr.$tag$?mi=lr(rt&&rt[it],bt,Dt,je):(ke(Ri,Nr),rt[Dt]=void 0,mi=Ri.$elm$),Nr=Le[++it]):(mi=lr(rt&&rt[it],bt,it,je),Nr=Le[++it]),mi&&Zt(rr.$elm$).insertBefore(mi,Yt(rr.$elm$))}We>Jt?ct(je,null==Le[Vr+1]?null:Le[Vr+1].$elm$,bt,Le,it,Vr):it>Vr&&Ot(rt,We,Jt)})(bt,Le,rt,We):null!==We?(null!==je.$text$&&(bt.textContent=""),ct(bt,null,rt,We,0,We.length-1)):null!==Le&&Ot(Le,0,Le.length-1),K&&"svg"===it&&(K=!1))},ot=je=>{let bt,Le,We,it,Dt,Bt,rt=je.childNodes;for(Le=0,We=rt.length;Le<We;Le++)if(bt=rt[Le],1===bt.nodeType){if(bt["s-sr"])for(Dt=bt["s-sn"],bt.hidden=!1,it=0;it<We;it++)if(Bt=rt[it].nodeType,rt[it]["s-hn"]!==bt["s-hn"]||""!==Dt){if(1===Bt&&Dt===rt[it].getAttribute("slot")){bt.hidden=!0;break}}else if(1===Bt||3===Bt&&""!==rt[it].textContent.trim()){bt.hidden=!0;break}ot(bt)}},ze=[],Xe=je=>{let rt,bt,Le,We,it,Dt,Bt=0,Jt=je.childNodes,rr=Jt.length;for(;Bt<rr;Bt++){if(rt=Jt[Bt],rt["s-sr"]&&(bt=rt["s-cr"])&&bt.parentNode)for(Le=bt.parentNode.childNodes,We=rt["s-sn"],Dt=Le.length-1;Dt>=0;Dt--)bt=Le[Dt],!bt["s-cn"]&&!bt["s-nr"]&&bt["s-hn"]!==rt["s-hn"]&&(He(bt,We)?(it=ze.find(Dr=>Dr.$nodeToRelocate$===bt),X=!0,bt["s-sn"]=bt["s-sn"]||We,it?it.$slotRefNode$=rt:ze.push({$slotRefNode$:rt,$nodeToRelocate$:bt}),bt["s-sr"]&&ze.map(Dr=>{He(Dr.$nodeToRelocate$,bt["s-sn"])&&(it=ze.find(Vr=>Vr.$nodeToRelocate$===bt),it&&!Dr.$slotRefNode$&&(Dr.$slotRefNode$=it.$slotRefNode$))})):ze.some(Dr=>Dr.$nodeToRelocate$===bt)||ze.push({$nodeToRelocate$:bt}));1===rt.nodeType&&Xe(rt)}},He=(je,rt)=>1===je.nodeType?null===je.getAttribute("slot")&&""===rt||je.getAttribute("slot")===rt:je["s-sn"]===rt||""===rt,Ue=je=>{je.$attrs$&&je.$attrs$.ref&&je.$attrs$.ref(null),je.$children$&&je.$children$.map(Ue)},nt=(je,rt)=>{const bt=je.$hostElement$,Le=je.$cmpMeta$,We=je.$vnode$||Tt(null,null),it=Wt(rt)?rt:wt(null,null,rt);if(J=bt.tagName,Le.$attrsToReflect$&&(it.$attrs$=it.$attrs$||{},Le.$attrsToReflect$.map(([Dt,Bt])=>it.$attrs$[Bt]=bt[Dt])),it.$tag$=null,it.$flags$|=4,je.$vnode$=it,it.$elm$=We.$elm$=bt.shadowRoot||bt,ee=bt["s-sc"],ie=bt["s-cr"],B=0!=(1&Le.$flags$),X=!1,ke(We,it),H.$flags$|=1,W){Xe(it.$elm$);let Dt,Bt,Jt,rr,Dr,Vr,Nr=0;for(;Nr<ze.length;Nr++)Dt=ze[Nr],Bt=Dt.$nodeToRelocate$,Bt["s-ol"]||(Jt=Z.createTextNode(""),Jt["s-nr"]=Bt,Bt.parentNode.insertBefore(Bt["s-ol"]=Jt,Bt));for(Nr=0;Nr<ze.length;Nr++)if(Dt=ze[Nr],Bt=Dt.$nodeToRelocate$,Dt.$slotRefNode$){for(rr=Dt.$slotRefNode$.parentNode,Dr=Dt.$slotRefNode$.nextSibling,Jt=Bt["s-ol"];Jt=Jt.previousSibling;)if(Vr=Jt["s-nr"],Vr&&Vr["s-sn"]===Bt["s-sn"]&&rr===Vr.parentNode&&(Vr=Vr.nextSibling,!Vr||!Vr["s-nr"])){Dr=Vr;break}(!Dr&&rr!==Bt.parentNode||Bt.nextSibling!==Dr)&&Bt!==Dr&&(!Bt["s-hn"]&&Bt["s-ol"]&&(Bt["s-hn"]=Bt["s-ol"].parentNode.nodeName),rr.insertBefore(Bt,Dr))}else 1===Bt.nodeType&&(Bt.hidden=!0)}X&&ot(it.$elm$),H.$flags$&=-2,ze.length=0},xr=(je,rt,bt)=>{const Le=je;return{emit:We=>Ur(Le,rt,{bubbles:!!(4&bt),composed:!!(2&bt),cancelable:!!(1&bt),detail:We})}},Ur=(je,rt,bt)=>{const Le=H.ce(rt,bt);return je.dispatchEvent(Le),Le},nn=(je,rt)=>{je.$flags$|=16;const bt=()=>jn(je,rt);return Qr(bt)},jn=(je,rt)=>{const bt=je.$hostElement$,Le=()=>{},We=bt;let it;return rt?(Mi(bt,"componentWillLoad"),it=oi(We,"componentWillLoad")):(Mi(bt,"componentWillUpdate"),it=oi(We,"componentWillUpdate")),Mi(bt,"componentWillRender"),it=In(it,()=>oi(We,"componentWillRender")),Le(),In(it,()=>Ai(je,We,rt))},Ai=function(){var je=(0,x.Z)(function*(rt,bt,Le){const We=rt.$hostElement$,it=()=>{};Le&&(je=>{const rt=je.$cmpMeta$,bt=je.$hostElement$,Le=rt.$flags$,We=()=>{},it=Pe(bt.shadowRoot?bt.shadowRoot:bt.getRootNode(),rt,je.$modeName$);10&Le&&(bt["s-sc"]=it,bt.classList.add(it+"-h"),2&Le&&bt.classList.add(it+"-s")),We()})(rt);const Bt=()=>{};Yn(rt,bt,We),Bt(),it(),no(rt)});return function(bt,Le,We){return je.apply(this,arguments)}}(),Yn=(je,rt,bt)=>{try{ae=rt,rt=rt.render&&rt.render(),je.$flags$&=-17,je.$flags$|=2,nt(je,rt)}catch(Bt){Tn(Bt,je.$hostElement$)}return ae=null,null},no=je=>{const bt=je.$hostElement$,Le=()=>{},We=bt;oi(We,"componentDidRender"),Mi(bt,"componentDidRender"),64&je.$flags$?(oi(We,"componentDidUpdate"),Mi(bt,"componentDidUpdate"),Le()):(je.$flags$|=64,oi(We,"componentDidLoad"),Mi(bt,"componentDidLoad"),Le())},oi=(je,rt,bt)=>{if(je&&je[rt])try{return je[rt](bt)}catch(Le){Tn(Le)}},In=(je,rt)=>je&&je.then?je.then(rt):rt(),Mi=(je,rt)=>{},oo=(je,rt,bt)=>{if(rt.$members$){je.watchers&&(rt.$watchers$=je.watchers);const Le=Object.entries(rt.$members$),We=je.prototype;Le.map(([it,[Dt]])=>{(31&Dt||32&Dt)&&Object.defineProperty(We,it,{get(){return((je,rt)=>Cn(this).$instanceValues$.get(rt))(0,it)},set(Bt){((je,rt,bt,Le)=>{const We=Cn(je),it=je,Dt=We.$instanceValues$.get(rt),Bt=We.$flags$,Jt=it;if(bt=((je,rt)=>null==je||at(je)?je:4&rt?"false"!==je&&(""===je||!!je):2&rt?parseFloat(je):1&rt?String(je):je)(bt,Le.$members$[rt][0]),bt!==Dt&&(We.$instanceValues$.set(rt,bt),1)){if(Le.$watchers$&&128&Bt){const rr=Le.$watchers$[rt];rr&&rr.map(Dr=>{try{Jt[Dr](bt,Dt,rt)}catch(Vr){Tn(Vr,it)}})}if(2==(18&Bt)){if(Jt.componentShouldUpdate&&!1===Jt.componentShouldUpdate(bt,Dt,rt))return;nn(We,!1)}}})(this,it,Bt,rt)},configurable:!0,enumerable:!0})});{const it=new Map;We.attributeChangedCallback=function(Dt,Bt,Jt){H.jmp(()=>{const rr=it.get(Dt);if(this.hasOwnProperty(rr))Jt=this[rr],delete this[rr];else if(We.hasOwnProperty(rr)&&"number"==typeof this[rr]&&this[rr]==Jt)return;this[rr]=(null!==Jt||"boolean"!=typeof this[rr])&&Jt})},je.observedAttributes=Le.filter(([Dt,Bt])=>15&Bt[0]).map(([Dt,Bt])=>{const Jt=Bt[1]||Dt;return it.set(Jt,Dt),512&Bt[0]&&rt.$attrsToReflect$.push([Dt,Jt]),Jt})}}return je},Kn=function(){var je=(0,x.Z)(function*(rt,bt,Le,We,it){if(0==(32&bt.$flags$)&&(it=rt.constructor,bt.$flags$|=32,customElements.whenDefined(Le.$tagName$).then(()=>bt.$flags$|=128),it.style)){let Jt=it.style;"string"!=typeof Jt&&(Jt=Jt[bt.$modeName$=(je=>sr.map(rt=>rt(je)).find(rt=>!!rt))(rt)]);const rr=Ye(Le,bt.$modeName$);if(!At.has(rr)){const Dr=()=>{};((je,rt,bt)=>{let Le=At.get(je);ye&&bt?(Le=Le||new CSSStyleSheet,Le.replace(rt)):Le=rt,At.set(je,Le)})(rr,Jt,!!(1&Le.$flags$)),Dr()}}const Bt=()=>nn(bt,!0);Bt()});return function(bt,Le,We,it,Dt){return je.apply(this,arguments)}}(),Ve=je=>{},jt=je=>{const rt=je["s-cr"]=Z.createComment("");rt["s-cn"]=!0,je.insertBefore(rt,je.firstChild)},Kr=(je,rt)=>{const bt={$flags$:rt[0],$tagName$:rt[1]};bt.$members$=rt[2],bt.$listeners$=rt[3],bt.$watchers$=je.$watchers$,bt.$attrsToReflect$=[];const Le=je.prototype.connectedCallback,We=je.prototype.disconnectedCallback;return Object.assign(je.prototype,{__registerHost(){vi(this,bt)},connectedCallback(){(je=>{if(0==(1&H.$flags$)){const rt=Cn(je),bt=rt.$cmpMeta$,Le=()=>{};if(1&rt.$flags$)Q(je,rt,bt.$listeners$),Ve(rt.$lazyInstance$);else{let We;rt.$flags$|=1,!We&&12&bt.$flags$&&jt(je),bt.$members$&&Object.entries(bt.$members$).map(([it,[Dt]])=>{if(31&Dt&&je.hasOwnProperty(it)){const Bt=je[it];delete je[it],je[it]=Bt}}),Kn(je,rt,bt)}Le()}})(this),Le&&Le.call(this)},disconnectedCallback(){(je=>{if(0==(1&H.$flags$)){const rt=Cn(je);rt.$rmListeners$&&(rt.$rmListeners$.map(Le=>Le()),rt.$rmListeners$=void 0)}})(this),We&&We.call(this)},__attachShadow(){this.attachShadow({mode:"open",delegatesFocus:!!(16&bt.$flags$)})}}),je.is=bt.$tagName$,oo(je,bt)},Bn=je=>{const rt=new URL(je,H.$resourcesUrl$);return rt.origin!==P.location.origin?rt.href:rt.pathname},Wr=je=>H.$resourcesUrl$=je,Yi=new WeakMap,Cn=je=>Yi.get(je),vi=(je,rt)=>{const bt={$flags$:0,$hostElement$:je,$cmpMeta$:rt,$instanceValues$:new Map};return Q(je,bt,rt.$listeners$),Yi.set(je,bt)},Wi=(je,rt)=>rt in je,Tn=(je,rt)=>(0,console.error)(je,rt),At=new Map,sr=[],qt=[],hr=[],_t=(je,rt)=>bt=>{je.push(bt),V||(V=!0,rt&&4&H.$flags$?vr(pr):H.raf(pr))},Ft=je=>{for(let rt=0;rt<je.length;rt++)try{je[rt](performance.now())}catch(bt){Tn(bt)}je.length=0},pr=()=>{Ft(qt),Ft(hr),(V=qt.length>0)&&H.raf(pr)},vr=je=>Promise.resolve(void 0).then(je),Qr=_t(hr,!0),dn={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},27122:(lt,Se)=>{"use strict";function x(Ie,Ke){for(var Ne=0;Ne<Ke.length;Ne++){var Oe=Ke[Ne];Oe.enumerable=Oe.enumerable||!1,Oe.configurable=!0,"value"in Oe&&(Oe.writable=!0),Object.defineProperty(Ie,Oe.key,Oe)}}function T(Ie,Ke,Ne){return Ke&&x(Ie.prototype,Ke),Ne&&x(Ie,Ne),Ie}function re(){return re=Object.assign||function(Ie){for(var Ke=1;Ke<arguments.length;Ke++){var Ne=arguments[Ke];for(var Oe in Ne)Object.prototype.hasOwnProperty.call(Ne,Oe)&&(Ie[Oe]=Ne[Oe])}return Ie},re.apply(this,arguments)}function ne(Ie,Ke){Ie.prototype=Object.create(Ke.prototype),Ie.prototype.constructor=Ie,ie(Ie,Ke)}function ee(Ie){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(Ne){return Ne.__proto__||Object.getPrototypeOf(Ne)})(Ie)}function ie(Ie,Ke){return(ie=Object.setPrototypeOf||function(Oe,$e){return Oe.__proto__=$e,Oe})(Ie,Ke)}function J(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ie){return!1}}function j(Ie,Ke,Ne){return(j=J()?Reflect.construct:function($e,qe,St){var Lt=[null];Lt.push.apply(Lt,qe);var ur=new(Function.bind.apply($e,Lt));return St&&ie(ur,St.prototype),ur}).apply(null,arguments)}function B(Ie){var Ke="function"==typeof Map?new Map:void 0;return B=function(Oe){if(null===Oe||!function A(Ie){return-1!==Function.toString.call(Ie).indexOf("[native code]")}(Oe))return Oe;if("function"!=typeof Oe)throw new TypeError("Super expression must either be null or a function");if(void 0!==Ke){if(Ke.has(Oe))return Ke.get(Oe);Ke.set(Oe,$e)}function $e(){return j(Oe,arguments,ee(this).constructor)}return $e.prototype=Object.create(Oe.prototype,{constructor:{value:$e,enumerable:!1,writable:!0,configurable:!0}}),ie($e,Oe)},B(Ie)}function K(Ie,Ke){(null==Ke||Ke>Ie.length)&&(Ke=Ie.length);for(var Ne=0,Oe=new Array(Ke);Ne<Ke;Ne++)Oe[Ne]=Ie[Ne];return Oe}function ae(Ie,Ke){var Ne="undefined"!=typeof Symbol&&Ie[Symbol.iterator]||Ie["@@iterator"];if(Ne)return(Ne=Ne.call(Ie)).next.bind(Ne);if(Array.isArray(Ie)||(Ne=function W(Ie,Ke){if(Ie){if("string"==typeof Ie)return K(Ie,Ke);var Ne=Object.prototype.toString.call(Ie).slice(8,-1);if("Object"===Ne&&Ie.constructor&&(Ne=Ie.constructor.name),"Map"===Ne||"Set"===Ne)return Array.from(Ie);if("Arguments"===Ne||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ne))return K(Ie,Ke)}}(Ie))||Ke&&Ie&&"number"==typeof Ie.length){Ne&&(Ie=Ne);var Oe=0;return function(){return Oe>=Ie.length?{done:!0}:{done:!1,value:Ie[Oe++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var $=function(Ie){function Ke(){return Ie.apply(this,arguments)||this}return ne(Ke,Ie),Ke}(B(Error)),V=function(Ie){function Ke(Ne){return Ie.call(this,"Invalid DateTime: "+Ne.toMessage())||this}return ne(Ke,Ie),Ke}($),P=function(Ie){function Ke(Ne){return Ie.call(this,"Invalid Interval: "+Ne.toMessage())||this}return ne(Ke,Ie),Ke}($),F=function(Ie){function Ke(Ne){return Ie.call(this,"Invalid Duration: "+Ne.toMessage())||this}return ne(Ke,Ie),Ke}($),Z=function(Ie){function Ke(){return Ie.apply(this,arguments)||this}return ne(Ke,Ie),Ke}($),Y=function(Ie){function Ke(Ne){return Ie.call(this,"Invalid unit "+Ne)||this}return ne(Ke,Ie),Ke}($),H=function(Ie){function Ke(){return Ie.apply(this,arguments)||this}return ne(Ke,Ie),Ke}($),de=function(Ie){function Ke(){return Ie.call(this,"Zone is an abstract class")||this}return ne(Ke,Ie),Ke}($),q="numeric",ge="short",le="long",ye={year:q,month:q,day:q},oe={year:q,month:ge,day:q},Q={year:q,month:ge,day:q,weekday:ge},pe={year:q,month:le,day:q},ue={year:q,month:le,day:q,weekday:le},me={hour:q,minute:q},ve={hour:q,minute:q,second:q},fe={hour:q,minute:q,second:q,timeZoneName:ge},Ce={hour:q,minute:q,second:q,timeZoneName:le},ce={hour:q,minute:q,hourCycle:"h23"},he={hour:q,minute:q,second:q,hourCycle:"h23"},xe={hour:q,minute:q,second:q,hourCycle:"h23",timeZoneName:ge},we={hour:q,minute:q,second:q,hourCycle:"h23",timeZoneName:le},Ae={year:q,month:q,day:q,hour:q,minute:q},Fe={year:q,month:q,day:q,hour:q,minute:q,second:q},tt={year:q,month:ge,day:q,hour:q,minute:q},Re={year:q,month:ge,day:q,hour:q,minute:q,second:q},be={year:q,month:ge,day:q,weekday:ge,hour:q,minute:q},Te={year:q,month:le,day:q,hour:q,minute:q,timeZoneName:ge},Je={year:q,month:le,day:q,hour:q,minute:q,second:q,timeZoneName:ge},ut={year:q,month:le,day:q,weekday:le,hour:q,minute:q,timeZoneName:le},Pe={year:q,month:le,day:q,weekday:le,hour:q,minute:q,second:q,timeZoneName:le};function Qe(Ie){return void 0===Ie}function Ye(Ie){return"number"==typeof Ie}function te(Ie){return"number"==typeof Ie&&Ie%1==0}function et(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(Ie){return!1}}function ft(Ie,Ke,Ne){if(0!==Ie.length)return Ie.reduce(function(Oe,$e){var qe=[Ke($e),$e];return Oe&&Ne(Oe[0],qe[0])===Oe[0]?Oe:qe},null)[1]}function mt(Ie,Ke){return Object.prototype.hasOwnProperty.call(Ie,Ke)}function at(Ie,Ke,Ne){return te(Ie)&&Ie>=Ke&&Ie<=Ne}function Tt(Ie,Ke){void 0===Ke&&(Ke=2);var Ne=Ie<0?"-":"",Oe=Ne?-1*Ie:Ie;return""+Ne+(Oe.toString().length<Ke?("0".repeat(Ke)+Oe).slice(-Ke):Oe.toString())}function Ut(Ie){if(!Qe(Ie)&&null!==Ie&&""!==Ie)return parseInt(Ie,10)}function Wt(Ie){if(!Qe(Ie)&&null!==Ie&&""!==Ie)return parseFloat(Ie)}function er(Ie){if(!Qe(Ie)&&null!==Ie&&""!==Ie){var Ke=1e3*parseFloat("0."+Ie);return Math.floor(Ke)}}function gr(Ie,Ke,Ne){void 0===Ne&&(Ne=!1);var Oe=Math.pow(10,Ke);return(Ne?Math.trunc:Math.round)(Ie*Oe)/Oe}function yr(Ie){return Ie%4==0&&(Ie%100!=0||Ie%400==0)}function mr(Ie){return yr(Ie)?366:365}function gt(Ie,Ke){var Ne=function wt(Ie,Ke){return Ie-Ke*Math.floor(Ie/Ke)}(Ke-1,12)+1;return 2===Ne?yr(Ie+(Ke-Ne)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][Ne-1]}function kt(Ie){var Ke=Date.UTC(Ie.year,Ie.month-1,Ie.day,Ie.hour,Ie.minute,Ie.second,Ie.millisecond);return Ie.year<100&&Ie.year>=0&&(Ke=new Date(Ke)).setUTCFullYear(Ke.getUTCFullYear()-1900),+Ke}function Gt(Ie){var Ke=(Ie+Math.floor(Ie/4)-Math.floor(Ie/100)+Math.floor(Ie/400))%7,Ne=Ie-1,Oe=(Ne+Math.floor(Ne/4)-Math.floor(Ne/100)+Math.floor(Ne/400))%7;return 4===Ke||3===Oe?53:52}function Qt(Ie){return Ie>99?Ie:Ie>60?1900+Ie:2e3+Ie}function lr(Ie,Ke,Ne,Oe){void 0===Oe&&(Oe=null);var $e=new Date(Ie),qe={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};Oe&&(qe.timeZone=Oe);var St=re({timeZoneName:Ke},qe),Lt=new Intl.DateTimeFormat(Ne,St).formatToParts($e).find(function(Kt){return"timezonename"===Kt.type.toLowerCase()});return Lt?Lt.value:null}function dr(Ie,Ke){var Ne=parseInt(Ie,10);Number.isNaN(Ne)&&(Ne=0);var Oe=parseInt(Ke,10)||0;return 60*Ne+(Ne<0||Object.is(Ne,-0)?-Oe:Oe)}function ct(Ie){var Ke=Number(Ie);if("boolean"==typeof Ie||""===Ie||Number.isNaN(Ke))throw new H("Invalid unit value "+Ie);return Ke}function Ot(Ie,Ke){var Ne={};for(var Oe in Ie)if(mt(Ie,Oe)){var $e=Ie[Oe];if(null==$e)continue;Ne[Ke(Oe)]=ct($e)}return Ne}function Rt(Ie,Ke){var Ne=Math.trunc(Math.abs(Ie/60)),Oe=Math.trunc(Math.abs(Ie%60)),$e=Ie>=0?"+":"-";switch(Ke){case"short":return""+$e+Tt(Ne,2)+":"+Tt(Oe,2);case"narrow":return""+$e+Ne+(Oe>0?":"+Oe:"");case"techie":return""+$e+Tt(Ne,2)+Tt(Oe,2);default:throw new RangeError("Value format "+Ke+" is out of range for property format")}}function Vt(Ie){return function Et(Ie,Ke){return Ke.reduce(function(Ne,Oe){return Ne[Oe]=Ie[Oe],Ne},{})}(Ie,["hour","minute","second","millisecond"])}var Yt=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z0-9_+-]{1,256}(\/[A-Za-z0-9_+-]{1,256})?)?/,Zt=["January","February","March","April","May","June","July","August","September","October","November","December"],ke=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ot=["J","F","M","A","M","J","J","A","S","O","N","D"];function ze(Ie){switch(Ie){case"narrow":return[].concat(ot);case"short":return[].concat(ke);case"long":return[].concat(Zt);case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var Xe=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],He=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Ue=["M","T","W","T","F","S","S"];function nt(Ie){switch(Ie){case"narrow":return[].concat(Ue);case"short":return[].concat(He);case"long":return[].concat(Xe);case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var Mt=["AM","PM"],tr=["Before Christ","Anno Domini"],br=["BC","AD"],xr=["B","A"];function Ur(Ie){switch(Ie){case"narrow":return[].concat(xr);case"short":return[].concat(br);case"long":return[].concat(tr);default:return null}}function Hi(Ie,Ke){for(var $e,Ne="",Oe=ae(Ie);!($e=Oe()).done;){var qe=$e.value;Ne+=qe.literal?qe.val:Ke(qe.val)}return Ne}var no={D:ye,DD:oe,DDD:pe,DDDD:ue,t:me,tt:ve,ttt:fe,tttt:Ce,T:ce,TT:he,TTT:xe,TTTT:we,f:Ae,ff:tt,fff:Te,ffff:ut,F:Fe,FF:Re,FFF:Je,FFFF:Pe},Ui=function(){function Ie(Ne,Oe){this.opts=Oe,this.loc=Ne,this.systemLoc=null}Ie.create=function(Oe,$e){return void 0===$e&&($e={}),new Ie(Oe,$e)},Ie.parseFormat=function(Oe){for(var $e=null,qe="",St=!1,Lt=[],Kt=0;Kt<Oe.length;Kt++){var ur=Oe.charAt(Kt);"'"===ur?(qe.length>0&&Lt.push({literal:St,val:qe}),$e=null,qe="",St=!St):St||ur===$e?qe+=ur:(qe.length>0&&Lt.push({literal:!1,val:qe}),qe=ur,$e=ur)}return qe.length>0&&Lt.push({literal:St,val:qe}),Lt},Ie.macroTokenToFormatOpts=function(Oe){return no[Oe]};var Ke=Ie.prototype;return Ke.formatWithSystemDefault=function(Oe,$e){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(Oe,re({},this.opts,$e)).format()},Ke.formatDateTime=function(Oe,$e){return void 0===$e&&($e={}),this.loc.dtFormatter(Oe,re({},this.opts,$e)).format()},Ke.formatDateTimeParts=function(Oe,$e){return void 0===$e&&($e={}),this.loc.dtFormatter(Oe,re({},this.opts,$e)).formatToParts()},Ke.resolvedOptions=function(Oe,$e){return void 0===$e&&($e={}),this.loc.dtFormatter(Oe,re({},this.opts,$e)).resolvedOptions()},Ke.num=function(Oe,$e){if(void 0===$e&&($e=0),this.opts.forceSimple)return Tt(Oe,$e);var qe=re({},this.opts);return $e>0&&(qe.padTo=$e),this.loc.numberFormatter(qe).format(Oe)},Ke.formatDateTimeFromString=function(Oe,$e){var qe=this,St="en"===this.loc.listingMode(),Lt=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,Kt=function(fn,go){return qe.loc.extract(Oe,fn,go)},ur=function(fn){return Oe.isOffsetFixed&&0===Oe.offset&&fn.allowZ?"Z":Oe.isValid?Oe.zone.formatOffset(Oe.ts,fn.format):""},Ir=function(fn,go){return St?function jn(Ie,Ke){return ze(Ke)[Ie.month-1]}(Oe,fn):Kt(go?{month:fn}:{month:fn,day:"numeric"},"month")},Tr=function(fn,go){return St?function nn(Ie,Ke){return nt(Ke)[Ie.weekday-1]}(Oe,fn):Kt(go?{weekday:fn}:{weekday:fn,month:"long",day:"numeric"},"weekday")},En=function(fn){return St?function Ai(Ie,Ke){return Ur(Ke)[Ie.year<0?0:1]}(Oe,fn):Kt({era:fn},"era")};return Hi(Ie.parseFormat($e),function(fn){switch(fn){case"S":return qe.num(Oe.millisecond);case"u":case"SSS":return qe.num(Oe.millisecond,3);case"s":return qe.num(Oe.second);case"ss":return qe.num(Oe.second,2);case"uu":return qe.num(Math.floor(Oe.millisecond/10),2);case"uuu":return qe.num(Math.floor(Oe.millisecond/100));case"m":return qe.num(Oe.minute);case"mm":return qe.num(Oe.minute,2);case"h":return qe.num(Oe.hour%12==0?12:Oe.hour%12);case"hh":return qe.num(Oe.hour%12==0?12:Oe.hour%12,2);case"H":return qe.num(Oe.hour);case"HH":return qe.num(Oe.hour,2);case"Z":return ur({format:"narrow",allowZ:qe.opts.allowZ});case"ZZ":return ur({format:"short",allowZ:qe.opts.allowZ});case"ZZZ":return ur({format:"techie",allowZ:qe.opts.allowZ});case"ZZZZ":return Oe.zone.offsetName(Oe.ts,{format:"short",locale:qe.loc.locale});case"ZZZZZ":return Oe.zone.offsetName(Oe.ts,{format:"long",locale:qe.loc.locale});case"z":return Oe.zoneName;case"a":return St?function Br(Ie){return Mt[Ie.hour<12?0:1]}(Oe):Kt({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return Lt?Kt({day:"numeric"},"day"):qe.num(Oe.day);case"dd":return Lt?Kt({day:"2-digit"},"day"):qe.num(Oe.day,2);case"c":case"E":return qe.num(Oe.weekday);case"ccc":return Tr("short",!0);case"cccc":return Tr("long",!0);case"ccccc":return Tr("narrow",!0);case"EEE":return Tr("short",!1);case"EEEE":return Tr("long",!1);case"EEEEE":return Tr("narrow",!1);case"L":return Lt?Kt({month:"numeric",day:"numeric"},"month"):qe.num(Oe.month);case"LL":return Lt?Kt({month:"2-digit",day:"numeric"},"month"):qe.num(Oe.month,2);case"LLL":return Ir("short",!0);case"LLLL":return Ir("long",!0);case"LLLLL":return Ir("narrow",!0);case"M":return Lt?Kt({month:"numeric"},"month"):qe.num(Oe.month);case"MM":return Lt?Kt({month:"2-digit"},"month"):qe.num(Oe.month,2);case"MMM":return Ir("short",!1);case"MMMM":return Ir("long",!1);case"MMMMM":return Ir("narrow",!1);case"y":return Lt?Kt({year:"numeric"},"year"):qe.num(Oe.year);case"yy":return Lt?Kt({year:"2-digit"},"year"):qe.num(Oe.year.toString().slice(-2),2);case"yyyy":return Lt?Kt({year:"numeric"},"year"):qe.num(Oe.year,4);case"yyyyyy":return Lt?Kt({year:"numeric"},"year"):qe.num(Oe.year,6);case"G":return En("short");case"GG":return En("long");case"GGGGG":return En("narrow");case"kk":return qe.num(Oe.weekYear.toString().slice(-2),2);case"kkkk":return qe.num(Oe.weekYear,4);case"W":return qe.num(Oe.weekNumber);case"WW":return qe.num(Oe.weekNumber,2);case"o":return qe.num(Oe.ordinal);case"ooo":return qe.num(Oe.ordinal,3);case"q":return qe.num(Oe.quarter);case"qq":return qe.num(Oe.quarter,2);case"X":return qe.num(Math.floor(Oe.ts/1e3));case"x":return qe.num(Oe.ts);default:return function(fn){var go=Ie.macroTokenToFormatOpts(fn);return go?qe.formatWithSystemDefault(Oe,go):fn}(fn)}})},Ke.formatDurationFromString=function(Oe,$e){var Tr,qe=this,St=function(Tr){switch(Tr[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},Kt=Ie.parseFormat($e),ur=Kt.reduce(function(Ir,Tr){return Tr.literal?Ir:Ir.concat(Tr.val)},[]),Fr=Oe.shiftTo.apply(Oe,ur.map(St).filter(function(Ir){return Ir}));return Hi(Kt,(Tr=Fr,function(Hr){var En=St(Hr);return En?qe.num(Tr.get(En),Hr.length):Hr}))},Ie}(),$n=function(){function Ie(Ne,Oe){this.reason=Ne,this.explanation=Oe}return Ie.prototype.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason},Ie}(),oi=function(){function Ie(){}var Ke=Ie.prototype;return Ke.offsetName=function(Oe,$e){throw new de},Ke.formatOffset=function(Oe,$e){throw new de},Ke.offset=function(Oe){throw new de},Ke.equals=function(Oe){throw new de},T(Ie,[{key:"type",get:function(){throw new de}},{key:"name",get:function(){throw new de}},{key:"isUniversal",get:function(){throw new de}},{key:"isValid",get:function(){throw new de}}]),Ie}(),In=null,Mi=function(Ie){function Ke(){return Ie.apply(this,arguments)||this}ne(Ke,Ie);var Ne=Ke.prototype;return Ne.offsetName=function($e,qe){return lr($e,qe.format,qe.locale)},Ne.formatOffset=function($e,qe){return Rt(this.offset($e),qe)},Ne.offset=function($e){return-new Date($e).getTimezoneOffset()},Ne.equals=function($e){return"system"===$e.type},T(Ke,[{key:"type",get:function(){return"system"}},{key:"name",get:function(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return null===In&&(In=new Ke),In}}]),Ke}(oi),us=RegExp("^"+Yt.source+"$"),No={},io={year:0,month:1,day:2,hour:3,minute:4,second:5},Bi={},Sn=function(Ie){function Ke(Oe){var $e;return($e=Ie.call(this)||this).zoneName=Oe,$e.valid=Ke.isValidZone(Oe),$e}ne(Ke,Ie),Ke.create=function($e){return Bi[$e]||(Bi[$e]=new Ke($e)),Bi[$e]},Ke.resetCache=function(){Bi={},No={}},Ke.isValidSpecifier=function($e){return!(!$e||!$e.match(us))},Ke.isValidZone=function($e){if(!$e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:$e}).format(),!0}catch(qe){return!1}};var Ne=Ke.prototype;return Ne.offsetName=function($e,qe){return lr($e,qe.format,qe.locale,this.name)},Ne.formatOffset=function($e,qe){return Rt(this.offset($e),qe)},Ne.offset=function($e){var qe=new Date($e);if(isNaN(qe))return NaN;var St=function $s(Ie){return No[Ie]||(No[Ie]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:Ie,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),No[Ie]}(this.name),Lt=St.formatToParts?function cs(Ie,Ke){for(var Ne=Ie.formatToParts(Ke),Oe=[],$e=0;$e<Ne.length;$e++){var qe=Ne[$e],Lt=qe.value,Kt=io[qe.type];Qe(Kt)||(Oe[Kt]=parseInt(Lt,10))}return Oe}(St,qe):function $o(Ie,Ke){var Ne=Ie.format(Ke).replace(/\u200E/g,""),Oe=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(Ne);return[Oe[3],Oe[1],Oe[2],Oe[4],Oe[5],Oe[6]]}(St,qe),Ir=Lt[3],kn=+qe,fn=kn%1e3;return(kt({year:Lt[0],month:Lt[1],day:Lt[2],hour:24===Ir?0:Ir,minute:Lt[4],second:Lt[5],millisecond:0})-(kn-=fn>=0?fn:1e3+fn))/6e4},Ne.equals=function($e){return"iana"===$e.type&&$e.name===this.name},T(Ke,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]),Ke}(oi),oo=null,Kn=function(Ie){function Ke(Oe){var $e;return($e=Ie.call(this)||this).fixed=Oe,$e}ne(Ke,Ie),Ke.instance=function($e){return 0===$e?Ke.utcInstance:new Ke($e)},Ke.parseSpecifier=function($e){if($e){var qe=$e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(qe)return new Ke(dr(qe[1],qe[2]))}return null};var Ne=Ke.prototype;return Ne.offsetName=function(){return this.name},Ne.formatOffset=function($e,qe){return Rt(this.fixed,qe)},Ne.offset=function(){return this.fixed},Ne.equals=function($e){return"fixed"===$e.type&&$e.fixed===this.fixed},T(Ke,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return 0===this.fixed?"UTC":"UTC"+Rt(this.fixed,"narrow")}},{key:"isUniversal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}],[{key:"utcInstance",get:function(){return null===oo&&(oo=new Ke(0)),oo}}]),Ke}(oi),Ve=function(Ie){function Ke(Oe){var $e;return($e=Ie.call(this)||this).zoneName=Oe,$e}ne(Ke,Ie);var Ne=Ke.prototype;return Ne.offsetName=function(){return null},Ne.formatOffset=function(){return""},Ne.offset=function(){return NaN},Ne.equals=function(){return!1},T(Ke,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]),Ke}(oi);function Ht(Ie,Ke){if(Qe(Ie)||null===Ie)return Ke;if(Ie instanceof oi)return Ie;if(function _e(Ie){return"string"==typeof Ie}(Ie)){var Ne=Ie.toLowerCase();return"local"===Ne||"system"===Ne?Ke:"utc"===Ne||"gmt"===Ne?Kn.utcInstance:Sn.isValidSpecifier(Ne)?Sn.create(Ie):Kn.parseSpecifier(Ne)||new Ve(Ie)}return Ye(Ie)?Kn.instance(Ie):"object"==typeof Ie&&Ie.offset&&"number"==typeof Ie.offset?Ie:new Ve(Ie)}var Pr,jt=function(){return Date.now()},Cr="system",_r=null,Kr=null,an=null,wr=function(){function Ie(){}return Ie.resetCaches=function(){Cn.resetCache(),Sn.resetCache()},T(Ie,null,[{key:"now",get:function(){return jt},set:function(Ne){jt=Ne}},{key:"defaultZone",get:function(){return Ht(Cr,Mi.instance)},set:function(Ne){Cr=Ne}},{key:"defaultLocale",get:function(){return _r},set:function(Ne){_r=Ne}},{key:"defaultNumberingSystem",get:function(){return Kr},set:function(Ne){Kr=Ne}},{key:"defaultOutputCalendar",get:function(){return an},set:function(Ne){an=Ne}},{key:"throwOnInvalid",get:function(){return Pr},set:function(Ne){Pr=Ne}}]),Ie}(),yn=["base"],xn={};function Zr(Ie,Ke){void 0===Ke&&(Ke={});var Ne=JSON.stringify([Ie,Ke]),Oe=xn[Ne];return Oe||(Oe=new Intl.DateTimeFormat(Ie,Ke),xn[Ne]=Oe),Oe}var Xt={},An={};var Bn=null;function wi(Ie,Ke,Ne,Oe,$e){var qe=Ie.listingMode(Ne);return"error"===qe?null:"en"===qe?Oe(Ke):$e(Ke)}var so=function(){function Ie(Ne,Oe,$e){if(this.padTo=$e.padTo||0,this.floor=$e.floor||!1,!Oe){var qe={useGrouping:!1};$e.padTo>0&&(qe.minimumIntegerDigits=$e.padTo),this.inf=function Or(Ie,Ke){void 0===Ke&&(Ke={});var Ne=JSON.stringify([Ie,Ke]),Oe=Xt[Ne];return Oe||(Oe=new Intl.NumberFormat(Ie,Ke),Xt[Ne]=Oe),Oe}(Ne,qe)}}return Ie.prototype.format=function(Oe){if(this.inf){var $e=this.floor?Math.floor(Oe):Oe;return this.inf.format($e)}return Tt(this.floor?Math.floor(Oe):gr(Oe,3),this.padTo)},Ie}(),tn=function(){function Ie(Ne,Oe,$e){var qe;if(this.opts=$e,Ne.zone.isUniversal){var St=Ne.offset/60*-1,Lt=St>=0?"Etc/GMT+"+St:"Etc/GMT"+St;0!==Ne.offset&&Sn.create(Lt).valid?(qe=Lt,this.dt=Ne):(qe="UTC",this.dt=$e.timeZoneName||0===Ne.offset?Ne:Qi.fromMillis(Ne.ts+60*Ne.offset*1e3))}else"system"===Ne.zone.type?this.dt=Ne:(this.dt=Ne,qe=Ne.zone.name);var Kt=re({},this.opts);qe&&(Kt.timeZone=qe),this.dtf=Zr(Oe,Kt)}var Ke=Ie.prototype;return Ke.format=function(){return this.dtf.format(this.dt.toJSDate())},Ke.formatToParts=function(){return this.dtf.formatToParts(this.dt.toJSDate())},Ke.resolvedOptions=function(){return this.dtf.resolvedOptions()},Ie}(),Yi=function(){function Ie(Ne,Oe,$e){this.opts=re({style:"long"},$e),!Oe&&et()&&(this.rtf=function Xn(Ie,Ke){void 0===Ke&&(Ke={});var Oe=function X(Ie,Ke){if(null==Ie)return{};var $e,qe,Ne={},Oe=Object.keys(Ie);for(qe=0;qe<Oe.length;qe++)!(Ke.indexOf($e=Oe[qe])>=0)&&(Ne[$e]=Ie[$e]);return Ne}(Ke,yn),$e=JSON.stringify([Ie,Oe]),qe=An[$e];return qe||(qe=new Intl.RelativeTimeFormat(Ie,Ke),An[$e]=qe),qe}(Ne,$e))}var Ke=Ie.prototype;return Ke.format=function(Oe,$e){return this.rtf?this.rtf.format(Oe,$e):function Yn(Ie,Ke,Ne,Oe){void 0===Ne&&(Ne="always"),void 0===Oe&&(Oe=!1);var $e={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},qe=-1===["hours","minutes","seconds"].indexOf(Ie);if("auto"===Ne&&qe){var St="days"===Ie;switch(Ke){case 1:return St?"tomorrow":"next "+$e[Ie][0];case-1:return St?"yesterday":"last "+$e[Ie][0];case 0:return St?"today":"this "+$e[Ie][0]}}var Lt=Object.is(Ke,-0)||Ke<0,Kt=Math.abs(Ke),ur=1===Kt,Fr=$e[Ie],Ir=Oe?ur?Fr[1]:Fr[2]||Fr[1]:ur?$e[Ie][0]:Ie;return Lt?Kt+" "+Ir+" ago":"in "+Kt+" "+Ir}($e,Oe,this.opts.numeric,"long"!==this.opts.style)},Ke.formatToParts=function(Oe,$e){return this.rtf?this.rtf.formatToParts(Oe,$e):[]},Ie}(),Cn=function(){function Ie(Ne,Oe,$e,qe){var St=function ei(Ie){var Ke=Ie.indexOf("-u-");if(-1===Ke)return[Ie];var Ne,Oe=Ie.substring(0,Ke);try{Ne=Zr(Ie).resolvedOptions()}catch(Lt){Ne=Zr(Oe).resolvedOptions()}return[Oe,Ne.numberingSystem,Ne.calendar]}(Ne),Kt=St[1],ur=St[2];this.locale=St[0],this.numberingSystem=Oe||Kt||null,this.outputCalendar=$e||ur||null,this.intl=function Pn(Ie,Ke,Ne){return(Ne||Ke)&&(Ie+="-u",Ne&&(Ie+="-ca-"+Ne),Ke&&(Ie+="-nu-"+Ke)),Ie}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=qe,this.fastNumbersCached=null}Ie.fromOpts=function(Oe){return Ie.create(Oe.locale,Oe.numberingSystem,Oe.outputCalendar,Oe.defaultToEN)},Ie.create=function(Oe,$e,qe,St){void 0===St&&(St=!1);var Lt=Oe||wr.defaultLocale;return new Ie(Lt||(St?"en-US":function Wr(){return Bn||(Bn=(new Intl.DateTimeFormat).resolvedOptions().locale)}()),$e||wr.defaultNumberingSystem,qe||wr.defaultOutputCalendar,Lt)},Ie.resetCache=function(){Bn=null,xn={},Xt={},An={}},Ie.fromObject=function(Oe){var $e=void 0===Oe?{}:Oe;return Ie.create($e.locale,$e.numberingSystem,$e.outputCalendar)};var Ke=Ie.prototype;return Ke.listingMode=function(Oe){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"},Ke.clone=function(Oe){return Oe&&0!==Object.getOwnPropertyNames(Oe).length?Ie.create(Oe.locale||this.specifiedLocale,Oe.numberingSystem||this.numberingSystem,Oe.outputCalendar||this.outputCalendar,Oe.defaultToEN||!1):this},Ke.redefaultToEN=function(Oe){return void 0===Oe&&(Oe={}),this.clone(re({},Oe,{defaultToEN:!0}))},Ke.redefaultToSystem=function(Oe){return void 0===Oe&&(Oe={}),this.clone(re({},Oe,{defaultToEN:!1}))},Ke.months=function(Oe,$e,qe){var St=this;return void 0===$e&&($e=!1),void 0===qe&&(qe=!0),wi(this,Oe,qe,ze,function(){var Lt=$e?{month:Oe,day:"numeric"}:{month:Oe},Kt=$e?"format":"standalone";return St.monthsCache[Kt][Oe]||(St.monthsCache[Kt][Oe]=function Ko(Ie){for(var Ke=[],Ne=1;Ne<=12;Ne++){var Oe=Qi.utc(2016,Ne,1);Ke.push(Ie(Oe))}return Ke}(function(ur){return St.extract(ur,Lt,"month")})),St.monthsCache[Kt][Oe]})},Ke.weekdays=function(Oe,$e,qe){var St=this;return void 0===$e&&($e=!1),void 0===qe&&(qe=!0),wi(this,Oe,qe,nt,function(){var Lt=$e?{weekday:Oe,year:"numeric",month:"long",day:"numeric"}:{weekday:Oe},Kt=$e?"format":"standalone";return St.weekdaysCache[Kt][Oe]||(St.weekdaysCache[Kt][Oe]=function Vi(Ie){for(var Ke=[],Ne=1;Ne<=7;Ne++){var Oe=Qi.utc(2016,11,13+Ne);Ke.push(Ie(Oe))}return Ke}(function(ur){return St.extract(ur,Lt,"weekday")})),St.weekdaysCache[Kt][Oe]})},Ke.meridiems=function(Oe){var $e=this;return void 0===Oe&&(Oe=!0),wi(this,void 0,Oe,function(){return Mt},function(){if(!$e.meridiemCache){var qe={hour:"numeric",hourCycle:"h12"};$e.meridiemCache=[Qi.utc(2016,11,13,9),Qi.utc(2016,11,13,19)].map(function(St){return $e.extract(St,qe,"dayperiod")})}return $e.meridiemCache})},Ke.eras=function(Oe,$e){var qe=this;return void 0===$e&&($e=!0),wi(this,Oe,$e,Ur,function(){var St={era:Oe};return qe.eraCache[Oe]||(qe.eraCache[Oe]=[Qi.utc(-40,1,1),Qi.utc(2017,1,1)].map(function(Lt){return qe.extract(Lt,St,"era")})),qe.eraCache[Oe]})},Ke.extract=function(Oe,$e,qe){var Kt=this.dtFormatter(Oe,$e).formatToParts().find(function(ur){return ur.type.toLowerCase()===qe});return Kt?Kt.value:null},Ke.numberFormatter=function(Oe){return void 0===Oe&&(Oe={}),new so(this.intl,Oe.forceSimple||this.fastNumbers,Oe)},Ke.dtFormatter=function(Oe,$e){return void 0===$e&&($e={}),new tn(Oe,this.intl,$e)},Ke.relFormatter=function(Oe){return void 0===Oe&&(Oe={}),new Yi(this.intl,this.isEnglish(),Oe)},Ke.isEnglish=function(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")},Ke.equals=function(Oe){return this.locale===Oe.locale&&this.numberingSystem===Oe.numberingSystem&&this.outputCalendar===Oe.outputCalendar},T(Ie,[{key:"fastNumbers",get:function(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function Ji(Ie){return(!Ie.numberingSystem||"latn"===Ie.numberingSystem)&&("latn"===Ie.numberingSystem||!Ie.locale||Ie.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(Ie.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}}]),Ie}();function ds(){for(var Ie=arguments.length,Ke=new Array(Ie),Ne=0;Ne<Ie;Ne++)Ke[Ne]=arguments[Ne];var Oe=Ke.reduce(function($e,qe){return $e+qe.source},"");return RegExp("^"+Oe+"$")}function vi(){for(var Ie=arguments.length,Ke=new Array(Ie),Ne=0;Ne<Ie;Ne++)Ke[Ne]=arguments[Ne];return function(Oe){return Ke.reduce(function($e,qe){var St=$e[0],Lt=$e[1],ur=qe(Oe,$e[2]),Ir=ur[1],Tr=ur[2];return[re({},St,ur[0]),Lt||Ir,Tr]},[{},null,1]).slice(0,2)}}function Wi(Ie){if(null==Ie)return[null,null];for(var Ke=arguments.length,Ne=new Array(Ke>1?Ke-1:0),Oe=1;Oe<Ke;Oe++)Ne[Oe-1]=arguments[Oe];for(var $e=0,qe=Ne;$e<qe.length;$e++){var St=qe[$e],Lt=St[0],Kt=St[1],ur=Lt.exec(Ie);if(ur)return Kt(ur)}return[null,null]}function Tn(){for(var Ie=arguments.length,Ke=new Array(Ie),Ne=0;Ne<Ie;Ne++)Ke[Ne]=arguments[Ne];return function(Oe,$e){var St,qe={};for(St=0;St<Ke.length;St++)qe[Ke[St]]=Ut(Oe[$e+St]);return[qe,null,$e+St]}}var Zn=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Gr=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Mn=RegExp(""+Gr.source+Zn.source+"?"),hs=RegExp("(?:T"+Mn.source+")?"),At=Tn("weekYear","weekNumber","weekDay"),sr=Tn("year","ordinal"),hr=RegExp(Gr.source+" ?(?:"+Zn.source+"|("+Yt.source+"))?"),nr=RegExp("(?: "+hr.source+")?");function _t(Ie,Ke,Ne){var Oe=Ie[Ke];return Qe(Oe)?Ne:Ut(Oe)}function Ft(Ie,Ke){return[{year:_t(Ie,Ke),month:_t(Ie,Ke+1,1),day:_t(Ie,Ke+2,1)},null,Ke+3]}function $t(Ie,Ke){return[{hours:_t(Ie,Ke,0),minutes:_t(Ie,Ke+1,0),seconds:_t(Ie,Ke+2,0),milliseconds:er(Ie[Ke+3])},null,Ke+4]}function pr(Ie,Ke){var Ne=!Ie[Ke]&&!Ie[Ke+1],Oe=dr(Ie[Ke+1],Ie[Ke+2]);return[{},Ne?null:Kn.instance(Oe),Ke+3]}function vr(Ie,Ke){return[{},Ie[Ke]?Sn.create(Ie[Ke]):null,Ke+1]}var cr=RegExp("^T?"+Gr.source+"$"),Qr=/^-?P(?:(?:(-?\d{1,9}(?:\.\d{1,9})?)Y)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,9}(?:\.\d{1,9})?)W)?(?:(-?\d{1,9}(?:\.\d{1,9})?)D)?(?:T(?:(-?\d{1,9}(?:\.\d{1,9})?)H)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function dn(Ie){var Oe=Ie[2],$e=Ie[3],qe=Ie[4],St=Ie[5],Lt=Ie[6],Kt=Ie[7],ur=Ie[8],Fr="-"===Ie[0][0],Ir=Kt&&"-"===Kt[0],Tr=function(En,Ln){return void 0===Ln&&(Ln=!1),void 0!==En&&(Ln||En&&Fr)?-En:En};return[{years:Tr(Wt(Ie[1])),months:Tr(Wt(Oe)),weeks:Tr(Wt($e)),days:Tr(Wt(qe)),hours:Tr(Wt(St)),minutes:Tr(Wt(Lt)),seconds:Tr(Wt(Kt),"-0"===Kt),milliseconds:Tr(er(ur),Ir)}]}var je={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function rt(Ie,Ke,Ne,Oe,$e,qe,St){var Lt={year:2===Ke.length?Qt(Ut(Ke)):Ut(Ke),month:ke.indexOf(Ne)+1,day:Ut(Oe),hour:Ut($e),minute:Ut(qe)};return St&&(Lt.second=Ut(St)),Ie&&(Lt.weekday=Ie.length>3?Xe.indexOf(Ie)+1:He.indexOf(Ie)+1),Lt}var bt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Le(Ie){var Hr,Kt=Ie[8],ur=Ie[9],Fr=Ie[10],Ir=Ie[11],Tr=rt(Ie[1],Ie[4],Ie[3],Ie[2],Ie[5],Ie[6],Ie[7]);return Hr=Kt?je[Kt]:ur?0:dr(Fr,Ir),[Tr,new Kn(Hr)]}var it=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Dt=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Bt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Jt(Ie){return[rt(Ie[1],Ie[4],Ie[3],Ie[2],Ie[5],Ie[6],Ie[7]),Kn.utcInstance]}function rr(Ie){return[rt(Ie[1],Ie[7],Ie[2],Ie[3],Ie[4],Ie[5],Ie[6]),Kn.utcInstance]}var Dr=ds(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,hs),Vr=ds(/(\d{4})-?W(\d\d)(?:-?(\d))?/,hs),Nr=ds(/(\d{4})-?(\d{3})/,hs),Rn=ds(Mn),mi=vi(Ft,$t,pr),Ri=vi(At,$t,pr),gn=vi(sr,$t,pr),wa=vi($t,pr),Gu=vi($t),za=ds(/(\d{4})-(\d\d)-(\d\d)/,nr),Ry=ds(hr),lp=vi(Ft,$t,pr,vr),up=vi($t,pr,vr),dp={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},hp=re({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},dp),sn=365.2425,ao=30.436875,Fo=re({years:{quarters:4,months:12,weeks:sn/7,days:sn,hours:24*sn,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:sn/28,days:sn/4,hours:24*sn/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:ao/7,days:ao,hours:24*ao,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},dp),fs=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Cl=fs.slice(0).reverse();function mo(Ie,Ke,Ne){void 0===Ne&&(Ne=!1);var Oe={values:Ne?Ke.values:re({},Ie.values,Ke.values||{}),loc:Ie.loc.clone(Ke.loc),conversionAccuracy:Ke.conversionAccuracy||Ie.conversionAccuracy};return new Xi(Oe)}function Rc(Ie,Ke,Ne,Oe,$e){var qe=Ie[$e][Ne],St=Ke[Ne]/qe,Kt=Math.sign(St)!==Math.sign(Oe[$e])&&0!==Oe[$e]&&Math.abs(St)<=1?function Ac(Ie){return Ie<0?Math.floor(Ie):Math.ceil(Ie)}(St):Math.trunc(St);Oe[$e]+=Kt,Ke[Ne]-=Kt*qe}var Xi=function(){function Ie(Ne){var Oe="longterm"===Ne.conversionAccuracy||!1;this.values=Ne.values,this.loc=Ne.loc||Cn.create(),this.conversionAccuracy=Oe?"longterm":"casual",this.invalid=Ne.invalid||null,this.matrix=Oe?Fo:hp,this.isLuxonDuration=!0}Ie.fromMillis=function(Oe,$e){return Ie.fromObject({milliseconds:Oe},$e)},Ie.fromObject=function(Oe,$e){if(void 0===$e&&($e={}),null==Oe||"object"!=typeof Oe)throw new H("Duration.fromObject: argument expected to be an object, got "+(null===Oe?"null":typeof Oe));return new Ie({values:Ot(Oe,Ie.normalizeUnit),loc:Cn.fromObject($e),conversionAccuracy:$e.conversionAccuracy})},Ie.fromDurationLike=function(Oe){if(Ye(Oe))return Ie.fromMillis(Oe);if(Ie.isDuration(Oe))return Oe;if("object"==typeof Oe)return Ie.fromObject(Oe);throw new H("Unknown duration argument "+Oe+" of type "+typeof Oe)},Ie.fromISO=function(Oe,$e){var qe=function Da(Ie){return Wi(Ie,[Qr,dn])}(Oe),St=qe[0];return St?Ie.fromObject(St,$e):Ie.invalid("unparsable",'the input "'+Oe+"\" can't be parsed as ISO 8601")},Ie.fromISOTime=function(Oe,$e){var qe=function Ay(Ie){return Wi(Ie,[cr,Gu])}(Oe),St=qe[0];return St?Ie.fromObject(St,$e):Ie.invalid("unparsable",'the input "'+Oe+"\" can't be parsed as ISO 8601")},Ie.invalid=function(Oe,$e){if(void 0===$e&&($e=null),!Oe)throw new H("need to specify a reason the Duration is invalid");var qe=Oe instanceof $n?Oe:new $n(Oe,$e);if(wr.throwOnInvalid)throw new F(qe);return new Ie({invalid:qe})},Ie.normalizeUnit=function(Oe){var $e={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[Oe&&Oe.toLowerCase()];if(!$e)throw new Y(Oe);return $e},Ie.isDuration=function(Oe){return Oe&&Oe.isLuxonDuration||!1};var Ke=Ie.prototype;return Ke.toFormat=function(Oe,$e){void 0===$e&&($e={});var qe=re({},$e,{floor:!1!==$e.round&&!1!==$e.floor});return this.isValid?Ui.create(this.loc,qe).formatDurationFromString(this,Oe):"Invalid Duration"},Ke.toObject=function(){return this.isValid?re({},this.values):{}},Ke.toISO=function(){if(!this.isValid)return null;var Oe="P";return 0!==this.years&&(Oe+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(Oe+=this.months+3*this.quarters+"M"),0!==this.weeks&&(Oe+=this.weeks+"W"),0!==this.days&&(Oe+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(Oe+="T"),0!==this.hours&&(Oe+=this.hours+"H"),0!==this.minutes&&(Oe+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(Oe+=gr(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===Oe&&(Oe+="T0S"),Oe},Ke.toISOTime=function(Oe){if(void 0===Oe&&(Oe={}),!this.isValid)return null;var $e=this.toMillis();if($e<0||$e>=864e5)return null;Oe=re({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},Oe);var qe=this.shiftTo("hours","minutes","seconds","milliseconds"),St="basic"===Oe.format?"hhmm":"hh:mm";(!Oe.suppressSeconds||0!==qe.seconds||0!==qe.milliseconds)&&(St+="basic"===Oe.format?"ss":":ss",(!Oe.suppressMilliseconds||0!==qe.milliseconds)&&(St+=".SSS"));var Lt=qe.toFormat(St);return Oe.includePrefix&&(Lt="T"+Lt),Lt},Ke.toJSON=function(){return this.toISO()},Ke.toString=function(){return this.toISO()},Ke.toMillis=function(){return this.as("milliseconds")},Ke.valueOf=function(){return this.toMillis()},Ke.plus=function(Oe){if(!this.isValid)return this;for(var Lt,$e=Ie.fromDurationLike(Oe),qe={},St=ae(fs);!(Lt=St()).done;){var Kt=Lt.value;(mt($e.values,Kt)||mt(this.values,Kt))&&(qe[Kt]=$e.get(Kt)+this.get(Kt))}return mo(this,{values:qe},!0)},Ke.minus=function(Oe){if(!this.isValid)return this;var $e=Ie.fromDurationLike(Oe);return this.plus($e.negate())},Ke.mapUnits=function(Oe){if(!this.isValid)return this;for(var $e={},qe=0,St=Object.keys(this.values);qe<St.length;qe++){var Lt=St[qe];$e[Lt]=ct(Oe(this.values[Lt],Lt))}return mo(this,{values:$e},!0)},Ke.get=function(Oe){return this[Ie.normalizeUnit(Oe)]},Ke.set=function(Oe){return this.isValid?mo(this,{values:re({},this.values,Ot(Oe,Ie.normalizeUnit))}):this},Ke.reconfigure=function(Oe){var $e=void 0===Oe?{}:Oe,Lt=$e.conversionAccuracy,ur={loc:this.loc.clone({locale:$e.locale,numberingSystem:$e.numberingSystem})};return Lt&&(ur.conversionAccuracy=Lt),mo(this,ur)},Ke.as=function(Oe){return this.isValid?this.shiftTo(Oe).get(Oe):NaN},Ke.normalize=function(){if(!this.isValid)return this;var Oe=this.toObject();return function Hu(Ie,Ke){Cl.reduce(function(Ne,Oe){return Qe(Ke[Oe])?Ne:(Ne&&Rc(Ie,Ke,Ne,Ke,Oe),Oe)},null)}(this.matrix,Oe),mo(this,{values:Oe},!0)},Ke.shiftTo=function(){for(var Oe=arguments.length,$e=new Array(Oe),qe=0;qe<Oe;qe++)$e[qe]=arguments[qe];if(!this.isValid)return this;if(0===$e.length)return this;$e=$e.map(function(go){return Ie.normalizeUnit(go)});for(var ur,Ir,St={},Lt={},Kt=this.toObject(),Fr=ae(fs);!(Ir=Fr()).done;){var Tr=Ir.value;if($e.indexOf(Tr)>=0){ur=Tr;var Hr=0;for(var En in Lt)Hr+=this.matrix[En][Tr]*Lt[En],Lt[En]=0;Ye(Kt[Tr])&&(Hr+=Kt[Tr]);var Ln=Math.trunc(Hr);for(var kn in St[Tr]=Ln,Lt[Tr]=Hr-Ln,Kt)fs.indexOf(kn)>fs.indexOf(Tr)&&Rc(this.matrix,Kt,kn,St,Tr)}else Ye(Kt[Tr])&&(Lt[Tr]=Kt[Tr])}for(var fn in Lt)0!==Lt[fn]&&(St[ur]+=fn===ur?Lt[fn]:Lt[fn]/this.matrix[ur][fn]);return mo(this,{values:St},!0).normalize()},Ke.negate=function(){if(!this.isValid)return this;for(var Oe={},$e=0,qe=Object.keys(this.values);$e<qe.length;$e++){var St=qe[$e];Oe[St]=-this.values[St]}return mo(this,{values:Oe},!0)},Ke.equals=function(Oe){if(!this.isValid||!Oe.isValid||!this.loc.equals(Oe.loc))return!1;for(var St,qe=ae(fs);!(St=qe()).done;){var Lt=St.value;if(ur=Oe.values[Lt],!(void 0===(Kt=this.values[Lt])||0===Kt?void 0===ur||0===ur:Kt===ur))return!1}var Kt,ur;return!0},T(Ie,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),Ie}(),Ks="Invalid Interval",Ju=function(){function Ie(Ne){this.s=Ne.start,this.e=Ne.end,this.invalid=Ne.invalid||null,this.isLuxonInterval=!0}Ie.invalid=function(Oe,$e){if(void 0===$e&&($e=null),!Oe)throw new H("need to specify a reason the Interval is invalid");var qe=Oe instanceof $n?Oe:new $n(Oe,$e);if(wr.throwOnInvalid)throw new P(qe);return new Ie({invalid:qe})},Ie.fromDateTimes=function(Oe,$e){var qe=Dl(Oe),St=Dl($e),Lt=function jo(Ie,Ke){return Ie&&Ie.isValid?Ke&&Ke.isValid?Ke<Ie?Ju.invalid("end before start","The end of an interval must be after its start, but you had start="+Ie.toISO()+" and end="+Ke.toISO()):null:Ju.invalid("missing or invalid end"):Ju.invalid("missing or invalid start")}(qe,St);return null==Lt?new Ie({start:qe,end:St}):Lt},Ie.after=function(Oe,$e){var qe=Xi.fromDurationLike($e),St=Dl(Oe);return Ie.fromDateTimes(St,St.plus(qe))},Ie.before=function(Oe,$e){var qe=Xi.fromDurationLike($e),St=Dl(Oe);return Ie.fromDateTimes(St.minus(qe),St)},Ie.fromISO=function(Oe,$e){var qe=(Oe||"").split("/",2),St=qe[0],Lt=qe[1];if(St&&Lt){var Kt,ur,Fr,Ir;try{ur=(Kt=Qi.fromISO(St,$e)).isValid}catch(En){ur=!1}try{Ir=(Fr=Qi.fromISO(Lt,$e)).isValid}catch(En){Ir=!1}if(ur&&Ir)return Ie.fromDateTimes(Kt,Fr);if(ur){var Tr=Xi.fromISO(Lt,$e);if(Tr.isValid)return Ie.after(Kt,Tr)}else if(Ir){var Hr=Xi.fromISO(St,$e);if(Hr.isValid)return Ie.before(Fr,Hr)}}return Ie.invalid("unparsable",'the input "'+Oe+"\" can't be parsed as ISO 8601")},Ie.isInterval=function(Oe){return Oe&&Oe.isLuxonInterval||!1};var Ke=Ie.prototype;return Ke.length=function(Oe){return void 0===Oe&&(Oe="milliseconds"),this.isValid?this.toDuration.apply(this,[Oe]).get(Oe):NaN},Ke.count=function(Oe){if(void 0===Oe&&(Oe="milliseconds"),!this.isValid)return NaN;var $e=this.start.startOf(Oe),qe=this.end.startOf(Oe);return Math.floor(qe.diff($e,Oe).get(Oe))+1},Ke.hasSame=function(Oe){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,Oe))},Ke.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()},Ke.isAfter=function(Oe){return!!this.isValid&&this.s>Oe},Ke.isBefore=function(Oe){return!!this.isValid&&this.e<=Oe},Ke.contains=function(Oe){return!!this.isValid&&this.s<=Oe&&this.e>Oe},Ke.set=function(Oe){var $e=void 0===Oe?{}:Oe;return this.isValid?Ie.fromDateTimes($e.start||this.s,$e.end||this.e):this},Ke.splitAt=function(){var Oe=this;if(!this.isValid)return[];for(var $e=arguments.length,qe=new Array($e),St=0;St<$e;St++)qe[St]=arguments[St];for(var Lt=qe.map(Dl).filter(function(Hr){return Oe.contains(Hr)}).sort(),Kt=[],ur=this.s,Fr=0;ur<this.e;){var Ir=Lt[Fr]||this.e,Tr=+Ir>+this.e?this.e:Ir;Kt.push(Ie.fromDateTimes(ur,Tr)),ur=Tr,Fr+=1}return Kt},Ke.splitBy=function(Oe){var $e=Xi.fromDurationLike(Oe);if(!this.isValid||!$e.isValid||0===$e.as("milliseconds"))return[];for(var Lt,qe=this.s,St=1,Kt=[];qe<this.e;){var ur=this.start.plus($e.mapUnits(function(Fr){return Fr*St}));Kt.push(Ie.fromDateTimes(qe,Lt=+ur>+this.e?this.e:ur)),qe=Lt,St+=1}return Kt},Ke.divideEqually=function(Oe){return this.isValid?this.splitBy(this.length()/Oe).slice(0,Oe):[]},Ke.overlaps=function(Oe){return this.e>Oe.s&&this.s<Oe.e},Ke.abutsStart=function(Oe){return!!this.isValid&&+this.e==+Oe.s},Ke.abutsEnd=function(Oe){return!!this.isValid&&+Oe.e==+this.s},Ke.engulfs=function(Oe){return!!this.isValid&&this.s<=Oe.s&&this.e>=Oe.e},Ke.equals=function(Oe){return!(!this.isValid||!Oe.isValid)&&this.s.equals(Oe.s)&&this.e.equals(Oe.e)},Ke.intersection=function(Oe){if(!this.isValid)return this;var $e=this.s>Oe.s?this.s:Oe.s,qe=this.e<Oe.e?this.e:Oe.e;return $e>=qe?null:Ie.fromDateTimes($e,qe)},Ke.union=function(Oe){return this.isValid?Ie.fromDateTimes(this.s<Oe.s?this.s:Oe.s,this.e>Oe.e?this.e:Oe.e):this},Ie.merge=function(Oe){var $e=Oe.sort(function(Lt,Kt){return Lt.s-Kt.s}).reduce(function(Lt,Kt){var ur=Lt[0],Fr=Lt[1];return Fr?Fr.overlaps(Kt)||Fr.abutsStart(Kt)?[ur,Fr.union(Kt)]:[ur.concat([Fr]),Kt]:[ur,Kt]},[[],null]),qe=$e[0],St=$e[1];return St&&qe.push(St),qe},Ie.xor=function(Oe){for(var $e,Tr,qe=null,St=0,Lt=[],Kt=Oe.map(function(En){return[{time:En.s,type:"s"},{time:En.e,type:"e"}]}),Ir=ae(($e=Array.prototype).concat.apply($e,Kt).sort(function(En,Ln){return En.time-Ln.time}));!(Tr=Ir()).done;){var Hr=Tr.value;1===(St+="s"===Hr.type?1:-1)?qe=Hr.time:(qe&&+qe!=+Hr.time&&Lt.push(Ie.fromDateTimes(qe,Hr.time)),qe=null)}return Ie.merge(Lt)},Ke.difference=function(){for(var Oe=this,$e=arguments.length,qe=new Array($e),St=0;St<$e;St++)qe[St]=arguments[St];return Ie.xor([this].concat(qe)).map(function(Lt){return Oe.intersection(Lt)}).filter(function(Lt){return Lt&&!Lt.isEmpty()})},Ke.toString=function(){return this.isValid?"["+this.s.toISO()+" \u2013 "+this.e.toISO()+")":Ks},Ke.toISO=function(Oe){return this.isValid?this.s.toISO(Oe)+"/"+this.e.toISO(Oe):Ks},Ke.toISODate=function(){return this.isValid?this.s.toISODate()+"/"+this.e.toISODate():Ks},Ke.toISOTime=function(Oe){return this.isValid?this.s.toISOTime(Oe)+"/"+this.e.toISOTime(Oe):Ks},Ke.toFormat=function(Oe,$e){var St=(void 0===$e?{}:$e).separator,Lt=void 0===St?" \u2013 ":St;return this.isValid?""+this.s.toFormat(Oe)+Lt+this.e.toFormat(Oe):Ks},Ke.toDuration=function(Oe,$e){return this.isValid?this.e.diff(this.s,Oe,$e):Xi.invalid(this.invalidReason)},Ke.mapEndpoints=function(Oe){return Ie.fromDateTimes(Oe(this.s),Oe(this.e))},T(Ie,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return null===this.invalidReason}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),Ie}(),Uo=function(){function Ie(){}return Ie.hasDST=function(Ne){void 0===Ne&&(Ne=wr.defaultZone);var Oe=Qi.now().setZone(Ne).set({month:12});return!Ne.isUniversal&&Oe.offset!==Oe.set({month:6}).offset},Ie.isValidIANAZone=function(Ne){return Sn.isValidSpecifier(Ne)&&Sn.isValidZone(Ne)},Ie.normalizeZone=function(Ne){return Ht(Ne,wr.defaultZone)},Ie.months=function(Ne,Oe){void 0===Ne&&(Ne="long");var $e=void 0===Oe?{}:Oe,qe=$e.locale,Lt=$e.numberingSystem,ur=$e.locObj,Ir=$e.outputCalendar;return((void 0===ur?null:ur)||Cn.create(void 0===qe?null:qe,void 0===Lt?null:Lt,void 0===Ir?"gregory":Ir)).months(Ne)},Ie.monthsFormat=function(Ne,Oe){void 0===Ne&&(Ne="long");var $e=void 0===Oe?{}:Oe,qe=$e.locale,Lt=$e.numberingSystem,ur=$e.locObj,Ir=$e.outputCalendar;return((void 0===ur?null:ur)||Cn.create(void 0===qe?null:qe,void 0===Lt?null:Lt,void 0===Ir?"gregory":Ir)).months(Ne,!0)},Ie.weekdays=function(Ne,Oe){void 0===Ne&&(Ne="long");var $e=void 0===Oe?{}:Oe,qe=$e.locale,Lt=$e.numberingSystem,ur=$e.locObj;return((void 0===ur?null:ur)||Cn.create(void 0===qe?null:qe,void 0===Lt?null:Lt,null)).weekdays(Ne)},Ie.weekdaysFormat=function(Ne,Oe){void 0===Ne&&(Ne="long");var $e=void 0===Oe?{}:Oe,qe=$e.locale,Lt=$e.numberingSystem,ur=$e.locObj;return((void 0===ur?null:ur)||Cn.create(void 0===qe?null:qe,void 0===Lt?null:Lt,null)).weekdays(Ne,!0)},Ie.meridiems=function(Ne){var $e=(void 0===Ne?{}:Ne).locale;return Cn.create(void 0===$e?null:$e).meridiems()},Ie.eras=function(Ne,Oe){void 0===Ne&&(Ne="short");var qe=(void 0===Oe?{}:Oe).locale;return Cn.create(void 0===qe?null:qe,null,"gregory").eras(Ne)},Ie.features=function(){return{relative:et()}},Ie}();function zr(Ie,Ke){var Ne=function(qe){return qe.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},Oe=Ne(Ke)-Ne(Ie);return Math.floor(Xi.fromMillis(Oe).as("days"))}var Go={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},Ga={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},yo=Go.hanidec.replace(/[\[|\]]/g,"").split("");function si(Ie,Ke){return void 0===Ke&&(Ke=""),new RegExp(""+Go[Ie.numberingSystem||"latn"]+Ke)}function zn(Ie,Ke){return void 0===Ke&&(Ke=function(Oe){return Oe}),{regex:Ie,deser:function(Oe){return Ke(function Ml(Ie){var Ke=parseInt(Ie,10);if(isNaN(Ke)){Ke="";for(var Ne=0;Ne<Ie.length;Ne++){var Oe=Ie.charCodeAt(Ne);if(-1!==Ie[Ne].search(Go.hanidec))Ke+=yo.indexOf(Ie[Ne]);else for(var $e in Ga){var qe=Ga[$e],St=qe[0];Oe>=St&&Oe<=qe[1]&&(Ke+=Oe-St)}}return parseInt(Ke,10)}return Ke}(Oe[0]))}}}var Xu="( |"+String.fromCharCode(160)+")",wl=new RegExp(Xu,"g");function ch(Ie){return Ie.replace(/\./g,"\\.?").replace(wl,Xu)}function xl(Ie){return Ie.replace(/\./g,"").replace(wl," ").toLowerCase()}function Si(Ie,Ke){return null===Ie?null:{regex:RegExp(Ie.map(ch).join("|")),deser:function(Oe){var $e=Oe[0];return Ie.findIndex(function(qe){return xl($e)===xl(qe)})+Ke}}}function eu(Ie,Ke){return{regex:Ie,deser:function(Oe){return dr(Oe[1],Oe[2])},groups:Ke}}function Ha(Ie){return{regex:Ie,deser:function(Ne){return Ne[0]}}}function zs(Ie){return Ie.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var Ly={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}},tu=null;function jy(Ie,Ke,Ne){var Oe=function Fy(Ie,Ke){var Ne;return(Ne=Array.prototype).concat.apply(Ne,Ie.map(function(Oe){return function Hs(Ie,Ke){if(Ie.literal)return Ie;var Ne=Ui.macroTokenToFormatOpts(Ie.val);if(!Ne)return Ie;var qe=Ui.create(Ke,Ne).formatDateTimeParts(function Lc(){return tu||(tu=Qi.fromMillis(1555555555555)),tu}()).map(function(St){return function Ny(Ie,Ke,Ne){var Oe=Ie.type;if("literal"===Oe)return{literal:!0,val:Ie.value};var St=Ly[Oe];return"object"==typeof St&&(St=St[Ne[Oe]]),St?{literal:!1,val:St}:void 0}(St,0,Ne)});return qe.includes(void 0)?Ie:qe}(Oe,Ke)}))}(Ui.parseFormat(Ne),Ie),$e=Oe.map(function(kn){return function _i(Ie,Ke){var Ne=si(Ke),Oe=si(Ke,"{2}"),$e=si(Ke,"{3}"),qe=si(Ke,"{4}"),St=si(Ke,"{6}"),Lt=si(Ke,"{1,2}"),Kt=si(Ke,"{1,3}"),ur=si(Ke,"{1,6}"),Fr=si(Ke,"{1,9}"),Ir=si(Ke,"{2,4}"),Tr=si(Ke,"{4,6}"),Hr=function(fn){return{regex:RegExp(zs(fn.val)),deser:function(ou){return ou[0]},literal:!0}},Ln=function(fn){if(Ie.literal)return Hr(fn);switch(fn.val){case"G":return Si(Ke.eras("short",!1),0);case"GG":return Si(Ke.eras("long",!1),0);case"y":return zn(ur);case"yy":case"kk":return zn(Ir,Qt);case"yyyy":case"kkkk":return zn(qe);case"yyyyy":return zn(Tr);case"yyyyyy":return zn(St);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return zn(Lt);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return zn(Oe);case"MMM":return Si(Ke.months("short",!0,!1),1);case"MMMM":return Si(Ke.months("long",!0,!1),1);case"LLL":return Si(Ke.months("short",!1,!1),1);case"LLLL":return Si(Ke.months("long",!1,!1),1);case"o":case"S":return zn(Kt);case"ooo":case"SSS":return zn($e);case"u":return Ha(Fr);case"uu":return Ha(Lt);case"uuu":case"E":case"c":return zn(Ne);case"a":return Si(Ke.meridiems(),0);case"EEE":return Si(Ke.weekdays("short",!1,!1),1);case"EEEE":return Si(Ke.weekdays("long",!1,!1),1);case"ccc":return Si(Ke.weekdays("short",!0,!1),1);case"cccc":return Si(Ke.weekdays("long",!0,!1),1);case"Z":case"ZZ":return eu(new RegExp("([+-]"+Lt.source+")(?::("+Oe.source+"))?"),2);case"ZZZ":return eu(new RegExp("([+-]"+Lt.source+")("+Oe.source+")?"),2);case"z":return Ha(/[a-z_+-/]{1,256}?/i);default:return Hr(fn)}}(Ie)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return Ln.token=Ie,Ln}(kn,Ie)}),qe=$e.find(function(kn){return kn.invalidReason});if(qe)return{input:Ke,tokens:Oe,invalidReason:qe.invalidReason};var St=function oa(Ie){return["^"+Ie.map(function(Ne){return Ne.regex}).reduce(function(Ne,Oe){return Ne+"("+Oe.source+")"},"")+"$",Ie]}($e),Kt=St[1],ur=RegExp(St[0],"i"),Fr=function Gs(Ie,Ke,Ne){var Oe=Ie.match(Ke);if(Oe){var $e={},qe=1;for(var St in Ne)if(mt(Ne,St)){var Lt=Ne[St],Kt=Lt.groups?Lt.groups+1:1;!Lt.literal&&Lt.token&&($e[Lt.token.val[0]]=Lt.deser(Oe.slice(qe,qe+Kt))),qe+=Kt}return[Oe,$e]}return[Oe,{}]}(Ke,ur,Kt),Ir=Fr[0],Tr=Fr[1],Hr=Tr?function dh(Ie){var Ne;return Ne=Qe(Ie.Z)?Qe(Ie.z)?null:Sn.create(Ie.z):new Kn(Ie.Z),Qe(Ie.q)||(Ie.M=3*(Ie.q-1)+1),Qe(Ie.h)||(Ie.h<12&&1===Ie.a?Ie.h+=12:12===Ie.h&&0===Ie.a&&(Ie.h=0)),0===Ie.G&&Ie.y&&(Ie.y=-Ie.y),Qe(Ie.u)||(Ie.S=er(Ie.u)),[Object.keys(Ie).reduce(function($e,qe){var St=function(qe){switch(qe){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}}(qe);return St&&($e[St]=Ie[qe]),$e},{}),Ne]}(Tr):[null,null],En=Hr[0],Ln=Hr[1];if(mt(Tr,"a")&&mt(Tr,"H"))throw new Z("Can't include meridiem when specifying 24-hour format");return{input:Ke,tokens:Oe,regex:ur,rawMatches:Ir,matches:Tr,result:En,zone:Ln}}var fp=[0,31,59,90,120,151,181,212,243,273,304,334],By=[0,31,60,91,121,152,182,213,244,274,305,335];function Js(Ie,Ke){return new $n("unit out of range","you specified "+Ke+" (of type "+typeof Ke+") as a "+Ie+", which is invalid")}function Vy(Ie,Ke,Ne){var Oe=new Date(Date.UTC(Ie,Ke-1,Ne)).getUTCDay();return 0===Oe?7:Oe}function Wy(Ie,Ke,Ne){return Ne+(yr(Ie)?By:fp)[Ke-1]}function ky(Ie,Ke){var Ne=yr(Ie)?By:fp,Oe=Ne.findIndex(function(qe){return qe<Ke});return{month:Oe+1,day:Ke-Ne[Oe]}}function pp(Ie){var Lt,Ke=Ie.year,Ne=Ie.month,Oe=Ie.day,$e=Wy(Ke,Ne,Oe),qe=Vy(Ke,Ne,Oe),St=Math.floor(($e-qe+10)/7);return St<1?St=Gt(Lt=Ke-1):St>Gt(Ke)?(Lt=Ke+1,St=1):Lt=Ke,re({weekYear:Lt,weekNumber:St,weekday:qe},Vt(Ie))}function Zy(Ie){var Lt,Ke=Ie.weekYear,Ne=Ie.weekNumber,Oe=Ie.weekday,$e=Vy(Ke,1,4),qe=mr(Ke),St=7*Ne+Oe-$e-3;St<1?St+=mr(Lt=Ke-1):St>qe?(Lt=Ke+1,St-=mr(Ke)):Lt=Ke;var Kt=ky(Lt,St);return re({year:Lt,month:Kt.month,day:Kt.day},Vt(Ie))}function mp(Ie){var Ke=Ie.year;return re({year:Ke,ordinal:Wy(Ke,Ie.month,Ie.day)},Vt(Ie))}function $y(Ie){var Ke=Ie.year,Oe=ky(Ke,Ie.ordinal);return re({year:Ke,month:Oe.month,day:Oe.day},Vt(Ie))}function Ky(Ie){var Ke=te(Ie.year),Ne=at(Ie.month,1,12),Oe=at(Ie.day,1,gt(Ie.year,Ie.month));return Ke?Ne?!Oe&&Js("day",Ie.day):Js("month",Ie.month):Js("year",Ie.year)}function zy(Ie){var Ke=Ie.hour,Ne=Ie.minute,Oe=Ie.second,$e=Ie.millisecond,qe=at(Ke,0,23)||24===Ke&&0===Ne&&0===Oe&&0===$e,St=at(Ne,0,59),Lt=at(Oe,0,59),Kt=at($e,0,999);return qe?St?Lt?!Kt&&Js("millisecond",$e):Js("second",Oe):Js("minute",Ne):Js("hour",Ke)}var yp="Invalid DateTime",hh=864e13;function ru(Ie){return new $n("unsupported zone",'the zone "'+Ie.name+'" is not supported')}function gp(Ie){return null===Ie.weekData&&(Ie.weekData=pp(Ie.c)),Ie.weekData}function Nc(Ie,Ke){var Ne={ts:Ie.ts,zone:Ie.zone,c:Ie.c,o:Ie.o,loc:Ie.loc,invalid:Ie.invalid};return new Qi(re({},Ne,Ke,{old:Ne}))}function Gy(Ie,Ke,Ne){var Oe=Ie-60*Ke*1e3,$e=Ne.offset(Oe);if(Ke===$e)return[Oe,Ke];var qe=Ne.offset(Oe-=60*($e-Ke)*1e3);return $e===qe?[Oe,$e]:[Ie-60*Math.min($e,qe)*1e3,Math.max($e,qe)]}function Ja(Ie,Ke){var Ne=new Date(Ie+=60*Ke*1e3);return{year:Ne.getUTCFullYear(),month:Ne.getUTCMonth()+1,day:Ne.getUTCDate(),hour:Ne.getUTCHours(),minute:Ne.getUTCMinutes(),second:Ne.getUTCSeconds(),millisecond:Ne.getUTCMilliseconds()}}function Fc(Ie,Ke,Ne){return Gy(kt(Ie),Ke,Ne)}function ps(Ie,Ke){var Ne=Ie.o,Oe=Ie.c.year+Math.trunc(Ke.years),$e=Ie.c.month+Math.trunc(Ke.months)+3*Math.trunc(Ke.quarters),qe=re({},Ie.c,{year:Oe,month:$e,day:Math.min(Ie.c.day,gt(Oe,$e))+Math.trunc(Ke.days)+7*Math.trunc(Ke.weeks)}),St=Xi.fromObject({years:Ke.years-Math.trunc(Ke.years),quarters:Ke.quarters-Math.trunc(Ke.quarters),months:Ke.months-Math.trunc(Ke.months),weeks:Ke.weeks-Math.trunc(Ke.weeks),days:Ke.days-Math.trunc(Ke.days),hours:Ke.hours,minutes:Ke.minutes,seconds:Ke.seconds,milliseconds:Ke.milliseconds}).as("milliseconds"),Kt=Gy(kt(qe),Ne,Ie.zone),ur=Kt[0],Fr=Kt[1];return 0!==St&&(Fr=Ie.zone.offset(ur+=St)),{ts:ur,o:Fr}}function nu(Ie,Ke,Ne,Oe,$e){var qe=Ne.setZone,St=Ne.zone;if(Ie&&0!==Object.keys(Ie).length){var Kt=Qi.fromObject(Ie,re({},Ne,{zone:Ke||St}));return qe?Kt:Kt.setZone(St)}return Qi.invalid(new $n("unparsable",'the input "'+$e+"\" can't be parsed as "+Oe))}function iu(Ie,Ke,Ne){return void 0===Ne&&(Ne=!0),Ie.isValid?Ui.create(Cn.create("en-US"),{allowZ:Ne,forceSimple:!0}).formatDateTimeFromString(Ie,Ke):null}function vp(Ie,Ke){var Ne=Ke.suppressSeconds,$e=Ke.suppressMilliseconds,St=Ke.includeOffset,Lt=Ke.includePrefix,Kt=void 0!==Lt&&Lt,ur=Ke.includeZone,Fr=void 0!==ur&&ur,Ir=Ke.spaceZone,Hr=Ke.format,En=void 0===Hr?"extended":Hr,Ln="basic"===En?"HHmm":"HH:mm";(!(void 0!==Ne&&Ne)||0!==Ie.second||0!==Ie.millisecond)&&(Ln+="basic"===En?"ss":":ss",(!(void 0!==$e&&$e)||0!==Ie.millisecond)&&(Ln+=".SSS")),(Fr||St)&&void 0!==Ir&&Ir&&(Ln+=" "),Fr?Ln+="z":St&&(Ln+="basic"===En?"ZZZ":"ZZ");var kn=iu(Ie,Ln);return Kt&&(kn="T"+kn),kn}var fh={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},_p={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Hy={ordinal:1,hour:0,minute:0,second:0,millisecond:0},jc=["year","month","day","hour","minute","second","millisecond"],Jy=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Ss=["year","ordinal","hour","minute","second","millisecond"];function Uc(Ie){var Ke={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[Ie.toLowerCase()];if(!Ke)throw new Y(Ie);return Ke}function Ep(Ie,Ke){var qe,St,Ne=Ht(Ke.zone,wr.defaultZone),Oe=Cn.fromObject(Ke),$e=wr.now();if(Qe(Ie.year))qe=$e;else{for(var Kt,Lt=ae(jc);!(Kt=Lt()).done;){var ur=Kt.value;Qe(Ie[ur])&&(Ie[ur]=fh[ur])}var Fr=Ky(Ie)||zy(Ie);if(Fr)return Qi.invalid(Fr);var Tr=Fc(Ie,Ne.offset($e),Ne);qe=Tr[0],St=Tr[1]}return new Qi({ts:qe,zone:Ne,loc:Oe,o:St})}function Bc(Ie,Ke,Ne){var Oe=!!Qe(Ne.round)||Ne.round,$e=function(Ir,Tr){return Ir=gr(Ir,Oe||Ne.calendary?0:2,!0),Ke.loc.clone(Ne).relFormatter(Ne).format(Ir,Tr)},qe=function(Ir){return Ne.calendary?Ke.hasSame(Ie,Ir)?0:Ke.startOf(Ir).diff(Ie.startOf(Ir),Ir).get(Ir):Ke.diff(Ie,Ir).get(Ir)};if(Ne.unit)return $e(qe(Ne.unit),Ne.unit);for(var Lt,St=ae(Ne.units);!(Lt=St()).done;){var Kt=Lt.value,ur=qe(Kt);if(Math.abs(ur)>=1)return $e(ur,Kt)}return $e(Ie>Ke?-0:0,Ne.units[Ne.units.length-1])}function bp(Ie){var Ne,Ke={};return Ie.length>0&&"object"==typeof Ie[Ie.length-1]?(Ke=Ie[Ie.length-1],Ne=Array.from(Ie).slice(0,Ie.length-1)):Ne=Array.from(Ie),[Ke,Ne]}var Qi=function(){function Ie(Ne){var Oe=Ne.zone||wr.defaultZone,$e=Ne.invalid||(Number.isNaN(Ne.ts)?new $n("invalid input"):null)||(Oe.isValid?null:ru(Oe));this.ts=Qe(Ne.ts)?wr.now():Ne.ts;var qe=null,St=null;if(!$e)if(Ne.old&&Ne.old.ts===this.ts&&Ne.old.zone.equals(Oe)){var Kt=[Ne.old.c,Ne.old.o];qe=Kt[0],St=Kt[1]}else{var ur=Oe.offset(this.ts);qe=Ja(this.ts,ur),qe=($e=Number.isNaN(qe.year)?new $n("invalid input"):null)?null:qe,St=$e?null:ur}this._zone=Oe,this.loc=Ne.loc||Cn.create(),this.invalid=$e,this.weekData=null,this.c=qe,this.o=St,this.isLuxonDateTime=!0}Ie.now=function(){return new Ie({})},Ie.local=function(){var Oe=bp(arguments),$e=Oe[0],qe=Oe[1],St=qe[0],Lt=qe[1],Kt=qe[2],ur=qe[3],Fr=qe[4],Ir=qe[5],Tr=qe[6];return Ep({year:St,month:Lt,day:Kt,hour:ur,minute:Fr,second:Ir,millisecond:Tr},$e)},Ie.utc=function(){var Oe=bp(arguments),$e=Oe[0],qe=Oe[1],St=qe[0],Lt=qe[1],Kt=qe[2],ur=qe[3],Fr=qe[4],Ir=qe[5],Tr=qe[6];return $e.zone=Kn.utcInstance,Ep({year:St,month:Lt,day:Kt,hour:ur,minute:Fr,second:Ir,millisecond:Tr},$e)},Ie.fromJSDate=function(Oe,$e){void 0===$e&&($e={});var qe=function Ze(Ie){return"[object Date]"===Object.prototype.toString.call(Ie)}(Oe)?Oe.valueOf():NaN;if(Number.isNaN(qe))return Ie.invalid("invalid input");var St=Ht($e.zone,wr.defaultZone);return St.isValid?new Ie({ts:qe,zone:St,loc:Cn.fromObject($e)}):Ie.invalid(ru(St))},Ie.fromMillis=function(Oe,$e){if(void 0===$e&&($e={}),Ye(Oe))return Oe<-hh||Oe>hh?Ie.invalid("Timestamp out of range"):new Ie({ts:Oe,zone:Ht($e.zone,wr.defaultZone),loc:Cn.fromObject($e)});throw new H("fromMillis requires a numerical input, but received a "+typeof Oe+" with value "+Oe)},Ie.fromSeconds=function(Oe,$e){if(void 0===$e&&($e={}),Ye(Oe))return new Ie({ts:1e3*Oe,zone:Ht($e.zone,wr.defaultZone),loc:Cn.fromObject($e)});throw new H("fromSeconds requires a numerical input")},Ie.fromObject=function(Oe,$e){void 0===$e&&($e={}),Oe=Oe||{};var qe=Ht($e.zone,wr.defaultZone);if(!qe.isValid)return Ie.invalid(ru(qe));var St=wr.now(),Lt=qe.offset(St),Kt=Ot(Oe,Uc),ur=!Qe(Kt.ordinal),Fr=!Qe(Kt.year),Ir=!Qe(Kt.month)||!Qe(Kt.day),Tr=Fr||Ir,Hr=Kt.weekYear||Kt.weekNumber,En=Cn.fromObject($e);if((Tr||ur)&&Hr)throw new Z("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(Ir&&ur)throw new Z("Can't mix ordinal dates with month/day");var kn,fn,Ln=Hr||Kt.weekday&&!Tr,go=Ja(St,Lt);Ln?(kn=Jy,fn=_p,go=pp(go)):ur?(kn=Ss,fn=Hy,go=mp(go)):(kn=jc,fn=fh);for(var Xy,ou=!1,wn=ae(kn);!(Xy=wn()).done;){var Qu=Xy.value;Qe(Kt[Qu])?Kt[Qu]=ou?fn[Qu]:go[Qu]:ou=!0}var qy=Ln?function Z2(Ie){var Ke=te(Ie.weekYear),Ne=at(Ie.weekNumber,1,Gt(Ie.weekYear)),Oe=at(Ie.weekday,1,7);return Ke?Ne?!Oe&&Js("weekday",Ie.weekday):Js("week",Ie.week):Js("weekYear",Ie.weekYear)}(Kt):ur?function $2(Ie){var Ke=te(Ie.year),Ne=at(Ie.ordinal,1,mr(Ie.year));return Ke?!Ne&&Js("ordinal",Ie.ordinal):Js("year",Ie.year)}(Kt):Ky(Kt),ph=qy||zy(Kt);if(ph)return Ie.invalid(ph);var Cp=Fc(Ln?Zy(Kt):ur?$y(Kt):Kt,Lt,qe),mh=new Ie({ts:Cp[0],zone:qe,o:Cp[1],loc:En});return Kt.weekday&&Tr&&Oe.weekday!==mh.weekday?Ie.invalid("mismatched weekday","you can't specify both a weekday of "+Kt.weekday+" and a date of "+mh.toISO()):mh},Ie.fromISO=function(Oe,$e){void 0===$e&&($e={});var qe=function xa(Ie){return Wi(Ie,[Dr,mi],[Vr,Ri],[Nr,gn],[Rn,wa])}(Oe);return nu(qe[0],qe[1],$e,"ISO 8601",Oe)},Ie.fromRFC2822=function(Oe,$e){void 0===$e&&($e={});var qe=function zo(Ie){return Wi(function We(Ie){return Ie.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(Ie),[bt,Le])}(Oe);return nu(qe[0],qe[1],$e,"RFC 2822",Oe)},Ie.fromHTTP=function(Oe,$e){void 0===$e&&($e={});var qe=function ap(Ie){return Wi(Ie,[it,Jt],[Dt,Jt],[Bt,rr])}(Oe);return nu(qe[0],qe[1],$e,"HTTP",$e)},Ie.fromFormat=function(Oe,$e,qe){if(void 0===qe&&(qe={}),Qe(Oe)||Qe($e))throw new H("fromFormat requires an input string and a format");var Lt=qe.locale,ur=qe.numberingSystem,Tr=function Uy(Ie,Ke,Ne){var Oe=jy(Ie,Ke,Ne);return[Oe.result,Oe.zone,Oe.invalidReason]}(Cn.fromOpts({locale:void 0===Lt?null:Lt,numberingSystem:void 0===ur?null:ur,defaultToEN:!0}),Oe,$e),Hr=Tr[0],En=Tr[1],Ln=Tr[2];return Ln?Ie.invalid(Ln):nu(Hr,En,qe,"format "+$e,Oe)},Ie.fromString=function(Oe,$e,qe){return void 0===qe&&(qe={}),Ie.fromFormat(Oe,$e,qe)},Ie.fromSQL=function(Oe,$e){void 0===$e&&($e={});var qe=function cp(Ie){return Wi(Ie,[za,lp],[Ry,up])}(Oe);return nu(qe[0],qe[1],$e,"SQL",Oe)},Ie.invalid=function(Oe,$e){if(void 0===$e&&($e=null),!Oe)throw new H("need to specify a reason the DateTime is invalid");var qe=Oe instanceof $n?Oe:new $n(Oe,$e);if(wr.throwOnInvalid)throw new V(qe);return new Ie({invalid:qe})},Ie.isDateTime=function(Oe){return Oe&&Oe.isLuxonDateTime||!1};var Ke=Ie.prototype;return Ke.get=function(Oe){return this[Oe]},Ke.resolvedLocaleOptions=function(Oe){void 0===Oe&&(Oe={});var $e=Ui.create(this.loc.clone(Oe),Oe).resolvedOptions(this);return{locale:$e.locale,numberingSystem:$e.numberingSystem,outputCalendar:$e.calendar}},Ke.toUTC=function(Oe,$e){return void 0===Oe&&(Oe=0),void 0===$e&&($e={}),this.setZone(Kn.instance(Oe),$e)},Ke.toLocal=function(){return this.setZone(wr.defaultZone)},Ke.setZone=function(Oe,$e){var qe=void 0===$e?{}:$e,St=qe.keepLocalTime,Lt=void 0!==St&&St,Kt=qe.keepCalendarTime,ur=void 0!==Kt&&Kt;if((Oe=Ht(Oe,wr.defaultZone)).equals(this.zone))return this;if(Oe.isValid){var Fr=this.ts;if(Lt||ur){var Ir=Oe.offset(this.ts);Fr=Fc(this.toObject(),Ir,Oe)[0]}return Nc(this,{ts:Fr,zone:Oe})}return Ie.invalid(ru(Oe))},Ke.reconfigure=function(Oe){var $e=void 0===Oe?{}:Oe;return Nc(this,{loc:this.loc.clone({locale:$e.locale,numberingSystem:$e.numberingSystem,outputCalendar:$e.outputCalendar})})},Ke.setLocale=function(Oe){return this.reconfigure({locale:Oe})},Ke.set=function(Oe){if(!this.isValid)return this;var Ir,$e=Ot(Oe,Uc),qe=!Qe($e.weekYear)||!Qe($e.weekNumber)||!Qe($e.weekday),St=!Qe($e.ordinal),Lt=!Qe($e.year),Kt=!Qe($e.month)||!Qe($e.day);if((Lt||Kt||St)&&($e.weekYear||$e.weekNumber))throw new Z("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(Kt&&St)throw new Z("Can't mix ordinal dates with month/day");qe?Ir=Zy(re({},pp(this.c),$e)):Qe($e.ordinal)?(Ir=re({},this.toObject(),$e),Qe($e.day)&&(Ir.day=Math.min(gt(Ir.year,Ir.month),Ir.day))):Ir=$y(re({},mp(this.c),$e));var Tr=Fc(Ir,this.o,this.zone);return Nc(this,{ts:Tr[0],o:Tr[1]})},Ke.plus=function(Oe){return this.isValid?Nc(this,ps(this,Xi.fromDurationLike(Oe))):this},Ke.minus=function(Oe){return this.isValid?Nc(this,ps(this,Xi.fromDurationLike(Oe).negate())):this},Ke.startOf=function(Oe){if(!this.isValid)return this;var $e={},qe=Xi.normalizeUnit(Oe);switch(qe){case"years":$e.month=1;case"quarters":case"months":$e.day=1;case"weeks":case"days":$e.hour=0;case"hours":$e.minute=0;case"minutes":$e.second=0;case"seconds":$e.millisecond=0}if("weeks"===qe&&($e.weekday=1),"quarters"===qe){var St=Math.ceil(this.month/3);$e.month=3*(St-1)+1}return this.set($e)},Ke.endOf=function(Oe){var $e;return this.isValid?this.plus(($e={},$e[Oe]=1,$e)).startOf(Oe).minus(1):this},Ke.toFormat=function(Oe,$e){return void 0===$e&&($e={}),this.isValid?Ui.create(this.loc.redefaultToEN($e)).formatDateTimeFromString(this,Oe):yp},Ke.toLocaleString=function(Oe,$e){return void 0===Oe&&(Oe=ye),void 0===$e&&($e={}),this.isValid?Ui.create(this.loc.clone($e),Oe).formatDateTime(this):yp},Ke.toLocaleParts=function(Oe){return void 0===Oe&&(Oe={}),this.isValid?Ui.create(this.loc.clone(Oe),Oe).formatDateTimeParts(this):[]},Ke.toISO=function(Oe){return void 0===Oe&&(Oe={}),this.isValid?this.toISODate(Oe)+"T"+this.toISOTime(Oe):null},Ke.toISODate=function(Oe){var qe=(void 0===Oe?{}:Oe).format,Lt="basic"===(void 0===qe?"extended":qe)?"yyyyMMdd":"yyyy-MM-dd";return this.year>9999&&(Lt="+"+Lt),iu(this,Lt)},Ke.toISOWeekDate=function(){return iu(this,"kkkk-'W'WW-c")},Ke.toISOTime=function(Oe){var $e=void 0===Oe?{}:Oe,qe=$e.suppressMilliseconds,Lt=$e.suppressSeconds,ur=$e.includeOffset,Ir=$e.includePrefix,Hr=$e.format;return vp(this,{suppressSeconds:void 0!==Lt&&Lt,suppressMilliseconds:void 0!==qe&&qe,includeOffset:void 0===ur||ur,includePrefix:void 0!==Ir&&Ir,format:void 0===Hr?"extended":Hr})},Ke.toRFC2822=function(){return iu(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)},Ke.toHTTP=function(){return iu(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")},Ke.toSQLDate=function(){return iu(this,"yyyy-MM-dd")},Ke.toSQLTime=function(Oe){var $e=void 0===Oe?{}:Oe,qe=$e.includeOffset,Lt=$e.includeZone;return vp(this,{includeOffset:void 0===qe||qe,includeZone:void 0!==Lt&&Lt,spaceZone:!0})},Ke.toSQL=function(Oe){return void 0===Oe&&(Oe={}),this.isValid?this.toSQLDate()+" "+this.toSQLTime(Oe):null},Ke.toString=function(){return this.isValid?this.toISO():yp},Ke.valueOf=function(){return this.toMillis()},Ke.toMillis=function(){return this.isValid?this.ts:NaN},Ke.toSeconds=function(){return this.isValid?this.ts/1e3:NaN},Ke.toJSON=function(){return this.toISO()},Ke.toBSON=function(){return this.toJSDate()},Ke.toObject=function(Oe){if(void 0===Oe&&(Oe={}),!this.isValid)return{};var $e=re({},this.c);return Oe.includeConfig&&($e.outputCalendar=this.outputCalendar,$e.numberingSystem=this.loc.numberingSystem,$e.locale=this.loc.locale),$e},Ke.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)},Ke.diff=function(Oe,$e,qe){if(void 0===$e&&($e="milliseconds"),void 0===qe&&(qe={}),!this.isValid||!Oe.isValid)return Xi.invalid("created by diffing an invalid DateTime");var St=re({locale:this.locale,numberingSystem:this.numberingSystem},qe),Lt=function ht(Ie){return Array.isArray(Ie)?Ie:[Ie]}($e).map(Xi.normalizeUnit),Kt=Oe.valueOf()>this.valueOf(),Ir=function Oi(Ie,Ke,Ne,Oe){var Ir,$e=function Wn(Ie,Ke,Ne){for(var qe,St,$e={},Lt=0,Kt=[["years",function(Ln,kn){return kn.year-Ln.year}],["quarters",function(Ln,kn){return kn.quarter-Ln.quarter}],["months",function(Ln,kn){return kn.month-Ln.month+12*(kn.year-Ln.year)}],["weeks",function(Ln,kn){var fn=zr(Ln,kn);return(fn-fn%7)/7}],["days",zr]];Lt<Kt.length;Lt++){var ur=Kt[Lt],Fr=ur[0],Ir=ur[1];if(Ne.indexOf(Fr)>=0){var Tr;qe=Fr;var En,Hr=Ir(Ie,Ke);(St=Ie.plus(((Tr={})[Fr]=Hr,Tr)))>Ke?(Ie=Ie.plus(((En={})[Fr]=Hr-1,En)),Hr-=1):Ie=St,$e[Fr]=Hr}}return[Ie,$e,St,qe]}(Ie,Ke,Ne),qe=$e[0],St=$e[1],Lt=$e[2],Kt=$e[3],ur=Ke-qe,Fr=Ne.filter(function(En){return["hours","minutes","seconds","milliseconds"].indexOf(En)>=0});0===Fr.length&&(Lt<Ke&&(Lt=qe.plus(((Ir={})[Kt]=1,Ir))),Lt!==qe&&(St[Kt]=(St[Kt]||0)+ur/(Lt-qe)));var Hr,Tr=Xi.fromObject(St,Oe);return Fr.length>0?(Hr=Xi.fromMillis(ur,Oe)).shiftTo.apply(Hr,Fr).plus(Tr):Tr}(Kt?this:Oe,Kt?Oe:this,Lt,St);return Kt?Ir.negate():Ir},Ke.diffNow=function(Oe,$e){return void 0===Oe&&(Oe="milliseconds"),void 0===$e&&($e={}),this.diff(Ie.now(),Oe,$e)},Ke.until=function(Oe){return this.isValid?Ju.fromDateTimes(this,Oe):this},Ke.hasSame=function(Oe,$e){if(!this.isValid)return!1;var qe=Oe.valueOf(),St=this.setZone(Oe.zone,{keepLocalTime:!0});return St.startOf($e)<=qe&&qe<=St.endOf($e)},Ke.equals=function(Oe){return this.isValid&&Oe.isValid&&this.valueOf()===Oe.valueOf()&&this.zone.equals(Oe.zone)&&this.loc.equals(Oe.loc)},Ke.toRelative=function(Oe){if(void 0===Oe&&(Oe={}),!this.isValid)return null;var $e=Oe.base||Ie.fromObject({},{zone:this.zone}),qe=Oe.padding?this<$e?-Oe.padding:Oe.padding:0,St=["years","months","days","hours","minutes","seconds"],Lt=Oe.unit;return Array.isArray(Oe.unit)&&(St=Oe.unit,Lt=void 0),Bc($e,this.plus(qe),re({},Oe,{numeric:"always",units:St,unit:Lt}))},Ke.toRelativeCalendar=function(Oe){return void 0===Oe&&(Oe={}),this.isValid?Bc(Oe.base||Ie.fromObject({},{zone:this.zone}),this,re({},Oe,{numeric:"auto",units:["years","months","days"],calendary:!0})):null},Ie.min=function(){for(var Oe=arguments.length,$e=new Array(Oe),qe=0;qe<Oe;qe++)$e[qe]=arguments[qe];if(!$e.every(Ie.isDateTime))throw new H("min requires all arguments be DateTimes");return ft($e,function(St){return St.valueOf()},Math.min)},Ie.max=function(){for(var Oe=arguments.length,$e=new Array(Oe),qe=0;qe<Oe;qe++)$e[qe]=arguments[qe];if(!$e.every(Ie.isDateTime))throw new H("max requires all arguments be DateTimes");return ft($e,function(St){return St.valueOf()},Math.max)},Ie.fromFormatExplain=function(Oe,$e,qe){void 0===qe&&(qe={});var Lt=qe.locale,ur=qe.numberingSystem;return jy(Cn.fromOpts({locale:void 0===Lt?null:Lt,numberingSystem:void 0===ur?null:ur,defaultToEN:!0}),Oe,$e)},Ie.fromStringExplain=function(Oe,$e,qe){return void 0===qe&&(qe={}),Ie.fromFormatExplain(Oe,$e,qe)},T(Ie,[{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?gp(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?gp(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?gp(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?mp(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?Uo.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?Uo.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?Uo.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?Uo.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.isUniversal:null}},{key:"isInDST",get:function(){return!this.isOffsetFixed&&(this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset)}},{key:"isInLeapYear",get:function(){return yr(this.year)}},{key:"daysInMonth",get:function(){return gt(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?mr(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?Gt(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function(){return ye}},{key:"DATE_MED",get:function(){return oe}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return Q}},{key:"DATE_FULL",get:function(){return pe}},{key:"DATE_HUGE",get:function(){return ue}},{key:"TIME_SIMPLE",get:function(){return me}},{key:"TIME_WITH_SECONDS",get:function(){return ve}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return fe}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return Ce}},{key:"TIME_24_SIMPLE",get:function(){return ce}},{key:"TIME_24_WITH_SECONDS",get:function(){return he}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return xe}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return we}},{key:"DATETIME_SHORT",get:function(){return Ae}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return Fe}},{key:"DATETIME_MED",get:function(){return tt}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return Re}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return be}},{key:"DATETIME_FULL",get:function(){return Te}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return Je}},{key:"DATETIME_HUGE",get:function(){return ut}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return Pe}}]),Ie}();function Dl(Ie){if(Qi.isDateTime(Ie))return Ie;if(Ie&&Ie.valueOf&&Ye(Ie.valueOf()))return Qi.fromJSDate(Ie);if(Ie&&"object"==typeof Ie)return Qi.fromObject(Ie);throw new H("Unknown datetime argument: "+Ie+", of type "+typeof Ie)}Se.ou=Qi},41993:lt=>{function Se(C){return Promise.resolve().then(()=>{var x=new Error("Cannot find module '"+C+"'");throw x.code="MODULE_NOT_FOUND",x})}Se.keys=()=>[],Se.resolve=Se,Se.id=41993,lt.exports=Se},73386:(lt,Se,C)=>{"use strict";C.r(Se),C.d(Se,{default:()=>oe});var q,x=C(15861),T=C(17626),re=C(7093),ne=C(89726),ee=C(55538),ie=C(86162),J=C(58817),j=C(47996),A=C(47877),B=C(63290),X=C(62208),W=C(10699),K=C(21726),ae=C(77712),V=(C(90912),C(76898)),P=C(99433),F=C(65234),Z=C(84687),Y=C(55463),H=C(33954),de=C(32584);let ge=0;const le=B.Z.getLogger("esri.Basemap");let ye=q=class extends((0,ie.eC)(j.Z)){constructor(Q){super(Q),this.id=null,this.portalItem=null,this.spatialReference=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+ge++,this.baseLayers=new re.Z,this.referenceLayers=new re.Z;const pe=me=>{me.parent&&me.parent!==this&&"remove"in me.parent&&me.parent.remove(me),me.parent=this,"elevation"===me.type&&le.error(`Layer '${me.title}, id:${me.id}' of type '${me.type}' is not supported as a basemap layer and will therefore be ignored.`)},ue=me=>{me.parent=null};this.baseLayers.on("after-add",me=>pe(me.item)),this.referenceLayers.on("after-add",me=>pe(me.item)),this.baseLayers.on("after-remove",me=>ue(me.item)),this.referenceLayers.on("after-remove",me=>ue(me.item))}initialize(){this.when().catch(Q=>{le.error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,Q)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){var Q;const pe=this.baseLayers.removeAll();for(const me of pe)me.destroy();const ue=this.referenceLayers.removeAll();for(const me of ue)me.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),null==(Q=this.portalItem)||Q.destroy(),this.portalItem=null}normalizeCtorArgs(Q){return Q&&"resourceInfo"in Q&&(this._set("resourceInfo",Q.resourceInfo),delete(Q=Pt({},Q)).resourceInfo),Q}set baseLayers(Q){this._set("baseLayers",(0,ne.Z)(Q,this._get("baseLayers")))}_writeBaseLayers(Q,pe,ue){const me=[];Q&&(ue=Xr(Pt({},ue),{layerContainerType:"basemap"}),this.baseLayers.forEach(ve=>{const fe=(0,de.Nw)(ve,ue.webmap?ue.webmap.getLayerJSONFromResourceInfo(ve):null,ue);(0,X.pC)(fe)&&me.push(fe)}),this.referenceLayers.forEach(ve=>{const fe=(0,de.Nw)(ve,ue.webmap?ue.webmap.getLayerJSONFromResourceInfo(ve):null,ue);(0,X.pC)(fe)&&(fe.isReference=!0,me.push(fe))})),pe.baseMapLayers=me}set referenceLayers(Q){this._set("referenceLayers",(0,ne.Z)(Q,this._get("referenceLayers")))}writeTitle(Q,pe){pe.title=Q||"Basemap"}load(Q){return this.addResolvingPromise(this._loadFromSource(Q)),Promise.resolve(this)}loadAll(){return(0,A.GZ)(this,Q=>{Q(this.baseLayers,this.referenceLayers)})}clone(){const Q={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};return this.loaded&&(Q.loadStatus="loaded"),new q({resourceInfo:this.resourceInfo}).set(Q)}read(Q,pe){this.resourceInfo||this._set("resourceInfo",{data:Q,context:pe}),super.read(Q,pe)}write(Q,pe){return Q=Q||{},pe&&pe.origin||(pe=Pt({origin:"web-map"},pe)),super.write(Q,pe),!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(Q.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(ue=>{const me=(0,J.d9)(ue);return me.url&&(0,K.oC)(me.url)&&(me.url=`https:${me.url}`),me.templateUrl&&(0,K.oC)(me.templateUrl)&&(me.templateUrl=`https:${me.templateUrl}`),me})),Q}_loadFromSource(Q){var pe=this;return(0,x.Z)(function*(){const{resourceInfo:ue,portalItem:me}=pe;(0,W.k_)(Q);const ve=[];ue?(ve.push(pe._loadLayersFromJSON(ue.data,ue.context?ue.context.url:null,Q)),ue.data.id&&!ue.data.title&&ve.push((0,H.g)(ue.data.id).then(ce=>{ce&&pe.read({title:ce},ue.context)}))):me&&ve.push(pe._loadFromItem(me,Q)),yield Promise.all(ve)})()}_loadLayersFromJSON(Q,pe,ue){var me=this;return(0,x.Z)(function*(){const ve=me.resourceInfo&&me.resourceInfo.context,fe=me.portalItem&&me.portalItem.portal||ve&&ve.portal||null,Ce=ve&&"web-scene"===ve.origin?"web-scene":"web-map",{populateOperationalLayers:ce}=yield Promise.all([C.e(7534),C.e(1074)]).then(C.bind(C,71074)),he=[];if((0,W.k_)(ue),Q.baseMapLayers&&Array.isArray(Q.baseMapLayers)){const xe={context:{origin:Ce,url:pe,portal:fe,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},we=ce(me.baseLayers,Q.baseMapLayers.filter(Fe=>!Fe.isReference),xe);he.push(we);const Ae=ce(me.referenceLayers,Q.baseMapLayers.filter(Fe=>Fe.isReference),xe);he.push(Ae)}yield(0,W.as)(he)})()}_loadFromItem(Q,pe){var ue=this;return(0,x.Z)(function*(){const me=yield Q.load(pe),ve=yield me.fetchData("json",pe),fe=(0,K.mN)(Q.itemUrl);return ue._set("resourceInfo",{data:ve.baseMap,context:{origin:"web-map",portal:Q.portal||Z.Z.getDefault(),url:fe}}),ue.read(ue.resourceInfo.data,ue.resourceInfo.context),ue.read({spatialReference:ve.spatialReference},ue.resourceInfo.context),ue.read({title:Q.title,thumbnailUrl:Q.thumbnailUrl},{origin:"portal-item",portal:Q.portal||Z.Z.getDefault(),url:fe}),ue._loadLayersFromJSON(ue.resourceInfo.data,fe,pe)})()}static fromId(Q){const pe=H.s[Q];if(pe){if(pe.deprecated){let ue=null;"dark-gray"===Q?ue="dark-gray-vector":"gray"===Q?ue="gray-vector":"streets"===Q?ue="streets-vector":"topo"===Q&&(ue="topo-vector"),(0,ee.x9)(le,`The ${Q} basemap has entered mature support and is no longer being updated.`,{replacement:ue,see:"https://arcg.is/1iq8aD",warnOnce:!0})}return q.fromJSON(pe)}return null}};(0,T._)([(0,ae.Cb)({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(Q,pe,ue,me){this._writeBaseLayers(Q,pe,me)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:re.Z}},writer(Q,pe,ue,me){this._writeBaseLayers(Q,pe,me)}}}}}})],ye.prototype,"baseLayers",null),(0,T._)([(0,ae.Cb)({type:String,json:{origins:{"web-scene":{write:!0}}}})],ye.prototype,"id",void 0),(0,T._)([(0,ae.Cb)({type:Y.default})],ye.prototype,"portalItem",void 0),(0,T._)([(0,ae.Cb)()],ye.prototype,"referenceLayers",null),(0,T._)([(0,ae.Cb)({readOnly:!0})],ye.prototype,"resourceInfo",void 0),(0,T._)([(0,ae.Cb)({type:F.Z})],ye.prototype,"spatialReference",void 0),(0,T._)([(0,ae.Cb)()],ye.prototype,"thumbnailUrl",void 0),(0,T._)([(0,ae.Cb)({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],ye.prototype,"title",void 0),(0,T._)([(0,P.c)("title")],ye.prototype,"writeTitle",null),ye=q=(0,T._)([(0,V.j)("esri.Basemap")],ye);const oe=ye},91558:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>J});var x=C(20414),T=C(21286),re=C(62208),ne=C(90912);function ee(j){return(0,T.uZ)((0,ne.vU)(j),0,255)}function ie(j,A,B){return j=Number(j),isNaN(j)?B:j<A?A:j>B?B:j}class J{constructor(A){this.r=255,this.g=255,this.b=255,this.a=1,A&&this.setColor(A)}static blendColors(A,B,X,W=new J){return W.r=Math.round(A.r+(B.r-A.r)*X),W.g=Math.round(A.g+(B.g-A.g)*X),W.b=Math.round(A.b+(B.b-A.b)*X),W.a=A.a+(B.a-A.a)*X,W._sanitize()}static fromRgb(A,B){const X=A.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(X){const W=X[2].split(/\s*,\s*/),K=X[1];if("rgb"===K&&3===W.length||"rgba"===K&&4===W.length){const ae=W[0];if("%"===ae.charAt(ae.length-1)){const $=W.map(V=>2.56*parseFloat(V));return 4===W.length&&($[3]=parseFloat(W[3])),J.fromArray($,B)}return J.fromArray(W.map($=>parseFloat($)),B)}if("hsl"===K&&3===W.length||"hsla"===K&&4===W.length)return J.fromArray((0,x.B7)(parseFloat(W[0]),parseFloat(W[1])/100,parseFloat(W[2])/100,parseFloat(W[3])),B)}return null}static fromHex(A,B=new J){if(4!==A.length&&7!==A.length||"#"!==A[0])return null;const X=4===A.length?4:8,W=(1<<X)-1;let K=Number("0x"+A.substr(1));return isNaN(K)?null:(["b","g","r"].forEach(ae=>{const $=K&W;K>>=X,B[ae]=4===X?17*$:$}),B.a=1,B)}static fromArray(A,B=new J){return B._set(Number(A[0]),Number(A[1]),Number(A[2]),Number(A[3])),isNaN(B.a)&&(B.a=1),B._sanitize()}static fromString(A,B){const X=(0,x.St)(A)?(0,x.h$)(A):null;return X&&J.fromArray(X,B)||J.fromRgb(A,B)||J.fromHex(A,B)}static fromJSON(A){return A&&new J([A[0],A[1],A[2],A[3]/255])}static toUnitRGB(A){return(0,re.pC)(A)?[A.r/255,A.g/255,A.b/255]:null}static toUnitRGBA(A){return(0,re.pC)(A)?[A.r/255,A.g/255,A.b/255,null!=A.a?A.a:1]:null}get isBright(){return.299*this.r+.587*this.g+.114*this.b>=127}setColor(A){if("string"==typeof A)J.fromString(A,this);else if(Array.isArray(A))J.fromArray(A,this);else{var B,X,W,K;this._set(null!=(B=A.r)?B:0,null!=(X=A.g)?X:0,null!=(W=A.b)?W:0,null!=(K=A.a)?K:1),A instanceof J||this._sanitize()}return this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(){const A=this.r.toString(16),B=this.g.toString(16),X=this.b.toString(16);return`#${A.length<2?"0"+A:A}${B.length<2?"0"+B:B}${X.length<2?"0"+X:X}`}toCss(A=!1){const B=this.r+", "+this.g+", "+this.b;return A?`rgba(${B}, ${this.a})`:`rgb(${B})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(A=0){const B=ee(this.r),X=ee(this.g),W=ee(this.b);return 0===A||1!==this.a?[B,X,W,ee(255*this.a)]:[B,X,W]}clone(){return new J(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}_sanitize(){return this.r=Math.round(ie(this.r,0,255)),this.g=Math.round(ie(this.g,0,255)),this.b=Math.round(ie(this.b,0,255)),this.a=ie(this.a,0,1),this}_set(A,B,X,W){this.r=A,this.g=B,this.b=X,this.a=W}}J.prototype.declaredClass="esri.Color"},88879:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>$});var K,x=C(17626),T=C(29132),re=C(73281),ne=C(65787),ee=C(86162),ie=C(58817),J=C(62208),j=C(86236),A=C(77712),X=(C(90912),C(76898)),W=C(91179);let ae=K=class extends ee.wq{constructor(...V){super(...V),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:(0,j.D)(),configurable:!0})}normalizeCtorArgs(V,P,F,Z){return V&&!V.declaredClass?V:{geometry:V,symbol:P,attributes:F,popupTemplate:Z}}set attributes(V){const P=this._get("attributes");P!==V&&(this._set("attributes",V),this._notifyLayer("attributes",P,V))}set geometry(V){const P=this._get("geometry");P!==V&&(this._set("geometry",V),this._notifyLayer("geometry",P,V))}set symbol(V){const P=this._get("symbol");P!==V&&(this._set("symbol",V),this._notifyLayer("symbol",P,V))}set visible(V){const P=this._get("visible");P!==V&&(this._set("visible",V),this._notifyLayer("visible",P,V))}getEffectivePopupTemplate(V=!1){if(this.popupTemplate)return this.popupTemplate;for(const P of[this.sourceLayer,this.layer])if(P){if("popupTemplate"in P&&P.popupTemplate)return P.popupTemplate;if(V&&"defaultPopupTemplate"in P&&(0,J.pC)(P.defaultPopupTemplate))return P.defaultPopupTemplate}return null}getAttribute(V){return this.attributes&&this.attributes[V]}setAttribute(V,P){if(this.attributes){const F=this.getAttribute(V);this.attributes[V]=P,this._notifyLayer("attributes",F,P,V)}else this.attributes={[V]:P},this._notifyLayer("attributes",void 0,P,V)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{geometry:(0,J.pC)(this.geometry)?this.geometry.toJSON():null,symbol:(0,J.pC)(this.symbol)?this.symbol.toJSON():null,attributes:Pt({},this.attributes),popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}clone(){return new K(this.cloneProperties())}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}cloneProperties(){return{attributes:(0,ie.d9)(this.attributes),geometry:(0,ie.d9)(this.geometry),layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,symbol:(0,ie.d9)(this.symbol),visible:this.visible}}_notifyLayer(V,P,F,Z){if(!this.layer||!("graphicChanged"in this.layer))return;const Y={graphic:this,property:V,oldValue:P,newValue:F};"attributes"===V&&(Y.attributeName=Z),this.layer.graphicChanged(Y)}};(0,x._)([(0,A.Cb)({value:null})],ae.prototype,"attributes",null),(0,x._)([(0,A.Cb)({value:null,types:T.qM,json:{read:W.im}})],ae.prototype,"geometry",null),(0,x._)([(0,A.Cb)({type:Boolean})],ae.prototype,"isAggregate",void 0),(0,x._)([(0,A.Cb)()],ae.prototype,"layer",void 0),(0,x._)([(0,A.Cb)({type:re.Z})],ae.prototype,"popupTemplate",void 0),(0,x._)([(0,A.Cb)()],ae.prototype,"sourceLayer",void 0),(0,x._)([(0,A.Cb)({value:null,types:ne.LB})],ae.prototype,"symbol",null),(0,x._)([(0,A.Cb)({type:Boolean,value:!0})],ae.prototype,"visible",null),ae=K=(0,x._)([(0,X.j)("esri.Graphic")],ae),(ae||(ae={})).generateUID=j.D;const $=ae},73281:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>ut});var x=C(15861),T=C(17626),re=C(7093),ne=C(86162),ee=C(58817),ie=C(63290),J=C(10699),j=C(77712),A=C(66656),B=C(68653),X=C(76898),W=C(99433),K=C(90912),ae=C(36630),$=C(55664),V=C(55013),P=C(16615),F=C(82561),Z=C(75484),Y=C(64531),H=C(501);const q={base:null,key:"type",typeMap:{attachment:$.Z,media:Y.Z,text:H.Z,expression:F.Z,field:Z.Z}};var Q,ge=C(38439),le=C(25621);C(85931),C(8314);let pe=Q=class extends ne.wq{constructor(Pe){super(Pe),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new Q({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};(0,T._)([(0,j.Cb)({type:Boolean,json:{write:!0}})],pe.prototype,"returnTopmostRaster",void 0),(0,T._)([(0,j.Cb)({type:Boolean,json:{write:!0}})],pe.prototype,"showNoDataRecords",void 0),pe=Q=(0,T._)([(0,X.j)("esri.popup.LayerOptions")],pe);const ue=pe;var ve,me=C(51686);let fe=ve=class extends ne.wq{constructor(Pe){super(Pe),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new ve({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?(0,ee.d9)(this.orderByFields):null})}};(0,T._)([(0,j.Cb)({type:Boolean,json:{write:!0}})],fe.prototype,"showRelatedRecords",void 0),(0,T._)([(0,j.Cb)({type:[me.Z],json:{write:!0}})],fe.prototype,"orderByFields",void 0),fe=ve=(0,T._)([(0,X.j)("esri.popup.RelatedRecordsInfo")],fe);const Ce=fe;var Ae,ce=C(65560),he=C(59397),xe=C(48753),we=C(10671);const Fe=re.Z.ofType({key:"type",defaultKeyValue:"button",base:he.Z,typeMap:{button:xe.Z,toggle:we.Z}}),tt={base:V.Z,key:"type",typeMap:{media:Y.Z,custom:P.Z,text:H.Z,attachments:$.Z,fields:Z.Z,expression:F.Z}},Re="esri.PopupTemplate",be=ie.Z.getLogger(Re),Te=["attachments","fields","media","text","expression"];let Je=Ae=class extends ne.wq{constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title="",this.relatedRecordsInfo=null}castContent(Pe){return Array.isArray(Pe)?Pe.map(Qe=>(0,K.N7)(tt,Qe)):"string"==typeof Pe||"function"==typeof Pe||Pe instanceof HTMLElement||(0,J.y8)(Pe)?Pe:(be.error("content error","unsupported content value",{value:Pe}),null)}readContent(Pe,Qe){const{popupElements:Ye}=Qe;return Array.isArray(Ye)&&Ye.length>0?this._readPopupInfoElements(Qe):this._readPopupInfo(Qe)}writeContent(Pe,Qe,Ye,te){"string"!=typeof Pe?Array.isArray(Pe)&&(Qe.popupElements=Pe.filter(_e=>-1!==Te.indexOf(_e.type)).map(_e=>_e&&_e.toJSON(te)),Qe.popupElements.forEach(_e=>{"attachments"===_e.type?this._writeAttachmentContent(Qe):"media"===_e.type?this._writeMediaContent(_e,Qe):"text"===_e.type&&this._writeTextContent(_e,Qe)})):Qe.description=Pe}writeFieldInfos(Pe,Qe,Ye,te){const{content:_e}=this,Ze=Array.isArray(_e)?_e:null;if(Pe){const et=Ze?Ze.filter(ft=>"fields"===ft.type):[],ht=et.length&&et.every(ft=>{var Et;return null==(Et=ft.fieldInfos)?void 0:Et.length});Qe.fieldInfos=Pe.filter(Boolean).map(ft=>{const Et=ft.toJSON(te);return ht&&(Et.visible=!1),Et})}if(Ze)for(const et of Ze)"fields"===et.type&&this._writeFieldsContent(et,Qe)}writeLayerOptions(Pe,Qe,Ye,te){Qe[Ye]=!Pe||null===Pe.showNoDataRecords&&null===Pe.returnTopmostRaster?null:Pe.toJSON(te)}writeTitle(Pe,Qe){Qe.title=Pe||""}clone(){const{actions:Pe}=this,Qe=Pe?(0,ee.d9)(Pe.toArray()):[];return new Ae({actions:Qe,content:Array.isArray(this.content)?(0,ee.d9)(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?(0,ee.d9)(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?(0,ee.d9)(this.fieldInfos):null,layerOptions:this.layerOptions?(0,ee.d9)(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?(0,ee.d9)(this.outFields):null,overwriteActions:this.overwriteActions,returnGeometry:this.returnGeometry,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?(0,ee.d9)(this.relatedRecordsInfo):null})}collectRequiredFields(Pe,Qe){var Ye=this;return(0,x.Z)(function*(){yield Ye._collectExpressionInfoFields(Pe,Qe,Ye._getContentExpressionInfos(Ye.content,Ye.expressionInfos)),(0,ae.gd)(Pe,Qe,[...Ye.outFields||[],...Ye._getActionsFields(Ye.actions),...Ye._getTitleFields(Ye.title),...Ye._getContentFields(Ye.content)])})()}getRequiredFields(Pe){var Qe=this;return(0,x.Z)(function*(){const Ye=new Set;return yield Qe.collectRequiredFields(Ye,Pe),[...Ye].sort()})()}_writeFieldsContent(Pe,Qe){if(!Array.isArray(Pe.fieldInfos)||!Pe.fieldInfos.length)return;const Ye=(0,ee.d9)(Pe.fieldInfos);Array.isArray(Qe.fieldInfos)?Ye.forEach(te=>{const _e=Qe.fieldInfos.find(Ze=>Ze.fieldName.toLowerCase()===te.fieldName.toLowerCase());_e?_e.visible=!0:Qe.fieldInfos.push(te)}):Qe.fieldInfos=Ye}_writeAttachmentContent(Pe){Pe.showAttachments||(Pe.showAttachments=!0)}_writeTextContent(Pe,Qe){!Qe.description&&Pe.text&&(Qe.description=Pe.text)}_writeMediaContent(Pe,Qe){if(!Array.isArray(Pe.mediaInfos)||!Pe.mediaInfos.length)return;const Ye=(0,ee.d9)(Pe.mediaInfos);Qe.mediaInfos=Array.isArray(Qe.mediaInfos)?[...Qe.mediaInfos,...Ye]:Ye}_readPopupInfoElements({description:Pe,mediaInfos:Qe,popupElements:Ye}){const te={description:!1,mediaInfos:!1};return Ye.map(_e=>"media"===_e.type?(_e.mediaInfos||!Qe||te.mediaInfos||(_e.mediaInfos=Qe,te.mediaInfos=!0),Y.Z.fromJSON(_e)):"text"===_e.type?(_e.text||!Pe||te.description||(_e.text=Pe,te.description=!0),H.Z.fromJSON(_e)):"attachments"===_e.type?$.Z.fromJSON(_e):"fields"===_e.type?Z.Z.fromJSON(_e):"expression"===_e.type?F.Z.fromJSON(_e):void 0).filter(Boolean)}_readPopupInfo({description:Pe,mediaInfos:Qe,showAttachments:Ye}){const te=[];return te.push(Pe?new H.Z({text:Pe}):new Z.Z),Array.isArray(Qe)&&Qe.length&&te.push(Y.Z.fromJSON({mediaInfos:Qe})),Ye&&te.push($.Z.fromJSON({displayType:"auto"})),te.length?te:Pe}_getContentElementFields(Pe){const Qe=null==Pe?void 0:Pe.type;if("attachments"===Qe)return[...this._extractFieldNames(Pe.title),...this._extractFieldNames(Pe.description)];if("custom"===Qe)return Pe.outFields||[];if("fields"===Qe)return[...this._extractFieldNames(Pe.title),...this._extractFieldNames(Pe.description),...this._getFieldInfoFields(Pe.fieldInfos||this.fieldInfos)];if("media"===Qe){const Ye=Pe.mediaInfos||[];return[...this._extractFieldNames(Pe.title),...this._extractFieldNames(Pe.description),...Ye.reduce((te,_e)=>[...te,...this._getMediaInfoFields(_e)],[])]}return"text"===Qe?this._extractFieldNames(Pe.text):[]}_getMediaInfoFields(Pe){const{caption:Qe,title:Ye,value:te}=Pe,_e=te||{},{fields:Ze=[],normalizeField:et,tooltipField:ht,sourceURL:ft,linkURL:Et}=_e,mt=[...this._extractFieldNames(Ye),...this._extractFieldNames(Qe),...this._extractFieldNames(ft),...this._extractFieldNames(Et),...Ze];return et&&mt.push(et),ht&&mt.push(ht),mt}_getContentExpressionInfos(Pe,Qe){return Array.isArray(Pe)?Pe.reduce((Ye,te)=>[...Ye,..."expression"===te.type&&te.expressionInfo?[te.expressionInfo]:[]],Qe||[]):[]}_getContentFields(Pe){return"string"==typeof Pe?this._extractFieldNames(Pe):Array.isArray(Pe)?Pe.reduce((Qe,Ye)=>[...Qe,...this._getContentElementFields(Ye)],[]):[]}_collectExpressionInfoFields(Pe,Qe,Ye){return(0,x.Z)(function*(){Ye&&(yield Promise.all(Ye.map(te=>(0,ae.io)(Pe,Qe,te.expression))))})()}_getFieldInfoFields(Pe){return Pe?Pe.filter(Qe=>void 0===Qe.visible||!!Qe.visible).map(Qe=>Qe.fieldName).filter(Qe=>-1===Qe.indexOf("relationships/")&&-1===Qe.indexOf("expression/")):[]}_getActionsFields(Pe){return Pe?Pe.toArray().reduce((Qe,Ye)=>[...Qe,...this._getActionFields(Ye)],[]):[]}_getActionFields(Pe){const{className:Qe,title:Ye,type:te}=Pe,_e="button"===te||"toggle"===te?Pe.image:"";return[...this._extractFieldNames(Ye),...this._extractFieldNames(Qe),...this._extractFieldNames(_e)]}_getTitleFields(Pe){return"string"==typeof Pe?this._extractFieldNames(Pe):[]}_extractFieldNames(Pe){if(!Pe||"string"!=typeof Pe)return[];const Ye=Pe.match(/{[^}]*}/g);if(!Ye)return[];const te=/\{(\w+):.+\}/,_e=Ye.filter(Ze=>!(0===Ze.indexOf("{relationships/")||0===Ze.indexOf("{expression/"))).map(Ze=>Ze.replace(te,"{$1}"));return _e?_e.map(Ze=>Ze.slice(1,-1)):[]}};(0,T._)([(0,j.Cb)({type:Fe})],Je.prototype,"actions",void 0),(0,T._)([(0,j.Cb)()],Je.prototype,"content",void 0),(0,T._)([(0,A.p)("content")],Je.prototype,"castContent",null),(0,T._)([(0,B.r)("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments"])],Je.prototype,"readContent",null),(0,T._)([(0,W.c)("content",{popupElements:{type:re.Z.ofType(q)},showAttachments:{type:Boolean},mediaInfos:{type:re.Z.ofType(ce.V)},description:{type:String}})],Je.prototype,"writeContent",null),(0,T._)([(0,j.Cb)({type:[ge.Z],json:{write:!0}})],Je.prototype,"expressionInfos",void 0),(0,T._)([(0,j.Cb)({type:[le.Z]})],Je.prototype,"fieldInfos",void 0),(0,T._)([(0,W.c)("fieldInfos")],Je.prototype,"writeFieldInfos",null),(0,T._)([(0,j.Cb)({type:ue})],Je.prototype,"layerOptions",void 0),(0,T._)([(0,W.c)("layerOptions")],Je.prototype,"writeLayerOptions",null),(0,T._)([(0,j.Cb)({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Je.prototype,"lastEditInfoEnabled",void 0),(0,T._)([(0,j.Cb)()],Je.prototype,"outFields",void 0),(0,T._)([(0,j.Cb)()],Je.prototype,"overwriteActions",void 0),(0,T._)([(0,j.Cb)()],Je.prototype,"returnGeometry",void 0),(0,T._)([(0,j.Cb)({json:{type:String}})],Je.prototype,"title",void 0),(0,T._)([(0,W.c)("title")],Je.prototype,"writeTitle",null),(0,T._)([(0,j.Cb)({type:Ce,json:{write:!0}})],Je.prototype,"relatedRecordsInfo",void 0),Je=Ae=(0,T._)([(0,X.j)(Re)],Je);const ut=Je},97478:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>V});var W,x=C(17626),T=C(86162),re=C(62208),ne=C(28170),ee=C(77712),A=(C(85931),C(8314),C(90912),C(68653)),B=C(76898),X=C(99433);let K=W=class extends T.wq{constructor(P){super(P),this.end=null,this.start=null}static get allTime(){return ae}static get empty(){return $}readEnd(P,F){return null!=F.end?new Date(F.end):null}writeEnd(P,F){F.end=P?P.getTime():null}get isAllTime(){return this.equals(W.allTime)}get isEmpty(){return this.equals(W.empty)}readStart(P,F){return null!=F.start?new Date(F.start):null}writeStart(P,F){F.start=P?P.getTime():null}clone(){return new W({end:this.end,start:this.start})}equals(P){if(!P)return!1;const F=(0,re.pC)(this.start)?this.start.getTime():this.start,Z=(0,re.pC)(this.end)?this.end.getTime():this.end,Y=(0,re.pC)(P.start)?P.start.getTime():P.start,H=(0,re.pC)(P.end)?P.end.getTime():P.end;return F===Y&&Z===H}expandTo(P){if(this.isEmpty||this.isAllTime)return this.clone();const F=(0,re.Po)(this.start,Y=>(0,ne.JE)(Y,P)),Z=(0,re.Po)(this.end,Y=>(0,ne.Nm)((0,ne.JE)(Y,P),1,P));return new W({start:F,end:Z})}intersection(P){if(!P)return this.clone();if(this.isEmpty||P.isEmpty)return W.empty;if(this.isAllTime)return P.clone();if(P.isAllTime)return this.clone();const F=(0,re.R2)(this.start,-1/0,ge=>ge.getTime()),Z=(0,re.R2)(this.end,1/0,ge=>ge.getTime()),Y=(0,re.R2)(P.start,-1/0,ge=>ge.getTime()),H=(0,re.R2)(P.end,1/0,ge=>ge.getTime());let de,q;if(Y>=F&&Y<=Z?de=Y:F>=Y&&F<=H&&(de=F),Z>=Y&&Z<=H?q=Z:H>=F&&H<=Z&&(q=H),!isNaN(de)&&!isNaN(q)){const ge=new W;return ge.start=de===-1/0?null:new Date(de),ge.end=q===1/0?null:new Date(q),ge}return W.empty}offset(P,F){if(this.isEmpty||this.isAllTime)return this.clone();const Z=new W,{start:Y,end:H}=this;return(0,re.pC)(Y)&&(Z.start=(0,ne.Nm)(Y,P,F)),(0,re.pC)(H)&&(Z.end=(0,ne.Nm)(H,P,F)),Z}union(P){if(!P||P.isEmpty)return this.clone();if(this.isEmpty)return P.clone();if(this.isAllTime||P.isAllTime)return ae.clone();const F=(0,re.pC)(this.start)&&(0,re.pC)(P.start)?new Date(Math.min(this.start.getTime(),P.start.getTime())):null,Z=(0,re.pC)(this.end)&&(0,re.pC)(P.end)?new Date(Math.max(this.end.getTime(),P.end.getTime())):null;return new W({start:F,end:Z})}};(0,x._)([(0,ee.Cb)({type:Date,json:{write:{allowNull:!0}}})],K.prototype,"end",void 0),(0,x._)([(0,A.r)("end")],K.prototype,"readEnd",null),(0,x._)([(0,X.c)("end")],K.prototype,"writeEnd",null),(0,x._)([(0,ee.Cb)({readOnly:!0,json:{read:!1}})],K.prototype,"isAllTime",null),(0,x._)([(0,ee.Cb)({readOnly:!0,json:{read:!1}})],K.prototype,"isEmpty",null),(0,x._)([(0,ee.Cb)({type:Date,json:{write:{allowNull:!0}}})],K.prototype,"start",void 0),(0,x._)([(0,A.r)("start")],K.prototype,"readStart",null),(0,x._)([(0,X.c)("start")],K.prototype,"writeStart",null),K=W=(0,x._)([(0,B.j)("esri.TimeExtent")],K);const ae=new K,$=new K({start:void 0,end:void 0}),V=K},20849:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>W});var B,x=C(17626),T=C(86162),re=C(28170),ne=C(77712),j=(C(85931),C(8314),C(90912),C(76898)),A=C(58926);let X=B=class extends T.wq{constructor(K){super(K),this.value=0,this.unit="milliseconds"}toMilliseconds(){return(0,re.rJ)(this.value,this.unit,"milliseconds")}clone(){return new B({value:this.value,unit:this.unit})}};(0,x._)([(0,ne.Cb)({type:Number,json:{write:!0},nonNullable:!0})],X.prototype,"value",void 0),(0,x._)([(0,ne.Cb)({type:A.v.apiValues,json:{type:A.v.jsonValues,read:A.v.read,write:A.v.write},nonNullable:!0})],X.prototype,"unit",void 0),X=B=(0,x._)([(0,j.j)("esri.TimeInterval")],X);const W=X},76687:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>Qe});var x=C(17626),T=C(86162),re=C(21286),ne=C(77712),J=(C(85931),C(8314),C(66656)),j=C(68653),A=C(76898),B=C(99433),X=C(90912),W=C(49672),ae=(C(84161),C(28093));class Q{constructor(te,_e){this.min=te,this.max=_e,this.range=_e-te}ndiff(te,_e=0){return Math.ceil((te-_e)/this.range)*this.range+_e}_normalize(te,_e,Ze,et=0,ht=!1){return(Ze-=et)<te?Ze+=this.ndiff(te-Ze):Ze>_e&&(Ze-=this.ndiff(Ze-_e)),ht&&Ze===_e&&(Ze=te),Ze+et}normalize(te,_e=0,Ze=!1){return this._normalize(this.min,this.max,te,_e,Ze)}clamp(te,_e=0){return(0,re.uZ)(te-_e,this.min,this.max)+_e}monotonic(te,_e,Ze){return te<_e?_e:_e+this.ndiff(te-_e,Ze)}minimalMonotonic(te,_e,Ze){return this._normalize(te,te+this.range,_e,Ze)}center(te,_e,Ze){return _e=this.monotonic(te,_e,Ze),this.normalize((te+_e)/2,Ze)}diff(te,_e,Ze){return this.monotonic(te,_e,Ze)-te}shortestSignedDiff(te,_e){te=this.normalize(te);const Ze=(_e=this.normalize(_e))-te,et=_e<te?this.minimalMonotonic(te,_e)-te:_e-this.minimalMonotonic(_e,te);return Math.abs(Ze)<Math.abs(et)?Ze:et}contains(te,_e,Ze){return _e=this.minimalMonotonic(te,_e),(Ze=this.minimalMonotonic(te,Ze))>te&&Ze<_e}}function ve(Ye){for(const te in Ye){const _e=Ye[te];_e instanceof Function&&(Ye[te]=_e.bind(Ye))}return Ye}(0,ae.c)(),(0,ae.c)(),ve(new Q(0,2*Math.PI)),ve(new Q(-Math.PI,Math.PI));const ce=ve(new Q(0,360));var Ae;(0,ae.c)(),(0,ae.c)(),(0,ae.c)();let Fe=Ae=class extends T.wq{constructor(...Ye){super(...Ye),this.position=new W.Z([0,0,0]),this.heading=0,this.tilt=0,this.fov=55}normalizeCtorArgs(Ye,te,_e,Ze){if(Ye&&"object"==typeof Ye&&("x"in Ye||Array.isArray(Ye))){const et={position:Ye};return null!=te&&(et.heading=te),null!=_e&&(et.tilt=_e),null!=Ze&&(et.fov=Ze),et}return Ye}writePosition(Ye,te,_e,Ze){const et=Ye.clone();et.x=(0,X.q9)(Ye.x||0),et.y=(0,X.q9)(Ye.y||0),et.z=Ye.hasZ?(0,X.q9)(Ye.z||0):Ye.z,te[_e]=et.write({},Ze)}readPosition(Ye,te){const _e=new W.Z;return _e.read(Ye,te),_e.x=(0,X.q9)(_e.x||0),_e.y=(0,X.q9)(_e.y||0),_e.z=_e.hasZ?(0,X.q9)(_e.z||0):_e.z,_e}equals(Ye){return!!Ye&&this.tilt===Ye.tilt&&this.heading===Ye.heading&&this.fov===Ye.fov&&this.position.equals(Ye.position)}clone(){return new Ae({position:this.position.clone(),heading:this.heading,tilt:this.tilt,fov:this.fov})}};(0,x._)([(0,ne.Cb)({type:W.Z,json:{write:{isRequired:!0}}})],Fe.prototype,"position",void 0),(0,x._)([(0,B.c)("position")],Fe.prototype,"writePosition",null),(0,x._)([(0,j.r)("position")],Fe.prototype,"readPosition",null),(0,x._)([(0,ne.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,J.p)(Ye=>ce.normalize((0,X.q9)(Ye)))],Fe.prototype,"heading",void 0),(0,x._)([(0,ne.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,J.p)(Ye=>(0,re.uZ)((0,X.q9)(Ye),-180,180))],Fe.prototype,"tilt",void 0),(0,x._)([(0,ne.Cb)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Fe.prototype,"fov",void 0),Fe=Ae=(0,x._)([(0,A.j)("esri.Camera")],Fe);const tt=Fe;var Je,Re=C(29132),be=C(62208),Te=C(91179);let ut=Je=class extends T.wq{constructor(Ye){super(Ye),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(Ye){return(Ye%=360)<0&&(Ye+=360),Ye}clone(){return new Je({rotation:this.rotation,scale:this.scale,targetGeometry:(0,be.pC)(this.targetGeometry)?this.targetGeometry.clone():null,camera:(0,be.pC)(this.camera)?this.camera.clone():null})}};function Pe(){return{enabled:!this.camera}}(0,x._)([(0,ne.Cb)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:Pe}}}}})],ut.prototype,"rotation",void 0),(0,x._)([(0,J.p)("rotation")],ut.prototype,"castRotation",null),(0,x._)([(0,ne.Cb)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:Pe}}}}})],ut.prototype,"scale",void 0),(0,x._)([(0,ne.Cb)({types:Re.qM,json:{read:Te.im,write:!0,origins:{"web-scene":{read:Te.im,write:{overridePolicy:Pe}}}}})],ut.prototype,"targetGeometry",void 0),(0,x._)([(0,ne.Cb)({type:tt,json:{write:!0}})],ut.prototype,"camera",void 0),ut=Je=(0,x._)([(0,A.j)("esri.Viewpoint")],ut);const Qe=ut},7652:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>x});class x{constructor(re,ne){this.definition=null,this.context=null,this.definition=re,this.context=ne}}},98362:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>x});class x{constructor(re=[]){this._elements=re}length(){return this._elements.length}get(re){return this._elements[re]}toArray(){const re=[];for(let ne=0;ne<this.length();ne++)re.push(this.get(ne));return re}}},5371:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>re});var x=C(98362),T=C(26685);class re extends x.Z{constructor(ee,ie,J,j,A){super(ee),this._lazyPath=[],this._hasZ=!1,this._hasM=!1,this._hasZ=J,this._hasM=j,this._spRef=ie,this._cacheId=A}get(ee){if(void 0===this._lazyPath[ee]){const ie=this._elements[ee];if(void 0===ie)return;this._lazyPath[ee]=new T.Z(ie,this._spRef,this._hasZ,this._hasM,this._cacheId,ee)}return this._lazyPath[ee]}equalityTest(ee){return ee===this||null!==ee&&ee instanceof re&&ee.getUniqueHash()===this.getUniqueHash()}getUniqueHash(){return this._cacheId.toString()}}},26685:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>re});var x=C(98362),T=C(49672);class re extends x.Z{constructor(ee,ie,J,j,A,B){super(ee),this._lazyPt=[],this._hasZ=!1,this._hasM=!1,this._spRef=ie,this._hasZ=J,this._hasM=j,this._cacheId=A,this._partId=B}get(ee){if(void 0===this._lazyPt[ee]){const ie=this._elements[ee];if(void 0===ie)return;const J=this._hasZ,j=this._hasM;let A=null;A=J&&!j?new T.Z(ie[0],ie[1],ie[2],void 0,this._spRef):j&&!J?new T.Z(ie[0],ie[1],void 0,ie[2],this._spRef):J&&j?new T.Z(ie[0],ie[1],ie[2],ie[3],this._spRef):new T.Z(ie[0],ie[1],this._spRef),A.cache._arcadeCacheId=this._cacheId.toString()+"-"+this._partId.toString()+"-"+ee.toString(),this._lazyPt[ee]=A}return this._lazyPt[ee]}equalityTest(ee){return ee===this||null!==ee&&ee instanceof re&&ee.getUniqueHash()===this.getUniqueHash()}getUniqueHash(){return this._cacheId.toString()+"-"+this._partId.toString()}}},54346:(lt,Se,C)=>{"use strict";C.d(Se,{V:()=>j});var x=C(59318),re=(C(84792),C(26584)),ne=C(63290),ee=C(21726);const ie=ne.Z.getLogger("esri.assets");function j(A){if(!x.Z.assetsPath)throw ie.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new re.Z("assets:path-not-set","config.assetsPath is not set");return(0,ee.v_)(x.Z.assetsPath,A)}},71530:(lt,Se,C)=>{"use strict";C.d(Se,{a:()=>X});var A,x=C(17626),T=C(91558),re=C(86162),ne=C(58817),ee=C(77712),J=(C(90912),C(76898)),j=C(60958);let B=A=class extends re.wq{constructor(){super(...arguments),this.color=new T.Z("white")}clone(){return new A({color:(0,ne.d9)(this.color)})}};(0,x._)([(0,ee.Cb)(j.a)],B.prototype,"color",void 0),B=A=(0,x._)([(0,J.j)("esri.symbols.callouts.LineCallout3DBorder")],B);const X=B;Object.freeze({__proto__:null,get LineCallout3DBorder(){return B},default:X})},1719:(lt,Se,C)=>{"use strict";C.d(Se,{a:()=>re,c:()=>x,g:()=>T});var x="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function T(ne){return ne&&ne.__esModule&&Object.prototype.hasOwnProperty.call(ne,"default")?ne.default:ne}function re(ne){throw new Error('Could not dynamically require "'+ne+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}},39863:(lt,Se,C)=>{"use strict";C.d(Se,{E:()=>x,R:()=>T,a:()=>ie,t:()=>ee});const x=1e-6,T=Math.random,re=Math.PI/180,ne=180/Math.PI;function ee(A){return A*re}function ie(A){return A*ne}Object.freeze({__proto__:null,EPSILON:x,RANDOM:T,toRadian:ee,toDegree:ie,equals:function J(A,B){return Math.abs(A-B)<=x*Math.max(1,Math.abs(A),Math.abs(B))}})},47562:(lt,Se,C)=>{"use strict";C.d(Se,{A:()=>er,B:()=>Ut,C:()=>Wt,D:()=>ce,E:()=>me,F:()=>ut,G:()=>Et,H:()=>Re,I:()=>de,J:()=>Tt,K:()=>mr,L:()=>Gt,M:()=>kt,N:()=>H,O:()=>Qt,P:()=>Q,Q:()=>be,R:()=>q,S:()=>ge,T:()=>_e,U:()=>ct,V:()=>lr,a:()=>he,b:()=>Ae,c:()=>pe,d:()=>te,e:()=>Ye,f:()=>ve,g:()=>Qe,h:()=>Ot,i:()=>fe,j:()=>Ce,k:()=>ye,l:()=>Zt,m:()=>oe,n:()=>Fe,o:()=>xe,p:()=>tt,q:()=>we,r:()=>wt,s:()=>Ze,t:()=>ht,u:()=>Rt,v:()=>le,w:()=>Yt,x:()=>ue,y:()=>at,z:()=>ft});var x=C(7652),T=C(98362),re=C(5371),ne=C(26685),ee=C(10699),ie=C(2004),J=C(21674),j=C(72854),A=C(49672),B=C(37118),X=C(55214),W=C(27122),K=C(62208),ae=C(75327),$=C(25748),V=C(56683);class P{constructor(ot){this.value=ot}}class F{constructor(ot){this.value=ot}}class Z{constructor(ot){this.fn=ot}}class Y{constructor(ot,ze){this.paramCount=ze,this.fn=ot}}const H=Z,de=F,q=P,ge=Y,le={type:"VOID"},ye={type:"BREAK"},oe={type:"CONTINUE"};function Q(ke,ot,ze){return""===ot||null==ot||ot===ze||ot===ze?ke:ke=ke.split(ot).join(ze)}function pe(ke){return ke instanceof Z||ke instanceof x.Z||ke instanceof Y}function ue(ke){return!!(ve(ke)||Ce(ke)||Fe(ke)||fe(ke)||null===ke||ke===le||"number"==typeof ke)}function me(ke,ot){return void 0===ke?ot:ke}function ve(ke){return"string"==typeof ke||ke instanceof String}function fe(ke){return"boolean"==typeof ke}function Ce(ke){return"number"==typeof ke}function ce(ke){return"number"==typeof ke&&isFinite(ke)&&Math.floor(ke)===ke}function he(ke){return ke instanceof Array}function xe(ke){return!0===(ke&&ke.declaredRootClass&&"esri.arcade.featureset.support.FeatureSet"===ke.declaredRootClass)}function we(ke){return!0===(ke&&ke.declaredRootClass&&"esri.arcade.featureSetCollection"===ke.declaredRootClass)}function Ae(ke){return ke instanceof T.Z}function Fe(ke){return ke instanceof Date}function tt(ke,ot,ze){if(ke.length<ot||ke.length>ze)throw new Error("Function called with wrong number of Parameters")}function Re(ke){return ke<0?-Math.round(-ke):Math.round(ke)}function be(){let ke=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(ot){const ze=(ke+16*Math.random())%16|0;return ke=Math.floor(ke/16),("x"===ot?ze:3&ze|8).toString(16)})}function Te(ke,ot){return!1===isNaN(ke)?null==ot||""===ot?ke.toString():(ot=Q(ot,"\u2030",""),ot=Q(ot,"\xa4",""),(0,ae.WU)(ke,{pattern:ot})):ke.toString()}function Je(ke,ot){const ze=W.ou.fromJSDate(ke);return null==ot||""===ot?ze.toISO({suppressMilliseconds:!0}):ze.toFormat(ut(ot),{locale:(0,V.Kd)(),numberingSystem:"latn"})}function ut(ke){ke=ke.replace(/LTS|LT|LL?L?L?|l{1,4}/g,"[$&]");let ot="";const ze=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;for(const Xe of ke.match(ze))switch(Xe){case"D":ot+="d";break;case"DD":ot+="dd";break;case"DDD":ot+="o";break;case"d":ot+="c";break;case"ddd":ot+="ccc";break;case"dddd":ot+="cccc";break;case"M":ot+="L";break;case"MM":ot+="LL";break;case"MMM":ot+="LLL";break;case"MMMM":ot+="LLLL";break;case"YY":ot+="yy";break;case"Y":case"YYYY":ot+="yyyy";break;case"Q":ot+="q";break;case"Z":ot+="ZZ";break;case"ZZ":ot+="ZZZ";break;case"S":ot+="'S'";break;case"SS":ot+="'SS'";break;case"SSS":ot+="u";break;case"A":case"a":ot+="a";break;case"m":case"mm":case"h":case"hh":case"H":case"HH":case"s":case"ss":case"X":case"x":ot+=Xe;break;default:Xe.length>=2&&"["===Xe.slice(0,1)&&"]"===Xe.slice(-1)?ot+=`'${Xe.slice(1,-1)}'`:ot+=`'${Xe}'`}return ot}function Pe(ke,ot,ze){switch(ze){case">":return ke>ot;case"<":return ke<ot;case">=":return ke>=ot;case"<=":return ke<=ot}return!1}function Qe(ke,ot,ze){if(null===ke){if(null===ot||ot===le)return Pe(null,null,ze);if(Ce(ot))return Pe(0,ot,ze);if(ve(ot)||fe(ot))return Pe(0,ht(ot),ze);if(Fe(ot))return Pe(0,ot.getTime(),ze)}if(ke===le){if(null===ot||ot===le)return Pe(null,null,ze);if(Ce(ot))return Pe(0,ot,ze);if(ve(ot)||fe(ot))return Pe(0,ht(ot),ze);if(Fe(ot))return Pe(0,ot.getTime(),ze)}else if(Ce(ke)){if(Ce(ot))return Pe(ke,ot,ze);if(fe(ot))return Pe(ke,ht(ot),ze);if(null===ot||ot===le)return Pe(ke,0,ze);if(ve(ot))return Pe(ke,ht(ot),ze);if(Fe(ot))return Pe(ke,ot.getTime(),ze)}else if(ve(ke)){if(ve(ot))return Pe(te(ke),te(ot),ze);if(Fe(ot))return Pe(ht(ke),ot.getTime(),ze);if(Ce(ot))return Pe(ht(ke),ot,ze);if(null===ot||ot===le)return Pe(ht(ke),0,ze);if(fe(ot))return Pe(ht(ke),ht(ot),ze)}else if(Fe(ke)){if(Fe(ot))return Pe(ke,ot,ze);if(null===ot||ot===le)return Pe(ke.getTime(),0,ze);if(Ce(ot))return Pe(ke.getTime(),ot,ze);if(fe(ot)||ve(ot))return Pe(ke.getTime(),ht(ot),ze)}else if(fe(ke)){if(fe(ot))return Pe(ke,ot,ze);if(Ce(ot))return Pe(ht(ke),ht(ot),ze);if(Fe(ot))return Pe(ht(ke),ot.getTime(),ze);if(null===ot||ot===le)return Pe(ht(ke),0,ze);if(ve(ot))return Pe(ht(ke),ht(ot),ze)}return!!Ye(ke,ot)&&("<="===ze||">="===ze)}function Ye(ke,ot){if(ke===ot||null===ke&&ot===le||null===ot&&ke===le)return!0;if(Fe(ke)&&Fe(ot))return ke.getTime()===ot.getTime();if(ke instanceof re.Z||ke instanceof ne.Z)return ke.equalityTest(ot);if(ke instanceof A.Z&&ot instanceof A.Z){const ze=ke.cache._arcadeCacheId,Xe=ot.cache._arcadeCacheId;if(null!=ze)return ze===Xe}return void 0!==ke&&void 0!==ot&&null!==ke&&null!==ot&&"object"==typeof ke&&"object"==typeof ot&&(ke._arcadeCacheId===ot._arcadeCacheId&&null!=ke._arcadeCacheId||ke._underlyingGraphic===ot._underlyingGraphic&&null!=ke._underlyingGraphic)}function te(ke,ot){if(ve(ke))return ke;if(null===ke)return"";if(Ce(ke))return Te(ke,ot);if(fe(ke))return ke.toString();if(Fe(ke))return Je(ke,ot);if(ke instanceof J.Z)return JSON.stringify(ke.toJSON());if(he(ke)){const ze=[];for(let Xe=0;Xe<ke.length;Xe++)ze[Xe]=et(ke[Xe]);return"["+ze.join(",")+"]"}if(ke instanceof T.Z){const ze=[];for(let Xe=0;Xe<ke.length();Xe++)ze[Xe]=et(ke.get(Xe));return"["+ze.join(",")+"]"}return null!==ke&&"object"==typeof ke&&void 0!==ke.castToText?ke.castToText():pe(ke)?"object, Function":""}function _e(ke){const ot=[];if(!1===he(ke))return null;if(ke instanceof T.Z){for(let ze=0;ze<ke.length();ze++)ot[ze]=ht(ke.get(ze));return ot}for(let ze=0;ze<ke.length;ze++)ot[ze]=ht(ke[ze]);return ot}function Ze(ke,ot){if(ve(ke))return ke;if(null===ke)return"";if(Ce(ke))return Te(ke,ot);if(fe(ke))return ke.toString();if(Fe(ke))return Je(ke,ot);if(ke instanceof J.Z)return ke instanceof ie.Z?'{"xmin":'+ke.xmin.toString()+',"ymin":'+ke.ymin.toString()+","+(ke.hasZ?'"zmin":'+ke.zmin.toString()+",":"")+(ke.hasM?'"mmin":'+ke.mmin.toString()+",":"")+'"xmax":'+ke.xmax.toString()+',"ymax":'+ke.ymax.toString()+","+(ke.hasZ?'"zmax":'+ke.zmax.toString()+",":"")+(ke.hasM?'"mmax":'+ke.mmax.toString()+",":"")+'"spatialReference":'+yr(ke.spatialReference)+"}":yr(ke.toJSON(),(ze,Xe)=>ze.key===Xe.key?0:"spatialReference"===ze.key?1:"spatialReference"===Xe.key||ze.key<Xe.key?-1:ze.key>Xe.key?1:0);if(he(ke)){const ze=[];for(let Xe=0;Xe<ke.length;Xe++)ze[Xe]=et(ke[Xe]);return"["+ze.join(",")+"]"}if(ke instanceof T.Z){const ze=[];for(let Xe=0;Xe<ke.length();Xe++)ze[Xe]=et(ke.get(Xe));return"["+ze.join(",")+"]"}return null!==ke&&"object"==typeof ke&&void 0!==ke.castToText?ke.castToText():pe(ke)?"object, Function":""}function et(ke){if(null===ke)return"null";if(fe(ke)||Ce(ke)||ve(ke))return JSON.stringify(ke);if(ke instanceof J.Z||ke instanceof T.Z||ke instanceof Array)return Ze(ke);if(ke instanceof Date)return JSON.stringify(Je(ke,""));if(null!==ke&&"object"==typeof ke){if(void 0!==ke.castToText)return ke.castToText()}else if(ke===le)return"null";return"null"}function ht(ke,ot){return Ce(ke)?ke:null===ke||""===ke?0:Fe(ke)?NaN:fe(ke)?ke?1:0:he(ke)||""===ke||void 0===ke?NaN:void 0!==ot&&ve(ke)?(ot=Q(ot,"\u2030",""),ot=Q(ot,"\xa4",""),(0,ae.Qc)(ke,{pattern:ot})):ke===le?0:Number(ke)}function ft(ke){if(Fe(ke))return ke;if(ve(ke)){const ot=mt(ke);if(ot)return ot.toJSDate()}return null}function Et(ke){return Fe(ke)?W.ou.fromJSDate(ke):ve(ke)?mt(ke):null}function mt(ke){const ot=/ (\d\d)/;let ze=W.ou.fromISO(ke);return ze.isValid||ot.test(ke)&&(ke=ke.replace(ot,"T$1"),ze=W.ou.fromISO(ke),ze.isValid)?ze:null}function at(ke){return fe(ke)?ke:ve(ke)?"true"===(ke=ke.toLowerCase()):!!Ce(ke)&&0!==ke&&!isNaN(ke)}function wt(ke,ot){return(0,K.Wi)(ke)?null:(null!=ke.spatialReference||(ke.spatialReference=ot),ke)}function Tt(ke){if(null===ke)return null;if(ke instanceof A.Z)return"NaN"===ke.x||null===ke.x||isNaN(ke.x)?null:ke;if(ke instanceof B.Z){if(0===ke.rings.length)return null;for(const ot of ke.rings)if(ot.length>0)return ke;return null}if(ke instanceof X.Z){if(0===ke.paths.length)return null;for(const ot of ke.paths)if(ot.length>0)return ke;return null}return ke instanceof j.Z?0===ke.points.length?null:ke:ke instanceof ie.Z?"NaN"===ke.xmin||null===ke.xmin||isNaN(ke.xmin)?null:ke:null}function Ut(ke,ot){if(!ke||!ke.domain)return ot;let ze=null;if("string"===ke.field.type||"esriFieldTypeString"===ke.field.type)ot=te(ot);else{if(null==ot)return null;if(""===ot)return ot;ot=ht(ot)}for(let Xe=0;Xe<ke.domain.codedValues.length;Xe++){const He=ke.domain.codedValues[Xe];He.code===ot&&(ze=He)}return null===ze?ot:ze.name}function Wt(ke,ot){if(!ke||!ke.domain)return ot;let ze=null;ot=te(ot);for(let Xe=0;Xe<ke.domain.codedValues.length;Xe++){const He=ke.domain.codedValues[Xe];He.name===ot&&(ze=He)}return null===ze?ot:ze.code}function er(ke,ot,ze=null,Xe){if(!ot||!ot.fields)return null;let He,Ue,nt=null;for(let Mt=0;Mt<ot.fields.length;Mt++){const tr=ot.fields[Mt];tr.name.toLowerCase()===ke.toString().toLowerCase()&&(nt=tr)}if(null===nt)throw new Error("Field not found");return Xe||(Xe=ze&&ot.typeIdField&&ze._field(ot.typeIdField)),null!=Xe&&ot.types.some(function(Mt){return Mt.id===Xe&&(He=Mt.domains&&Mt.domains[nt.name],He&&"inherited"===He.type&&(He=gr(nt.name,ot),Ue=!0),!0)}),Ue||He||(He=gr(ke,ot)),{field:nt,domain:He}}function gr(ke,ot){let ze;return ot.fields.some(function(Xe){return Xe.name.toLowerCase()===ke.toLowerCase()&&(ze=Xe.domain),!!ze}),ze}function yr(ke,ot){ot||(ot={}),"function"==typeof ot&&(ot={cmp:ot});const ze="boolean"==typeof ot.cycles&&ot.cycles,Xe=ot.cmp&&(He=ot.cmp,function(nt){return function(Mt,tr){return He({key:Mt,value:nt[Mt]},{key:tr,value:nt[tr]})}});var He;const Ue=[];return function nt(Mt){if(Mt&&Mt.toJSON&&"function"==typeof Mt.toJSON&&(Mt=Mt.toJSON()),void 0===Mt)return;if("number"==typeof Mt)return isFinite(Mt)?""+Mt:"null";if("object"!=typeof Mt)return JSON.stringify(Mt);let tr,br;if(Array.isArray(Mt)){for(br="[",tr=0;tr<Mt.length;tr++)tr&&(br+=","),br+=nt(Mt[tr])||"null";return br+"]"}if(null===Mt)return"null";if(-1!==Ue.indexOf(Mt)){if(ze)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}const xr=Ue.push(Mt)-1,Ur=Object.keys(Mt).sort(Xe&&Xe(Mt));for(br="",tr=0;tr<Ur.length;tr++){const Br=Ur[tr],nn=nt(Mt[Br]);nn&&(br&&(br+=","),br+=JSON.stringify(Br)+":"+nn)}return Ue.splice(xr,1),"{"+br+"}"}(ke)}function mr(ke){if(null===ke)return null;const ot=[];for(const ze of ke)ot.push(ze&&(ze.declaredClass&&"esri.arcade.Feature"===ze.declaredClass||"FeatureSetReader"===ze.type)?ze.geometry():ze);return ot}function gt(ke,ot){if(!(ot instanceof A.Z))throw new Error("Invalid Argument");ke.push(ot.hasZ?ot.hasM?[ot.x,ot.y,ot.z,ot.m]:[ot.x,ot.y,ot.z]:[ot.x,ot.y])}function kt(ke,ot){if(he(ke)||Ae(ke)){let ze=!1,Xe=!1,He=[],Ue=ot;if(he(ke)){for(const nt of ke)gt(He,nt);He.length>0&&(Ue=ke[0].spatialReference,ze=ke[0].hasZ,Xe=ke[0].hasM)}else if(ke instanceof ne.Z)He=ke._elements,He.length>0&&(ze=ke._hasZ,Xe=ke._hasM,Ue=ke.get(0).spatialReference);else{if(!Ae(ke))throw new Error("Invalid Argument");for(const nt of ke.toArray())gt(He,nt);He.length>0&&(Ue=ke.get(0).spatialReference,ze=!0===ke.get(0).hasZ,Xe=!0===ke.get(0).hasM)}return 0===He.length?null:(!1===(0,$.bu)(He,Xe,ze)&&(He=He.slice(0).reverse()),new B.Z({rings:[He],spatialReference:Ue,hasZ:ze,hasM:Xe}))}return ke}function Gt(ke,ot){if(he(ke)||Ae(ke)){let ze=!1,Xe=!1,He=[],Ue=ot;if(he(ke)){for(const nt of ke)gt(He,nt);He.length>0&&(Ue=ke[0].spatialReference,ze=!0===ke[0].hasZ,Xe=!0===ke[0].hasM)}else if(ke instanceof ne.Z)He=ke._elements,He.length>0&&(ze=ke._hasZ,Xe=ke._hasM,Ue=ke.get(0).spatialReference);else if(Ae(ke)){for(const nt of ke.toArray())gt(He,nt);He.length>0&&(Ue=ke.get(0).spatialReference,ze=!0===ke.get(0).hasZ,Xe=!0===ke.get(0).hasM)}return 0===He.length?null:new X.Z({paths:[He],spatialReference:Ue,hasZ:ze,hasM:Xe})}return ke}function Qt(ke,ot){if(he(ke)||Ae(ke)){let ze=!1,Xe=!1,He=[],Ue=ot;if(he(ke)){for(const nt of ke)gt(He,nt);He.length>0&&(Ue=ke[0].spatialReference,ze=!0===ke[0].hasZ,Xe=!0===ke[0].hasM)}else if(ke instanceof ne.Z)He=ke._elements,He.length>0&&(ze=ke._hasZ,Xe=ke._hasM,Ue=ke.get(0).spatialReference);else if(Ae(ke)){for(const nt of ke.toArray())gt(He,nt);He.length>0&&(Ue=ke.get(0).spatialReference,ze=!0===ke.get(0).hasZ,Xe=!0===ke.get(0).hasM)}return 0===He.length?null:new j.Z({points:He,spatialReference:Ue,hasZ:ze,hasM:Xe})}return ke}function lr(ke,ot=!1){const ze=[];if(null===ke)return ze;if(!0===he(ke)){for(let Xe=0;Xe<ke.length;Xe++){const He=te(ke[Xe]);""===He&&!0!==ot||ze.push(He)}return ze}if(ke instanceof T.Z){for(let Xe=0;Xe<ke.length();Xe++){const He=te(ke.get(Xe));""===He&&!0!==ot||ze.push(He)}return ze}if(ue(ke)){const Xe=te(ke);return""===Xe&&!0!==ot||ze.push(Xe),ze}return[]}let dr=0;function ct(ke){return dr++,dr%100==0?(dr=0,(0,ee.Ue)(ot=>{setTimeout(()=>{ot(ke)},0)})):ke}function Ot(ke,ot,ze){switch(ze){case"&":return ke&ot;case"|":return ke|ot;case"^":return ke^ot;case"<<":return ke<<ot;case">>":return ke>>ot;case">>>":return ke>>>ot}}function Rt(ke,ot=null){return null==ke?null:fe(ke)||Ce(ke)||ve(ke)?ke:ke instanceof J.Z?!0===(null==ot?void 0:ot.keepGeometryType)?ke:ke.toJSON():ke instanceof T.Z?ke.toArray().map(ze=>Rt(ze,ot)):ke instanceof Array?ke.map(ze=>Rt(ze,ot)):ke instanceof Date?ke:null!==ke&&"object"==typeof ke&&void 0!==ke.castAsJson?ke.castAsJson(ot):null}function Vt(ke,ot,ze,Xe,He){return Yt(ke,ot,ze).then(Ue=>{He[Xe]=Ue})}function Yt(ke,ot=null,ze=null){if(ke instanceof T.Z&&(ke=ke.toArray()),null==ke)return(0,ee.DB)(null);if(ue(ke)||ke instanceof J.Z||ke instanceof Date)return(0,ee.DB)(Rt(ke,ze));if(ke instanceof Array){const Xe=[],He=[];for(const Ue of ke)null===Ue||ue(Ue)||Ue instanceof J.Z||Ue instanceof Date?He.push(Rt(Ue,ze)):(He.push(null),Xe.push(Vt(Ue,ot,ze,He.length-1,He)));return Xe.length>0?(0,ee.$6)(Xe).then(()=>He):(0,ee.DB)(He)}return null!==ke&&"object"==typeof ke&&void 0!==ke.castAsJsonAsync?ke.castAsJsonAsync(ot,ze):(0,ee.DB)(null)}const Zt=Object.freeze({__proto__:null,ReturnResultE:P,ImplicitResultE:F,NativeFunctionE:Z,SizzleFunctionE:Y,NativeFunction:H,ImplicitResult:de,ReturnResult:q,SizzleFunction:ge,voidOperation:le,breakResult:ye,continueResult:oe,multiReplace:Q,isFunctionParameter:pe,isSimpleType:ue,defaultUndefined:me,isString:ve,isBoolean:fe,isNumber:Ce,isInteger:ce,isArray:he,isFeatureSet:xe,isFeatureSetCollection:we,isImmutableArray:Ae,isDate:Fe,pcCheck:tt,absRound:Re,generateUUID:be,formatNumber:Te,formatDate:Je,standardiseDateFormat:ut,greaterThanLessThan:Qe,equalityTest:Ye,toString:te,toNumberArray:_e,toStringExplicit:Ze,toNumber:ht,toDate:ft,toDateTime:Et,toBoolean:at,fixSpatialReference:wt,fixNullGeometry:Tt,getDomainValue:Ut,getDomainCode:Wt,getDomain:er,stableStringify:yr,autoCastFeatureToGeometry:mr,autoCastArrayOfPointsToPolygon:kt,autoCastArrayOfPointsToPolyline:Gt,autoCastArrayOfPointsToMultiPoint:Qt,toStringArray:lr,tick:ct,binaryOperator:Ot,castAsJson:Rt,castAsJsonAsync:Yt})},31478:(lt,Se,C)=>{"use strict";C.d(Se,{a:()=>ee,b:()=>X,f:()=>W,i:()=>re,m:()=>J,r:()=>j,s:()=>A,t:()=>B});var x=C(39863);function re(le){return le[0]=1,le[1]=0,le[2]=0,le[3]=1,le[4]=0,le[5]=0,le}function ee(le,ye){const oe=ye[0],Q=ye[1],pe=ye[2],ue=ye[3],me=ye[4],ve=ye[5];let fe=oe*ue-Q*pe;return fe?(fe=1/fe,le[0]=ue*fe,le[1]=-Q*fe,le[2]=-pe*fe,le[3]=oe*fe,le[4]=(pe*ve-ue*me)*fe,le[5]=(Q*me-oe*ve)*fe,le):null}function J(le,ye,oe){const Q=ye[0],pe=ye[1],ue=ye[2],me=ye[3],ve=ye[4],fe=ye[5],Ce=oe[0],ce=oe[1],he=oe[2],xe=oe[3],we=oe[4],Ae=oe[5];return le[0]=Q*Ce+ue*ce,le[1]=pe*Ce+me*ce,le[2]=Q*he+ue*xe,le[3]=pe*he+me*xe,le[4]=Q*we+ue*Ae+ve,le[5]=pe*we+me*Ae+fe,le}function j(le,ye,oe){const Q=ye[0],pe=ye[1],ue=ye[2],me=ye[3],ve=ye[4],fe=ye[5],Ce=Math.sin(oe),ce=Math.cos(oe);return le[0]=Q*ce+ue*Ce,le[1]=pe*ce+me*Ce,le[2]=Q*-Ce+ue*ce,le[3]=pe*-Ce+me*ce,le[4]=ve,le[5]=fe,le}function A(le,ye,oe){const pe=ye[1],ue=ye[2],me=ye[3],ve=ye[4],fe=ye[5],Ce=oe[0],ce=oe[1];return le[0]=ye[0]*Ce,le[1]=pe*Ce,le[2]=ue*ce,le[3]=me*ce,le[4]=ve,le[5]=fe,le}function B(le,ye,oe){const Q=ye[0],pe=ye[1],ue=ye[2],me=ye[3],ve=ye[4],fe=ye[5],Ce=oe[0],ce=oe[1];return le[0]=Q,le[1]=pe,le[2]=ue,le[3]=me,le[4]=Q*Ce+ue*ce+ve,le[5]=pe*Ce+me*ce+fe,le}function X(le,ye){const oe=Math.sin(ye),Q=Math.cos(ye);return le[0]=Q,le[1]=oe,le[2]=-oe,le[3]=Q,le[4]=0,le[5]=0,le}function W(le,ye){return le[0]=ye[0],le[1]=0,le[2]=0,le[3]=ye[1],le[4]=0,le[5]=0,le}function P(le,ye,oe){return le[0]=ye[0]-oe[0],le[1]=ye[1]-oe[1],le[2]=ye[2]-oe[2],le[3]=ye[3]-oe[3],le[4]=ye[4]-oe[4],le[5]=ye[5]-oe[5],le}Object.freeze({__proto__:null,copy:function T(le,ye){return le[0]=ye[0],le[1]=ye[1],le[2]=ye[2],le[3]=ye[3],le[4]=ye[4],le[5]=ye[5],le},identity:re,set:function ne(le,ye,oe,Q,pe,ue,me){return le[0]=ye,le[1]=oe,le[2]=Q,le[3]=pe,le[4]=ue,le[5]=me,le},invert:ee,determinant:function ie(le){return le[0]*le[3]-le[1]*le[2]},multiply:J,rotate:j,scale:A,translate:B,fromRotation:X,fromScaling:W,fromTranslation:function K(le,ye){return le[0]=1,le[1]=0,le[2]=0,le[3]=1,le[4]=ye[0],le[5]=ye[1],le},str:function ae(le){return"mat2d("+le[0]+", "+le[1]+", "+le[2]+", "+le[3]+", "+le[4]+", "+le[5]+")"},frob:function $(le){return Math.sqrt(le[0]**2+le[1]**2+le[2]**2+le[3]**2+le[4]**2+le[5]**2+1)},add:function V(le,ye,oe){return le[0]=ye[0]+oe[0],le[1]=ye[1]+oe[1],le[2]=ye[2]+oe[2],le[3]=ye[3]+oe[3],le[4]=ye[4]+oe[4],le[5]=ye[5]+oe[5],le},subtract:P,multiplyScalar:function F(le,ye,oe){return le[0]=ye[0]*oe,le[1]=ye[1]*oe,le[2]=ye[2]*oe,le[3]=ye[3]*oe,le[4]=ye[4]*oe,le[5]=ye[5]*oe,le},multiplyScalarAndAdd:function Z(le,ye,oe,Q){return le[0]=ye[0]+oe[0]*Q,le[1]=ye[1]+oe[1]*Q,le[2]=ye[2]+oe[2]*Q,le[3]=ye[3]+oe[3]*Q,le[4]=ye[4]+oe[4]*Q,le[5]=ye[5]+oe[5]*Q,le},exactEquals:function Y(le,ye){return le[0]===ye[0]&&le[1]===ye[1]&&le[2]===ye[2]&&le[3]===ye[3]&&le[4]===ye[4]&&le[5]===ye[5]},equals:function H(le,ye){const oe=le[0],Q=le[1],pe=le[2],ue=le[3],me=le[4],ve=le[5],fe=ye[0],Ce=ye[1],ce=ye[2],he=ye[3],xe=ye[4],we=ye[5];return Math.abs(oe-fe)<=x.E*Math.max(1,Math.abs(oe),Math.abs(fe))&&Math.abs(Q-Ce)<=x.E*Math.max(1,Math.abs(Q),Math.abs(Ce))&&Math.abs(pe-ce)<=x.E*Math.max(1,Math.abs(pe),Math.abs(ce))&&Math.abs(ue-he)<=x.E*Math.max(1,Math.abs(ue),Math.abs(he))&&Math.abs(me-xe)<=x.E*Math.max(1,Math.abs(me),Math.abs(xe))&&Math.abs(ve-we)<=x.E*Math.max(1,Math.abs(ve),Math.abs(we))},mul:J,sub:P})},12225:(lt,Se,C)=>{"use strict";function x(){const j=new Float32Array(6);return j[0]=1,j[3]=1,j}function ee(j,A,B,X){const W=A[X],K=A[X+1];j[X]=B[0]*W+B[2]*K+B[4],j[X+1]=B[1]*W+B[3]*K+B[5]}function ie(j,A,B,X=0,W=0,K=2){const ae=W||A.length/K;for(let $=X;$<ae;$++)ee(j,A,B,$*K)}C.d(Se,{c:()=>x,t:()=>ie}),Object.freeze({__proto__:null,create:x,clone:function T(j){const A=new Float32Array(6);return A[0]=j[0],A[1]=j[1],A[2]=j[2],A[3]=j[3],A[4]=j[4],A[5]=j[5],A},fromValues:function re(j,A,B,X,W,K){const ae=new Float32Array(6);return ae[0]=j,ae[1]=A,ae[2]=B,ae[3]=X,ae[4]=W,ae[5]=K,ae},createView:function ne(j,A){return new Float32Array(j,A,6)},transform:ee,transformMany:ie})},46342:(lt,Se,C)=>{"use strict";function x(){return[1,0,0,1,0,0]}C.d(Se,{c:()=>x}),Object.freeze({__proto__:null,create:x,clone:function T(ie){return[ie[0],ie[1],ie[2],ie[3],ie[4],ie[5]]},fromValues:function re(ie,J,j,A,B,X){return[ie,J,j,A,B,X]},createView:function ne(ie,J){return new Float64Array(ie,J,6)}})},30217:(lt,Se,C)=>{"use strict";C.d(Se,{a:()=>H,b:()=>ee,c:()=>X,d:()=>K,f:()=>T,i:()=>me,j:()=>ae,m:()=>B,r:()=>W,s:()=>ne,t:()=>ie});var x=C(39863);function T(ce,he){return ce[0]=he[0],ce[1]=he[1],ce[2]=he[2],ce[3]=he[4],ce[4]=he[5],ce[5]=he[6],ce[6]=he[8],ce[7]=he[9],ce[8]=he[10],ce}function ne(ce,he,xe,we,Ae,Fe,tt,Re,be,Te){return ce[0]=he,ce[1]=xe,ce[2]=we,ce[3]=Ae,ce[4]=Fe,ce[5]=tt,ce[6]=Re,ce[7]=be,ce[8]=Te,ce}function ee(ce){return ce[0]=1,ce[1]=0,ce[2]=0,ce[3]=0,ce[4]=1,ce[5]=0,ce[6]=0,ce[7]=0,ce[8]=1,ce}function ie(ce,he){if(ce===he){const xe=he[1],we=he[2],Ae=he[5];ce[1]=he[3],ce[2]=he[6],ce[3]=xe,ce[5]=he[7],ce[6]=we,ce[7]=Ae}else ce[0]=he[0],ce[1]=he[3],ce[2]=he[6],ce[3]=he[1],ce[4]=he[4],ce[5]=he[7],ce[6]=he[2],ce[7]=he[5],ce[8]=he[8];return ce}function B(ce,he,xe){const we=he[0],Ae=he[1],Fe=he[2],tt=he[3],Re=he[4],be=he[5],Te=he[6],Je=he[7],ut=he[8],Pe=xe[0],Qe=xe[1],Ye=xe[2],te=xe[3],_e=xe[4],Ze=xe[5],et=xe[6],ht=xe[7],ft=xe[8];return ce[0]=Pe*we+Qe*tt+Ye*Te,ce[1]=Pe*Ae+Qe*Re+Ye*Je,ce[2]=Pe*Fe+Qe*be+Ye*ut,ce[3]=te*we+_e*tt+Ze*Te,ce[4]=te*Ae+_e*Re+Ze*Je,ce[5]=te*Fe+_e*be+Ze*ut,ce[6]=et*we+ht*tt+ft*Te,ce[7]=et*Ae+ht*Re+ft*Je,ce[8]=et*Fe+ht*be+ft*ut,ce}function X(ce,he,xe){const we=he[0],Ae=he[1],Fe=he[2],tt=he[3],Re=he[4],be=he[5],Te=he[6],Je=he[7],ut=he[8],Pe=xe[0],Qe=xe[1];return ce[0]=we,ce[1]=Ae,ce[2]=Fe,ce[3]=tt,ce[4]=Re,ce[5]=be,ce[6]=Pe*we+Qe*tt+Te,ce[7]=Pe*Ae+Qe*Re+Je,ce[8]=Pe*Fe+Qe*be+ut,ce}function W(ce,he,xe){const we=he[0],Ae=he[1],Fe=he[2],tt=he[3],Re=he[4],be=he[5],Te=he[6],Je=he[7],ut=he[8],Pe=Math.sin(xe),Qe=Math.cos(xe);return ce[0]=Qe*we+Pe*tt,ce[1]=Qe*Ae+Pe*Re,ce[2]=Qe*Fe+Pe*be,ce[3]=Qe*tt-Pe*we,ce[4]=Qe*Re-Pe*Ae,ce[5]=Qe*be-Pe*Fe,ce[6]=Te,ce[7]=Je,ce[8]=ut,ce}function K(ce,he,xe){const we=xe[0],Ae=xe[1],Fe=xe[2];return ce[0]=we*he[0],ce[1]=we*he[1],ce[2]=we*he[2],ce[3]=Ae*he[3],ce[4]=Ae*he[4],ce[5]=Ae*he[5],ce[6]=Fe*he[6],ce[7]=Fe*he[7],ce[8]=Fe*he[8],ce}function ae(ce,he,xe){const we=xe[0],Ae=xe[1];return ce[0]=we*he[0],ce[1]=we*he[1],ce[2]=we*he[2],ce[3]=Ae*he[3],ce[4]=Ae*he[4],ce[5]=Ae*he[5],ce}function H(ce,he){const xe=he[0],we=he[1],Ae=he[2],Fe=he[3],tt=he[4],Re=he[5],be=he[6],Te=he[7],Je=he[8],ut=he[9],Pe=he[10],Qe=he[11],Ye=he[12],te=he[13],_e=he[14],Ze=he[15],et=xe*Re-we*tt,ht=xe*be-Ae*tt,ft=xe*Te-Fe*tt,Et=we*be-Ae*Re,mt=we*Te-Fe*Re,at=Ae*Te-Fe*be,wt=Je*te-ut*Ye,Tt=Je*_e-Pe*Ye,Ut=Je*Ze-Qe*Ye,Wt=ut*_e-Pe*te,er=ut*Ze-Qe*te,gr=Pe*Ze-Qe*_e;let yr=et*gr-ht*er+ft*Wt+Et*Ut-mt*Tt+at*wt;return yr?(yr=1/yr,ce[0]=(Re*gr-be*er+Te*Wt)*yr,ce[1]=(be*Ut-tt*gr-Te*Tt)*yr,ce[2]=(tt*er-Re*Ut+Te*wt)*yr,ce[3]=(Ae*er-we*gr-Fe*Wt)*yr,ce[4]=(xe*gr-Ae*Ut+Fe*Tt)*yr,ce[5]=(we*Ut-xe*er-Fe*wt)*yr,ce[6]=(te*at-_e*mt+Ze*Et)*yr,ce[7]=(_e*ft-Ye*at-Ze*ht)*yr,ce[8]=(Ye*mt-te*ft+Ze*et)*yr,ce):null}function ye(ce,he,xe){return ce[0]=he[0]-xe[0],ce[1]=he[1]-xe[1],ce[2]=he[2]-xe[2],ce[3]=he[3]-xe[3],ce[4]=he[4]-xe[4],ce[5]=he[5]-xe[5],ce[6]=he[6]-xe[6],ce[7]=he[7]-xe[7],ce[8]=he[8]-xe[8],ce}function me(ce){const he=x.E,xe=ce[0],we=ce[1],Ae=ce[2],Fe=ce[3],tt=ce[4],Re=ce[5],be=ce[6],Te=ce[7],Je=ce[8];return Math.abs(1-(xe*xe+Fe*Fe+be*be))<=he&&Math.abs(1-(we*we+tt*tt+Te*Te))<=he&&Math.abs(1-(Ae*Ae+Re*Re+Je*Je))<=he}Object.freeze({__proto__:null,fromMat4:T,copy:function re(ce,he){return ce[0]=he[0],ce[1]=he[1],ce[2]=he[2],ce[3]=he[3],ce[4]=he[4],ce[5]=he[5],ce[6]=he[6],ce[7]=he[7],ce[8]=he[8],ce},set:ne,identity:ee,transpose:ie,invert:function J(ce,he){const xe=he[0],we=he[1],Ae=he[2],Fe=he[3],tt=he[4],Re=he[5],be=he[6],Te=he[7],Je=he[8],ut=Je*tt-Re*Te,Pe=-Je*Fe+Re*be,Qe=Te*Fe-tt*be;let Ye=xe*ut+we*Pe+Ae*Qe;return Ye?(Ye=1/Ye,ce[0]=ut*Ye,ce[1]=(-Je*we+Ae*Te)*Ye,ce[2]=(Re*we-Ae*tt)*Ye,ce[3]=Pe*Ye,ce[4]=(Je*xe-Ae*be)*Ye,ce[5]=(-Re*xe+Ae*Fe)*Ye,ce[6]=Qe*Ye,ce[7]=(-Te*xe+we*be)*Ye,ce[8]=(tt*xe-we*Fe)*Ye,ce):null},adjoint:function j(ce,he){const xe=he[0],we=he[1],Ae=he[2],Fe=he[3],tt=he[4],Re=he[5],be=he[6],Te=he[7],Je=he[8];return ce[0]=tt*Je-Re*Te,ce[1]=Ae*Te-we*Je,ce[2]=we*Re-Ae*tt,ce[3]=Re*be-Fe*Je,ce[4]=xe*Je-Ae*be,ce[5]=Ae*Fe-xe*Re,ce[6]=Fe*Te-tt*be,ce[7]=we*be-xe*Te,ce[8]=xe*tt-we*Fe,ce},determinant:function A(ce){const Ae=ce[3],Fe=ce[4],tt=ce[5],Re=ce[6],be=ce[7],Te=ce[8];return ce[0]*(Te*Fe-tt*be)+ce[1]*(-Te*Ae+tt*Re)+ce[2]*(be*Ae-Fe*Re)},multiply:B,translate:X,rotate:W,scale:K,scaleByVec2:ae,fromTranslation:function $(ce,he){return ce[0]=1,ce[1]=0,ce[2]=0,ce[3]=0,ce[4]=1,ce[5]=0,ce[6]=he[0],ce[7]=he[1],ce[8]=1,ce},fromRotation:function V(ce,he){const xe=Math.sin(he),we=Math.cos(he);return ce[0]=we,ce[1]=xe,ce[2]=0,ce[3]=-xe,ce[4]=we,ce[5]=0,ce[6]=0,ce[7]=0,ce[8]=1,ce},fromScaling:function P(ce,he){return ce[0]=he[0],ce[1]=0,ce[2]=0,ce[3]=0,ce[4]=he[1],ce[5]=0,ce[6]=0,ce[7]=0,ce[8]=1,ce},fromMat2d:function F(ce,he){return ce[0]=he[0],ce[1]=he[1],ce[2]=0,ce[3]=he[2],ce[4]=he[3],ce[5]=0,ce[6]=he[4],ce[7]=he[5],ce[8]=1,ce},fromQuat:function Z(ce,he){const xe=he[0],we=he[1],Ae=he[2],Fe=he[3],tt=xe+xe,Re=we+we,be=Ae+Ae,Te=xe*tt,Je=we*tt,ut=we*Re,Pe=Ae*tt,Qe=Ae*Re,Ye=Ae*be,te=Fe*tt,_e=Fe*Re,Ze=Fe*be;return ce[0]=1-ut-Ye,ce[3]=Je-Ze,ce[6]=Pe+_e,ce[1]=Je+Ze,ce[4]=1-Te-Ye,ce[7]=Qe-te,ce[2]=Pe-_e,ce[5]=Qe+te,ce[8]=1-Te-ut,ce},normalFromMat4Legacy:function Y(ce,he){const xe=he[0],we=he[1],Ae=he[2],Fe=he[4],tt=he[5],Re=he[6],be=he[8],Te=he[9],Je=he[10],ut=Je*tt-Re*Te,Pe=-Je*Fe+Re*be,Qe=Te*Fe-tt*be,Ye=xe*ut+we*Pe+Ae*Qe;if(!Ye)return null;const te=1/Ye;return ce[0]=ut*te,ce[1]=(-Je*we+Ae*Te)*te,ce[2]=(Re*we-Ae*tt)*te,ce[3]=Pe*te,ce[4]=(Je*xe-Ae*be)*te,ce[5]=(-Re*xe+Ae*Fe)*te,ce[6]=Qe*te,ce[7]=(-Te*xe+we*be)*te,ce[8]=(tt*xe-we*Fe)*te,ce},normalFromMat4:H,projection:function de(ce,he,xe){return ce[0]=2/he,ce[1]=0,ce[2]=0,ce[3]=0,ce[4]=-2/xe,ce[5]=0,ce[6]=-1,ce[7]=1,ce[8]=1,ce},str:function q(ce){return"mat3("+ce[0]+", "+ce[1]+", "+ce[2]+", "+ce[3]+", "+ce[4]+", "+ce[5]+", "+ce[6]+", "+ce[7]+", "+ce[8]+")"},frob:function ge(ce){return Math.sqrt(ce[0]**2+ce[1]**2+ce[2]**2+ce[3]**2+ce[4]**2+ce[5]**2+ce[6]**2+ce[7]**2+ce[8]**2)},add:function le(ce,he,xe){return ce[0]=he[0]+xe[0],ce[1]=he[1]+xe[1],ce[2]=he[2]+xe[2],ce[3]=he[3]+xe[3],ce[4]=he[4]+xe[4],ce[5]=he[5]+xe[5],ce[6]=he[6]+xe[6],ce[7]=he[7]+xe[7],ce[8]=he[8]+xe[8],ce},subtract:ye,multiplyScalar:function oe(ce,he,xe){return ce[0]=he[0]*xe,ce[1]=he[1]*xe,ce[2]=he[2]*xe,ce[3]=he[3]*xe,ce[4]=he[4]*xe,ce[5]=he[5]*xe,ce[6]=he[6]*xe,ce[7]=he[7]*xe,ce[8]=he[8]*xe,ce},multiplyScalarAndAdd:function Q(ce,he,xe,we){return ce[0]=he[0]+xe[0]*we,ce[1]=he[1]+xe[1]*we,ce[2]=he[2]+xe[2]*we,ce[3]=he[3]+xe[3]*we,ce[4]=he[4]+xe[4]*we,ce[5]=he[5]+xe[5]*we,ce[6]=he[6]+xe[6]*we,ce[7]=he[7]+xe[7]*we,ce[8]=he[8]+xe[8]*we,ce},exactEquals:function pe(ce,he){return ce[0]===he[0]&&ce[1]===he[1]&&ce[2]===he[2]&&ce[3]===he[3]&&ce[4]===he[4]&&ce[5]===he[5]&&ce[6]===he[6]&&ce[7]===he[7]&&ce[8]===he[8]},equals:function ue(ce,he){const xe=ce[0],we=ce[1],Ae=ce[2],Fe=ce[3],tt=ce[4],Re=ce[5],be=ce[6],Te=ce[7],Je=ce[8],ut=he[0],Pe=he[1],Qe=he[2],Ye=he[3],te=he[4],_e=he[5],Ze=he[6],et=he[7],ht=he[8];return Math.abs(xe-ut)<=x.E*Math.max(1,Math.abs(xe),Math.abs(ut))&&Math.abs(we-Pe)<=x.E*Math.max(1,Math.abs(we),Math.abs(Pe))&&Math.abs(Ae-Qe)<=x.E*Math.max(1,Math.abs(Ae),Math.abs(Qe))&&Math.abs(Fe-Ye)<=x.E*Math.max(1,Math.abs(Fe),Math.abs(Ye))&&Math.abs(tt-te)<=x.E*Math.max(1,Math.abs(tt),Math.abs(te))&&Math.abs(Re-_e)<=x.E*Math.max(1,Math.abs(Re),Math.abs(_e))&&Math.abs(be-Ze)<=x.E*Math.max(1,Math.abs(be),Math.abs(Ze))&&Math.abs(Te-et)<=x.E*Math.max(1,Math.abs(Te),Math.abs(et))&&Math.abs(Je-ht)<=x.E*Math.max(1,Math.abs(Je),Math.abs(ht))},isOrthoNormal:me,mul:B,sub:ye})},49966:(lt,Se,C)=>{"use strict";function x(){const ie=new Float32Array(9);return ie[0]=1,ie[4]=1,ie[8]=1,ie}function T(ie){const J=new Float32Array(9);return J[0]=ie[0],J[1]=ie[1],J[2]=ie[2],J[3]=ie[3],J[4]=ie[4],J[5]=ie[5],J[6]=ie[6],J[7]=ie[7],J[8]=ie[8],J}C.d(Se,{a:()=>T,c:()=>x}),Object.freeze({__proto__:null,create:x,clone:T,fromValues:function re(ie,J,j,A,B,X,W,K,ae){const $=new Float32Array(9);return $[0]=ie,$[1]=J,$[2]=j,$[3]=A,$[4]=B,$[5]=X,$[6]=W,$[7]=K,$[8]=ae,$},createView:function ne(ie,J){return new Float32Array(ie,J,9)}})},28347:(lt,Se,C)=>{"use strict";C.d(Se,{a:()=>X,b:()=>J,e:()=>K,f:()=>W,i:()=>ee,k:()=>ut,m:()=>B,n:()=>Je,p:()=>Te,s:()=>ne,t:()=>ie,u:()=>Y});var x=C(28093),T=C(39863);function ne(te,_e,Ze,et,ht,ft,Et,mt,at,wt,Tt,Ut,Wt,er,gr,yr,mr){return te[0]=_e,te[1]=Ze,te[2]=et,te[3]=ht,te[4]=ft,te[5]=Et,te[6]=mt,te[7]=at,te[8]=wt,te[9]=Tt,te[10]=Ut,te[11]=Wt,te[12]=er,te[13]=gr,te[14]=yr,te[15]=mr,te}function ee(te){return te[0]=1,te[1]=0,te[2]=0,te[3]=0,te[4]=0,te[5]=1,te[6]=0,te[7]=0,te[8]=0,te[9]=0,te[10]=1,te[11]=0,te[12]=0,te[13]=0,te[14]=0,te[15]=1,te}function ie(te,_e){if(te===_e){const Ze=_e[1],et=_e[2],ht=_e[3],ft=_e[6],Et=_e[7],mt=_e[11];te[1]=_e[4],te[2]=_e[8],te[3]=_e[12],te[4]=Ze,te[6]=_e[9],te[7]=_e[13],te[8]=et,te[9]=ft,te[11]=_e[14],te[12]=ht,te[13]=Et,te[14]=mt}else te[0]=_e[0],te[1]=_e[4],te[2]=_e[8],te[3]=_e[12],te[4]=_e[1],te[5]=_e[5],te[6]=_e[9],te[7]=_e[13],te[8]=_e[2],te[9]=_e[6],te[10]=_e[10],te[11]=_e[14],te[12]=_e[3],te[13]=_e[7],te[14]=_e[11],te[15]=_e[15];return te}function J(te,_e){const Ze=_e[0],et=_e[1],ht=_e[2],ft=_e[3],Et=_e[4],mt=_e[5],at=_e[6],wt=_e[7],Tt=_e[8],Ut=_e[9],Wt=_e[10],er=_e[11],gr=_e[12],yr=_e[13],mr=_e[14],gt=_e[15],kt=Ze*mt-et*Et,Gt=Ze*at-ht*Et,Qt=Ze*wt-ft*Et,lr=et*at-ht*mt,dr=et*wt-ft*mt,ct=ht*wt-ft*at,Ot=Tt*yr-Ut*gr,Rt=Tt*mr-Wt*gr,Vt=Tt*gt-er*gr,Yt=Ut*mr-Wt*yr,Zt=Ut*gt-er*yr,ke=Wt*gt-er*mr;let ot=kt*ke-Gt*Zt+Qt*Yt+lr*Vt-dr*Rt+ct*Ot;return ot?(ot=1/ot,te[0]=(mt*ke-at*Zt+wt*Yt)*ot,te[1]=(ht*Zt-et*ke-ft*Yt)*ot,te[2]=(yr*ct-mr*dr+gt*lr)*ot,te[3]=(Wt*dr-Ut*ct-er*lr)*ot,te[4]=(at*Vt-Et*ke-wt*Rt)*ot,te[5]=(Ze*ke-ht*Vt+ft*Rt)*ot,te[6]=(mr*Qt-gr*ct-gt*Gt)*ot,te[7]=(Tt*ct-Wt*Qt+er*Gt)*ot,te[8]=(Et*Zt-mt*Vt+wt*Ot)*ot,te[9]=(et*Vt-Ze*Zt-ft*Ot)*ot,te[10]=(gr*dr-yr*Qt+gt*kt)*ot,te[11]=(Ut*Qt-Tt*dr-er*kt)*ot,te[12]=(mt*Rt-Et*Yt-at*Ot)*ot,te[13]=(Ze*Yt-et*Rt+ht*Ot)*ot,te[14]=(yr*Gt-gr*lr-mr*kt)*ot,te[15]=(Tt*lr-Ut*Gt+Wt*kt)*ot,te):null}function B(te,_e,Ze){const et=_e[0],ht=_e[1],ft=_e[2],Et=_e[3],mt=_e[4],at=_e[5],wt=_e[6],Tt=_e[7],Ut=_e[8],Wt=_e[9],er=_e[10],gr=_e[11],yr=_e[12],mr=_e[13],gt=_e[14],kt=_e[15];let Gt=Ze[0],Qt=Ze[1],lr=Ze[2],dr=Ze[3];return te[0]=Gt*et+Qt*mt+lr*Ut+dr*yr,te[1]=Gt*ht+Qt*at+lr*Wt+dr*mr,te[2]=Gt*ft+Qt*wt+lr*er+dr*gt,te[3]=Gt*Et+Qt*Tt+lr*gr+dr*kt,Gt=Ze[4],Qt=Ze[5],lr=Ze[6],dr=Ze[7],te[4]=Gt*et+Qt*mt+lr*Ut+dr*yr,te[5]=Gt*ht+Qt*at+lr*Wt+dr*mr,te[6]=Gt*ft+Qt*wt+lr*er+dr*gt,te[7]=Gt*Et+Qt*Tt+lr*gr+dr*kt,Gt=Ze[8],Qt=Ze[9],lr=Ze[10],dr=Ze[11],te[8]=Gt*et+Qt*mt+lr*Ut+dr*yr,te[9]=Gt*ht+Qt*at+lr*Wt+dr*mr,te[10]=Gt*ft+Qt*wt+lr*er+dr*gt,te[11]=Gt*Et+Qt*Tt+lr*gr+dr*kt,Gt=Ze[12],Qt=Ze[13],lr=Ze[14],dr=Ze[15],te[12]=Gt*et+Qt*mt+lr*Ut+dr*yr,te[13]=Gt*ht+Qt*at+lr*Wt+dr*mr,te[14]=Gt*ft+Qt*wt+lr*er+dr*gt,te[15]=Gt*Et+Qt*Tt+lr*gr+dr*kt,te}function X(te,_e,Ze){const et=Ze[0],ht=Ze[1],ft=Ze[2];let Et,mt,at,wt,Tt,Ut,Wt,er,gr,yr,mr,gt;return _e===te?(te[12]=_e[0]*et+_e[4]*ht+_e[8]*ft+_e[12],te[13]=_e[1]*et+_e[5]*ht+_e[9]*ft+_e[13],te[14]=_e[2]*et+_e[6]*ht+_e[10]*ft+_e[14],te[15]=_e[3]*et+_e[7]*ht+_e[11]*ft+_e[15]):(Et=_e[0],mt=_e[1],at=_e[2],wt=_e[3],Tt=_e[4],Ut=_e[5],Wt=_e[6],er=_e[7],gr=_e[8],yr=_e[9],mr=_e[10],gt=_e[11],te[0]=Et,te[1]=mt,te[2]=at,te[3]=wt,te[4]=Tt,te[5]=Ut,te[6]=Wt,te[7]=er,te[8]=gr,te[9]=yr,te[10]=mr,te[11]=gt,te[12]=Et*et+Tt*ht+gr*ft+_e[12],te[13]=mt*et+Ut*ht+yr*ft+_e[13],te[14]=at*et+Wt*ht+mr*ft+_e[14],te[15]=wt*et+er*ht+gt*ft+_e[15]),te}function W(te,_e,Ze){const et=Ze[0],ht=Ze[1],ft=Ze[2];return te[0]=_e[0]*et,te[1]=_e[1]*et,te[2]=_e[2]*et,te[3]=_e[3]*et,te[4]=_e[4]*ht,te[5]=_e[5]*ht,te[6]=_e[6]*ht,te[7]=_e[7]*ht,te[8]=_e[8]*ft,te[9]=_e[9]*ft,te[10]=_e[10]*ft,te[11]=_e[11]*ft,te[12]=_e[12],te[13]=_e[13],te[14]=_e[14],te[15]=_e[15],te}function K(te,_e,Ze,et){let ht,ft,Et,mt,at,wt,Tt,Ut,Wt,er,gr,yr,mr,gt,kt,Gt,Qt,lr,dr,ct,Ot,Rt,Vt,Yt,Zt=et[0],ke=et[1],ot=et[2],ze=Math.sqrt(Zt*Zt+ke*ke+ot*ot);return ze<T.E?null:(ze=1/ze,Zt*=ze,ke*=ze,ot*=ze,ht=Math.sin(Ze),ft=Math.cos(Ze),Et=1-ft,mt=_e[0],at=_e[1],wt=_e[2],Tt=_e[3],Ut=_e[4],Wt=_e[5],er=_e[6],gr=_e[7],yr=_e[8],mr=_e[9],gt=_e[10],kt=_e[11],Gt=Zt*Zt*Et+ft,Qt=ke*Zt*Et+ot*ht,lr=ot*Zt*Et-ke*ht,dr=Zt*ke*Et-ot*ht,ct=ke*ke*Et+ft,Ot=ot*ke*Et+Zt*ht,Rt=Zt*ot*Et+ke*ht,Vt=ke*ot*Et-Zt*ht,Yt=ot*ot*Et+ft,te[0]=mt*Gt+Ut*Qt+yr*lr,te[1]=at*Gt+Wt*Qt+mr*lr,te[2]=wt*Gt+er*Qt+gt*lr,te[3]=Tt*Gt+gr*Qt+kt*lr,te[4]=mt*dr+Ut*ct+yr*Ot,te[5]=at*dr+Wt*ct+mr*Ot,te[6]=wt*dr+er*ct+gt*Ot,te[7]=Tt*dr+gr*ct+kt*Ot,te[8]=mt*Rt+Ut*Vt+yr*Yt,te[9]=at*Rt+Wt*Vt+mr*Yt,te[10]=wt*Rt+er*Vt+gt*Yt,te[11]=Tt*Rt+gr*Vt+kt*Yt,_e!==te&&(te[12]=_e[12],te[13]=_e[13],te[14]=_e[14],te[15]=_e[15]),te)}function Y(te,_e){const Ze=Math.sin(_e),et=Math.cos(_e);return te[0]=1,te[1]=0,te[2]=0,te[3]=0,te[4]=0,te[5]=et,te[6]=Ze,te[7]=0,te[8]=0,te[9]=-Ze,te[10]=et,te[11]=0,te[12]=0,te[13]=0,te[14]=0,te[15]=1,te}function q(te,_e,Ze){const et=_e[0],ht=_e[1],ft=_e[2],Et=_e[3],mt=et+et,at=ht+ht,wt=ft+ft,Tt=et*mt,Ut=et*at,Wt=et*wt,er=ht*at,gr=ht*wt,yr=ft*wt,mr=Et*mt,gt=Et*at,kt=Et*wt;return te[0]=1-(er+yr),te[1]=Ut+kt,te[2]=Wt-gt,te[3]=0,te[4]=Ut-kt,te[5]=1-(Tt+yr),te[6]=gr+mr,te[7]=0,te[8]=Wt+gt,te[9]=gr-mr,te[10]=1-(Tt+er),te[11]=0,te[12]=Ze[0],te[13]=Ze[1],te[14]=Ze[2],te[15]=1,te}const le=(0,x.c)();function tt(te,_e,Ze){return te[0]=_e[0]-Ze[0],te[1]=_e[1]-Ze[1],te[2]=_e[2]-Ze[2],te[3]=_e[3]-Ze[3],te[4]=_e[4]-Ze[4],te[5]=_e[5]-Ze[5],te[6]=_e[6]-Ze[6],te[7]=_e[7]-Ze[7],te[8]=_e[8]-Ze[8],te[9]=_e[9]-Ze[9],te[10]=_e[10]-Ze[10],te[11]=_e[11]-Ze[11],te[12]=_e[12]-Ze[12],te[13]=_e[13]-Ze[13],te[14]=_e[14]-Ze[14],te[15]=_e[15]-Ze[15],te}function Te(te,_e){return te[0]===_e[0]&&te[1]===_e[1]&&te[2]===_e[2]&&te[3]===_e[3]&&te[4]===_e[4]&&te[5]===_e[5]&&te[6]===_e[6]&&te[7]===_e[7]&&te[8]===_e[8]&&te[9]===_e[9]&&te[10]===_e[10]&&te[11]===_e[11]&&te[12]===_e[12]&&te[13]===_e[13]&&te[14]===_e[14]&&te[15]===_e[15]}function Je(te,_e){if(te===_e)return!0;const Ze=te[0],et=te[1],ht=te[2],ft=te[3],Et=te[4],mt=te[5],at=te[6],wt=te[7],Tt=te[8],Ut=te[9],Wt=te[10],er=te[11],gr=te[12],yr=te[13],mr=te[14],gt=te[15],kt=_e[0],Gt=_e[1],Qt=_e[2],lr=_e[3],dr=_e[4],ct=_e[5],Ot=_e[6],Rt=_e[7],Vt=_e[8],Yt=_e[9],Zt=_e[10],ke=_e[11],ot=_e[12],ze=_e[13],Xe=_e[14],He=_e[15];return Math.abs(Ze-kt)<=T.E*Math.max(1,Math.abs(Ze),Math.abs(kt))&&Math.abs(et-Gt)<=T.E*Math.max(1,Math.abs(et),Math.abs(Gt))&&Math.abs(ht-Qt)<=T.E*Math.max(1,Math.abs(ht),Math.abs(Qt))&&Math.abs(ft-lr)<=T.E*Math.max(1,Math.abs(ft),Math.abs(lr))&&Math.abs(Et-dr)<=T.E*Math.max(1,Math.abs(Et),Math.abs(dr))&&Math.abs(mt-ct)<=T.E*Math.max(1,Math.abs(mt),Math.abs(ct))&&Math.abs(at-Ot)<=T.E*Math.max(1,Math.abs(at),Math.abs(Ot))&&Math.abs(wt-Rt)<=T.E*Math.max(1,Math.abs(wt),Math.abs(Rt))&&Math.abs(Tt-Vt)<=T.E*Math.max(1,Math.abs(Tt),Math.abs(Vt))&&Math.abs(Ut-Yt)<=T.E*Math.max(1,Math.abs(Ut),Math.abs(Yt))&&Math.abs(Wt-Zt)<=T.E*Math.max(1,Math.abs(Wt),Math.abs(Zt))&&Math.abs(er-ke)<=T.E*Math.max(1,Math.abs(er),Math.abs(ke))&&Math.abs(gr-ot)<=T.E*Math.max(1,Math.abs(gr),Math.abs(ot))&&Math.abs(yr-ze)<=T.E*Math.max(1,Math.abs(yr),Math.abs(ze))&&Math.abs(mr-Xe)<=T.E*Math.max(1,Math.abs(mr),Math.abs(Xe))&&Math.abs(gt-He)<=T.E*Math.max(1,Math.abs(gt),Math.abs(He))}function ut(te){const _e=T.E,Ze=te[0],et=te[1],ht=te[2],ft=te[4],Et=te[5],mt=te[6],at=te[8],wt=te[9],Tt=te[10];return Math.abs(1-(Ze*Ze+ft*ft+at*at))<=_e&&Math.abs(1-(et*et+Et*Et+wt*wt))<=_e&&Math.abs(1-(ht*ht+mt*mt+Tt*Tt))<=_e}Object.freeze({__proto__:null,copy:function re(te,_e){return te[0]=_e[0],te[1]=_e[1],te[2]=_e[2],te[3]=_e[3],te[4]=_e[4],te[5]=_e[5],te[6]=_e[6],te[7]=_e[7],te[8]=_e[8],te[9]=_e[9],te[10]=_e[10],te[11]=_e[11],te[12]=_e[12],te[13]=_e[13],te[14]=_e[14],te[15]=_e[15],te},set:ne,identity:ee,transpose:ie,invert:J,adjoint:function j(te,_e){const Ze=_e[0],et=_e[1],ht=_e[2],ft=_e[3],Et=_e[4],mt=_e[5],at=_e[6],wt=_e[7],Tt=_e[8],Ut=_e[9],Wt=_e[10],er=_e[11],gr=_e[12],yr=_e[13],mr=_e[14],gt=_e[15];return te[0]=mt*(Wt*gt-er*mr)-Ut*(at*gt-wt*mr)+yr*(at*er-wt*Wt),te[1]=-(et*(Wt*gt-er*mr)-Ut*(ht*gt-ft*mr)+yr*(ht*er-ft*Wt)),te[2]=et*(at*gt-wt*mr)-mt*(ht*gt-ft*mr)+yr*(ht*wt-ft*at),te[3]=-(et*(at*er-wt*Wt)-mt*(ht*er-ft*Wt)+Ut*(ht*wt-ft*at)),te[4]=-(Et*(Wt*gt-er*mr)-Tt*(at*gt-wt*mr)+gr*(at*er-wt*Wt)),te[5]=Ze*(Wt*gt-er*mr)-Tt*(ht*gt-ft*mr)+gr*(ht*er-ft*Wt),te[6]=-(Ze*(at*gt-wt*mr)-Et*(ht*gt-ft*mr)+gr*(ht*wt-ft*at)),te[7]=Ze*(at*er-wt*Wt)-Et*(ht*er-ft*Wt)+Tt*(ht*wt-ft*at),te[8]=Et*(Ut*gt-er*yr)-Tt*(mt*gt-wt*yr)+gr*(mt*er-wt*Ut),te[9]=-(Ze*(Ut*gt-er*yr)-Tt*(et*gt-ft*yr)+gr*(et*er-ft*Ut)),te[10]=Ze*(mt*gt-wt*yr)-Et*(et*gt-ft*yr)+gr*(et*wt-ft*mt),te[11]=-(Ze*(mt*er-wt*Ut)-Et*(et*er-ft*Ut)+Tt*(et*wt-ft*mt)),te[12]=-(Et*(Ut*mr-Wt*yr)-Tt*(mt*mr-at*yr)+gr*(mt*Wt-at*Ut)),te[13]=Ze*(Ut*mr-Wt*yr)-Tt*(et*mr-ht*yr)+gr*(et*Wt-ht*Ut),te[14]=-(Ze*(mt*mr-at*yr)-Et*(et*mr-ht*yr)+gr*(et*at-ht*mt)),te[15]=Ze*(mt*Wt-at*Ut)-Et*(et*Wt-ht*Ut)+Tt*(et*at-ht*mt),te},determinant:function A(te){const _e=te[0],Ze=te[1],et=te[2],ht=te[3],ft=te[4],Et=te[5],mt=te[6],at=te[7],wt=te[8],Tt=te[9],Ut=te[10],Wt=te[11],er=te[12],gr=te[13],yr=te[14],mr=te[15];return(_e*Et-Ze*ft)*(Ut*mr-Wt*yr)-(_e*mt-et*ft)*(Tt*mr-Wt*gr)+(_e*at-ht*ft)*(Tt*yr-Ut*gr)+(Ze*mt-et*Et)*(wt*mr-Wt*er)-(Ze*at-ht*Et)*(wt*yr-Ut*er)+(et*at-ht*mt)*(wt*gr-Tt*er)},multiply:B,translate:X,scale:W,rotate:K,rotateX:function ae(te,_e,Ze){const et=Math.sin(Ze),ht=Math.cos(Ze),ft=_e[4],Et=_e[5],mt=_e[6],at=_e[7],wt=_e[8],Tt=_e[9],Ut=_e[10],Wt=_e[11];return _e!==te&&(te[0]=_e[0],te[1]=_e[1],te[2]=_e[2],te[3]=_e[3],te[12]=_e[12],te[13]=_e[13],te[14]=_e[14],te[15]=_e[15]),te[4]=ft*ht+wt*et,te[5]=Et*ht+Tt*et,te[6]=mt*ht+Ut*et,te[7]=at*ht+Wt*et,te[8]=wt*ht-ft*et,te[9]=Tt*ht-Et*et,te[10]=Ut*ht-mt*et,te[11]=Wt*ht-at*et,te},rotateY:function $(te,_e,Ze){const et=Math.sin(Ze),ht=Math.cos(Ze),ft=_e[0],Et=_e[1],mt=_e[2],at=_e[3],wt=_e[8],Tt=_e[9],Ut=_e[10],Wt=_e[11];return _e!==te&&(te[4]=_e[4],te[5]=_e[5],te[6]=_e[6],te[7]=_e[7],te[12]=_e[12],te[13]=_e[13],te[14]=_e[14],te[15]=_e[15]),te[0]=ft*ht-wt*et,te[1]=Et*ht-Tt*et,te[2]=mt*ht-Ut*et,te[3]=at*ht-Wt*et,te[8]=ft*et+wt*ht,te[9]=Et*et+Tt*ht,te[10]=mt*et+Ut*ht,te[11]=at*et+Wt*ht,te},rotateZ:function V(te,_e,Ze){const et=Math.sin(Ze),ht=Math.cos(Ze),ft=_e[0],Et=_e[1],mt=_e[2],at=_e[3],wt=_e[4],Tt=_e[5],Ut=_e[6],Wt=_e[7];return _e!==te&&(te[8]=_e[8],te[9]=_e[9],te[10]=_e[10],te[11]=_e[11],te[12]=_e[12],te[13]=_e[13],te[14]=_e[14],te[15]=_e[15]),te[0]=ft*ht+wt*et,te[1]=Et*ht+Tt*et,te[2]=mt*ht+Ut*et,te[3]=at*ht+Wt*et,te[4]=wt*ht-ft*et,te[5]=Tt*ht-Et*et,te[6]=Ut*ht-mt*et,te[7]=Wt*ht-at*et,te},fromTranslation:function P(te,_e){return te[0]=1,te[1]=0,te[2]=0,te[3]=0,te[4]=0,te[5]=1,te[6]=0,te[7]=0,te[8]=0,te[9]=0,te[10]=1,te[11]=0,te[12]=_e[0],te[13]=_e[1],te[14]=_e[2],te[15]=1,te},fromScaling:function F(te,_e){return te[0]=_e[0],te[1]=0,te[2]=0,te[3]=0,te[4]=0,te[5]=_e[1],te[6]=0,te[7]=0,te[8]=0,te[9]=0,te[10]=_e[2],te[11]=0,te[12]=0,te[13]=0,te[14]=0,te[15]=1,te},fromRotation:function Z(te,_e,Ze){let et,ht,ft,Et=Ze[0],mt=Ze[1],at=Ze[2],wt=Math.sqrt(Et*Et+mt*mt+at*at);return wt<T.E?null:(wt=1/wt,Et*=wt,mt*=wt,at*=wt,et=Math.sin(_e),ht=Math.cos(_e),ft=1-ht,te[0]=Et*Et*ft+ht,te[1]=mt*Et*ft+at*et,te[2]=at*Et*ft-mt*et,te[3]=0,te[4]=Et*mt*ft-at*et,te[5]=mt*mt*ft+ht,te[6]=at*mt*ft+Et*et,te[7]=0,te[8]=Et*at*ft+mt*et,te[9]=mt*at*ft-Et*et,te[10]=at*at*ft+ht,te[11]=0,te[12]=0,te[13]=0,te[14]=0,te[15]=1,te)},fromXRotation:Y,fromYRotation:function H(te,_e){const Ze=Math.sin(_e),et=Math.cos(_e);return te[0]=et,te[1]=0,te[2]=-Ze,te[3]=0,te[4]=0,te[5]=1,te[6]=0,te[7]=0,te[8]=Ze,te[9]=0,te[10]=et,te[11]=0,te[12]=0,te[13]=0,te[14]=0,te[15]=1,te},fromZRotation:function de(te,_e){const Ze=Math.sin(_e),et=Math.cos(_e);return te[0]=et,te[1]=Ze,te[2]=0,te[3]=0,te[4]=-Ze,te[5]=et,te[6]=0,te[7]=0,te[8]=0,te[9]=0,te[10]=1,te[11]=0,te[12]=0,te[13]=0,te[14]=0,te[15]=1,te},fromRotationTranslation:q,fromQuat2:function ge(te,_e){const Ze=le,et=-_e[0],ht=-_e[1],ft=-_e[2],Et=_e[3],mt=_e[4],at=_e[5],wt=_e[6],Tt=_e[7],Ut=et*et+ht*ht+ft*ft+Et*Et;return Ut>0?(Ze[0]=2*(mt*Et+Tt*et+at*ft-wt*ht)/Ut,Ze[1]=2*(at*Et+Tt*ht+wt*et-mt*ft)/Ut,Ze[2]=2*(wt*Et+Tt*ft+mt*ht-at*et)/Ut):(Ze[0]=2*(mt*Et+Tt*et+at*ft-wt*ht),Ze[1]=2*(at*Et+Tt*ht+wt*et-mt*ft),Ze[2]=2*(wt*Et+Tt*ft+mt*ht-at*et)),q(te,_e,Ze),te},getTranslation:function ye(te,_e){return te[0]=_e[12],te[1]=_e[13],te[2]=_e[14],te},getScaling:function oe(te,_e){const Ze=_e[0],et=_e[1],ht=_e[2],ft=_e[4],Et=_e[5],mt=_e[6],at=_e[8],wt=_e[9],Tt=_e[10];return te[0]=Math.sqrt(Ze*Ze+et*et+ht*ht),te[1]=Math.sqrt(ft*ft+Et*Et+mt*mt),te[2]=Math.sqrt(at*at+wt*wt+Tt*Tt),te},getRotation:function Q(te,_e){const Ze=_e[0]+_e[5]+_e[10];let et=0;return Ze>0?(et=2*Math.sqrt(Ze+1),te[3]=.25*et,te[0]=(_e[6]-_e[9])/et,te[1]=(_e[8]-_e[2])/et,te[2]=(_e[1]-_e[4])/et):_e[0]>_e[5]&&_e[0]>_e[10]?(et=2*Math.sqrt(1+_e[0]-_e[5]-_e[10]),te[3]=(_e[6]-_e[9])/et,te[0]=.25*et,te[1]=(_e[1]+_e[4])/et,te[2]=(_e[8]+_e[2])/et):_e[5]>_e[10]?(et=2*Math.sqrt(1+_e[5]-_e[0]-_e[10]),te[3]=(_e[8]-_e[2])/et,te[0]=(_e[1]+_e[4])/et,te[1]=.25*et,te[2]=(_e[6]+_e[9])/et):(et=2*Math.sqrt(1+_e[10]-_e[0]-_e[5]),te[3]=(_e[1]-_e[4])/et,te[0]=(_e[8]+_e[2])/et,te[1]=(_e[6]+_e[9])/et,te[2]=.25*et),te},fromRotationTranslationScale:function pe(te,_e,Ze,et){const ht=_e[0],ft=_e[1],Et=_e[2],mt=_e[3],at=ht+ht,wt=ft+ft,Tt=Et+Et,Ut=ht*at,Wt=ht*wt,er=ht*Tt,gr=ft*wt,yr=ft*Tt,mr=Et*Tt,gt=mt*at,kt=mt*wt,Gt=mt*Tt,Qt=et[0],lr=et[1],dr=et[2];return te[0]=(1-(gr+mr))*Qt,te[1]=(Wt+Gt)*Qt,te[2]=(er-kt)*Qt,te[3]=0,te[4]=(Wt-Gt)*lr,te[5]=(1-(Ut+mr))*lr,te[6]=(yr+gt)*lr,te[7]=0,te[8]=(er+kt)*dr,te[9]=(yr-gt)*dr,te[10]=(1-(Ut+gr))*dr,te[11]=0,te[12]=Ze[0],te[13]=Ze[1],te[14]=Ze[2],te[15]=1,te},fromRotationTranslationScaleOrigin:function ue(te,_e,Ze,et,ht){const ft=_e[0],Et=_e[1],mt=_e[2],at=_e[3],wt=ft+ft,Tt=Et+Et,Ut=mt+mt,Wt=ft*wt,er=ft*Tt,gr=ft*Ut,yr=Et*Tt,mr=Et*Ut,gt=mt*Ut,kt=at*wt,Gt=at*Tt,Qt=at*Ut,lr=et[0],dr=et[1],ct=et[2],Ot=ht[0],Rt=ht[1],Vt=ht[2],Yt=(1-(yr+gt))*lr,Zt=(er+Qt)*lr,ke=(gr-Gt)*lr,ot=(er-Qt)*dr,ze=(1-(Wt+gt))*dr,Xe=(mr+kt)*dr,He=(gr+Gt)*ct,Ue=(mr-kt)*ct,nt=(1-(Wt+yr))*ct;return te[0]=Yt,te[1]=Zt,te[2]=ke,te[3]=0,te[4]=ot,te[5]=ze,te[6]=Xe,te[7]=0,te[8]=He,te[9]=Ue,te[10]=nt,te[11]=0,te[12]=Ze[0]+Ot-(Yt*Ot+ot*Rt+He*Vt),te[13]=Ze[1]+Rt-(Zt*Ot+ze*Rt+Ue*Vt),te[14]=Ze[2]+Vt-(ke*Ot+Xe*Rt+nt*Vt),te[15]=1,te},fromQuat:function me(te,_e){const Ze=_e[0],et=_e[1],ht=_e[2],ft=_e[3],Et=Ze+Ze,mt=et+et,at=ht+ht,wt=Ze*Et,Tt=et*Et,Ut=et*mt,Wt=ht*Et,er=ht*mt,gr=ht*at,yr=ft*Et,mr=ft*mt,gt=ft*at;return te[0]=1-Ut-gr,te[1]=Tt+gt,te[2]=Wt-mr,te[3]=0,te[4]=Tt-gt,te[5]=1-wt-gr,te[6]=er+yr,te[7]=0,te[8]=Wt+mr,te[9]=er-yr,te[10]=1-wt-Ut,te[11]=0,te[12]=0,te[13]=0,te[14]=0,te[15]=1,te},frustum:function ve(te,_e,Ze,et,ht,ft,Et){const mt=1/(Ze-_e),at=1/(ht-et),wt=1/(ft-Et);return te[0]=2*ft*mt,te[1]=0,te[2]=0,te[3]=0,te[4]=0,te[5]=2*ft*at,te[6]=0,te[7]=0,te[8]=(Ze+_e)*mt,te[9]=(ht+et)*at,te[10]=(Et+ft)*wt,te[11]=-1,te[12]=0,te[13]=0,te[14]=Et*ft*2*wt,te[15]=0,te},perspective:function fe(te,_e,Ze,et,ht){const ft=1/Math.tan(_e/2);let Et;return te[0]=ft/Ze,te[1]=0,te[2]=0,te[3]=0,te[4]=0,te[5]=ft,te[6]=0,te[7]=0,te[8]=0,te[9]=0,te[11]=-1,te[12]=0,te[13]=0,te[15]=0,null!=ht&&ht!==1/0?(Et=1/(et-ht),te[10]=(ht+et)*Et,te[14]=2*ht*et*Et):(te[10]=-1,te[14]=-2*et),te},perspectiveFromFieldOfView:function Ce(te,_e,Ze,et){const ht=Math.tan(_e.upDegrees*Math.PI/180),ft=Math.tan(_e.downDegrees*Math.PI/180),Et=Math.tan(_e.leftDegrees*Math.PI/180),mt=Math.tan(_e.rightDegrees*Math.PI/180),at=2/(Et+mt),wt=2/(ht+ft);return te[0]=at,te[1]=0,te[2]=0,te[3]=0,te[4]=0,te[5]=wt,te[6]=0,te[7]=0,te[8]=-(Et-mt)*at*.5,te[9]=(ht-ft)*wt*.5,te[10]=et/(Ze-et),te[11]=-1,te[12]=0,te[13]=0,te[14]=et*Ze/(Ze-et),te[15]=0,te},ortho:function ce(te,_e,Ze,et,ht,ft,Et){const mt=1/(_e-Ze),at=1/(et-ht),wt=1/(ft-Et);return te[0]=-2*mt,te[1]=0,te[2]=0,te[3]=0,te[4]=0,te[5]=-2*at,te[6]=0,te[7]=0,te[8]=0,te[9]=0,te[10]=2*wt,te[11]=0,te[12]=(_e+Ze)*mt,te[13]=(ht+et)*at,te[14]=(Et+ft)*wt,te[15]=1,te},lookAt:function he(te,_e,Ze,et){let ht,ft,Et,mt,at,wt,Tt,Ut,Wt,er;const gr=_e[0],yr=_e[1],mr=_e[2],gt=et[0],kt=et[1],Gt=et[2],Qt=Ze[0],lr=Ze[1],dr=Ze[2];return Math.abs(gr-Qt)<T.E&&Math.abs(yr-lr)<T.E&&Math.abs(mr-dr)<T.E?ee(te):(Tt=gr-Qt,Ut=yr-lr,Wt=mr-dr,er=1/Math.sqrt(Tt*Tt+Ut*Ut+Wt*Wt),Tt*=er,Ut*=er,Wt*=er,ht=kt*Wt-Gt*Ut,ft=Gt*Tt-gt*Wt,Et=gt*Ut-kt*Tt,er=Math.sqrt(ht*ht+ft*ft+Et*Et),er?(er=1/er,ht*=er,ft*=er,Et*=er):(ht=0,ft=0,Et=0),mt=Ut*Et-Wt*ft,at=Wt*ht-Tt*Et,wt=Tt*ft-Ut*ht,er=Math.sqrt(mt*mt+at*at+wt*wt),er?(er=1/er,mt*=er,at*=er,wt*=er):(mt=0,at=0,wt=0),te[0]=ht,te[1]=mt,te[2]=Tt,te[3]=0,te[4]=ft,te[5]=at,te[6]=Ut,te[7]=0,te[8]=Et,te[9]=wt,te[10]=Wt,te[11]=0,te[12]=-(ht*gr+ft*yr+Et*mr),te[13]=-(mt*gr+at*yr+wt*mr),te[14]=-(Tt*gr+Ut*yr+Wt*mr),te[15]=1,te)},targetTo:function xe(te,_e,Ze,et){const ht=_e[0],ft=_e[1],Et=_e[2],mt=et[0],at=et[1],wt=et[2];let Tt=ht-Ze[0],Ut=ft-Ze[1],Wt=Et-Ze[2],er=Tt*Tt+Ut*Ut+Wt*Wt;er>0&&(er=1/Math.sqrt(er),Tt*=er,Ut*=er,Wt*=er);let gr=at*Wt-wt*Ut,yr=wt*Tt-mt*Wt,mr=mt*Ut-at*Tt;return er=gr*gr+yr*yr+mr*mr,er>0&&(er=1/Math.sqrt(er),gr*=er,yr*=er,mr*=er),te[0]=gr,te[1]=yr,te[2]=mr,te[3]=0,te[4]=Ut*mr-Wt*yr,te[5]=Wt*gr-Tt*mr,te[6]=Tt*yr-Ut*gr,te[7]=0,te[8]=Tt,te[9]=Ut,te[10]=Wt,te[11]=0,te[12]=ht,te[13]=ft,te[14]=Et,te[15]=1,te},str:function we(te){return"mat4("+te[0]+", "+te[1]+", "+te[2]+", "+te[3]+", "+te[4]+", "+te[5]+", "+te[6]+", "+te[7]+", "+te[8]+", "+te[9]+", "+te[10]+", "+te[11]+", "+te[12]+", "+te[13]+", "+te[14]+", "+te[15]+")"},frob:function Ae(te){return Math.sqrt(te[0]**2+te[1]**2+te[2]**2+te[3]**2+te[4]**2+te[5]**2+te[6]**2+te[7]**2+te[8]**2+te[9]**2+te[10]**2+te[11]**2+te[12]**2+te[13]**2+te[14]**2+te[15]**2)},add:function Fe(te,_e,Ze){return te[0]=_e[0]+Ze[0],te[1]=_e[1]+Ze[1],te[2]=_e[2]+Ze[2],te[3]=_e[3]+Ze[3],te[4]=_e[4]+Ze[4],te[5]=_e[5]+Ze[5],te[6]=_e[6]+Ze[6],te[7]=_e[7]+Ze[7],te[8]=_e[8]+Ze[8],te[9]=_e[9]+Ze[9],te[10]=_e[10]+Ze[10],te[11]=_e[11]+Ze[11],te[12]=_e[12]+Ze[12],te[13]=_e[13]+Ze[13],te[14]=_e[14]+Ze[14],te[15]=_e[15]+Ze[15],te},subtract:tt,multiplyScalar:function Re(te,_e,Ze){return te[0]=_e[0]*Ze,te[1]=_e[1]*Ze,te[2]=_e[2]*Ze,te[3]=_e[3]*Ze,te[4]=_e[4]*Ze,te[5]=_e[5]*Ze,te[6]=_e[6]*Ze,te[7]=_e[7]*Ze,te[8]=_e[8]*Ze,te[9]=_e[9]*Ze,te[10]=_e[10]*Ze,te[11]=_e[11]*Ze,te[12]=_e[12]*Ze,te[13]=_e[13]*Ze,te[14]=_e[14]*Ze,te[15]=_e[15]*Ze,te},multiplyScalarAndAdd:function be(te,_e,Ze,et){return te[0]=_e[0]+Ze[0]*et,te[1]=_e[1]+Ze[1]*et,te[2]=_e[2]+Ze[2]*et,te[3]=_e[3]+Ze[3]*et,te[4]=_e[4]+Ze[4]*et,te[5]=_e[5]+Ze[5]*et,te[6]=_e[6]+Ze[6]*et,te[7]=_e[7]+Ze[7]*et,te[8]=_e[8]+Ze[8]*et,te[9]=_e[9]+Ze[9]*et,te[10]=_e[10]+Ze[10]*et,te[11]=_e[11]+Ze[11]*et,te[12]=_e[12]+Ze[12]*et,te[13]=_e[13]+Ze[13]*et,te[14]=_e[14]+Ze[14]*et,te[15]=_e[15]+Ze[15]*et,te},exactEquals:Te,equals:Je,isOrthoNormal:ut,mul:B,sub:tt})},55494:(lt,Se,C)=>{"use strict";function x(){const J=new Float32Array(16);return J[0]=1,J[5]=1,J[10]=1,J[15]=1,J}C.d(Se,{c:()=>x});const ee=x();Object.freeze({__proto__:null,create:x,clone:function T(J){const j=new Float32Array(16);return j[0]=J[0],j[1]=J[1],j[2]=J[2],j[3]=J[3],j[4]=J[4],j[5]=J[5],j[6]=J[6],j[7]=J[7],j[8]=J[8],j[9]=J[9],j[10]=J[10],j[11]=J[11],j[12]=J[12],j[13]=J[13],j[14]=J[14],j[15]=J[15],j},fromValues:function re(J,j,A,B,X,W,K,ae,$,V,P,F,Z,Y,H,de){const q=new Float32Array(16);return q[0]=J,q[1]=j,q[2]=A,q[3]=B,q[4]=X,q[5]=W,q[6]=K,q[7]=ae,q[8]=$,q[9]=V,q[10]=P,q[11]=F,q[12]=Z,q[13]=Y,q[14]=H,q[15]=de,q},createView:function ne(J,j){return new Float32Array(J,j,16)},IDENTITY:ee})},29840:(lt,Se,C)=>{"use strict";C.d(Se,{f:()=>re,i:()=>A,p:()=>W,r:()=>ee,t:()=>ne,w:()=>ie});var x=C(62208),T=C(21726);function re(K,ae){const $=ae&&ae.url&&ae.url.path;if(K&&$&&(K=(0,T.hF)(K,$,{preserveProtocolRelative:!0}),ae.portalItem&&ae.readResourcePaths)){const V=(0,T.PF)(K,ae.portalItem.itemUrl);j.test(V)&&ae.readResourcePaths.push(ae.portalItem.resourceFromPath(V).path)}return X(K,ae&&ae.portal)}function ne(K,ae,$=0){if(!K)return K;!(0,T.YP)(K)&&ae&&ae.blockedRelativeUrls&&ae.blockedRelativeUrls.push(K);let V=(0,T.hF)(K);if(ae){const P=ae.verifyItemRelativeUrls&&ae.verifyItemRelativeUrls.rootPath||ae.url&&ae.url.path;if(P){const F=X(P,ae.portal);V=(0,T.PF)(X(V,ae.portal),F,F),V!==K&&ae.verifyItemRelativeUrls&&ae.verifyItemRelativeUrls.writtenUrls.push(V)}}return V=function B(K,ae){return ae&&!ae.isPortal&&ae.urlKey&&ae.customBaseUrl?(0,T.Ie)(K,`${ae.urlKey}.${ae.customBaseUrl}`,ae.portalHostname):K}(V,ae&&ae.portal),(0,T.YP)(V)&&(V=(0,T.Fv)(V)),null!=ae&&ae.resources&&null!=ae&&ae.portalItem&&!(0,T.YP)(V)&&!(0,T.HK)(V)&&0===$&&ae.resources.toKeep.push({resource:ae.portalItem.resourceFromPath(V)}),V}function ee(K,ae,$){return re(K,$)}function ie(K,ae,$,V){const P=ne(K,V);void 0!==P&&(ae[$]=P)}const J=/\/items\/([^\/]+)\/resources\//,j=/^\.\/resources\//;function A(K){const ae=(0,x.pC)(K)?K.match(J):null;return(0,x.pC)(ae)?ae[1]:null}function X(K,ae){if(!ae||ae.isPortal||!ae.urlKey||!ae.customBaseUrl)return K;const $=`${ae.urlKey}.${ae.customBaseUrl}`;return(0,T.D6)(T.Gd,`${T.Gd.scheme}://${$}`)?(0,T.Ie)(K,ae.portalHostname,$):(0,T.Ie)(K,$,ae.portalHostname)}const W=Object.freeze({__proto__:null,fromJSON:re,toJSON:ne,read:ee,write:ie,itemIdFromResourceUrl:A})},14259:(lt,Se,C)=>{"use strict";C.d(Se,{q:()=>ee});var x,re,ne={exports:{}};x=ne,void 0!==(re=function(){function J(B,X,W,K,ae){for(;K>W;){if(K-W>600){var $=K-W+1,V=X-W+1,P=Math.log($),F=.5*Math.exp(2*P/3),Z=.5*Math.sqrt(P*F*($-F)/$)*(V-$/2<0?-1:1);J(B,X,Math.max(W,Math.floor(X-V*F/$+Z)),Math.min(K,Math.floor(X+($-V)*F/$+Z)),ae)}var Y=B[X],H=W,de=K;for(j(B,W,X),ae(B[K],Y)>0&&j(B,W,K);H<de;){for(j(B,H,de),H++,de--;ae(B[H],Y)<0;)H++;for(;ae(B[de],Y)>0;)de--}0===ae(B[W],Y)?j(B,W,de):j(B,++de,K),de<=X&&(W=de+1),X<=de&&(K=de-1)}}function j(B,X,W){var K=B[X];B[X]=B[W],B[W]=K}function A(B,X){return B<X?-1:B>X?1:0}return function ie(B,X,W,K,ae){J(B,X,W||0,K||B.length-1,ae||A)}}())&&(x.exports=re);const ee=ne.exports},76279:(lt,Se,C)=>{"use strict";C.d(Se,{r:()=>T});var x=C(14259);function T(P,F){if(!(this instanceof T))return new T(P,F);this._maxEntries=Math.max(4,P||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),F&&("function"==typeof F?this.toBBox=F:this._initFormat(F)),this.clear()}function re(P,F,Z){if(!Z)return F.indexOf(P);for(var Y=0;Y<F.length;Y++)if(Z(P,F[Y]))return Y;return-1}function ne(P,F){ee(P,0,P.children.length,F,P)}function ee(P,F,Z,Y,H){H||(H=$(null)),H.minX=1/0,H.minY=1/0,H.maxX=-1/0,H.maxY=-1/0;for(var de,q=F;q<Z;q++)de=P.children[q],ie(H,P.leaf?Y(de):de);return H}function ie(P,F){return P.minX=Math.min(P.minX,F.minX),P.minY=Math.min(P.minY,F.minY),P.maxX=Math.max(P.maxX,F.maxX),P.maxY=Math.max(P.maxY,F.maxY),P}function J(P,F){return P.minX-F.minX}function j(P,F){return P.minY-F.minY}function A(P){return(P.maxX-P.minX)*(P.maxY-P.minY)}function B(P){return P.maxX-P.minX+(P.maxY-P.minY)}function X(P,F){return(Math.max(F.maxX,P.maxX)-Math.min(F.minX,P.minX))*(Math.max(F.maxY,P.maxY)-Math.min(F.minY,P.minY))}function W(P,F){var Z=Math.max(P.minX,F.minX),Y=Math.max(P.minY,F.minY),H=Math.min(P.maxX,F.maxX),de=Math.min(P.maxY,F.maxY);return Math.max(0,H-Z)*Math.max(0,de-Y)}function K(P,F){return P.minX<=F.minX&&P.minY<=F.minY&&F.maxX<=P.maxX&&F.maxY<=P.maxY}function ae(P,F){return F.minX<=P.maxX&&F.minY<=P.maxY&&F.maxX>=P.minX&&F.maxY>=P.minY}function $(P){return{children:P,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function V(P,F,Z,Y,H){for(var de,q=[F,Z];q.length;)(Z=q.pop())-(F=q.pop())<=Y||(de=F+Math.ceil((Z-F)/Y/2)*Y,(0,x.q)(P,de,F,Z,H),q.push(F,de,de,Z))}T.prototype={all:function(){return this._all(this.data,[])},search:function(P){var F=this.data,Z=[],Y=this.toBBox;if(!ae(P,F))return Z;for(var H,de,q,ge,le=[];F;){for(H=0,de=F.children.length;H<de;H++)q=F.children[H],ae(P,ge=F.leaf?Y(q):q)&&(F.leaf?Z.push(q):K(P,ge)?this._all(q,Z):le.push(q));F=le.pop()}return Z},collides:function(P){var F=this.data,Z=this.toBBox;if(!ae(P,F))return!1;for(var Y,H,de,q,ge=[];F;){for(Y=0,H=F.children.length;Y<H;Y++)if(de=F.children[Y],ae(P,q=F.leaf?Z(de):de)){if(F.leaf||K(P,q))return!0;ge.push(de)}F=ge.pop()}return!1},load:function(P){if(!P||!P.length)return this;if(P.length<this._minEntries){for(var F=0,Z=P.length;F<Z;F++)this.insert(P[F]);return this}var Y=this._build(P.slice(),0,P.length-1,0);if(this.data.children.length)if(this.data.height===Y.height)this._splitRoot(this.data,Y);else{if(this.data.height<Y.height){var H=this.data;this.data=Y,Y=H}this._insert(Y,this.data.height-Y.height-1,!0)}else this.data=Y;return this},insert:function(P){return P&&this._insert(P,this.data.height-1),this},clear:function(){return this.data=$([]),this},remove:function(P,F){if(!P)return this;for(var Z,Y,H,de,q=this.data,ge=this.toBBox(P),le=[],ye=[];q||le.length;){if(q||(q=le.pop(),Y=le[le.length-1],Z=ye.pop(),de=!0),q.leaf&&-1!==(H=re(P,q.children,F)))return q.children.splice(H,1),le.push(q),this._condense(le),this;de||q.leaf||!K(q,ge)?Y?(Z++,q=Y.children[Z],de=!1):q=null:(le.push(q),ye.push(Z),Z=0,Y=q,q=q.children[0])}return this},toBBox:function(P){return P},compareMinX:J,compareMinY:j,toJSON:function(){return this.data},fromJSON:function(P){return this.data=P,this},_all:function(P,F){for(var Z=[];P;)P.leaf?F.push.apply(F,P.children):Z.push.apply(Z,P.children),P=Z.pop();return F},_build:function(P,F,Z,Y){var H,de=Z-F+1,q=this._maxEntries;if(de<=q)return ne(H=$(P.slice(F,Z+1)),this.toBBox),H;Y||(Y=Math.ceil(Math.log(de)/Math.log(q)),q=Math.ceil(de/Math.pow(q,Y-1))),(H=$([])).leaf=!1,H.height=Y;var ge,le,ye,oe,Q=Math.ceil(de/q),pe=Q*Math.ceil(Math.sqrt(q));for(V(P,F,Z,pe,this.compareMinX),ge=F;ge<=Z;ge+=pe)for(V(P,ge,ye=Math.min(ge+pe-1,Z),Q,this.compareMinY),le=ge;le<=ye;le+=Q)oe=Math.min(le+Q-1,ye),H.children.push(this._build(P,le,oe,Y-1));return ne(H,this.toBBox),H},_chooseSubtree:function(P,F,Z,Y){for(var H,de,q,ge,le,ye,oe,Q;Y.push(F),!F.leaf&&Y.length-1!==Z;){for(oe=Q=1/0,H=0,de=F.children.length;H<de;H++)le=A(q=F.children[H]),(ye=X(P,q)-le)<Q?(Q=ye,oe=le<oe?le:oe,ge=q):ye===Q&&le<oe&&(oe=le,ge=q);F=ge||F.children[0]}return F},_insert:function(P,F,Z){var H=Z?P:(0,this.toBBox)(P),de=[],q=this._chooseSubtree(H,this.data,F,de);for(q.children.push(P),ie(q,H);F>=0&&de[F].children.length>this._maxEntries;)this._split(de,F),F--;this._adjustParentBBoxes(H,de,F)},_split:function(P,F){var Z=P[F],Y=Z.children.length,H=this._minEntries;this._chooseSplitAxis(Z,H,Y);var de=this._chooseSplitIndex(Z,H,Y),q=$(Z.children.splice(de,Z.children.length-de));q.height=Z.height,q.leaf=Z.leaf,ne(Z,this.toBBox),ne(q,this.toBBox),F?P[F-1].children.push(q):this._splitRoot(Z,q)},_splitRoot:function(P,F){this.data=$([P,F]),this.data.height=P.height+1,this.data.leaf=!1,ne(this.data,this.toBBox)},_chooseSplitIndex:function(P,F,Z){var Y,H,de,q,ge,le,ye,oe;for(le=ye=1/0,Y=F;Y<=Z-F;Y++)q=W(H=ee(P,0,Y,this.toBBox),de=ee(P,Y,Z,this.toBBox)),ge=A(H)+A(de),q<le?(le=q,oe=Y,ye=ge<ye?ge:ye):q===le&&ge<ye&&(ye=ge,oe=Y);return oe},_chooseSplitAxis:function(P,F,Z){var Y=P.leaf?this.compareMinX:J,H=P.leaf?this.compareMinY:j;this._allDistMargin(P,F,Z,Y)<this._allDistMargin(P,F,Z,H)&&P.children.sort(Y)},_allDistMargin:function(P,F,Z,Y){P.children.sort(Y);var H,de,q=this.toBBox,ge=ee(P,0,F,q),le=ee(P,Z-F,Z,q),ye=B(ge)+B(le);for(H=F;H<Z-F;H++)de=P.children[H],ie(ge,P.leaf?q(de):de),ye+=B(ge);for(H=Z-F-1;H>=F;H--)de=P.children[H],ie(le,P.leaf?q(de):de),ye+=B(le);return ye},_adjustParentBBoxes:function(P,F,Z){for(var Y=Z;Y>=0;Y--)ie(F[Y],P)},_condense:function(P){for(var F,Z=P.length-1;Z>=0;Z--)0===P[Z].children.length?Z>0?(F=P[Z-1].children).splice(F.indexOf(P[Z]),1):this.clear():ne(P[Z],this.toBBox)},_initFormat:function(P){var F=["return a"," - b",";"];this.compareMinX=new Function("a","b",F.join(P[0])),this.compareMinY=new Function("a","b",F.join(P[1])),this.toBBox=new Function("a","return {minX: a"+P[0]+", minY: a"+P[1]+", maxX: a"+P[2]+", maxY: a"+P[3]+"};")}}},17626:(lt,Se,C)=>{"use strict";function x(T,re,ne,ee){var ie,J=arguments.length,j=J<3?re:null===ee?ee=Object.getOwnPropertyDescriptor(re,ne):ee;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)j=Reflect.decorate(T,re,ne,ee);else for(var A=T.length-1;A>=0;A--)(ie=T[A])&&(j=(J<3?ie(j):J>3?ie(re,ne,j):ie(re,ne))||j);return J>3&&j&&Object.defineProperty(re,ne,j),j}C.d(Se,{_:()=>x})},67831:(lt,Se,C)=>{"use strict";C.d(Se,{a:()=>V,b:()=>$,c:()=>T,f:()=>ee,g:()=>K,h:()=>xe,i:()=>H,j:()=>q,k:()=>de,l:()=>P,m:()=>ne,n:()=>Z,s:()=>re,t:()=>oe});var x=C(39863);function T(Te,Je){return Te[0]=Je[0],Te[1]=Je[1],Te}function re(Te,Je,ut){return Te[0]=Je,Te[1]=ut,Te}function ne(Te,Je,ut){return Te[0]=Je[0]+ut[0],Te[1]=Je[1]+ut[1],Te}function ee(Te,Je,ut){return Te[0]=Je[0]-ut[0],Te[1]=Je[1]-ut[1],Te}function ie(Te,Je,ut){return Te[0]=Je[0]*ut[0],Te[1]=Je[1]*ut[1],Te}function J(Te,Je,ut){return Te[0]=Je[0]/ut[0],Te[1]=Je[1]/ut[1],Te}function K(Te,Je,ut){return Te[0]=Je[0]*ut,Te[1]=Je[1]*ut,Te}function $(Te,Je){const ut=Je[0]-Te[0],Pe=Je[1]-Te[1];return Math.sqrt(ut*ut+Pe*Pe)}function V(Te,Je){const ut=Je[0]-Te[0],Pe=Je[1]-Te[1];return ut*ut+Pe*Pe}function P(Te){const Je=Te[0],ut=Te[1];return Math.sqrt(Je*Je+ut*ut)}function F(Te){const Je=Te[0],ut=Te[1];return Je*Je+ut*ut}function Z(Te,Je){return Te[0]=-Je[0],Te[1]=-Je[1],Te}function H(Te,Je){const ut=Je[0],Pe=Je[1];let Qe=ut*ut+Pe*Pe;return Qe>0&&(Qe=1/Math.sqrt(Qe),Te[0]=Je[0]*Qe,Te[1]=Je[1]*Qe),Te}function de(Te,Je){return Te[0]*Je[0]+Te[1]*Je[1]}function q(Te,Je,ut){const Pe=Je[0]*ut[1]-Je[1]*ut[0];return Te[0]=Te[1]=0,Te[2]=Pe,Te}function oe(Te,Je,ut){const Pe=Je[0],Qe=Je[1];return Te[0]=ut[0]*Pe+ut[2]*Qe+ut[4],Te[1]=ut[1]*Pe+ut[3]*Qe+ut[5],Te}const xe=ee;Object.freeze({__proto__:null,copy:T,set:re,add:ne,subtract:ee,multiply:ie,divide:J,ceil:function j(Te,Je){return Te[0]=Math.ceil(Je[0]),Te[1]=Math.ceil(Je[1]),Te},floor:function A(Te,Je){return Te[0]=Math.floor(Je[0]),Te[1]=Math.floor(Je[1]),Te},min:function B(Te,Je,ut){return Te[0]=Math.min(Je[0],ut[0]),Te[1]=Math.min(Je[1],ut[1]),Te},max:function X(Te,Je,ut){return Te[0]=Math.max(Je[0],ut[0]),Te[1]=Math.max(Je[1],ut[1]),Te},round:function W(Te,Je){return Te[0]=Math.round(Je[0]),Te[1]=Math.round(Je[1]),Te},scale:K,scaleAndAdd:function ae(Te,Je,ut,Pe){return Te[0]=Je[0]+ut[0]*Pe,Te[1]=Je[1]+ut[1]*Pe,Te},distance:$,squaredDistance:V,length:P,squaredLength:F,negate:Z,inverse:function Y(Te,Je){return Te[0]=1/Je[0],Te[1]=1/Je[1],Te},normalize:H,dot:de,cross:q,lerp:function ge(Te,Je,ut,Pe){const Qe=Je[0],Ye=Je[1];return Te[0]=Qe+Pe*(ut[0]-Qe),Te[1]=Ye+Pe*(ut[1]-Ye),Te},random:function le(Te,Je){Je=Je||1;const ut=2*(0,x.R)()*Math.PI;return Te[0]=Math.cos(ut)*Je,Te[1]=Math.sin(ut)*Je,Te},transformMat2:function ye(Te,Je,ut){const Pe=Je[0],Qe=Je[1];return Te[0]=ut[0]*Pe+ut[2]*Qe,Te[1]=ut[1]*Pe+ut[3]*Qe,Te},transformMat2d:oe,transformMat3:function Q(Te,Je,ut){const Pe=Je[0],Qe=Je[1];return Te[0]=ut[0]*Pe+ut[3]*Qe+ut[6],Te[1]=ut[1]*Pe+ut[4]*Qe+ut[7],Te},transformMat4:function pe(Te,Je,ut){const Pe=Je[0],Qe=Je[1];return Te[0]=ut[0]*Pe+ut[4]*Qe+ut[12],Te[1]=ut[1]*Pe+ut[5]*Qe+ut[13],Te},rotate:function ue(Te,Je,ut,Pe){const Qe=Je[0]-ut[0],Ye=Je[1]-ut[1],te=Math.sin(Pe),_e=Math.cos(Pe);return Te[0]=Qe*_e-Ye*te+ut[0],Te[1]=Qe*te+Ye*_e+ut[1],Te},angle:function me(Te,Je){const ut=Te[0],Pe=Te[1],Qe=Je[0],Ye=Je[1];let te=ut*ut+Pe*Pe;te>0&&(te=1/Math.sqrt(te));let _e=Qe*Qe+Ye*Ye;_e>0&&(_e=1/Math.sqrt(_e));const Ze=(ut*Qe+Pe*Ye)*te*_e;return Ze>1?0:Ze<-1?Math.PI:Math.acos(Ze)},str:function ve(Te){return"vec2("+Te[0]+", "+Te[1]+")"},exactEquals:function fe(Te,Je){return Te[0]===Je[0]&&Te[1]===Je[1]},equals:function Ce(Te,Je){const ut=Te[0],Pe=Te[1],Qe=Je[0],Ye=Je[1];return Math.abs(ut-Qe)<=x.E*Math.max(1,Math.abs(ut),Math.abs(Qe))&&Math.abs(Pe-Ye)<=x.E*Math.max(1,Math.abs(Pe),Math.abs(Ye))},projectAndScale:function ce(Te,Je,ut,Pe,Qe){let Ye=Je[0]-ut[0],te=Je[1]-ut[1];const _e=(Pe[0]*Ye+Pe[1]*te)*(Qe-1);return Ye=Pe[0]*_e,te=Pe[1]*_e,Te[0]=Je[0]+Ye,Te[1]=Je[1]+te,Te},len:P,sub:xe,mul:ie,div:J,dist:$,sqrDist:V,sqrLen:F})},9545:(lt,Se,C)=>{"use strict";function x(){return new Float32Array(2)}function re(ae,$){const V=new Float32Array(2);return V[0]=ae,V[1]=$,V}function ee(){return x()}function ie(){return re(1,1)}function J(){return re(1,0)}function j(){return re(0,1)}C.d(Se,{c:()=>x,f:()=>re});const A=ee(),B=ie(),X=J(),W=j();Object.freeze({__proto__:null,create:x,clone:function T(ae){const $=new Float32Array(2);return $[0]=ae[0],$[1]=ae[1],$},fromValues:re,createView:function ne(ae,$){return new Float32Array(ae,$,2)},zeros:ee,ones:ie,unitX:J,unitY:j,ZEROS:A,ONES:B,UNIT_X:X,UNIT_Y:W})},99770:(lt,Se,C)=>{"use strict";function x(){return[0,0]}function re($,V){return[$,V]}function ee($,V){return new Float64Array($,V,2)}function J(){return re(1,1)}function j(){return re(1,0)}function A(){return re(0,1)}C.d(Se,{a:()=>x,c:()=>ee,f:()=>re});const X=J(),W=j(),K=A();Object.freeze({__proto__:null,create:x,clone:function T($){return[$[0],$[1]]},fromValues:re,fromArray:function ne($){const V=[0,0],P=Math.min(2,$.length);for(let F=0;F<P;++F)V[F]=$[F];return V},createView:ee,zeros:function ie(){return[0,0]},ones:J,unitX:j,unitY:A,ZEROS:[0,0],ONES:X,UNIT_X:W,UNIT_Y:K})},84161:(lt,Se,C)=>{"use strict";C.d(Se,{E:()=>A,a:()=>$,b:()=>ie,c:()=>ge,d:()=>q,e:()=>le,f:()=>J,g:()=>ne,h:()=>F,i:()=>P,k:()=>Ae,l:()=>re,m:()=>pe,n:()=>de,p:()=>Z,q:()=>me,r:()=>tt,s:()=>ee,t:()=>ue,u:()=>Pe});var x=C(28093),T=C(39863);function re(te){const _e=te[0],Ze=te[1],et=te[2];return Math.sqrt(_e*_e+Ze*Ze+et*et)}function ne(te,_e){return te[0]=_e[0],te[1]=_e[1],te[2]=_e[2],te}function ee(te,_e,Ze,et){return te[0]=_e,te[1]=Ze,te[2]=et,te}function ie(te,_e,Ze){return te[0]=_e[0]+Ze[0],te[1]=_e[1]+Ze[1],te[2]=_e[2]+Ze[2],te}function J(te,_e,Ze){return te[0]=_e[0]-Ze[0],te[1]=_e[1]-Ze[1],te[2]=_e[2]-Ze[2],te}function j(te,_e,Ze){return te[0]=_e[0]*Ze[0],te[1]=_e[1]*Ze[1],te[2]=_e[2]*Ze[2],te}function A(te,_e,Ze){return te[0]=_e[0]/Ze[0],te[1]=_e[1]/Ze[1],te[2]=_e[2]/Ze[2],te}function $(te,_e,Ze){return te[0]=_e[0]*Ze,te[1]=_e[1]*Ze,te[2]=_e[2]*Ze,te}function P(te,_e){const Ze=_e[0]-te[0],et=_e[1]-te[1],ht=_e[2]-te[2];return Math.sqrt(Ze*Ze+et*et+ht*ht)}function F(te,_e){const Ze=_e[0]-te[0],et=_e[1]-te[1],ht=_e[2]-te[2];return Ze*Ze+et*et+ht*ht}function Z(te){const _e=te[0],Ze=te[1],et=te[2];return _e*_e+Ze*Ze+et*et}function de(te,_e){const Ze=_e[0],et=_e[1],ht=_e[2];let ft=Ze*Ze+et*et+ht*ht;return ft>0&&(ft=1/Math.sqrt(ft),te[0]=_e[0]*ft,te[1]=_e[1]*ft,te[2]=_e[2]*ft),te}function q(te,_e){return te[0]*_e[0]+te[1]*_e[1]+te[2]*_e[2]}function ge(te,_e,Ze){const et=_e[0],ht=_e[1],ft=_e[2],Et=Ze[0],mt=Ze[1],at=Ze[2];return te[0]=ht*at-ft*mt,te[1]=ft*Et-et*at,te[2]=et*mt-ht*Et,te}function le(te,_e,Ze,et){const ht=_e[0],ft=_e[1],Et=_e[2];return te[0]=ht+et*(Ze[0]-ht),te[1]=ft+et*(Ze[1]-ft),te[2]=Et+et*(Ze[2]-Et),te}function pe(te,_e,Ze){const et=_e[0],ht=_e[1],ft=_e[2];return te[0]=Ze[0]*et+Ze[4]*ht+Ze[8]*ft+Ze[12],te[1]=Ze[1]*et+Ze[5]*ht+Ze[9]*ft+Ze[13],te[2]=Ze[2]*et+Ze[6]*ht+Ze[10]*ft+Ze[14],te}function ue(te,_e,Ze){const et=_e[0],ht=_e[1],ft=_e[2];return te[0]=et*Ze[0]+ht*Ze[3]+ft*Ze[6],te[1]=et*Ze[1]+ht*Ze[4]+ft*Ze[7],te[2]=et*Ze[2]+ht*Ze[5]+ft*Ze[8],te}function me(te,_e,Ze){const et=Ze[0],ht=Ze[1],ft=Ze[2],mt=_e[0],at=_e[1],wt=_e[2];let Tt=ht*wt-ft*at,Ut=ft*mt-et*wt,Wt=et*at-ht*mt,er=ht*Wt-ft*Ut,gr=ft*Tt-et*Wt,yr=et*Ut-ht*Tt;const mr=2*Ze[3];return Tt*=mr,Ut*=mr,Wt*=mr,er*=2,gr*=2,yr*=2,te[0]=mt+Tt+er,te[1]=at+Ut+gr,te[2]=wt+Wt+yr,te}const he=(0,x.c)(),xe=(0,x.c)();function Ae(te,_e){return te[0]===_e[0]&&te[1]===_e[1]&&te[2]===_e[2]}function tt(te,_e,Ze){const et=Ze[0]-_e[0],ht=Ze[1]-_e[1],ft=Ze[2]-_e[2];let Et=et*et+ht*ht+ft*ft;return Et>0?(Et=1/Math.sqrt(Et),te[0]=et*Et,te[1]=ht*Et,te[2]=ft*Et,te):(te[0]=0,te[1]=0,te[2]=0,te)}const Pe=re;Object.freeze({__proto__:null,length:re,copy:ne,set:ee,add:ie,subtract:J,multiply:j,divide:A,ceil:function B(te,_e){return te[0]=Math.ceil(_e[0]),te[1]=Math.ceil(_e[1]),te[2]=Math.ceil(_e[2]),te},floor:function X(te,_e){return te[0]=Math.floor(_e[0]),te[1]=Math.floor(_e[1]),te[2]=Math.floor(_e[2]),te},min:function W(te,_e,Ze){return te[0]=Math.min(_e[0],Ze[0]),te[1]=Math.min(_e[1],Ze[1]),te[2]=Math.min(_e[2],Ze[2]),te},max:function K(te,_e,Ze){return te[0]=Math.max(_e[0],Ze[0]),te[1]=Math.max(_e[1],Ze[1]),te[2]=Math.max(_e[2],Ze[2]),te},round:function ae(te,_e){return te[0]=Math.round(_e[0]),te[1]=Math.round(_e[1]),te[2]=Math.round(_e[2]),te},scale:$,scaleAndAdd:function V(te,_e,Ze,et){return te[0]=_e[0]+Ze[0]*et,te[1]=_e[1]+Ze[1]*et,te[2]=_e[2]+Ze[2]*et,te},distance:P,squaredDistance:F,squaredLength:Z,negate:function Y(te,_e){return te[0]=-_e[0],te[1]=-_e[1],te[2]=-_e[2],te},inverse:function H(te,_e){return te[0]=1/_e[0],te[1]=1/_e[1],te[2]=1/_e[2],te},normalize:de,dot:q,cross:ge,lerp:le,hermite:function ye(te,_e,Ze,et,ht,ft){const Et=ft*ft,mt=Et*(2*ft-3)+1,at=Et*(ft-2)+ft,wt=Et*(ft-1),Tt=Et*(3-2*ft);return te[0]=_e[0]*mt+Ze[0]*at+et[0]*wt+ht[0]*Tt,te[1]=_e[1]*mt+Ze[1]*at+et[1]*wt+ht[1]*Tt,te[2]=_e[2]*mt+Ze[2]*at+et[2]*wt+ht[2]*Tt,te},bezier:function oe(te,_e,Ze,et,ht,ft){const Et=1-ft,mt=Et*Et,at=ft*ft,wt=mt*Et,Tt=3*ft*mt,Ut=3*at*Et,Wt=at*ft;return te[0]=_e[0]*wt+Ze[0]*Tt+et[0]*Ut+ht[0]*Wt,te[1]=_e[1]*wt+Ze[1]*Tt+et[1]*Ut+ht[1]*Wt,te[2]=_e[2]*wt+Ze[2]*Tt+et[2]*Ut+ht[2]*Wt,te},random:function Q(te,_e){_e=_e||1;const Ze=2*(0,T.R)()*Math.PI,et=2*(0,T.R)()-1,ht=Math.sqrt(1-et*et)*_e;return te[0]=Math.cos(Ze)*ht,te[1]=Math.sin(Ze)*ht,te[2]=et*_e,te},transformMat4:pe,transformMat3:ue,transformQuat:me,rotateX:function ve(te,_e,Ze,et){const ht=[],ft=[];return ht[0]=_e[0]-Ze[0],ht[1]=_e[1]-Ze[1],ht[2]=_e[2]-Ze[2],ft[0]=ht[0],ft[1]=ht[1]*Math.cos(et)-ht[2]*Math.sin(et),ft[2]=ht[1]*Math.sin(et)+ht[2]*Math.cos(et),te[0]=ft[0]+Ze[0],te[1]=ft[1]+Ze[1],te[2]=ft[2]+Ze[2],te},rotateY:function fe(te,_e,Ze,et){const ht=[],ft=[];return ht[0]=_e[0]-Ze[0],ht[1]=_e[1]-Ze[1],ht[2]=_e[2]-Ze[2],ft[0]=ht[2]*Math.sin(et)+ht[0]*Math.cos(et),ft[1]=ht[1],ft[2]=ht[2]*Math.cos(et)-ht[0]*Math.sin(et),te[0]=ft[0]+Ze[0],te[1]=ft[1]+Ze[1],te[2]=ft[2]+Ze[2],te},rotateZ:function Ce(te,_e,Ze,et){const ht=[],ft=[];return ht[0]=_e[0]-Ze[0],ht[1]=_e[1]-Ze[1],ht[2]=_e[2]-Ze[2],ft[0]=ht[0]*Math.cos(et)-ht[1]*Math.sin(et),ft[1]=ht[0]*Math.sin(et)+ht[1]*Math.cos(et),ft[2]=ht[2],te[0]=ft[0]+Ze[0],te[1]=ft[1]+Ze[1],te[2]=ft[2]+Ze[2],te},angle:function ce(te,_e){ne(he,te),ne(xe,_e),de(he,he),de(xe,xe);const Ze=q(he,xe);return Ze>1?0:Ze<-1?Math.PI:Math.acos(Ze)},str:function we(te){return"vec3("+te[0]+", "+te[1]+", "+te[2]+")"},exactEquals:Ae,equals:function Fe(te,_e){if(te===_e)return!0;const Ze=te[0],et=te[1],ht=te[2],ft=_e[0],Et=_e[1],mt=_e[2];return Math.abs(Ze-ft)<=T.E*Math.max(1,Math.abs(Ze),Math.abs(ft))&&Math.abs(et-Et)<=T.E*Math.max(1,Math.abs(et),Math.abs(Et))&&Math.abs(ht-mt)<=T.E*Math.max(1,Math.abs(ht),Math.abs(mt))},direction:tt,sub:J,mul:j,div:A,dist:P,sqrDist:F,len:Pe,sqrLen:Z})},28093:(lt,Se,C)=>{"use strict";function x(){return[0,0,0]}function T(P){return[P[0],P[1],P[2]]}function re(P,F,Z){return[P,F,Z]}function ne(P){const F=[0,0,0],Z=Math.min(3,P.length);for(let Y=0;Y<Z;++Y)F[Y]=P[Y];return F}function ee(P,F){return new Float64Array(P,F,3)}function J(){return re(1,1,1)}function j(){return re(1,0,0)}function A(){return re(0,1,0)}function B(){return re(0,0,1)}C.d(Se,{O:()=>W,Z:()=>X,a:()=>T,b:()=>ee,c:()=>x,d:()=>ne,f:()=>re});const X=[0,0,0],W=J(),K=j(),ae=A(),$=B();Object.freeze({__proto__:null,create:x,clone:T,fromValues:re,fromArray:ne,createView:ee,zeros:function ie(){return[0,0,0]},ones:J,unitX:j,unitY:A,unitZ:B,ZEROS:X,ONES:W,UNIT_X:K,UNIT_Y:ae,UNIT_Z:$})},993:(lt,Se,C)=>{"use strict";C.d(Se,{a:()=>ne,b:()=>K,c:()=>T,d:()=>de,e:()=>P,f:()=>F,g:()=>Q,h:()=>pe,l:()=>q,n:()=>H,s:()=>re});var x=C(39863);function T(we,Ae){return we[0]=Ae[0],we[1]=Ae[1],we[2]=Ae[2],we[3]=Ae[3],we}function re(we,Ae,Fe,tt,Re){return we[0]=Ae,we[1]=Fe,we[2]=tt,we[3]=Re,we}function ne(we,Ae,Fe){return we[0]=Ae[0]+Fe[0],we[1]=Ae[1]+Fe[1],we[2]=Ae[2]+Fe[2],we[3]=Ae[3]+Fe[3],we}function ee(we,Ae,Fe){return we[0]=Ae[0]-Fe[0],we[1]=Ae[1]-Fe[1],we[2]=Ae[2]-Fe[2],we[3]=Ae[3]-Fe[3],we}function ie(we,Ae,Fe){return we[0]=Ae[0]*Fe[0],we[1]=Ae[1]*Fe[1],we[2]=Ae[2]*Fe[2],we[3]=Ae[3]*Fe[3],we}function J(we,Ae,Fe){return we[0]=Ae[0]/Fe[0],we[1]=Ae[1]/Fe[1],we[2]=Ae[2]/Fe[2],we[3]=Ae[3]/Fe[3],we}function K(we,Ae,Fe){return we[0]=Ae[0]*Fe,we[1]=Ae[1]*Fe,we[2]=Ae[2]*Fe,we[3]=Ae[3]*Fe,we}function $(we,Ae){const Fe=Ae[0]-we[0],tt=Ae[1]-we[1],Re=Ae[2]-we[2],be=Ae[3]-we[3];return Math.sqrt(Fe*Fe+tt*tt+Re*Re+be*be)}function V(we,Ae){const Fe=Ae[0]-we[0],tt=Ae[1]-we[1],Re=Ae[2]-we[2],be=Ae[3]-we[3];return Fe*Fe+tt*tt+Re*Re+be*be}function P(we){const Ae=we[0],Fe=we[1],tt=we[2],Re=we[3];return Math.sqrt(Ae*Ae+Fe*Fe+tt*tt+Re*Re)}function F(we){const Ae=we[0],Fe=we[1],tt=we[2],Re=we[3];return Ae*Ae+Fe*Fe+tt*tt+Re*Re}function H(we,Ae){const Fe=Ae[0],tt=Ae[1],Re=Ae[2],be=Ae[3];let Te=Fe*Fe+tt*tt+Re*Re+be*be;return Te>0&&(Te=1/Math.sqrt(Te),we[0]=Fe*Te,we[1]=tt*Te,we[2]=Re*Te,we[3]=be*Te),we}function de(we,Ae){return we[0]*Ae[0]+we[1]*Ae[1]+we[2]*Ae[2]+we[3]*Ae[3]}function q(we,Ae,Fe,tt){const Re=Ae[0],be=Ae[1],Te=Ae[2],Je=Ae[3];return we[0]=Re+tt*(Fe[0]-Re),we[1]=be+tt*(Fe[1]-be),we[2]=Te+tt*(Fe[2]-Te),we[3]=Je+tt*(Fe[3]-Je),we}function Q(we,Ae){return we[0]===Ae[0]&&we[1]===Ae[1]&&we[2]===Ae[2]&&we[3]===Ae[3]}function pe(we,Ae){const Fe=we[0],tt=we[1],Re=we[2],be=we[3],Te=Ae[0],Je=Ae[1],ut=Ae[2],Pe=Ae[3];return Math.abs(Fe-Te)<=x.E*Math.max(1,Math.abs(Fe),Math.abs(Te))&&Math.abs(tt-Je)<=x.E*Math.max(1,Math.abs(tt),Math.abs(Je))&&Math.abs(Re-ut)<=x.E*Math.max(1,Math.abs(Re),Math.abs(ut))&&Math.abs(be-Pe)<=x.E*Math.max(1,Math.abs(be),Math.abs(Pe))}Object.freeze({__proto__:null,copy:T,set:re,add:ne,subtract:ee,multiply:ie,divide:J,ceil:function j(we,Ae){return we[0]=Math.ceil(Ae[0]),we[1]=Math.ceil(Ae[1]),we[2]=Math.ceil(Ae[2]),we[3]=Math.ceil(Ae[3]),we},floor:function A(we,Ae){return we[0]=Math.floor(Ae[0]),we[1]=Math.floor(Ae[1]),we[2]=Math.floor(Ae[2]),we[3]=Math.floor(Ae[3]),we},min:function B(we,Ae,Fe){return we[0]=Math.min(Ae[0],Fe[0]),we[1]=Math.min(Ae[1],Fe[1]),we[2]=Math.min(Ae[2],Fe[2]),we[3]=Math.min(Ae[3],Fe[3]),we},max:function X(we,Ae,Fe){return we[0]=Math.max(Ae[0],Fe[0]),we[1]=Math.max(Ae[1],Fe[1]),we[2]=Math.max(Ae[2],Fe[2]),we[3]=Math.max(Ae[3],Fe[3]),we},round:function W(we,Ae){return we[0]=Math.round(Ae[0]),we[1]=Math.round(Ae[1]),we[2]=Math.round(Ae[2]),we[3]=Math.round(Ae[3]),we},scale:K,scaleAndAdd:function ae(we,Ae,Fe,tt){return we[0]=Ae[0]+Fe[0]*tt,we[1]=Ae[1]+Fe[1]*tt,we[2]=Ae[2]+Fe[2]*tt,we[3]=Ae[3]+Fe[3]*tt,we},distance:$,squaredDistance:V,length:P,squaredLength:F,negate:function Z(we,Ae){return we[0]=-Ae[0],we[1]=-Ae[1],we[2]=-Ae[2],we[3]=-Ae[3],we},inverse:function Y(we,Ae){return we[0]=1/Ae[0],we[1]=1/Ae[1],we[2]=1/Ae[2],we[3]=1/Ae[3],we},normalize:H,dot:de,lerp:q,random:function ge(we,Ae){let Fe,tt,Re,be,Te,Je;Ae=Ae||1;do{Fe=2*(0,x.R)()-1,tt=2*(0,x.R)()-1,Te=Fe*Fe+tt*tt}while(Te>=1);do{Re=2*(0,x.R)()-1,be=2*(0,x.R)()-1,Je=Re*Re+be*be}while(Je>=1);const ut=Math.sqrt((1-Te)/Je);return we[0]=Ae*Fe,we[1]=Ae*tt,we[2]=Ae*Re*ut,we[3]=Ae*be*ut,we},transformMat4:function le(we,Ae,Fe){const tt=Ae[0],Re=Ae[1],be=Ae[2],Te=Ae[3];return we[0]=Fe[0]*tt+Fe[4]*Re+Fe[8]*be+Fe[12]*Te,we[1]=Fe[1]*tt+Fe[5]*Re+Fe[9]*be+Fe[13]*Te,we[2]=Fe[2]*tt+Fe[6]*Re+Fe[10]*be+Fe[14]*Te,we[3]=Fe[3]*tt+Fe[7]*Re+Fe[11]*be+Fe[15]*Te,we},transformQuat:function ye(we,Ae,Fe){const tt=Ae[0],Re=Ae[1],be=Ae[2],Te=Fe[0],Je=Fe[1],ut=Fe[2],Pe=Fe[3],Qe=Pe*tt+Je*be-ut*Re,Ye=Pe*Re+ut*tt-Te*be,te=Pe*be+Te*Re-Je*tt,_e=-Te*tt-Je*Re-ut*be;return we[0]=Qe*Pe+_e*-Te+Ye*-ut-te*-Je,we[1]=Ye*Pe+_e*-Je+te*-Te-Qe*-ut,we[2]=te*Pe+_e*-ut+Qe*-Je-Ye*-Te,we[3]=Ae[3],we},str:function oe(we){return"vec4("+we[0]+", "+we[1]+", "+we[2]+", "+we[3]+")"},exactEquals:Q,equals:pe,sub:ee,mul:ie,div:J,dist:$,sqrDist:V,len:P,sqrLen:F})},20414:(lt,Se,C)=>{"use strict";C.d(Se,{h$:()=>re,VL:()=>ne,rW:()=>J,B7:()=>ie,St:()=>T});const x={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function T(j){return x[j]||x[j.toLowerCase()]}function re(j){var A;return null!=(A=x[j])?A:x[j.toLowerCase()]}function ne(j){return[...re(j)]}function ee(j,A,B){B<0&&++B,B>1&&--B;const X=6*B;return X<1?j+(A-j)*X:2*B<1?A:3*B<2?j+(A-j)*(2/3-B)*6:j}function ie(j,A,B,X=1){const W=(j%360+360)%360/360,K=B<=.5?B*(A+1):B+A-B*A,ae=2*B-K;return[Math.round(255*ee(ae,K,W+1/3)),Math.round(255*ee(ae,K,W)),Math.round(255*ee(ae,K,W-1/3)),X]}function J(j){const A=j.length>5,B=A?8:4,X=(1<<B)-1,W=A?1:17,K=A?9===j.length:5===j.length;let ae=Number("0x"+j.substr(1));if(isNaN(ae))return null;const $=[0,0,0,1];let V;return K&&(V=ae&X,ae>>=B,$[3]=W*V/255),V=ae&X,ae>>=B,$[2]=W*V,V=ae&X,ae>>=B,$[1]=W*V,V=ae&X,ae>>=B,$[0]=W*V,$}},59318:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>ne}),C(8314);var re,T=C(94113);const ne={apiKey:void 0,applicationUrl:null==(re=globalThis.location)?void 0:re.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryService:null,geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};globalThis.esriConfig&&((0,T.RH)(ne,globalThis.esriConfig,!0),delete ne.has),ne.assetsPath||(ne.assetsPath=`https://js.arcgis.com/${"4.22.2".slice(0,-2)}/@arcgis/core/assets`),ne.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath"),Object.defineProperty(ne,"baseUrl",{set(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}}),ne.request.corsEnabledServers=[],ne.request.corsEnabledServers.push=function(){return console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664"),0}},14517:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>le});var x=C(55538),T=C(63290),re=C(34595),ne=C(34117),ie=(C(8314),C(58817)),J=C(27899),j=C(36082),A=C(12196);class B{constructor(oe,Q,pe){this.properties=oe,this.propertyName=Q,this.metadata=pe,this._observers=null,this._accessed=null,this._handles=null,this.flags=1|(pe.nonNullable?8:0)|(pe.hasOwnProperty("value")?16:0)|(void 0===pe.get?32:0)|(void 0===pe.dependsOn?64:0)}destroy(){this._accessed=null,this._observers=null,this._clearObservationHandles()}getComputed(){(0,j.it)(this);const oe=this.properties.store,Q=this.propertyName,pe=this.flags,ue=oe.get(Q);if(4&pe||1&~pe&&oe.has(Q))return ue;this.flags|=4;const me=this.properties.host;let ve;64&pe?ve=(0,j.LJ)(this,this.metadata.get,me):((0,j.GF)(me,this),ve=this.metadata.get.call(me)),oe.set(Q,ve,1);const fe=oe.get(Q);return fe===ue?this.flags&=-2:(0,j.gb)(this.commit,this),this.flags&=-5,fe}onObservableAccessed(oe){oe!==this&&(null===this._accessed&&(this._accessed=[]),this._accessed.includes(oe)||this._accessed.push(oe))}onTrackingEnd(){this._clearObservationHandles(),this.flags|=32;const oe=this._accessed;if(null===oe)return;let Q=this._handles;null===Q&&(Q=this._handles=[]);for(let pe=0;pe<oe.length;++pe)Q.push(oe[pe].observe(this));oe.length=0}observe(oe){return null===this._observers&&(this._observers=[]),this._observers.includes(oe)||this._observers.push(oe),new A.X(this._observers,oe)}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}onInvalidated(){2&~this.flags&&(this.flags|=1);const oe=this._observers;if(null!==oe)for(let Q=0;Q<oe.length;++Q)oe[Q].onInvalidated()}commit(){this.flags&=-2,this.onCommitted()}onCommitted(){if(null===this._observers)return;const oe=this._observers.slice();for(let Q=0;Q<oe.length;++Q)oe[Q].onCommitted()}_clearObservationHandles(){const oe=this._handles;if(null!==oe){for(let Q=0;Q<oe.length;++Q)oe[Q].remove();oe.length=0}}}var X=C(31283);class W{constructor(){this._values=new Map}clone(oe){const Q=new W;return this._values.forEach((pe,ue)=>{oe&&oe.has(ue)||Q.set(ue,(0,ie.d9)(pe))}),Q}get(oe){return this._values.get(oe)}originOf(){return 6}keys(){return[...this._values.keys()]}set(oe,Q){this._values.set(oe,Q)}delete(oe){this._values.delete(oe)}has(oe){return this._values.has(oe)}forEach(oe){this._values.forEach(oe)}}var K=C(52323);function ae(ye,oe,Q){return void 0!==ye}function $(ye,oe,Q,pe){return!(void 0===ye||null==Q&&8&ye.flags)}T.Z.getLogger("esri.core.accessorSupport.Properties");class P{constructor(oe){this.host=oe,this.properties=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=0,this.store=new W,this._origin=6;const Q=this.host.constructor.__accessorMetadata__,pe=Q.properties;for(const ue in pe){const me=new B(this,ue,pe[ue]);this.properties.set(ue,me)}this.metadatas=pe,this._autoDestroy=Q.autoDestroy}initialize(){this.lifecycle=1}constructed(){this.lifecycle=2}destroy(){if(this.destroyed=!0,this._autoDestroy)for(const[oe,Q]of this.properties){const pe=this.internalGet(oe);pe&&(ye=pe)&&"function"==typeof ye.destroy&&(pe.destroy(),8&~Q.flags&&this._internalSet(Q,null)),Q.destroy()}else for(const[oe,Q]of this.properties)Q.destroy();var ye}get initialized(){return 0!==this.lifecycle}get(oe){const Q=this.properties.get(oe);if(Q.metadata.get)return Q.getComputed();(0,j.it)(Q);const pe=this.store;return pe.has(oe)?pe.get(oe):Q.metadata.value}originOf(oe){const Q=this.store.originOf(oe);if(void 0===Q){const pe=this.properties.get(oe);if(void 0!==pe&&16&pe.flags)return"defaults"}return(0,X.x3)(Q)}has(oe){return!!this.properties.has(oe)&&this.store.has(oe)}keys(){return[...this.properties.keys()]}internalGet(oe){const Q=this.properties.get(oe);if(ae(Q))return this.store.has(oe)?this.store.get(oe):Q.metadata.value}internalSet(oe,Q){const pe=this.properties.get(oe);ae(pe)&&this._internalSet(pe,Q)}getDependsInfo(oe,Q,pe){const ue=this.properties.get(Q);if(!ae(ue))return"";const me=new Set,ve=(0,j.LJ)({onObservableAccessed:Ce=>me.add(Ce),onTrackingEnd:()=>{}},()=>{var Ce;return null==(Ce=ue.metadata.get)?void 0:Ce.call(oe)});let fe=`${pe}${oe.declaredClass.split(".").pop()}.${Q}: ${ve}\n`;if(0===me.size)return fe;pe+="  ";for(const Ce of me){if(!(Ce instanceof B))continue;const ce=Ce.properties.host,he=Ce.propertyName,xe=(0,K.vw)(ce);fe+=xe?xe.getDependsInfo(ce,he,pe):`${pe}${he}: undefined\n`}return fe}setAtOrigin(oe,Q,pe){const ue=this.properties.get(oe);if(ae(ue))return this._setAtOrigin(ue,Q,pe)}isOverridden(oe){const Q=this.properties.get(oe);return void 0!==Q&&!!(2&Q.flags)}clearOverride(oe){const Q=this.properties.get(oe);void 0!==Q&&2&Q.flags&&(Q.flags&=-3,Q.notifyChange())}override(oe,Q){const pe=this.properties.get(oe);if(!$(pe,0,Q))return;const ue=pe.metadata.cast;if(ue){const me=this._cast(ue,Q),{valid:ve,value:fe}=me;if(Z.release(me),!ve)return;Q=fe}pe.flags|=2,this._internalSet(pe,Q)}set(oe,Q){const pe=this.properties.get(oe);if(!$(pe,0,Q))return;const ue=pe.metadata.cast;if(ue){const ve=this._cast(ue,Q),{valid:fe,value:Ce}=ve;if(Z.release(ve),!fe)return;Q=Ce}const me=pe.metadata.set;me?me.call(this.host,Q):this._internalSet(pe,Q)}setDefaultOrigin(oe){this._origin=(0,X.M9)(oe)}getDefaultOrigin(){return(0,X.x3)(this._origin)}notifyChange(oe){const Q=this.properties.get(oe);void 0!==Q&&Q.notifyChange()}invalidate(oe){const Q=this.properties.get(oe);void 0!==Q&&Q.invalidate()}commit(oe){const Q=this.properties.get(oe);void 0!==Q&&Q.commit()}_internalSet(oe,Q){this._setAtOrigin(oe,Q,0!==this.lifecycle?this._origin:0)}_setAtOrigin(oe,Q,pe){const ue=this.store,me=oe.propertyName;ue.has(me,pe)&&(0,ie.fS)(Q,ue.get(me))&&2&~oe.flags&&pe===ue.originOf(me)||(oe.invalidate(),ue.set(me,Q,pe),oe.commit(),(0,j.mS)(this.host,oe))}_cast(oe,Q){const pe=Z.acquire();return pe.valid=!0,pe.value=Q,oe&&(pe.value=oe.call(this.host,Q,pe)),pe}}const Z=new J.Z(class F{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}});var Y=C(82255),H=C(45262),de=C(77712),q=C(76898);function ge(ye){if(null==ye)return{value:ye};if(Array.isArray(ye))return{type:[ye[0]],value:null};switch(typeof ye){case"object":return ye.constructor&&ye.constructor.__accessorMetadata__||ye instanceof Date?{type:ye.constructor,value:ye}:ye;case"boolean":return{type:Boolean,value:ye};case"string":return{type:String,value:ye};case"number":return{type:Number,value:ye};case"function":return{type:ye,value:null};default:return}}class le{constructor(...oe){if(this.constructor===le)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new P(this)}),oe.length>0&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,oe))}static createSubclass(oe={}){if(Array.isArray(oe))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:Q,declaredClass:pe,constructor:ue}=oe;delete oe.declaredClass,delete oe.properties,delete oe.constructor;const me=this;class ve extends me{constructor(...Ce){super(...Ce),this.inherited=null,ue&&ue.apply(this,Ce)}}(0,ne.JT)(ve.prototype);for(const fe in oe){const Ce=oe[fe];ve.prototype[fe]="function"==typeof Ce?function(...ce){const he=this.inherited;let xe;this.inherited=function(...we){if(me.prototype[fe])return me.prototype[fe].apply(this,we)};try{xe=Ce.apply(this,ce)}catch(we){throw this.inherited=he,we}return this.inherited=he,xe}:oe[fe]}for(const fe in Q){const Ce=ge(Q[fe]);(0,de.Cb)(Ce)(ve.prototype,fe)}return(0,q.j)(pe)(ve)}postscript(oe){const Q=this.__accessor__,pe=Q.ctorArgs||oe;Q.initialize(),pe&&(this.set(pe),Q.ctorArgs=null),Q.constructed(),this.initialize()}initialize(){}destroy(){this.destroyed||((0,H.BT)(this),this.__accessor__.destroy())}get initialized(){return this.__accessor__&&this.__accessor__.initialized||!1}get constructed(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(oe){this.get(oe)}get(oe){return(0,re.U2)(this,oe)}hasOwnProperty(oe){return this.__accessor__?this.__accessor__.has(oe):Object.prototype.hasOwnProperty.call(this,oe)}isInstanceOf(oe){return(0,x.XV)(T.Z.getLogger(this.declaredClass),"isInstanceOf",{replacement:"Use instanceof directly",version:"4.16"}),this instanceof oe}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(oe,Q){return(0,Y.t)(this,oe,Q),this}watch(oe,Q,pe){return(0,H.YP)(this,oe,Q,pe)}_clearOverride(oe){return this.__accessor__.clearOverride(oe)}_override(oe,Q){return this.__accessor__.override(oe,Q)}_isOverridden(oe){return this.__accessor__.isOverridden(oe)}notifyChange(oe){this.__accessor__.notifyChange(oe)}_get(oe){return this.__accessor__.internalGet(oe)}_set(oe,Q){return this.__accessor__.internalSet(oe,Q),this}}},35575:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>re});var x=C(27899);function T(ee){ee.length=0}class re{constructor(ie=50,J=50){this._pool=new x.Z(Array,void 0,T,J,ie)}acquire(){return this._pool.acquire()}release(ie){this._pool.release(ie)}prune(){this._pool.prune(0)}static acquire(){return ne.acquire()}static release(ie){return ne.release(ie)}static prune(){ne.prune()}}const ne=new re(100)},7093:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>pe});var $,x=C(17626),T=C(35575),re=C(61885),ne=C(58817),ee=C(62208),ie=C(27899),J=C(50618),j=C(77712),A=C(90912),B=C(61039),X=C(76898),W=C(36082),K=C(12196);class ae{constructor(){this._observers=[]}observe(me){return this._observers.includes(me)||this._observers.push(me),new K.X(this._observers,me)}notify(){const me=this._observers.slice();for(let ve=0;ve<me.length;++ve){const fe=me[ve];fe.onInvalidated(),fe.onCommitted()}}}const P=new ie.Z(class V{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(me){this.defaultPrevented=!1,this.item=me}},void 0,ue=>{ue.item=null,ue.target=null,ue.defaultPrevented=!1,ue.cancellable=!1}),F=()=>{};function Z(ue){return ue?ue instanceof Q?ue.toArray():ue.length?Array.prototype.slice.apply(ue):[]:[]}function Y(ue){if(ue&&ue.length)return ue[0]}function H(ue,me,ve,fe){const Ce=Math.min(ue.length-ve,me.length-fe);let ce=0;for(;ce<Ce&&ue[ve+ce]===me[fe+ce];)ce++;return ce}function de(ue,me,ve,fe){me&&me.forEach((Ce,ce,he)=>{ue.push(Ce),de(ue,ve.call(fe,Ce,ce,he),ve,fe)})}const q=new Set,ge=new Set,le=new Set,ye=new Map;let oe=0,Q=$=class extends re.Z.EventedAccessor{constructor(ue){super(ue),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new ae,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:oe++})}static isCollection(ue){return null!=ue&&ue instanceof $}normalizeCtorArgs(ue){return ue?Array.isArray(ue)||ue instanceof $?{items:ue}:ue:{}}destroy(){this.removeAll()}*[Symbol.iterator](){yield*this.items}get items(){return(0,W.it)(this._observable),this._items}set items(ue){this._emitBeforeChanges(1)||(this._splice(0,this.length,Z(ue)),this._emitAfterChanges(1))}hasEventListener(ue){return"change"===ue?this._chgListeners.length>0:this._emitter.hasEventListener(ue)}on(ue,me){if("change"===ue){const ve=this._chgListeners,fe={removed:!1,callback:me};return ve.push(fe),this._notifications&&this._notifications.push({listeners:ve.slice(),items:this._items.slice(),changes:[]}),{remove(){this.remove=F,fe.removed=!0,ve.splice(ve.indexOf(fe),1)}}}return this._emitter.on(ue,me)}once(ue,me){const ve=this.on(ue,me);return{remove(){ve.remove()}}}add(ue,me){if((0,W.it)(this._observable),this._emitBeforeChanges(1))return this;const ve=this.getNextIndex(null!=me?me:null);return this._splice(ve,0,[ue]),this._emitAfterChanges(1),this}addMany(ue,me=this._items.length){if((0,W.it)(this._observable),!ue||!ue.length)return this;if(this._emitBeforeChanges(1))return this;const ve=this.getNextIndex(me);return this._splice(ve,0,Z(ue)),this._emitAfterChanges(1),this}removeAll(){if((0,W.it)(this._observable),!this.length||this._emitBeforeChanges(2))return[];const ue=this._splice(0,this.length)||[];return this._emitAfterChanges(2),ue}clone(){return(0,W.it)(this._observable),this._createNewInstance({items:this._items.map(ne.d9)})}concat(...ue){(0,W.it)(this._observable);const me=ue.map(Z);return this._createNewInstance({items:this._items.concat(...me)})}drain(ue,me){if((0,W.it)(this._observable),!this.length||this._emitBeforeChanges(2))return;const ve=(0,ee.j0)(this._splice(0,this.length)),fe=ve.length;for(let Ce=0;Ce<fe;Ce++)ue.call(me,ve[Ce],Ce,ve);this._emitAfterChanges(2)}every(ue,me){return(0,W.it)(this._observable),this._items.every(ue,me)}filter(ue,me){let ve;return(0,W.it)(this._observable),ve=2===arguments.length?this._items.filter(ue,me):this._items.filter(ue),this._createNewInstance({items:ve})}find(ue,me){return(0,W.it)(this._observable),this._items.find(ue,me)}findIndex(ue,me){return(0,W.it)(this._observable),this._items.findIndex(ue,me)}flatten(ue,me){(0,W.it)(this._observable);const ve=[];return de(ve,this,ue,me),new $(ve)}forEach(ue,me){return(0,W.it)(this._observable),this._items.forEach(ue,me)}getItemAt(ue){return(0,W.it)(this._observable),this._items[ue]}getNextIndex(ue){(0,W.it)(this._observable);const me=this.length;return(ue=null==ue?me:ue)<0?ue=0:ue>me&&(ue=me),ue}includes(ue,me=0){return(0,W.it)(this._observable),this._items.includes(ue,me)}indexOf(ue,me=0){return(0,W.it)(this._observable),this._items.indexOf(ue,me)}join(ue=","){return(0,W.it)(this._observable),this._items.join(ue)}lastIndexOf(ue,me=this.length-1){return(0,W.it)(this._observable),this._items.lastIndexOf(ue,me)}map(ue,me){(0,W.it)(this._observable);const ve=this._items.map(ue,me);return new $({items:ve})}reorder(ue,me=this.length-1){(0,W.it)(this._observable);const ve=this.indexOf(ue);if(-1!==ve){if(me<0?me=0:me>=this.length&&(me=this.length-1),ve!==me){if(this._emitBeforeChanges(4))return ue;this._splice(ve,1),this._splice(me,0,[ue]),this._emitAfterChanges(4)}return ue}}pop(){if((0,W.it)(this._observable),!this.length||this._emitBeforeChanges(2))return;const ue=Y(this._splice(this.length-1,1));return this._emitAfterChanges(2),ue}push(...ue){return(0,W.it)(this._observable),this._emitBeforeChanges(1)||(this._splice(this.length,0,ue),this._emitAfterChanges(1)),this.length}reduce(ue,me){(0,W.it)(this._observable);const ve=this._items;return 2===arguments.length?ve.reduce(ue,me):ve.reduce(ue)}reduceRight(ue,me){(0,W.it)(this._observable);const ve=this._items;return 2===arguments.length?ve.reduceRight(ue,me):ve.reduceRight(ue)}remove(ue){return(0,W.it)(this._observable),this.removeAt(this.indexOf(ue))}removeAt(ue){if((0,W.it)(this._observable),ue<0||ue>=this.length||this._emitBeforeChanges(2))return;const me=Y(this._splice(ue,1));return this._emitAfterChanges(2),me}removeMany(ue){if((0,W.it)(this._observable),!ue||!ue.length||this._emitBeforeChanges(2))return[];const me=ue instanceof $?ue.toArray():ue,ve=this._items,fe=[],Ce=me.length;for(let ce=0;ce<Ce;ce++){const xe=ve.indexOf(me[ce]);if(xe>-1){const we=1+H(me,ve,ce+1,xe+1),Ae=this._splice(xe,we);Ae&&Ae.length>0&&fe.push.apply(fe,Ae),ce+=we-1}}return this._emitAfterChanges(2),fe}reverse(){if((0,W.it)(this._observable),this._emitBeforeChanges(4))return this;const ue=this._splice(0,this.length);return ue&&(ue.reverse(),this._splice(0,0,ue)),this._emitAfterChanges(4),this}shift(){if((0,W.it)(this._observable),!this.length||this._emitBeforeChanges(2))return;const ue=Y(this._splice(0,1));return this._emitAfterChanges(2),ue}slice(ue=0,me=this.length){return(0,W.it)(this._observable),this._createNewInstance({items:this._items.slice(ue,me)})}some(ue,me){return(0,W.it)(this._observable),this._items.some(ue,me)}sort(ue){if((0,W.it)(this._observable),!this.length||this._emitBeforeChanges(4))return this;const me=(0,ee.j0)(this._splice(0,this.length));return arguments.length?me.sort(ue):me.sort(),this._splice(0,0,me),this._emitAfterChanges(4),this}splice(ue,me,...ve){(0,W.it)(this._observable);const fe=(me?2:0)|(ve.length?1:0);if(this._emitBeforeChanges(fe))return[];const Ce=this._splice(ue,me,ve)||[];return this._emitAfterChanges(fe),Ce}toArray(){return(0,W.it)(this._observable),this._items.slice()}toJSON(){return(0,W.it)(this._observable),this.toArray()}toLocaleString(){return(0,W.it)(this._observable),this._items.toLocaleString()}toString(){return(0,W.it)(this._observable),this._items.toString()}unshift(...ue){return(0,W.it)(this._observable),!ue.length||this._emitBeforeChanges(1)||(this._splice(0,0,ue),this._emitAfterChanges(1)),this.length}_createNewInstance(ue){return new this.constructor(ue)}_splice(ue,me,ve){const fe=this._items,Ce=this.itemType;let ce,he;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=(0,J.Os)(()=>this._dispatchChange())),me){if(he=fe.splice(ue,me),this.hasEventListener("before-remove")){const xe=P.acquire();xe.target=this,xe.cancellable=!0;for(let we=0,Ae=he.length;we<Ae;we++)ce=he[we],xe.reset(ce),this.emit("before-remove",xe),xe.defaultPrevented&&(he.splice(we,1),fe.splice(ue,0,ce),ue+=1,we-=1,Ae-=1);P.release(xe)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const xe=P.acquire();xe.target=this,xe.cancellable=!1;const we=he.length;for(let Ae=0;Ae<we;Ae++)xe.reset(he[Ae]),this.emit("after-remove",xe);P.release(xe)}}if(ve&&ve.length){if(Ce){const Fe=[];for(const tt of ve){const Re=Ce.ensureType(tt);null==Re&&null!=tt||Fe.push(Re)}ve=Fe}const xe=this.hasEventListener("before-add"),we=this.hasEventListener("after-add"),Ae=ue===this.length;if(xe||we){const Fe=P.acquire();Fe.target=this,Fe.cancellable=!0;const tt=P.acquire();tt.target=this,tt.cancellable=!1;for(const Re of ve)xe?(Fe.reset(Re),this.emit("before-add",Fe),Fe.defaultPrevented||(Ae?fe.push(Re):fe.splice(ue++,0,Re),this._set("length",fe.length),we&&(tt.reset(Re),this.emit("after-add",tt)))):(Ae?fe.push(Re):fe.splice(ue++,0,Re),this._set("length",fe.length),tt.reset(Re),this.emit("after-add",tt));P.release(tt),P.release(Fe)}else{if(Ae)for(const Fe of ve)fe.push(Fe);else fe.splice(ue,0,...ve);this._set("length",fe.length)}}return(ve&&ve.length||he&&he.length)&&this._notifyChangeEvent(ve,he),he}_emitBeforeChanges(ue){let me=!1;if(this.hasEventListener("before-changes")){const ve=P.acquire();ve.target=this,ve.cancellable=!0,ve.type=ue,this.emit("before-changes",ve),me=ve.defaultPrevented,P.release(ve)}return me}_emitAfterChanges(ue){if(this.hasEventListener("after-changes")){const me=P.acquire();me.target=this,me.cancellable=!1,me.type=ue,this.emit("after-changes",me),P.release(me)}this._observable.notify()}_notifyChangeEvent(ue,me){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:ue,removed:me})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const ue=this._notifications;this._notifications=null;for(const me of ue){const ve=me.changes;q.clear(),ge.clear(),le.clear();for(const{added:we,removed:Ae}of ve){if(we)if(0===le.size&&0===ge.size)for(const Fe of we)q.add(Fe);else for(const Fe of we)ge.has(Fe)?(le.add(Fe),ge.delete(Fe)):le.has(Fe)||q.add(Fe);if(Ae)if(0===le.size&&0===q.size)for(const Fe of Ae)ge.add(Fe);else for(const Fe of Ae)q.has(Fe)?q.delete(Fe):(le.delete(Fe),ge.add(Fe))}const fe=T.Z.acquire();q.forEach(we=>{fe.push(we)});const Ce=T.Z.acquire();ge.forEach(we=>{Ce.push(we)});const ce=this._items,he=me.items,xe=T.Z.acquire();if(le.forEach(we=>{he.indexOf(we)!==ce.indexOf(we)&&xe.push(we)}),me.listeners&&(fe.length||Ce.length||xe.length)){const we={target:this,added:fe,removed:Ce,moved:xe},Ae=me.listeners.length;for(let Fe=0;Fe<Ae;Fe++){const tt=me.listeners[Fe];tt.removed||tt.callback.call(this,we)}}T.Z.release(fe),T.Z.release(Ce),T.Z.release(xe)}q.clear(),ge.clear(),le.clear()}};Q.ofType=ue=>{if(!ue)return $;if(ye.has(ue))return ye.get(ue);let me=null;if("function"==typeof ue)me=ue.prototype.declaredClass;else if(ue.base)me=ue.base.prototype.declaredClass;else for(const fe in ue.typeMap){const Ce=ue.typeMap[fe].prototype.declaredClass;me?me+=` | ${Ce}`:me=Ce}let ve=class extends ${};return(0,x._)([(0,B.c)({Type:ue,ensureType:"function"==typeof ue?(0,A.se)(ue):(0,A.N7)(ue)})],ve.prototype,"itemType",void 0),ve=(0,x._)([(0,X.j)(`esri.core.Collection<${me}>`)],ve),ye.set(ue,ve),ve},(0,x._)([(0,j.Cb)()],Q.prototype,"length",void 0),(0,x._)([(0,j.Cb)()],Q.prototype,"items",null),Q=$=(0,x._)([(0,X.j)("esri.core.Collection")],Q);const pe=Q},46882:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>K});var x=C(17626),T=C(7093),re=C(80542),ne=C(62208),ie=(C(45262),C(21352)),J=C(77712),X=(C(85931),C(8314),C(90912),C(76898));let W=class extends((0,re.p)(T.Z)){constructor(ae){super(ae),this.getCollections=null}initialize(){this.handles.add((0,ie.EH)(()=>this.refresh()))}destroy(){this.getCollections=null}refresh(){const ae=(0,ne.pC)(this.getCollections)?this.getCollections():null;if((0,ne.Wi)(ae))return void this.removeAll();let $=0;for(const V of ae)(0,ne.pC)(V)&&($=this._processCollection($,V));this.splice($,this.length)}_createNewInstance(ae){return new T.Z(ae)}_processCollection(ae,$){if(!$)return ae;const V=this.itemFilterFunction?this.itemFilterFunction:P=>!!P;for(const P of $)if(P){if(V(P)){const F=this.indexOf(P,ae);F>=0?F!==ae&&this.reorder(P,ae):this.add(P,ae),++ae}if(this.getChildrenFunction){const F=this.getChildrenFunction(P);if(Array.isArray(F))for(const Z of F)ae=this._processCollection(ae,Z);else ae=this._processCollection(ae,F)}}return ae}};(0,x._)([(0,J.Cb)()],W.prototype,"getCollections",void 0),(0,x._)([(0,J.Cb)()],W.prototype,"getChildrenFunction",void 0),(0,x._)([(0,J.Cb)()],W.prototype,"itemFilterFunction",void 0),W=(0,x._)([(0,X.j)("esri.core.CollectionFlattener")],W);const K=W},26584:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>ne});var x=C(58817),T=C(63290),re=C(90888);class ne extends re.Z{constructor(ie,J,j){if(super(ie,J,j),!(this instanceof ne))return new ne(ie,J,j)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(ie,J)=>{if(J&&"object"==typeof J&&"function"==typeof J.toJSON)return J;try{return(0,x.d9)(J)}catch(j){return"[object]"}}))}}catch(ie){throw T.Z.getLogger("esri.core.Error").error(ie),ie}return{name:this.name,message:this.message,details:this.details}}static fromJSON(ie){return new ne(ie.name,ie.message,ie.details)}}ne.prototype.type="error"},61885:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>ie});var x=C(17626),T=C(14517),re=C(54024),ne=C(76898);class ee{constructor(){this._emitter=new ee.EventEmitter(this)}emit(j,A){return this._emitter.emit(j,A)}on(j,A){return this._emitter.on(j,A)}once(j,A){return this._emitter.once(j,A)}hasEventListener(j){return this._emitter.hasEventListener(j)}}!function(J){class j{constructor(X=null){this.target=X,this._listenersMap=null}clear(){this._listenersMap&&this._listenersMap.clear(),this._listenersMap=null}emit(X,W){const K=this._listenersMap&&this._listenersMap.get(X);if(!K)return!1;const ae=this.target||this;return[...K].forEach($=>{$.call(ae,W)}),K.length>0}on(X,W){if(Array.isArray(X)){const ae=X.map($=>this.on($,W));return(0,re.AL)(ae)}if(X.indexOf(",")>-1)throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);const K=this._listenersMap.get(X)||[];return K.push(W),this._listenersMap.set(X,K),{remove:()=>{const ae=this._listenersMap&&this._listenersMap.get(X)||[],$=ae.indexOf(W);$>=0&&ae.splice($,1)}}}once(X,W){const K=this.on(X,ae=>{K.remove(),W.call(null,ae)});return K}hasEventListener(X){const W=this._listenersMap&&this._listenersMap.get(X);return null!=W&&W.length>0}}J.EventEmitter=j,J.EventedMixin=B=>{let X=class extends B{constructor(){super(...arguments),this._emitter=new j}destroy(){this._emitter.clear()}emit(W,K){return this._emitter.emit(W,K)}on(W,K){return this._emitter.on(W,K)}once(W,K){return this._emitter.once(W,K)}hasEventListener(W){return this._emitter.hasEventListener(W)}};return X=(0,x._)([(0,ne.j)("esri.core.Evented")],X),X};let A=class extends T.Z{constructor(){super(...arguments),this._emitter=new ee.EventEmitter(this)}destroy(){this._emitter.clear()}emit(B,X){return this._emitter.emit(B,X)}on(B,X){return this._emitter.on(B,X)}once(B,X){return this._emitter.once(B,X)}hasEventListener(B){return this._emitter.hasEventListener(B)}};A=(0,x._)([(0,ne.j)("esri.core.Evented")],A),J.EventedAccessor=A}(ee||(ee={}));const ie=ee},80542:(lt,Se,C)=>{"use strict";C.d(Se,{r:()=>j,p:()=>J});var x=C(17626),T=C(14517),re=C(72392),ne=C(77712),ee=C(76898),ie=C(70257);const J=A=>{let B=class extends A{destroy(){var X,W;this.destroyed||(null==(X=this._get("handles"))||X.destroy(),null==(W=this._get("updatingHandles"))||W.destroy())}get handles(){return this._get("handles")||new re.Z}get updatingHandles(){return this._get("updatingHandles")||new ie.t}};return(0,x._)([(0,ne.Cb)({readOnly:!0})],B.prototype,"handles",null),(0,x._)([(0,ne.Cb)({readOnly:!0})],B.prototype,"updatingHandles",null),B=(0,x._)([(0,ee.j)("esri.core.HandleOwner")],B),B};let j=class extends(J(T.Z)){};j=(0,x._)([(0,ee.j)("esri.core.HandleOwner")],j)},72392:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>j});var x=C(17626),T=C(14517),re=C(7093),ne=C(62208),ee=C(77712),ie=C(76898);let J=class extends T.Z{constructor(A){super(A),this._groups=new Map}destroy(){this.removeAll()}get size(){let A=0;return this._groups.forEach(B=>{A+=B.length}),A}add(A,B){if(!this._isHandle(A)&&!Array.isArray(A)&&!re.Z.isCollection(A))return this;const X=this._getOrCreateGroup(B);return Array.isArray(A)||re.Z.isCollection(A)?A.forEach(W=>this._isHandle(W)&&X.push(W)):X.push(A),this.notifyChange("size"),this}forEach(A,B){if("function"==typeof A)this._groups.forEach(X=>X.forEach(A));else{const X=this._getGroup(A);X&&B&&X.forEach(B)}}has(A){return this._groups.has(this._ensureGroupKey(A))}remove(A){if(Array.isArray(A)||re.Z.isCollection(A))return A.forEach(this.remove,this),this;if(!this.has(A))return this;const B=this._getGroup(A);for(let X=0;X<B.length;X++)B[X].remove();return this._deleteGroup(A),this.notifyChange("size"),this}removeAll(){return this._groups.forEach(A=>{for(let B=0;B<A.length;B++)A[B].remove()}),this._groups.clear(),this.notifyChange("size"),this}_isHandle(A){return A&&!!A.remove}_getOrCreateGroup(A){if(this.has(A))return this._getGroup(A);const B=[];return this._groups.set(this._ensureGroupKey(A),B),B}_getGroup(A){return(0,ne.j0)(this._groups.get(this._ensureGroupKey(A)))}_deleteGroup(A){return this._groups.delete(this._ensureGroupKey(A))}_ensureGroupKey(A){return A||"_default_"}};(0,x._)([(0,ee.Cb)({readOnly:!0})],J.prototype,"size",null),J=(0,x._)([(0,ie.j)("esri.core.Handles")],J);const j=J},61996:(lt,Se,C)=>{"use strict";C.d(Se,{I:()=>ne});var x=C(17626),T=C(76898);let re=0;const ne=ie=>{let J=class extends ie{constructor(...j){super(...j),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+re++})}};return J=(0,x._)([(0,T.j)("esri.core.Identifiable")],J),J};let ee=class extends(ne(class{})){};ee=(0,x._)([(0,T.j)("esri.core.Identifiable")],ee)},78498:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>T});var x=C(1036);class T{constructor(ne,ee){this._storage=new x.WJ,this._storage.maxSize=ne,ee&&this._storage.registerRemoveFunc("",ee)}put(ne,ee){this._storage.put(ne,ee,1,1)}pop(ne){return this._storage.pop(ne)}get(ne){return this._storage.get(ne)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}}},86162:(lt,Se,C)=>{"use strict";C.d(Se,{wq:()=>A,eC:()=>ie});var x=C(17626),T=C(14517),re=C(29338),ne=C(36054),ee=C(76898);const ie=B=>{let X=class extends B{constructor(...W){super(...W)}read(W,K){(0,re.ij)(this,W,K)}write(W={},K){return(0,ne.cW)(this,W,K)}toJSON(W){return this.write({},W)}static fromJSON(W,K){return J.call(this,W,K)}};return X=(0,x._)([(0,ee.j)("esri.core.JSONSupport")],X),X.prototype.toJSON.isDefaultToJSON=!0,X};function J(B,X){if(!B)return null;if(B.declaredClass)throw new Error("JSON object is already hydrated");const W=new this;return W.read(B,X),W}let A=class extends(ie(T.Z)){};A=(0,x._)([(0,ee.j)("esri.core.JSONSupport")],A)},93961:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>T});var x=C(1036);class T{constructor(ne,ee){this._storage=new x.WJ,this._storage.maxSize=ne,ee&&this._storage.registerRemoveFunc("",ee)}put(ne,ee,ie){this._storage.put(ne,ee,ie,1)}pop(ne){return this._storage.pop(ne)}get(ne){return this._storage.get(ne)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}get maxSize(){return this._storage.maxSize}set maxSize(ne){this._storage.maxSize=ne}}},47996:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>ae});var x=C(17626),T=C(26584),re=C(60330),ne=C(10699),ee=C(14889),ie=C(77712),J=C(76898);const X="loaded",W=$=>{let V=class extends ${constructor(...P){super(...P),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(F=>{const Z=this.load.bind(this);this.load=Y=>{const H=new Promise((de,q)=>{const ge=(0,ne.$F)(Y,q);this.destroyed&&q(new T.Z("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this._promiseProps.when(de,q).finally(()=>{ge&&ge.remove()})});if("not-loaded"===this.loadStatus){this._set("loadStatus","loading");const de=this._loadController=new AbortController;Z({signal:de.signal}),(0,ne.fu)(de.signal,()=>{this._promiseProps.abort()})}return F(),H}})),this.when(()=>{this._set("loadStatus",X),this._loadController=null},F=>{this._set("loadStatus","failed"),this._set("loadError",F),this._loadController=null})}get loaded(){return this.loadStatus===X}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var P;return this.isFulfilled()||(this._set("loadError",new T.Z("load:cancelled","Cancelled")),null==(P=this._loadController)||P.abort()),this}};return(0,x._)([(0,ie.Cb)({readOnly:!0})],V.prototype,"loaded",null),(0,x._)([(0,ie.Cb)({readOnly:!0})],V.prototype,"loadError",void 0),(0,x._)([(0,ie.Cb)()],V.prototype,"loadStatus",void 0),(0,x._)([(0,ie.Cb)({type:[ee.Z],readOnly:!0})],V.prototype,"loadWarnings",null),V=(0,x._)([(0,J.j)("esri.core.Loadable")],V),V};let K=class extends(W(re.D)){};var $;K=(0,x._)([(0,J.j)("esri.core.Loadable")],K),($=K||(K={})).LoadableMixin=W,$.isLoadable=function V(P){return!(!P||!P.load)};const ae=K},63290:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>ie});var x=C(59318),re=(C(8314),C(62208)),ne=C(77275);const ee={info:0,warn:1,error:2,none:3};class ie{constructor(j){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=j.level&&(this.level=j.level),null!=j.writer&&(this.writer=j.writer),this._module=j.module,ie._loggers[this.module]=this;const A=this.module.lastIndexOf(".");-1!==A&&(this._parent=ie.getLogger(this.module.slice(0,A)))}get module(){return this._module}get parent(){return this._parent}error(...j){this._log("error","always",...j)}warn(...j){this._log("warn","always",...j)}info(...j){this._log("info","always",...j)}errorOnce(...j){this._log("error","once",...j)}warnOnce(...j){this._log("warn","once",...j)}infoOnce(...j){this._log("info","once",...j)}errorOncePerTick(...j){this._log("error","oncePerTick",...j)}warnOncePerTick(...j){this._log("warn","oncePerTick",...j)}infoOncePerTick(...j){this._log("info","oncePerTick",...j)}get test(){const j=this;return{loggedMessages:j._loggedMessages,clearLoggedWarnings:()=>j._loggedMessages.warn.clear()}}static get testSingleton(){return{resetLoggers(j={}){const A=ie._loggers;return ie._loggers=j,A},set throttlingDisabled(j){ie._throttlingDisabled=j}}}static getLogger(j){let A=ie._loggers[j];return A||(A=new ie({module:j})),A}_log(j,A,...B){if(this._matchLevel(j)){if("always"!==A&&!ie._throttlingDisabled){const X=this._argsToKey(B),W=this._loggedMessages[j].get(X);if("once"===A&&null!=W||"oncePerTick"===A&&W&&W>=ie._tickCounter)return;this._loggedMessages[j].set(X,ie._tickCounter),ie._scheduleTickCounterIncrement()}for(const X of x.Z.log.interceptors)if(X(j,this.module,...B))return;this._inheritedWriter()(j,this.module,...B)}}_parentWithMember(j,A){let B=this;for(;(0,re.pC)(B);){const X=B[j];if((0,re.pC)(X))return X;B=B.parent}return A}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(j,A,...B){console[j](`[${A}]`,...B)}_matchLevel(j){return ee[this._parentWithMember("level",x.Z.log.level?x.Z.log.level:"warn")]<=ee[j]}_argsToKey(...j){return(0,ne.hP)(JSON.stringify(j,(B,X)=>"object"!=typeof X||Array.isArray(X)?X:"[Object]"))}static _scheduleTickCounterIncrement(){ie._tickCounterScheduled||(ie._tickCounterScheduled=!0,Promise.resolve().then(()=>{ie._tickCounter++,ie._tickCounterScheduled=!1}))}}ie._loggers={},ie._tickCounter=0,ie._tickCounterScheduled=!1,ie._throttlingDisabled=!1},88159:(lt,Se,C)=>{"use strict";function x(ne,ee){for(const[ie,J]of ne)if(ee(J,ie))return!0;return!1}function re(ne,ee,ie){const J=ne.get(ee);if(void 0!==J)return J;const j=ie();return ne.set(ee,j),j}C.d(Se,{s1:()=>re,oE:()=>x})},1036:(lt,Se,C)=>{"use strict";C.d(Se,{Xq:()=>ne,WJ:()=>ee});var x=C(62208),T=C(77029);class ne{constructor(J,j,A){this._namespace=J,this._storage=j,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",A&&(this._storage.registerRemoveFunc(this._namespace,A),this._removeFunc=!0)}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}put(J,j,A,B=0){this._storage.put(this._namespace+J,j,A,B)}get(J){const j=this._storage.get(this._namespace+J);return void 0===j?++this._miss:++this._hit,j}pop(J){const j=this._storage.pop(this._namespace+J);return void 0===j?++this._miss:++this._hit,j}updateSize(J,j,A){this._storage.updateSize(this._namespace+J,j,A)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class ee{constructor(J=10485760){this._maxSize=J,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new T.Z,this._users=new T.Z}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(J){this._users.push(J)}deregister(J){this._users.removeUnordered(J)}registerRemoveFunc(J,j){this._removeFuncs.push([J,j])}deregisterRemoveFunc(J){this._removeFuncs.filterInPlace(j=>j[0]!==J)}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(J){this._maxSize=Math.max(J,0),this._checkSizeLimit()}put(J,j,A,B){const X=this._db.get(J);if(X&&(this._size-=X.size,this._db.delete(J),X.entry!==j&&this._notifyRemove(J,X.entry,0)),A>this._maxSize)return void this._notifyRemove(J,j,0);if(void 0===j)return void console.warn("Refusing to cache undefined entry ");if(!A||A<0)return void console.warn("Refusing to cache entry with invalid size "+A);const W=1+Math.max(B,-3)- -3;this._db.set(J,{entry:j,size:A,lifetime:W,lives:W}),this._size+=A,this._checkSizeLimit()}updateSize(J,j,A){const B=this._db.get(J);if(B&&B.entry===j){for(this._size-=B.size;A>this._maxSize;){const X=this._notifyRemove(J,j,1);if(!((0,x.pC)(X)&&X>0))return void this._db.delete(J);A=X}B.size=A,this._size+=A,this._checkSizeLimit()}}pop(J){const j=this._db.get(J);if(j)return this._size-=j.size,this._db.delete(J),++this._hit,j.entry;++this._miss}get(J){const j=this._db.get(J);if(void 0!==j)return this._db.delete(J),j.lives=j.lifetime,this._db.set(J,j),++this._hit,j.entry;++this._miss}getStats(){const J={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},j={},A=new Array;this._db.forEach((W,K)=>{const ae=W.lifetime;A[ae]=(A[ae]||0)+W.size,this._users.forAll($=>{const V=$.namespace;K.startsWith(V)&&(j[V]=(j[V]||0)+W.size)})});const B={};this._users.forAll(W=>{const K=W.namespace;!isNaN(W.hitRate)&&W.hitRate>0?(j[K]=j[K]||0,B[K]=Math.round(100*W.hitRate)+"%"):B[K]="0%"});const X=Object.keys(j);X.sort((W,K)=>j[K]-j[W]),X.forEach(W=>J[W]=Math.round(j[W]/2**20)+"MB / "+B[W]);for(let W=A.length-1;W>=0;--W){const K=A[W];K&&(J["Priority "+(W+-3-1)]=Math.round(K/this.size*100)+"%")}return J}resetStats(){this._hit=this._miss=0,this._users.forAll(J=>J.resetHitRate())}clear(J){this._db.forEach((j,A)=>{A.startsWith(J)&&(this._size-=j.size,this._db.delete(A),this._notifyRemove(A,j.entry,0))})}clearAll(){this._db.forEach((J,j)=>this._notifyRemove(j,J.entry,0)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(J,j,A){let B;return this._removeFuncs.some(X=>{if(J.startsWith(X[0])){const W=X[1](j,A);return"number"==typeof W&&(B=W),!0}return!1}),B}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[J,j]of this._db){if(this._db.delete(J),j.lives<=1){this._size-=j.size;const A=this._notifyRemove(J,j.entry,1);(0,x.pC)(A)&&A>0&&(this._size+=A,j.lives=j.lifetime,j.size=A,this._db.set(J,j))}else--j.lives,this._db.set(J,j);if(this._size<=.9*this.maxSize)return}}}},90888:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>re});var x=C(94113);class re{constructor(ee,ie,J){this.name=ee,this.details=J,this.message=void 0,this instanceof re&&(this.message=ie&&function T(ne,ee){return ne.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(ie,J){if(""===J)return"$";const j=(0,x.hS)(J,ee),A=null==j?"":j;if(void 0===A)throw new Error(`could not find key "${J}" in template`);return A.toString()})}(ie,J)||"")}toString(){return"["+this.name+"]: "+this.message}}},99959:(lt,Se,C)=>{"use strict";C.d(Se,{R:()=>V,w:()=>P});var x=C(17626),T=C(14517),re=C(62208),ne=C(58817),ee=C(31283);class ie{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(ee.kk),this._values=new Map}clone(Z){const Y=new ie,H=this._originStores[0];H&&H.forEach((de,q)=>{Y.set(q,(0,ne.d9)(de),0)});for(let de=2;de<ee.kk;de++){const q=this._originStores[de];q&&q.forEach((ge,le)=>{Z&&Z.has(le)||Y.set(le,(0,ne.d9)(ge),de)})}return Y}get(Z,Y){const H=void 0===Y?this._values:this._originStores[Y];return H?H.get(Z):void 0}keys(Z){const Y=null==Z?this._values:this._originStores[Z];return Y?[...Y.keys()]:[]}set(Z,Y,H=6){let de=this._originStores[H];if(de||(de=new Map,this._originStores[H]=de),de.set(Z,Y),!this._values.has(Z)||(0,re.j0)(this._propertyOriginMap.get(Z))<=H){const q=this._values.get(Z);return this._values.set(Z,Y),this._propertyOriginMap.set(Z,H),q!==Y}return!1}delete(Z,Y=6){const H=this._originStores[Y];if(!H)return;const de=H.get(Z);if(H.delete(Z),this._values.has(Z)&&this._propertyOriginMap.get(Z)===Y){this._values.delete(Z);for(let q=Y-1;q>=0;q--){const ge=this._originStores[q];if(ge&&ge.has(Z)){this._values.set(Z,ge.get(Z)),this._propertyOriginMap.set(Z,q);break}}}return de}has(Z,Y){const H=void 0===Y?this._values:this._originStores[Y];return!!H&&H.has(Z)}revert(Z,Y){for(;Y>0&&!this.has(Z,Y);)--Y;const H=this._originStores[Y],de=H&&H.get(Z),q=this._values.get(Z);return this._values.set(Z,de),this._propertyOriginMap.set(Z,Y),q!==de}originOf(Z){return this._propertyOriginMap.get(Z)||0}forEach(Z){this._values.forEach(Z)}}var J=C(29338),j=C(52323),A=C(76898);const B=F=>{let Z=class extends F{constructor(...Y){super(...Y);const H=(0,re.j0)((0,j.vw)(this)),de=H.metadatas,q=H.store,ge=new ie;H.store=ge,q.keys().forEach(le=>{ge.set(le,q.get(le),0)}),Object.keys(de).forEach(le=>{H.internalGet(le)&&ge.set(le,H.internalGet(le),0)})}read(Y,H){(0,J.ij)(this,Y,H)}getAtOrigin(Y,H){const de=X(this),q=(0,ee.M9)(H);if("string"==typeof Y)return de.get(Y,q);const ge={};return Y.forEach(le=>{ge[le]=de.get(le,q)}),ge}originOf(Y){return(0,ee.x3)(this.originIdOf(Y))}originIdOf(Y){return X(this).originOf(Y)}revert(Y,H){const de=X(this),q=(0,ee.M9)(H),ge=(0,j.vw)(this);let le;le="string"==typeof Y?"*"===Y?de.keys(q):[Y]:Y,le.forEach(ye=>{ge.invalidate(ye),de.revert(ye,q),ge.commit(ye)})}};return Z=(0,x._)([(0,A.j)("esri.core.ReadOnlyMultiOriginJSONSupport")],Z),Z};function X(F){return(0,j.vw)(F).store}let W=class extends(B(T.Z)){};W=(0,x._)([(0,A.j)("esri.core.ReadOnlyMultiOriginJSONSupport")],W);var K=C(36054);const ae=F=>{let Z=class extends F{constructor(...Y){super(...Y)}clear(Y,H="user"){return $(this).delete(Y,(0,ee.M9)(H))}write(Y={},H){return(0,K.cW)(this,Y=Y||{},H),Y}setAtOrigin(Y,H,de){(0,j.vw)(this).setAtOrigin(Y,H,(0,ee.M9)(de))}removeOrigin(Y){const H=$(this),de=(0,ee.M9)(Y),q=H.keys(de);for(const ge of q)H.originOf(ge)===de&&H.set(ge,H.get(ge,de),6)}updateOrigin(Y,H){const de=$(this),q=(0,ee.M9)(H),ge=this.get(Y);for(let le=q+1;le<ee.kk;++le)de.delete(Y,le);de.set(Y,ge,q)}toJSON(Y){return this.write({},Y)}};return Z=(0,x._)([(0,A.j)("esri.core.WriteableMultiOriginJSONSupport")],Z),Z.prototype.toJSON.isDefaultToJSON=!0,Z};function $(F){return(0,j.vw)(F).store}const V=F=>{let Z=class extends(ae(B(F))){constructor(...Y){super(...Y)}};return Z=(0,x._)([(0,A.j)("esri.core.MultiOriginJSONSupport")],Z),Z};let P=class extends(V(T.Z)){};P=(0,x._)([(0,A.j)("esri.core.MultiOriginJSONSupport")],P)},27899:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>re});let re=(()=>{class ne{constructor(ie,J,j,A=1,B=0){if(this.ctor=ie,this.acquireFunction=J,this.releaseFunction=j,this.allocationSize=A,this._pool=new Array(B),this._initialSize=B,this.ctor)for(let X=0;X<B;X++)this._pool[X]=new this.ctor;this.allocationSize=Math.max(A,1)}destroy(){this.prune(0)}acquire(...ie){let J;if(ne.test.disabled)J=new this.ctor;else{if(0===this._pool.length){const j=this.allocationSize;for(let A=0;A<j;A++)this._pool[A]=new this.ctor}J=this._pool.pop()}return this.acquireFunction?this.acquireFunction(J,...ie):function T(ne){return ne&&ne.acquire&&"function"==typeof ne.acquire}(J)&&J.acquire(...ie),J}release(ie){ie&&!ne.test.disabled&&(this.releaseFunction?this.releaseFunction(ie):function x(ne){return ne&&ne.release&&"function"==typeof ne.release}(ie)&&ie.release(),this._pool.push(ie))}prune(ie=this._initialSize){if(!(ie>=this._pool.length)){for(let J=ie;J<this._pool.length;++J)this._dispose(this._pool[J]);this._pool.length=ie}}_dispose(ie){ie.dispose&&"function"==typeof ie.dispose&&ie.dispose()}}return ne.test={disabled:!1},ne})()},73362:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>T});class T{constructor(ne,ee=29){this.name=ne,this._counter=0,this._items=new Array(ee)}record(ne){this._items[++this._counter%this._items.length]=ne}get median(){return this._items.slice().sort((ne,ee)=>ne-ee)[Math.floor(this._items.length/2)]}get average(){return this._items.reduce((ne,ee)=>ne+ee,0)/this._items.length}get last(){return this._items[this._counter%this._items.length]}}},77029:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>ie});var T,x=C(85931);!function(j){const A=(K,ae,$,V)=>{let P=ae,F=ae;const Z=$>>>1,Y=K[P-1];for(;F<=Z;){F=P<<1,F<$&&V(K[F-1],K[F])<0&&++F;const H=K[F-1];if(V(H,Y)<=0)break;K[P-1]=H,P=F}K[P-1]=Y},B=(K,ae)=>K<ae?-1:K>ae?1:0;j.sort=function X(K,ae,$,V){void 0===ae&&(ae=0),void 0===$&&($=K.length),void 0===V&&(V=B);for(let F=$>>>1;F>ae;F--)A(K,F,$,V);const P=ae+1;for(let F=$-1;F>ae;F--){const Z=K[ae];K[ae]=K[F],K[F]=Z,A(K,P,F,V)}},j.iterableSort=function*W(K,ae,$,V){void 0===ae&&(ae=0),void 0===$&&($=K.length),void 0===V&&(V=B);for(let F=$>>>1;F>ae;F--)A(K,F,$,V),yield;const P=ae+1;for(let F=$-1;F>ae;F--){const Z=K[ae];K[ae]=K[F],K[F]=Z,A(K,P,F,V),yield}}}(T||(T={}));const re=T;class ie{constructor(A){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new x.SO,A&&(A.initialSize&&(this.data=new Array(A.initialSize)),A.allocator&&(this._allocator=A.allocator),void 0!==A.deallocator&&(this._deallocator=A.deallocator),A.shrink&&(this._shrink=()=>J(this)))}toArray(){return this.data.slice(0,this.length)}getItemAt(A){if(!(A<0||A>=this._length))return this.data[A]}get length(){return this._length}set length(A){if(A>this._length){if(this._allocator){for(;this._length<A;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=A}else{if(this._deallocator)for(let B=A;B<this._length;++B)this.data[B]=this._deallocator(this.data[B]);this._length=A,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(A){this.data[this._length++]=A}pushArray(A,B=A.length){for(let X=0;X<B;X++)this.data[this._length++]=A[X]}fill(A,B){for(let X=0;X<B;X++)this.data[this._length++]=A}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const A=this.data[this._length];return++this._length,A}unshift(A){this.data.unshift(A),this._length++,J(this)}pop(){if(0===this.length)return;const A=this.data[this.length-1];return this.length=this.length-1,this._shrink(),A}remove(A){const B=(0,x.cq)(this.data,A,this.length,this._hint);if(-1!==B)return this.data.splice(B,1),this.length=this.length-1,A}removeUnordered(A){const B=(0,x.e$)(this.data,A,this.length,this._hint);return void 0!==B&&(this.length=this.length-1),this._shrink(),B}removeUnorderedIndex(A){if(!(A>=this.length||A<0))return this.swapElements(A,this.length-1),this.pop()}removeUnorderedMany(A,B=A.length,X){this.length=(0,x.FY)(this.data,A,this.length,B,this._hint,X),this._shrink()}front(){if(0!==this.length)return this.data[0]}back(){if(0!==this.length)return this.data[this.length-1]}swapElements(A,B){A>=this.length||B>=this.length||A===B||([this.data[A],this.data[B]]=[this.data[B],this.data[A]])}sort(A){re.sort(this.data,0,this.length,A)}iterableSort(A){return re.iterableSort(this.data,0,this.length,A)}some(A,B){for(let X=0;X<this.length;++X)if(A.call(B,this.data[X],X,this.data))return!0;return!1}filterInPlace(A,B){let X=0;for(let W=0;W<this._length;++W){const K=this.data[W];A.call(B,K,W,this.data)&&(this.data[W]=this.data[X],this.data[X]=K,X++)}if(this._deallocator)for(let W=X;W<this._length;W++)this.data[W]=this._deallocator(this.data[W]);return this._length=X,this._shrink(),this}forAll(A,B){const X=this.length,W=this.data;for(let K=0;K<X;++K)A.call(B,W[K],K,W)}forEach(A,B){for(let X=0;X<this.length;++X)A.call(B,this.data[X],X,this.data)}map(A,B){const X=new Array(this.length);for(let W=0;W<this.length;++W)X[W]=A.call(B,this.data[W],W,this.data);return X}reduce(A,B){let X=B;for(let W=0;W<this.length;++W)X=A(X,this.data[W],W,this.data);return X}has(A){const B=this.length,X=this.data;for(let W=0;W<B;++W)if(X[W]===A)return!0;return!1}}function J(j){j.data.length>1.5*j.length&&(j.data.length=Math.floor(1.1*j.length))}},60330:(lt,Se,C)=>{"use strict";C.d(Se,{D:()=>j,v:()=>J});var x=C(17626),T=C(14517),re=C(62208),ne=C(10699),ee=C(76898);class ie{constructor(B){this.instance=B,this._resolver=(0,ne.dD)(),this._status=0,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=1,this._cleanUp()},()=>{this._status=2,this._cleanUp()})}addResolvingPromise(B){this._resolvingPromises.push(B),this._tryResolve()}isResolved(){return 1===this._status}isRejected(){return 2===this._status}isFulfilled(){return 0!==this._status}abort(){this._resolver.reject((0,ne.zE)())}when(B,X){return this._resolver.promise.then(B,X)}_cleanUp(){this._allPromise=this._resolvingPromises=this._allPromise=null}_tryResolve(){if(this.isFulfilled())return;const B=(0,ne.dD)(),X=[...this._resolvingPromises,(0,re.j0)(B.promise)],W=this._allPromise=Promise.all(X);W.then(()=>{this.isFulfilled()||this._allPromise!==W||this._resolver.resolve(this.instance)},K=>{this.isFulfilled()||this._allPromise!==W||(0,ne.D_)(K)||this._resolver.reject(K)}),B.resolve()}}const J=A=>{let B=class extends A{constructor(...X){super(...X),this._promiseProps=new ie(this),this.addResolvingPromise(Promise.resolve())}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(X,W){return new Promise((K,ae)=>{this._promiseProps.when(K,ae)}).then(X,W)}catch(X){return this.when(null,X)}addResolvingPromise(X){X&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in X?X.when():X)}};return B=(0,x._)([(0,ee.j)("esri.core.Promise")],B),B};let j=class extends(J(T.Z)){};j=(0,x._)([(0,ee.j)("esri.core.Promise")],j)},35133:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>T});var x=C(62208);class T{constructor(ne=(ee=>ee.values().next().value)){this._peeker=ne,this._items=new Set}get length(){return this._items.size}clear(){this._items.clear()}last(){if(0===this._items.size)return;let ne;for(ne of this._items);return ne}peek(){if(0!==this._items.size)return this._peeker(this._items)}push(ne){this.contains(ne)||this._items.add(ne)}contains(ne){return this._items.has(ne)}pop(){if(0===this.length)return;const ne=this.peek();return this._items.delete((0,x.j0)(ne)),ne}popLast(){if(0===this.length)return;const ne=this.last();return this._items.delete((0,x.j0)(ne)),ne}remove(ne){this._items.delete(ne)}filter(ne){return this._items.forEach(ee=>{ne(ee)||this._items.delete(ee)}),this}}},4619:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>x});class x{constructor(re=1){this._seed=re}set seed(re){this._seed=null==re?Math.random()*x._m:re}getInt(){return this._seed=(x._a*this._seed+x._c)%x._m,this._seed}getFloat(){return this.getInt()/(x._m-1)}getIntRange(re,ne){return Math.round(this.getFloatRange(re,ne))}getFloatRange(re,ne){const ee=ne-re;return re+this.getInt()/x._m*ee}}x._m=2147483647,x._a=48271,x._c=0},10349:(lt,Se,C)=>{"use strict";C.d(Se,{G:()=>T});var x=C(26584);class T{constructor(ne,ee,ie=""){this.major=ne,this.minor=ee,this._context=ie}lessThan(ne,ee){return this.major<ne||ne===this.major&&this.minor<ee}since(ne,ee){return!this.lessThan(ne,ee)}validate(ne){if(this.major!==ne.major)throw new x.Z((this._context&&this._context+":")+"unsupported-version",`Required major ${this._context&&this._context+" "}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:ne})}clone(){return new T(this.major,this.minor,this._context)}static parse(ne,ee=""){const[ie,J]=ne.split("."),j=/^\s*\d+\s*$/;if(!ie||!ie.match||!ie.match(j))throw new x.Z((ee&&ee+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:ne});if(!J||!J.match||!J.match(j))throw new x.Z((ee&&ee+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:ne});const A=parseInt(ie,10),B=parseInt(J,10);return new T(A,B,ee)}}},14889:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>T});var x=C(90888);class T extends x.Z{constructor(ne,ee,ie){if(super(ne,ee,ie),!(this instanceof T))return new T(ne,ee,ie)}}T.prototype.type="warning"},31283:(lt,Se,C)=>{"use strict";C.d(Se,{kk:()=>T,x3:()=>ne,Wm:()=>ie,M9:()=>re});var x=C(62208);const T=7;function re(A){switch(A){case"defaults":return 0;case"service":return 2;case"portal-item":return 3;case"web-scene":return 4;case"web-map":return 5;case"user":return 6}}function ne(A){switch(A){case 0:return"defaults";case 2:return"service";case 3:return"portal-item";case 4:return"web-scene";case 5:return"web-map";case 6:return"user"}return(0,x.j0)(void 0)}function ie(A){return ne(A)}},83960:(lt,Se,C)=>{"use strict";C.d(Se,{B:()=>T});var x=C(77712);function T(re,ne){const ee=ne?Xr(Pt({},ne),{source:re}):re;return(0,x.Cb)({aliasOf:ee})}},66656:(lt,Se,C)=>{"use strict";C.d(Se,{p:()=>J});var x=C(90912),T=C(34117);const re=Object.prototype.toString;function ne(j){const A="__accessorMetadata__"in j?(0,x.se)(j):j;return function(...B){if(B.push(A),"number"==typeof B[2])throw new Error("Using @cast has parameter decorator is not supported since 4.16");return ee.apply(this,B)}}function ee(j,A,B,X){(0,T.VZ)(j,A).cast=X}function J(...j){if(3!==j.length||"string"!=typeof j[1])return 1===j.length&&"[object Function]"===re.call(j[0])?ne(j[0]):1===j.length&&"string"==typeof j[0]?function ie(j){return function(A,B){(0,T.VZ)(A,j).cast=A[B]}}(j[0]):void 0}},55342:(lt,Se,C)=>{"use strict";C.d(Se,{J:()=>re});var x=C(2076),T=C(77712);function re(ne,ee={}){var ie;const J=ne instanceof x.Xn?ne:new x.Xn(ne,ee),j={type:null==(ie=null==ee?void 0:ee.ignoreUnknown)||ie?J.apiValues:String,readOnly:null==ee?void 0:ee.readOnly,json:{type:J.jsonValues,read:(null==ee||!ee.readOnly)&&{reader:J.read},write:{writer:J.write}}};return void 0!==(null==ee?void 0:ee.default)&&(j.json.default=ee.default),void 0!==(null==ee?void 0:ee.name)&&(j.json.name=ee.name),(0,T.Cb)(j)}},77712:(lt,Se,C)=>{"use strict";C.d(Se,{Eg:()=>A,Cb:()=>ie,CJ:()=>J});var x=C(63290),T=C(90912),re=C(34595),ne=C(34117),ee=C(82255);function ie(B={}){return(X,W)=>{if(X===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${X.name}.${W}. Accessor does not support static properties.`);const K=Object.getOwnPropertyDescriptor(X,W),ae=(0,ne.VZ)(X,W);K&&(K.get||K.set?(ae.get=K.get||ae.get,ae.set=K.set||ae.set):"value"in K&&("value"in B&&x.Z.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${W}" on "${X.constructor.name}" already defined in the metadata`,B),ae.value=B.value=K.value)),null!=B.readOnly&&(ae.readOnly=B.readOnly);const $=B.aliasOf;if($){const F="string"==typeof $?$:$.source,Z="string"==typeof $?null:!0===$.overridable;let Y;ae.dependsOn=[F],ae.get=function(){let H=(0,re.U2)(this,F);if("function"==typeof H){Y||(Y=F.split(".").slice(0,-1).join("."));const de=(0,re.U2)(this,Y);de&&(H=H.bind(de))}return H},ae.readOnly||(ae.set=Z?function(H){void 0!==H?this._override(W,H):this._clearOverride(W)}:function(H){(0,ee.t)(this,F,H)})}const V=B.type,P=B.types;ae.cast||(V?ae.cast=function j(B){let X=0,W=B;if((0,T.AY)(B))return(0,T.sY)(B);for(;Array.isArray(W)&&1===W.length&&"string"!=typeof W[0]&&"number"!=typeof W[0];)W=W[0],X++;const K=W;if((0,T.gB)(K))return 0===X?(0,T.i$)(K):(0,T.Iu)((0,T.i$)(K),X);if(1===X)return(0,T.rY)(K);if(X>1)return(0,T.di)(K,X);return B.from?B.from:(0,T.se)(B)}(V):P&&(ae.cast=Array.isArray(P)?(0,T.Ls)((0,T.N7)(P[0])):(0,T.N7)(P))),B.range&&(ae.cast=A(ae.cast,B.range)),(0,ne.tz)(ae,B)}}function J(B,X,W){const K=(0,ne.VZ)(B,W);K.json||(K.json={});let ae=K.json;return void 0!==X&&(ae.origins||(ae.origins={}),ae.origins[X]||(ae.origins[X]={}),ae=ae.origins[X]),ae}function A(B,X){return W=>{let K=+B(W);return null!=X.step&&(K=Math.round(K/X.step)*X.step),null!=X.min&&(K=Math.max(X.min,K)),null!=X.max&&(K=Math.min(X.max,K)),K}}},68653:(lt,Se,C)=>{"use strict";C.d(Se,{r:()=>T});var x=C(77712);function T(re,ne,ee){let ie,J;return void 0===ne||Array.isArray(ne)?(J=re,ee=ne,ie=[void 0]):(J=ne,ie=Array.isArray(re)?re:[re]),(j,A)=>{const B=j.constructor.prototype;ie.forEach(X=>{const W=(0,x.CJ)(j,X,J);W.read&&"object"==typeof W.read||(W.read={}),W.read.reader=B[A],ee&&(W.read.source=(W.read.source||[]).concat(ee))})}}},61039:(lt,Se,C)=>{"use strict";function x(T){return(re,ne)=>{re[ne]=T}}C.d(Se,{c:()=>x})},76898:(lt,Se,C)=>{"use strict";C.d(Se,{j:()=>J}),C(8314);var T=C(34117),re=C(36082),ne=C(33794);const ee=new Set,ie=new Set;function J(B){return X=>{X.prototype.declaredClass=B,function A(B){const W=(0,T.JT)(B.prototype).properties,K={};for(const ae of Object.getOwnPropertyNames(W)){const $=W[ae];(0,ne.OM)($),K[ae]={enumerable:!0,configurable:!0,get:j(ae,$),set(V){const P=this.__accessor__;if(void 0!==P){if(!Object.isFrozen(this)){if(P.initialized&&$.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${ae}' of ${this.declaredClass}`);if(2===P.lifecycle&&$.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${ae}' of ${this.declaredClass}`);P.set(ae,V)}}else Object.defineProperty(this,ae,{enumerable:!0,configurable:!0,writable:!0,value:V})}}}Object.defineProperties(B.prototype,K)}(X);const W=[],K=[];let ae=X.prototype;for(;ae;)ae.hasOwnProperty("initialize")&&!ee.has(ae.initialize)&&(ee.add(ae.initialize),W.push(ae.initialize)),ae.hasOwnProperty("destroy")&&!ie.has(ae.destroy)&&(ie.add(ae.destroy),K.push(ae.destroy)),ae=Object.getPrototypeOf(ae);ee.clear(),ie.clear();class $ extends X{constructor(...P){if(super(...P),this.constructor===$&&"function"==typeof this.postscript){if(W.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let F=W.length-1;F>=0;F--)W[F].call(this)}}),K.length){let F=!1;Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!F){F=!0;for(let Z=0;Z<K.length;Z++)K[Z].call(this)}}})}this.postscript(...P)}}}return $.__accessorMetadata__=(0,T.JT)(X.prototype),$.prototype.declaredClass=B,$}}function j(B,X){return null==X.get?function(){const W=this.__accessor__.properties.get(B);if(void 0===W)return;(0,re.it)(W);const K=this.__accessor__.store;return K.has(B)?K.get(B):W.metadata.value}:function(){const W=this.__accessor__.properties.get(B);if(void 0!==W)return W.getComputed()}}},99433:(lt,Se,C)=>{"use strict";C.d(Se,{c:()=>T});var x=C(77712);function T(re,ne,ee){let ie,J;return void 0===ne?(J=re,ie=[void 0]):"string"!=typeof ne?(J=re,ie=[void 0],ee=ne):(J=ne,ie=Array.isArray(re)?re:[re]),(j,A)=>{const B=j.constructor.prototype;for(const X of ie){const W=(0,x.CJ)(j,X,J);W.write&&"object"==typeof W.write||(W.write={}),ee&&(W.write.target=ee),W.write.writer=B[A]}}}},84682:(lt,Se,C)=>{"use strict";C.d(Se,{Hg:()=>ae,uD:()=>W,V7:()=>K});var x=C(14517),T=C(7093),re=C(62208),ne=C(52323);const ee=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function ie(V){return V instanceof x.Z}function J(V){return V instanceof T.Z?Object.keys(V.items):ie(V)?(0,ne.vw)(V).keys():V?Object.keys(V):[]}function j(V,P){return V instanceof T.Z?V.items[P]:V[P]}function B(V){return V?V.declaredClass:null}function X(V,P){const F=V.diff;if(F&&"function"==typeof F)return F(V,P);const Z=J(V),Y=J(P);if(0===Z.length&&0===Y.length)return;if(!Z.length||!Y.length||function A(V,P){return!(!Array.isArray(V)||!Array.isArray(P))&&V.length!==P.length}(V,P))return{type:"complete",oldValue:V,newValue:P};const H=Y.filter(oe=>-1===Z.indexOf(oe)),de=Z.filter(oe=>-1===Y.indexOf(oe)),q=Z.filter(oe=>Y.indexOf(oe)>-1&&j(V,oe)!==j(P,oe)).concat(H,de).sort(),ge=B(V);if(ge&&ee.indexOf(ge)>-1&&q.length)return{type:"complete",oldValue:V,newValue:P};let le;const ye=ie(V)&&ie(P);for(const oe of q){const Q=j(V,oe),pe=j(P,oe);let ue;(ye||"function"!=typeof Q&&"function"!=typeof pe)&&Q!==pe&&(null==Q&&null==pe||(ue=F&&F[oe]&&"function"==typeof F[oe]?F[oe](Q,pe):"object"==typeof Q&&"object"==typeof pe&&B(Q)===B(pe)?X(Q,pe):{type:"complete",oldValue:Q,newValue:pe},(0,re.pC)(ue)&&((0,re.pC)(le)?le.diff[oe]=ue:le={type:"partial",diff:{[oe]:ue}})))}return le}function W(V,P){if((0,re.Wi)(V))return!1;const F=P.split(".");let Z=V;for(const Y of F){if("complete"===Z.type)return!0;if("partial"!==Z.type)return!1;{const H=Z.diff[Y];if(!H)return!1;Z=H}}return!0}function K(V,P){for(const F of P)if(W(V,F))return!0;return!1}function ae(V,P){if(!("function"==typeof V||"function"==typeof P||(0,re.Wi)(V)&&(0,re.Wi)(P)))return(0,re.Wi)(V)||(0,re.Wi)(P)||"object"==typeof V&&"object"==typeof P&&B(V)!==B(P)?{type:"complete",oldValue:V,newValue:P}:X(V,P)}},90912:(lt,Se,C)=>{"use strict";C.d(Se,{z8:()=>pe,rY:()=>de,Ls:()=>H,TJ:()=>V,vU:()=>A,sY:()=>ve,di:()=>le,Iu:()=>ge,q9:()=>j,i$:()=>oe,N7:()=>Q,Zs:()=>J,se:()=>Y,AY:()=>me,gB:()=>ye,V5:()=>ue}),C(8314);var T=C(63290),re=C(88159);const ne=T.Z.getLogger("esri.core.Accessor");function ee(he){return null==he?he:new Date(he)}function ie(he){return null==he?he:!!he}function J(he){return null==he?he:he.toString()}function j(he){return null==he?he:(he=parseFloat(he),isNaN(he)?0:he)}function A(he){return null==he?he:Math.round(parseFloat(he))}function B(he){return he&&he.constructor&&void 0!==he.constructor.__accessorMetadata__}function X(he,xe){return null!=xe&&he&&!(xe instanceof he)}function W(he){return he&&"isCollection"in he}function K(he){return he&&he.Type?"function"==typeof he.Type?he.Type:he.Type.base:null}function $(he,xe){return!!B(xe)&&(ne.error("Accessor#set","Assigning an instance of '"+(xe.declaredClass||"unknown")+"' which is not a subclass of '"+P(he)+"'"),!0)}function V(he,xe){return null==xe?xe:W(he)?function ae(he,xe){if(!xe||!xe.constructor||!W(xe.constructor))return $(he,xe)?xe:new he(xe);const we=K(he.prototype.itemType),Ae=K(xe.constructor.prototype.itemType);return we?Ae?we===Ae?xe:we.prototype.isPrototypeOf(Ae.prototype)?new he(xe):($(he,xe),xe):new he(xe):xe}(he,xe):X(he,xe)?$(he,xe)?xe:new he(xe):xe}function P(he){return he&&he.prototype&&he.prototype.declaredClass||"unknown"}const F=new WeakMap;function Z(he){switch(he){case Number:return j;case pe:return A;case Boolean:return ie;case String:return J;case Date:return ee;default:return(0,re.s1)(F,he,()=>V.bind(null,he))}}function Y(he,xe){const we=Z(he);return 1===arguments.length?we:we(xe)}function H(he,xe,we){return 1===arguments.length?H.bind(null,he):xe&&(Array.isArray(xe)?xe.map(Ae=>he(Ae,we)):[he(xe,we)])}function de(he,xe){return 1===arguments.length?H(Y.bind(null,he)):H(Y.bind(null,he),xe)}function q(he,xe,we){return 0!==xe&&Array.isArray(we)?we.map(Ae=>q(he,xe-1,Ae)):he(we)}function ge(he,xe,we){if(2===arguments.length)return ge.bind(null,he,xe);if(!we)return we;let Ae=xe,Fe=we=q(he,xe,we);for(;Ae>0&&Array.isArray(Fe);)Ae--,Fe=Fe[0];if(void 0!==Fe)for(let tt=0;tt<Ae;tt++)we=[we];return we}function le(he,xe,we){return 2===arguments.length?ge(Y.bind(null,he),xe):ge(Y.bind(null,he),xe,we)}function ye(he){return!!Array.isArray(he)&&!he.some(xe=>{const we=typeof xe;return!("string"===we||"number"===we||"function"===we&&he.length>1)})}function oe(he,xe){if(2===arguments.length)return oe(he).call(null,xe);const we=new Set,Ae=he.filter(be=>"function"!=typeof be),Fe=he.filter(be=>"function"==typeof be);for(const be of he)"string"!=typeof be&&"number"!=typeof be||we.add(be);let tt=null,Re=null;return(be,Te)=>{if(null==be)return be;const Je=typeof be,ut="string"===Je||"number"===Je;return ut&&(we.has(be)||Fe.some(Pe=>"string"===Je&&Pe===String||"number"===Je&&Pe===Number))||"object"===Je&&Fe.some(Pe=>!X(be,Pe))?be:(ut&&Ae.length?(tt||(tt=Ae.map(Pe=>"string"==typeof Pe?`'${Pe}'`:`${Pe}`).join(", ")),ne.error("Accessor#set",`'${be}' is not a valid value for this property, only the following values are valid: ${tt}`)):"object"==typeof be&&Fe.length?(Re||(Re=Fe.map(Pe=>P(Pe)).join(", ")),ne.error("Accessor#set",`'${be}' is not a valid value for this property, value must be one of ${Re}`)):ne.error("Accessor#set",`'${be}' is not a valid value for this property`),Te&&(Te.valid=!1),null)}}function Q(he,xe){if(2===arguments.length)return Q(he).call(null,xe);const we={},Ae=[],Fe=[];for(const Te in he.typeMap){const Je=he.typeMap[Te];we[Te]=Y(Je),Ae.push(P(Je)),Fe.push(Te)}const tt=()=>`'${Ae.join("', '")}'`,Re=()=>`'${Fe.join("', '")}'`,be="string"==typeof he.key?Te=>Te[he.key]:he.key;return Te=>{if(he.base&&!X(he.base,Te)||null==Te)return Te;const Je=be(Te)||he.defaultKeyValue,ut=we[Je];if(!ut)return ne.error("Accessor#set",`Invalid property value, value needs to be one of ${tt()}, or a plain object that can autocast (having .type = ${Re()})`),null;if(!X(he.typeMap[Je],Te))return Te;if("string"==typeof he.key&&!B(Te)){const Pe={};for(const Qe in Te)Qe!==he.key&&(Pe[Qe]=Te[Qe]);return ut(Pe)}return ut(Te)}}class pe{}const ue={native:he=>({type:"native",value:he}),array:he=>({type:"array",value:he}),oneOf:he=>({type:"one-of",values:he})};function me(he){if(!he||!("type"in he))return!1;switch(he.type){case"native":case"array":case"one-of":return!0}return!1}function ve(he){switch(he.type){case"native":return Y(he.value);case"array":return H(ve(he.value));case"one-of":return function fe(he){let xe=null;return(we,Ae)=>ce(we,he)?we:(null==xe&&(xe=Ce(he)),ne.error("Accessor#set",`Invalid property value, value needs to be of type ${xe}`),Ae&&(Ae.valid=!1),null)}(he);default:return null}}function Ce(he){switch(he.type){case"native":switch(he.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case pe:return"integer";case Date:return"date";default:return P(he.value)}case"array":return`array of ${Ce(he.value)}`;case"one-of":{const xe=he.values.map(we=>Ce(we));return`one of ${xe.slice(0,xe.length-1)} or ${xe[xe.length-1]}`}}return"unknown"}function ce(he,xe){if(null==he)return!0;switch(xe.type){case"native":switch(xe.value){case Number:case pe:return"number"==typeof he;case Boolean:return"boolean"==typeof he;case String:return"string"==typeof he}return he instanceof xe.value;case"array":return!!Array.isArray(he)&&!he.some(we=>!ce(we,xe.value));case"one-of":return xe.values.some(we=>ce(he,we))}}},33794:(lt,Se,C)=>{"use strict";C.d(Se,{hk:()=>X,HS:()=>A,Ah:()=>B,OM:()=>P});var x=C(90912),re=C(383);function ee(F){F.name&&(F.read&&"object"==typeof F.read?void 0===F.read.source&&(F.read.source=F.name):F.read={source:F.name},F.write&&"object"==typeof F.write?void 0===F.write.target&&(F.write.target=F.name):F.write={target:F.name})}function ie(F){"boolean"==typeof F.read?F.read={enabled:F.read}:"function"==typeof F.read?F.read={enabled:!0,reader:F.read}:F.read&&"object"==typeof F.read&&void 0===F.read.enabled&&(F.read.enabled=!0)}function J(F){"boolean"==typeof F.write?F.write={enabled:F.write}:"function"==typeof F.write?F.write={enabled:!0,writer:F.write}:F.write&&"object"==typeof F.write&&void 0===F.write.enabled&&(F.write.enabled=!0)}var j=C(23025);function A(F,Z){return X(F,"read",Z)}function B(F,Z){return X(F,"write",Z)}function X(F,Z,Y){let H=F&&F.json;if(F&&F.json&&F.json.origins&&Y){const de=F.json.origins[Y.origin];de&&("any"===Z||Z in de)&&(H=de)}return H}function ae(F){return F.type?$(F):V(F)}function $(F){if(!F.type)return;let Z=0,Y=F.type;for(;Array.isArray(Y)&&!(0,x.gB)(Y);)Y=Y[0],Z++;return{type:Y,ndimArray:Z}}function V(F){if(!F.types)return;let Z=0,Y=F.types;for(;Array.isArray(Y);)Y=Y[0],Z++;return{types:Y,ndimArray:Z}}function P(F){(function ne(F){if(F.json||(F.json={}),ie(F.json),J(F.json),ee(F.json),F.json.origins)for(const Z in F.json.origins)ie(F.json.origins[Z]),J(F.json.origins[Z]),ee(F.json.origins[Z]);return!0})(F)&&(function T(F){if(F.json&&F.json.origins){const Z=F.json.origins,Y={"web-document":["web-scene","web-map"]};for(const H in Y)if(Z[H]){const de=Z[H];Y[H].forEach(q=>{Z[q]=de}),delete Z[H]}}}(F),function W(F){const Z=function K(F){return F.json.types?V(F.json):F.type?$(F):V(F)}(F);if(F.json.origins)for(const Y in F.json.origins){const H=F.json.origins[Y],de=H.types?ae(H):Z;(0,re.U)(de,H,!1),H.types&&!H.write&&F.json.write&&F.json.write.enabled&&(H.write=Pt({},F.json.write)),(0,j.U)(de,H)}(0,re.U)(Z,F.json,!0),(0,j.U)(Z,F.json)}(F))}},383:(lt,Se,C)=>{"use strict";C.d(Se,{U:()=>J,d:()=>j});var x=C(63290),T=C(94113),re=C(14889),ne=C(34117),ee=C(94056);const ie=x.Z.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function J(Y,H,de){var q,ge;Y&&(!de&&!H.read||null!=(q=H.read)&&q.reader||!1===(null==(ge=H.read)?void 0:ge.enabled)||function $(Y){return"types"in Y?P(Y.types):V(Y.type)}(Y)&&(0,T.RB)("read.reader",j(Y),H))}function j(Y){var H;const de=null!=(H=Y.ndimArray)?H:0;if(de>1)return function W(Y){var H;const de=A(Y),q=X.bind(null,de),ge=null!=(H=Y.ndimArray)?H:0;return(le,ye,oe)=>{if(null==le)return le;le=q(le,oe,ge);let Q=ge,pe=le;for(;Q>0&&Array.isArray(pe);)Q--,pe=pe[0];if(void 0!==pe)for(let ue=0;ue<Q;ue++)le=[le];return le}}(Y);if(1===de)return K(Y);if("type"in Y&&ae(Y.type)){var q,ge;const le=null==(q=Y.type.prototype)||null==(ge=q.itemType)?void 0:ge.Type,ye=K("function"==typeof le?{type:le}:{types:le});return(oe,Q,pe)=>{const ue=ye(oe,Q,pe);return ue&&new Y.type(ue)}}return A(Y)}function A(Y){return"type"in Y?function B(Y){return Y.prototype.read?(H,de,q)=>{if(null==H)return H;const ge=typeof H;if("object"!==ge)return void ie.error(`Expected JSON value of type 'object' to deserialize type '${Y.prototype.declaredClass}', but got '${ge}'`);const le=new Y;return le.read(H,q),le}:Y.fromJSON}(Y.type):function F(Y){var H;let de=null;const q=null!=(H=Y.errorContext)?H:"type";return(ge,le,ye)=>{if(null==ge)return ge;const oe=typeof ge;if("object"!==oe)return void ie.error(`Expected JSON value of type 'object' to deserialize, but got '${oe}'`);de||(de=function Z(Y){const H={};for(const ge in Y.typeMap){var de,q;const le=Y.typeMap[ge],ye=(0,ne.JT)(le.prototype);if("function"==typeof Y.key)continue;const oe=ye.properties[Y.key];if(!oe)continue;null!=(de=oe.json)&&de.type&&Array.isArray(oe.json.type)&&1===oe.json.type.length&&"string"==typeof oe.json.type[0]&&(H[oe.json.type[0]]=le);const Q=null==(q=oe.json)?void 0:q.write;if(!Q||!Q.writer){H[ge]=le;continue}const pe=Q.target,ue="string"==typeof pe?pe:Y.key,me={};Q.writer(ge,me,ue),me[ue]&&(H[me[ue]]=le)}return H}(Y));const Q=Y.key;if("string"!=typeof Q)return;const pe=ge[Q],ue=pe?de[pe]:Y.defaultKeyValue?Y.typeMap[Y.defaultKeyValue]:void 0;if(!ue){const ve=`Type '${pe||"unknown"}' is not supported`;return ye&&ye.messages&&ge&&ye.messages.push(new re.Z(`${q}:unsupported`,ve,{definition:ge,context:ye})),void ie.error(ve)}const me=new ue;return me.read(ge,ye),me}}(Y.types)}function X(Y,H,de,q){return 0!==q&&Array.isArray(H)?H.map(ge=>X(Y,ge,de,q-1)):Y(H,void 0,de)}function K(Y){const H=A(Y);return(de,q,ge)=>{if(null==de)return de;if(Array.isArray(de)){const ye=[];for(const oe of de){const Q=H(oe,void 0,ge);void 0!==Q&&ye.push(Q)}return ye}const le=H(de,void 0,ge);return void 0!==le?[le]:void 0}}function ae(Y){if(!(0,ee.u)(Y))return!1;const H=Y.prototype.itemType;return!(!H||!H.Type)&&("function"==typeof H.Type?V(H.Type):P(H.Type))}function V(Y){return!Array.isArray(Y)&&!!Y&&Y.prototype&&("read"in Y.prototype||"fromJSON"in Y||ae(Y))}function P(Y){for(const H in Y.typeMap)if(!V(Y.typeMap[H]))return!1;return!0}},94056:(lt,Se,C)=>{"use strict";function x(T){return!!T&&T.prototype&&T.prototype.declaredClass&&0===T.prototype.declaredClass.indexOf("esri.core.Collection")}C.d(Se,{u:()=>x})},23025:(lt,Se,C)=>{"use strict";C.d(Se,{U:()=>ie,k:()=>W});var x=C(26584),T=C(63290),re=C(94113),ne=C(94056);const ee=T.Z.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer");function ie(V,P){var F;if(!P.write||P.write.writer||!1===P.write.enabled&&!P.write.overridePolicy)return;const Z=null!=(F=null==V?void 0:V.ndimArray)?F:0;P.write.writer=V&&(1===Z||"type"in V&&(0,ne.u)(V.type))?K:Z>1?function $(V){return function(P,F,Z,Y){let H;if(null===P)H=null;else{H=ae(P,Y,V);let de=V,q=H;for(;de>0&&Array.isArray(q);)de--,q=q[0];if(void 0!==q)for(let ge=0;ge<de;ge++)H=[H]}(0,re.RB)(Z,H,F)}}(Z):P.types?Array.isArray(P.types)?function A(V){return(P,F,Z,Y)=>P&&Array.isArray(P)?B(P.filter(H=>j(H,V,Y)),F,Z,Y):B(P,F,Z,Y)}(P.types[0]):function J(V){return(P,F,Z,Y)=>P?j(P,V,Y)?B(P,F,Z,Y):void 0:B(P,F,Z,Y)}(P.types):B}function j(V,P,F){for(const H in P.typeMap)if(V instanceof P.typeMap[H])return!0;if(null!=F&&F.messages){var Z,Y;const H=null!=(Z=P.errorContext)?Z:"type",de=`Values of type '${null!=(Y="function"!=typeof P.key?V[P.key]:V.declaredClass)?Y:"Unknown"}' cannot be written`;F&&F.messages&&V&&F.messages.push(new x.Z(`${H}:unsupported`,de,{definition:V,context:F})),ee.error(de)}return!1}function B(V,P,F,Z){(0,re.RB)(F,X(V,Z),P)}function X(V,P){return V&&"function"==typeof V.write?V.write({},P):V&&"function"==typeof V.toJSON?V.toJSON():"number"==typeof V?W(V):V}function W(V){return V===-1/0?-Number.MAX_VALUE:V===1/0?Number.MAX_VALUE:isNaN(V)?null:V}function K(V,P,F,Z){let Y;null===V?Y=null:V&&"function"==typeof V.map?(Y=V.map(H=>X(H,Z)),"function"==typeof Y.toArray&&(Y=Y.toArray())):Y=[X(V,Z)],(0,re.RB)(F,Y,P)}function ae(V,P,F){return 0!==F&&Array.isArray(V)?V.map(Z=>ae(Z,P,F-1)):X(V,P)}},34595:(lt,Se,C)=>{"use strict";C.d(Se,{Gg:()=>ie,U2:()=>ee,$z:()=>ne});var x=C(52323);function T(J,j){const A="?"===J[J.length-1]?J.slice(0,-1):J;if(null!=j.getItemAt||Array.isArray(j)){const X=parseInt(A,10);if(!isNaN(X))return Array.isArray(j)?j[X]:j.getItemAt(X)}const B=(0,x.vw)(j);return(0,x.b6)(B,A)?B.get(A):j[A]}function re(J,j,A){if(null==J)return J;const B=T(j[A],J);return!B&&A<j.length-1?void 0:A===j.length-1?B:re(B,j,A+1)}function ne(J,j,A=0){return"string"==typeof j&&-1===j.indexOf(".")?T(j,J):re(J,(0,x.NI)(j),A)}function ee(J,j){return ne(J,j)}function ie(J,j){return void 0!==ne(j,J)}},34117:(lt,Se,C)=>{"use strict";C.d(Se,{JT:()=>ee,VZ:()=>J,tz:()=>B});var x=C(58817),T=C(62208),re=C(52323);class ne{constructor(V){this.autoDestroy=!1,this.properties=V}}function ee($){let V=$.constructor.__accessorMetadata__;const P=Object.prototype.hasOwnProperty.call($.constructor,"__accessorMetadata__");if(V){if(!P){const F=Object.create(V.properties),Z=V.autoDestroy;for(const Y in F)F[Y]=(0,x.d9)(F[Y]);V=new ne(F),V.autoDestroy=Z,Object.defineProperty($.constructor,"__accessorMetadata__",{value:V,enumerable:!1,configurable:!0,writable:!0})}}else V=new ne({}),Object.defineProperty($.constructor,"__accessorMetadata__",{value:V,enumerable:!1,configurable:!0,writable:!0});return(0,T.j0)($.constructor.__accessorMetadata__)}function J($,V){const P=function ie($){return ee($).properties}($);let F=P[V];return F||(F=P[V]={}),F}function B($,V){return(0,re.TS)($,V,W)}const X=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function W($){return X.test($)?"replace":"merge"}},52489:(lt,Se,C)=>{"use strict";C.d(Se,{D:()=>T});var x=C(22558);function T(re){re&&re.writtenProperties&&re.writtenProperties.forEach(ne=>{const ee=ne.target;ne.newOrigin&&ne.oldOrigin!==ne.newOrigin&&(0,x.l)(ee)&&ee.updateOrigin(ne.propName,ne.newOrigin)})}},29338:(lt,Se,C)=>{"use strict";C.d(Se,{ij:()=>A,$Z:()=>B});var x=C(34595),T=C(52323),re=C(33794);function ne(X,W,K){if(!X||!X.read||!1===X.read.enabled||!X.read.source)return!1;const ae=X.read.source;if("string"==typeof ae){if(ae===W||ae.indexOf(".")>-1&&0===ae.indexOf(W)&&(0,x.Gg)(ae,K))return!0}else for(const $ of ae)if($===W||$.indexOf(".")>-1&&0===$.indexOf(W)&&(0,x.Gg)($,K))return!0;return!1}function ie(X,W,K,ae,$){let V=(0,re.HS)(W[K],$);(function ee(X){return X&&(!X.read||!1!==X.read.enabled&&!X.read.source)})(V)&&(X[K]=!0);for(const P of Object.getOwnPropertyNames(W))V=(0,re.HS)(W[P],$),ne(V,K,ae)&&(X[P]=!0)}function J(X,W,K,ae){const V=(0,re.hk)(K.metadatas[W],"any",ae),P=V&&V.default;if(void 0===P)return;const F="function"==typeof P?P.call(X,W,ae):P;void 0!==F&&K.set(W,F)}const j={origin:"service"};function A(X,W,K=j){if(!W||"object"!=typeof W)return;const ae=(0,T.vw)(X),$=ae.metadatas,V={};for(const P of Object.getOwnPropertyNames(W))ie(V,$,P,W,K);ae.setDefaultOrigin(K.origin);for(const P of Object.getOwnPropertyNames(V)){const F=(0,re.HS)($[P],K).read,Z=F&&F.source;let Y;Y=Z&&"string"==typeof Z?(0,x.$z)(W,Z):W[P],F&&F.reader&&(Y=F.reader.call(X,Y,W,K)),void 0!==Y&&ae.set(P,Y)}if(!K||!K.ignoreDefaults)for(const P of Object.getOwnPropertyNames($))V[P]||J(X,P,ae,K);ae.setDefaultOrigin("user")}function B(X,W,K,ae=j){var $;const V=Xr(Pt({},ae),{messages:[]});K(V),null==($=V.messages)||$.forEach(P=>{"warning"!==P.type||X.loaded?ae&&ae.messages&&ae.messages.push(P):X.loadWarnings.push(P)})}},82255:(lt,Se,C)=>{"use strict";C.d(Se,{t:()=>ne}),C(8314);var T=C(63290),re=C(34595);function ne(ee,ie,J){if(ee&&ie)if("object"==typeof ie)for(const j of Object.getOwnPropertyNames(ie))ne(ee,j,ie[j]);else{if(-1!==ie.indexOf(".")){const j=ie.split("."),A=j.splice(j.length-1,1)[0];return void ne((0,re.U2)(ee,j),A,J)}ee[ie]=J}}T.Z.getLogger("esri.core.accessorSupport.set")},36082:(lt,Se,C)=>{"use strict";C.d(Se,{mS:()=>V,LJ:()=>X,gb:()=>W,it:()=>j,GF:()=>F}),C(8314);var T=C(63290),re=C(52323);let ne,ee=[];const ie=T.Z.getLogger("esri.core.Accessor");function j(Y){void 0!==ne&&ne.onObservableAccessed(Y)}let A=!1,B=!1;function X(Y,H,de){if(A)return K(Y,H,de);ae(Y);const q=H.call(de);return $(),q}function W(Y,H){return X(void 0,Y,H)}function K(Y,H,de){const q=A;A=!0,ae(Y);let ge=null;try{ge=H.call(de)}catch(le){B&&ie.error(le)}return $(),A=q,ge}function ae(Y){ne=Y,ee.push(Y)}function $(){const Y=ee.pop();ne=ee.length>0?ee[ee.length-1]:void 0,void 0!==Y&&Y.onTrackingEnd()}function V(Y,H){if(32&H.flags)return;const de=B;B=!1,64&H.flags?K(H,H.metadata.get,Y):F(Y,H),B=de}const P=[];function F(Y,H){128&H.flags||(H.flags|=128,K(H,()=>{const de=H.metadata.dependsOn||P;for(const q of de)if("string"==typeof q&&-1===q.indexOf("."))Z(Y,q,!1);else{const ge=(0,re.NI)(q);for(let le=0,ye=Y;le<ge.length&&null!=ye&&"object"==typeof ye;++le)ye=Z(ye,ge[le],le!==ge.length-1)}}),H.flags&=-129)}function Z(Y,H,de){const q="?"===H[H.length-1]?H.slice(0,-1):H;if(null!=Y.getItemAt||Array.isArray(Y)){const ye=parseInt(q,10);if(!isNaN(ye))return Array.isArray(Y)?Y[ye]:Y.getItemAt(ye)}const ge=(0,re.vw)(Y),le=null==ge?void 0:ge.properties.get(q);return le&&(j(le),V(Y,le)),de?Y[q]:void 0}},12196:(lt,Se,C)=>{"use strict";C.d(Se,{X:()=>T});var x=C(85931);class T{constructor(ne,ee){this._observers=ne,this._observer=ee}remove(){(0,x.Od)(this._observers,this._observer)}}},819:(lt,Se,C)=>{"use strict";C.d(Se,{M:()=>x});class x{constructor(re){this._notify=re,this._accessed=[],this._handles=[],this._invalidCount=0}destroy(){this._accessed.length=0,this.clear()}onInvalidated(){this._invalidCount++}onCommitted(){const re=this._invalidCount;if(1===re)return this._invalidCount=0,void this._notify();this._invalidCount=re>0?re-1:0}onObservableAccessed(re){this._accessed.includes(re)||this._accessed.push(re)}onTrackingEnd(){const re=this._handles,ne=this._accessed;for(let ee=0;ee<ne.length;++ee)re.push(ne[ee].observe(this));ne.length=0}clear(){const re=this._handles;for(let ne=0;ne<re.length;++ne)re[ne].remove();re.length=0}}},21352:(lt,Se,C)=>{"use strict";C.d(Se,{EH:()=>J,U5:()=>ee,Xz:()=>ie});var x=C(36082),T=C(819);let re=!1;const ne=[];function ee(B,X){let W=new T.M(function $(){if(!W||ae)return;if(re)return void j($);const P=K;W.clear(),re=!0,ae=!0,K=(0,x.LJ)(W,B),ae=!1,re=!1,X(K,P),A()}),K=null,ae=!1;return ae=!0,K=(0,x.LJ)(W,B),ae=!1,{remove:function V(){W&&(W.destroy(),W=null,K=null)}}}function ie(B,X){let W=new T.M(function ae(){X(K,V)}),K=null;function V(){return W?(W.clear(),K=(0,x.LJ)(W,B),K):null}return V(),{remove:function $(){W&&(W.destroy(),W=null),K=null}}}function J(B){let X=new T.M(function K(){X&&!W&&(re?j(K):(X.clear(),re=!0,W=!0,(0,x.LJ)(X,B),W=!1,re=!1,A()))}),W=!1;return W=!0,(0,x.LJ)(X,B),W=!1,{remove:function ae(){X&&(X.destroy(),X=null)}}}function j(B){ne.includes(B)||ne.unshift(B)}function A(){for(;ne.length;)ne.pop()()}},52323:(lt,Se,C)=>{"use strict";C.d(Se,{vw:()=>ne,b6:()=>ee,TS:()=>J,IH:()=>$,Qc:()=>ae,NI:()=>B});var x=C(54024),T=C(58817),re=C(62208);function ne(V){return V?V.__accessor__?V.__accessor__:V.propertyInvalidated?V:null:null}function ee(V,P){return null!=V&&V.metadatas&&null!=V.metadatas[P]}function J(V,P,F){return j(V,P,F?{policy:F,path:""}:null)}function j(V,P,F){return P?Object.keys(P).reduce(function(Z,Y){let H=null,de="merge";if(F&&(H=F.path?`${F.path}.${Y}`:Y,de=F.policy(H)),"replace"===de)return Z[Y]=P[Y],Z;if(void 0===Z[Y])return Z[Y]=(0,T.d9)(P[Y]),Z;let q=Z[Y],ge=P[Y];if(q===ge)return Z;if(Array.isArray(ge)||Array.isArray(Z))q=Z[Y]=q?Array.isArray(q)?q.concat():[q]:[],ge&&(Array.isArray(ge)||(ge=[ge]),ge.forEach(le=>{-1===q.indexOf(le)&&q.push(le)}));else if(ge&&"object"==typeof ge)if(F){const le=F.path;F.path=(0,re.j0)(H),Z[Y]=j(q,ge,F),F.path=le}else Z[Y]=j(q,ge,null);else Z.hasOwnProperty(Y)&&!P.hasOwnProperty(Y)||(Z[Y]=ge);return Z},V||{}):V}function B(V){return Array.isArray(V)?V:V.split(".")}function X(V){return V.indexOf(",")>-1?V.split(",").map(P=>P.trim()):[V.trim()]}function ae(V,P,F,Z){const Y=function W(V){if(Array.isArray(V)){const P=[];for(const F of V)P.push(...X(F));return P}return X(V)}(P);if(1!==Y.length){const H=Y.map(de=>Z(V,de,F));return(0,x.AL)(H)}return Z(V,Y[0],F)}function $(V){let P=!1;return()=>{P||(P=!0,V())}}},45262:(lt,Se,C)=>{"use strict";C.d(Se,{BT:()=>F,YP:()=>le,aQ:()=>Q});var x=C(35575),T=C(58817),re=C(62208),ne=C(27899),ie=C(50618),J=C(86236),j=C(34595),A=C(21352),B=C(52323);class X{constructor(){this.uid=(0,J.D)(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(me,ve,fe,Ce,ce){return this.pool.acquire(0,me,ve,fe,Ce,ce,T.fS)}static acquireTracked(me,ve,fe,Ce){return this.pool.acquire(1,me,ve,fe,null,null,Ce)}notify(me,ve){0===this.type?this.callback.call(this.target,me,ve,this.path,this.target):this.callback.call(null,me,ve)}acquire(me,ve,fe,Ce,ce,he,xe){this.uid=(0,J.D)(),this.removed=!1,this.type=me,this.oldValue=ve,this.callback=fe,this.getValue=Ce,this.target=ce,this.path=he,this.equals=xe}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=(0,J.D)(),this.removed=!0}}X.pool=new class ee extends ne.Z{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=(0,re.Bd)(this._set)}acquire(...me){const ve=super.acquire(...me);return this._set.delete(ve),ve}release(me){me&&!this._set.has(me)&&(super.release(me),this._set.add(me))}_dispose(me){this._set.delete(me),super._dispose(me)}}(X);const W=new x.Z,K=new Set;let ae;function $(ue){K.delete(ue),K.add(ue),ae||(ae=(0,ie.Os)(Z))}function V(ue){if(ue.removed)return;const me=ue.oldValue,ve=ue.getValue();ue.equals(me,ve)||(ue.oldValue=ve,ue.notify(ve,me))}function F(ue){for(const me of K.values())me.target===ue&&(me.removed=!0)}function Z(){let ue=10;for(;ae&&ue--;){ae=null;const me=Y(),ve=W.acquire();for(const fe of me){const Ce=fe.uid;V(fe),Ce===fe.uid&&fe.removed&&ve.push(fe)}for(const fe of K)fe.removed&&(ve.push(fe),K.delete(fe));for(const fe of ve)X.pool.release(fe);W.release(ve),W.release(me),H.forEach(fe=>fe())}}function Y(){const ue=W.acquire();ue.length=K.size;let me=0;for(const ve of K)ue[me]=ve,++me;return K.clear(),ue}const H=new Set;function le(ue,me,ve,fe=!1){return!ue.__accessor__||ue.__accessor__.destroyed?{remove(){}}:fe?function ge(ue,me,ve){const fe=(0,B.Qc)(ue,me,ve,(Ce,ce,he)=>{let xe=!1;return(0,A.U5)(()=>(0,j.$z)(Ce,ce),(we,Ae)=>{Ce.__accessor__.destroyed?fe.remove():xe||(xe=!0,(0,T.fS)(Ae,we)||he.call(Ce,we,Ae,ce,Ce),xe=!1)})});return fe}(ue,me,ve):function q(ue,me,ve){let fe=(0,B.Qc)(ue,me,ve,(Ce,ce,he)=>{let xe,we,Ae=(0,A.Xz)(()=>(0,j.$z)(Ce,ce),(Fe,tt)=>{Ce.__accessor__.destroyed||xe&&xe.uid!==we?fe.remove():(xe||(xe=X.acquireUntracked(Fe,he,tt,Ce,ce),we=xe.uid),$(xe))});return{remove:(0,B.IH)(()=>{Ae.remove(),xe&&(xe.uid!==we||xe.removed||(xe.removed=!0,$(xe)),xe=null),fe=Ae=null})}});return fe}(ue,me,ve)}function Q(ue,me,ve=!1,fe=T.fS){return ve?function oe(ue,me,ve){let fe=!1;return(0,A.U5)(ue,(Ce,ce)=>{fe||(fe=!0,ve(ce,Ce)||me(Ce,ce),fe=!1)})}(ue,me,fe):function ye(ue,me,ve){let fe,Ce,ce=(0,A.Xz)(ue,(he,xe)=>{fe&&fe.uid!==Ce?ce.remove():(fe||(fe=X.acquireTracked(he,me,xe,ve),Ce=fe.uid),$(fe))});return{remove:(0,B.IH)(()=>{ce.remove(),fe&&(fe.uid!==Ce||fe.removed||(fe.removed=!0,$(fe)),fe=null),ce=null})}}(ue,me,fe)}},36054:(lt,Se,C)=>{"use strict";C.d(Se,{df:()=>X,cW:()=>W});var x=C(85931),T=C(26584),re=C(63290),ne=C(31283),ee=C(52323),ie=C(33794);const J=re.Z.getLogger("esri.core.accessorSupport.write");function j(K,ae,$,V,P){var F,Z;const Y={};return null==(F=ae.write)||null==(Z=F.writer)||Z.call(K,V,Y,$,P),Y}function A(K,ae,$,V,P,F){if(!V||!V.write)return!1;const Z=K.get($);if(!P&&V.write.overridePolicy){const Y=V.write.overridePolicy.call(K,Z,$,F);void 0!==Y&&(P=Y)}if(P||(P=V.write),!P||!1===P.enabled)return!1;if((null===Z&&!P.allowNull&&!P.writerEnsuresNonNull||void 0===Z)&&P.isRequired){const Y=new T.Z("web-document-write:property-required",`Missing value for required property '${$}' on '${K.declaredClass}'`,{propertyName:$,target:K});return Y&&F&&F.messages?F.messages.push(Y):Y&&!F&&J.error(Y.name,Y.message),!1}return!(void 0===Z||null===Z&&!P.allowNull&&!P.writerEnsuresNonNull||function B(K,ae,$,V,P){const F=V.default;if(void 0===F)return!1;if(null!=V.defaultEquals)return V.defaultEquals(P);if("function"==typeof F){if(Array.isArray(P)){const Z=F.call(K,ae,$);return(0,x.fS)(Z,P)}return!1}return F===P}(K,$,F,V,Z)||void 0===V.default&&!P.ignoreOrigin&&F&&F.origin&&ae.store.originOf($)<(0,ne.M9)(F.origin))}function X(K,ae,$,V){const P=(0,ee.vw)(K),Z=(0,ie.Ah)(P.metadatas[ae],V);return!!Z&&A(K,P,ae,Z,$,V)}function W(K,ae,$){if(K&&"function"==typeof K.toJSON&&(!K.toJSON.isDefaultToJSON||!K.write))return(0,ee.TS)(ae,K.toJSON());const V=(0,ee.vw)(K),P=V.metadatas;for(const Y in P){const H=(0,ie.Ah)(P[Y],$);if(!A(K,V,Y,H,void 0,$))continue;const de=K.get(Y),q=j(K,H,H.write&&"string"==typeof H.write.target?H.write.target:Y,de,$);var F,Z;Object.keys(q).length>0&&(ae=(0,ee.TS)(ae,q),null!=$&&null!=(F=$.resources)&&null!=(Z=F.pendingOperations)&&Z.length&&Promise.all($.resources.pendingOperations).then(()=>(0,ee.TS)(ae,q)),$&&$.writtenProperties&&$.writtenProperties.push({target:K,propName:Y,oldOrigin:(0,ne.Wm)(V.store.originOf(Y)),newOrigin:$.origin}))}return ae}},85931:(lt,Se,C)=>{"use strict";C.d(Se,{SO:()=>Y,a9:()=>$,fS:()=>A,xH:()=>Z,cq:()=>de,zG:()=>W,w6:()=>V,Od:()=>ue,e$:()=>q,FY:()=>le});var x=C(62208),T=C(4619);function A(me,ve,fe){if((0,x.Wi)(me)&&(0,x.Wi)(ve))return!0;if((0,x.Wi)(me)||(0,x.Wi)(ve)||me.length!==ve.length)return!1;if(fe){for(let Ce=0;Ce<me.length;Ce++)if(!fe(me[Ce],ve[Ce]))return!1}else for(let Ce=0;Ce<me.length;Ce++)if(me[Ce]!==ve[Ce])return!1;return!0}function W(me){return me&&"number"==typeof me.length}const ae=!!Array.prototype.fill;function $(me,ve){if(ae)return new Array(me).fill(ve);const fe=new Array(me);for(let Ce=0;Ce<me;Ce++)fe[Ce]=ve;return fe}function V(me,ve){void 0===ve&&(ve=me,me=0);const fe=new Array(ve-me);for(let Ce=me;Ce<ve;Ce++)fe[Ce-me]=Ce;return fe}function Z(me){return me.reduce((ve,fe)=>ve.concat(fe||[]),[])}class Y{constructor(){this.last=0}}const H=new Y;function de(me,ve,fe,Ce){Ce=Ce||H;const ce=Math.max(0,Ce.last-10);for(let xe=ce;xe<fe;++xe)if(me[xe]===ve)return Ce.last=xe,xe;const he=Math.min(ce,fe);for(let xe=0;xe<he;++xe)if(me[xe]===ve)return Ce.last=xe,xe;return-1}function q(me,ve,fe,Ce){const ce=null==fe?me.length:fe,he=de(me,ve,ce,Ce);if(-1!==he)return me[he]=me[ce-1],null==fe&&me.pop(),ve}const ge=new Set;function le(me,ve,fe=me.length,Ce=ve.length,ce,he){if(0===Ce||0===fe)return fe;ge.clear();for(let we=0;we<Ce;++we)ge.add(ve[we]);ce=ce||H;const xe=Math.max(0,ce.last-10);for(let we=xe;we<fe;++we)if(ge.has(me[we])&&(he&&he.push(me[we]),ge.delete(me[we]),me[we]=me[fe-1],--fe,--we,0===ge.size||0===fe))return ge.clear(),fe;for(let we=0;we<xe;++we)if(ge.has(me[we])&&(he&&he.push(me[we]),ge.delete(me[we]),me[we]=me[fe-1],--fe,--we,0===ge.size||0===fe))return ge.clear(),fe;return ge.clear(),fe}function ue(me,ve){const fe=me.indexOf(ve);return-1!==fe?(me.splice(fe,1),ve):null}new T.Z},59213:(lt,Se,C)=>{"use strict";C.d(Se,{Ed:()=>re,UI:()=>ne,q6:()=>ee,mt:()=>ie});var x=C(62208),T=C(10699);function re(j,A,B){return(0,T.as)(j.map((X,W)=>A.apply(B,[X,W])))}function ne(j,A,B){return(0,T.as)(j.map((X,W)=>A.apply(B,[X,W]))).then(X=>X.map(W=>W.value))}function ee(j){return(0,x.Wi)(j)?(0,T.DB)():j.then(A=>({ok:!0,value:A})).catch(A=>({ok:!1,error:A}))}function ie(j){return j.then(A=>({ok:!0,value:A})).catch(A=>((0,T.r9)(A),{ok:!1,error:A}))}},84244:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>T});const T=function x(re){return{setTimeout:(ne,ee)=>{const ie=re.setTimeout(ne,ee);return{remove:()=>re.clearTimeout(ie)}}}}(globalThis)},89726:(lt,Se,C)=>{"use strict";C.d(Se,{R:()=>re,Z:()=>T});var x=C(7093);function T(ee,ie,J=x.Z){return ie||(ie=new J),ie===ee||(ie.removeAll(),function ne(ee){return ee&&(Array.isArray(ee)||"items"in ee&&Array.isArray(ee.items))}(ee)?ie.addMany(ee):ee&&ie.add(ee)),ie}function re(ee){return ee}},94573:(lt,Se,C)=>{"use strict";function T(ie){}function ne(ie){return()=>ie}C.d(Se,{Bg:()=>T,sM:()=>ne}),C(8314)},55538:(lt,Se,C)=>{"use strict";C.d(Se,{x9:()=>J,XV:()=>ee,Mr:()=>ie});var x=C(8314);const T=new Set;function ee(j,A,B={}){if((0,x.Z)("esri-deprecation-warnings")){const{moduleName:X}=B;J(j,"Function: "+(X?X+"::":"")+A+"()",B)}}function ie(j,A,B={}){if((0,x.Z)("esri-deprecation-warnings")){const{moduleName:X}=B;J(j,"Property: "+(X?X+"::":"")+A,B)}}function J(j,A,B={}){if((0,x.Z)("esri-deprecation-warnings")){const{replacement:X,version:W,see:K,warnOnce:ae}=B;let $=A;X&&($+=`\n\t\u{1f6e0}\ufe0f Replacement: ${X}`),W&&($+=`\n\t\u2699\ufe0f Version: ${W}`),K&&($+=`\n\t\u{1f517} See ${K} for more details.`),function re(j,A,B=!1){B&&T.has(A)||(B&&T.add(A),j.warn(`\u{1f6d1} DEPRECATED - ${A}`))}(j,$,ae)}}},40764:(lt,Se,C)=>{"use strict";function x(j){return"string"==typeof j?document.getElementById(j):j}function T(j){for(;j.hasChildNodes();)j.removeChild(j.firstChild)}function ne(j,A){const B=A.parentNode;B&&B.insertBefore(j,A)}function ee(j,A){for(;;){const B=j.firstChild;if(!B)break;A.appendChild(B)}}C.d(Se,{L7:()=>x,cS:()=>T,Vt:()=>ne,YD:()=>ee}),(()=>{if("function"==typeof Element.prototype.closest)return(A,B)=>A.closest(B);Element.prototype.matches||Element})()},17770:(lt,Se,C)=>{"use strict";function x(J){return J&&("function"==typeof J.on||"function"==typeof J.addEventListener)}function T(J,j,A){if(!x(J))throw new TypeError("target is not a Evented or EventTarget object");if("on"in J)return J.on(j,A);if(Array.isArray(j)){const B=j.slice();for(const X of B)J.addEventListener(X,A);return{remove(){for(const X of B)J.removeEventListener(X,A)}}}return J.addEventListener(j,A),{remove(){J.removeEventListener(j,A)}}}function re(J,j,A){if(!x(J))throw new TypeError("target is not a Evented or EventTarget object");if("once"in J)return J.once(j,A);const B=T(J,j,X=>{B.remove(),A.call(J,X)});return{remove(){B.remove()}}}C.d(Se,{kK:()=>ie,vT:()=>x,on:()=>T,IH:()=>re});const ee={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function ie({key:J}){return ee[J]||J}},54024:(lt,Se,C)=>{"use strict";C.d(Se,{AL:()=>T,kB:()=>re});var x=C(62208);function T(j){return re(()=>j.forEach(A=>(0,x.pC)(A)&&A.remove()))}function re(j){return{remove:()=>{j&&(j(),j=void 0)}}}},8314:(lt,Se,C)=>{"use strict";var x,T;let re;var ne,ee;function ie(J){return"function"==typeof re[J]?re[J]=re[J](globalThis):re[J]}C.d(Se,{Z:()=>ie}),re=null!=(x=globalThis.dojoConfig)&&x.has||null!=(T=globalThis.esriConfig)&&T.has?Pt(Pt({},null==(ne=globalThis.dojoConfig)?void 0:ne.has),null==(ee=globalThis.esriConfig)?void 0:ee.has):{},ie.add=(J,j,A,B)=>((B||void 0===re[J])&&(re[J]=j),A&&ie(J)),ie.cache=re,ie.add("esri-deprecation-warnings",!0),(()=>{var J;ie.add("host-webworker",void 0!==globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);const j="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(ie.add("host-browser",j),ie.add("host-node","object"==typeof globalThis.process&&(null==(J=globalThis.process.versions)?void 0:J.node)&&globalThis.process.versions.v8),ie.add("dom",j),ie("host-browser")){const A=navigator,B=A.userAgent,X=A.appVersion,W=parseFloat(X);if(ie.add("wp",parseFloat(B.split("Windows Phone")[1])||void 0),ie.add("msapp",parseFloat(B.split("MSAppHost/")[1])||void 0),ie.add("khtml",X.includes("Konqueror")?W:void 0),ie.add("edge",parseFloat(B.split("Edge/")[1])||void 0),ie.add("opr",parseFloat(B.split("OPR/")[1])||void 0),ie.add("webkit",!ie("wp")&&!ie("edge")&&parseFloat(B.split("WebKit/")[1])||void 0),ie.add("chrome",!ie("edge")&&!ie("opr")&&parseFloat(B.split("Chrome/")[1])||void 0),ie.add("android",!ie("wp")&&parseFloat(B.split("Android ")[1])||void 0),ie.add("safari",!X.includes("Safari")||ie("wp")||ie("chrome")||ie("android")||ie("edge")||ie("opr")?void 0:parseFloat(X.split("Version/")[1])),ie.add("mac",X.includes("Macintosh")),!ie("wp")&&B.match(/(iPhone|iPod|iPad)/)){const K=RegExp.$1.replace(/P/,"p"),ae=B.match(/OS ([\d_]+)/)?RegExp.$1:"1",$=parseFloat(ae.replace(/_/,".").replace(/_/g,""));ie.add(K,$),ie.add("ios",$)}ie.add("trident",parseFloat(X.split("Trident/")[1])||void 0),ie("webkit")||(!B.includes("Gecko")||ie("wp")||ie("khtml")||ie("trident")||ie("edge")||ie.add("mozilla",W),ie("mozilla")&&ie.add("ff",parseFloat(B.split("Firefox/")[1]||B.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const J=navigator.userAgent,j=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(J),A=/iPhone/i.test(J);j&&ie.add("esri-mobile",j),A&&ie.add("esri-iPhone",A),ie.add("esri-geolocation",!!navigator.geolocation)}ie.add("esri-canvas-svg-support",!ie("trident")),ie.add("esri-wasm","WebAssembly"in globalThis),ie.add("esri-shared-array-buffer",()=>{const J="SharedArrayBuffer"in globalThis,j=!1===globalThis.crossOriginIsolated;return J&&!j}),ie.add("esri-atomics","Atomics"in globalThis),ie.add("esri-workers","Worker"in globalThis),ie.add("esri-text-decoder","TextDecoder"in globalThis),ie.add("esri-text-encoder","TextEncoder"in globalThis),ie.add("web-feat:cache","caches"in globalThis),ie.add("esri-workers-arraybuffer-transfer",!ie("safari")||Number(ie("safari"))>=12),ie.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),ie.add("featurelayer-simplify-payload-size-factors",[1,1,4]),ie.add("featurelayer-snapshot-enabled",!0),ie.add("featurelayer-snapshot-point-min-threshold",8e4),ie.add("featurelayer-snapshot-point-max-threshold",4e5),ie.add("featurelayer-snapshot-point-coverage",.1),ie.add("featurelayer-advanced-symbols",!1),ie.add("featurelayer-pbf",!0),ie.add("featurelayer-pbf-statistics",!1),ie.add("feature-layers-workers",!0),ie.add("mapview-transitions-duration",200),ie.add("mapserver-pbf-enabled",!1),ie.add("vectortilelayer-max-buffers",ie("ff")?160:Number.POSITIVE_INFINITY),ie("host-webworker")||ie("host-browser")&&(ie.add("esri-csp-restrictions",()=>{try{new Function}catch(J){return!0}return!1}),ie.add("esri-image-decode",()=>{if("decode"in new Image){const J=new Image;return J.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void J.decode().then(()=>{ie.add("esri-image-decode",!0,!0,!0)}).catch(()=>{ie.add("esri-image-decode",!1,!0,!0)})}return!1}),ie.add("esri-url-encodes-apostrophe",()=>{const J=window.document.createElement("a");return J.href="?'",J.href.includes("?%27")}))})()},56354:(lt,Se,C)=>{"use strict";function x(ne){const ee=[];return function*(){yield*ee;for(const ie of ne)ee.push(ie),yield ie}}function T(ne,ee){for(const ie of ne)if(null!=ie&&ee(ie))return ie}function re(ne){return null!=ne&&"function"==typeof ne[Symbol.iterator]}C.d(Se,{Fs:()=>x,sE:()=>T,TW:()=>re})},2076:(lt,Se,C)=>{"use strict";C.d(Se,{Xn:()=>T,wY:()=>re});var x=C(94113);class T{constructor(ee,ie={ignoreUnknown:!1}){this.jsonToAPI=ee,this.options=ie,this.apiValues=[],this.jsonValues=[],this.apiToJSON=this.invertMap(ee),this.apiValues=this.getKeysSorted(this.apiToJSON),this.jsonValues=this.getKeysSorted(this.jsonToAPI),this.read=J=>this.fromJSON(J),this.write=(J,j,A)=>{const B=this.toJSON(J);void 0!==B&&(0,x.RB)(A,B,j)},this.write.isJSONMapWriter=!0}toJSON(ee){return this.apiToJSON.hasOwnProperty(ee)?this.apiToJSON[ee]:this.options.ignoreUnknown?void 0:ee}fromJSON(ee){return this.jsonToAPI.hasOwnProperty(ee)?this.jsonToAPI[ee]:this.options.ignoreUnknown?void 0:ee}invertMap(ee){const ie={};for(const J in ee)ie[ee[J]]=J;return ie}getKeysSorted(ee){const ie=[];for(const J in ee)ie.push(J);return ie.sort(),ie}}function re(){return function(ne){return new T(ne,{ignoreUnknown:!0})}}},58817:(lt,Se,C)=>{"use strict";C.d(Se,{d9:()=>ee,fS:()=>ie,yd:()=>ne}),C(85931),C(8314);var re=C(55713);function ne(W,K){let ae;if(K)for(ae in W)W.hasOwnProperty(ae)&&(void 0===W[ae]?delete W[ae]:W[ae]instanceof Object&&ne(W[ae],!0));else for(ae in W)W.hasOwnProperty(ae)&&void 0===W[ae]&&delete W[ae];return W}function ee(W){if(!W||"object"!=typeof W||"function"==typeof W)return W;if((0,re.W0)(W)||(0,re.lq)(W)||(0,re.KZ)(W)||(0,re.z3)(W)||(0,re.Uc)(W)||(0,re.Hx)(W)||(0,re.ZY)(W)||(0,re.xZ)(W)||(0,re.fS)(W))return(0,re.tP)(W);if(W instanceof Date)return new Date(W.getTime());if(W instanceof ArrayBuffer)return W.slice(0,W.byteLength);if(W instanceof Map){const $=new Map;return W.forEach((V,P)=>{$.set(P,ee(V))}),$}if(W instanceof Set){const $=new Set;return W.forEach(V=>{$.add(ee(V))}),$}let K;const ae=W;if("function"==typeof ae.clone)K=ae.clone();else if("function"==typeof ae.map&&"function"==typeof ae.forEach)K=ae.map(ee);else if("function"==typeof ae.notifyChange&&"function"==typeof ae.watch)K=ae.clone();else{K={};for(const $ of Object.getOwnPropertyNames(W))K[$]=ee(W[$])}return K}function ie(W,K){return W===K||"number"==typeof W&&isNaN(W)&&"number"==typeof K&&isNaN(K)||"function"==typeof(W||{}).getTime&&"function"==typeof(K||{}).getTime&&W.getTime()===K.getTime()||!1}},47877:(lt,Se,C)=>{"use strict";C.d(Se,{GZ:()=>ie,wF:()=>j});var x=C(15861),T=C(59213),re=C(7093),ne=C(47996),ee=C(62208);function ie(X,W){return J.apply(this,arguments)}function J(){return(J=(0,x.Z)(function*(X,W){return yield X.load(),j(X,W)})).apply(this,arguments)}function j(X,W){return A.apply(this,arguments)}function A(){return A=(0,x.Z)(function*(X,W){const K=[],ae=(...V)=>{for(const P of V)(0,ee.Wi)(P)||(Array.isArray(P)?ae(...P):re.Z.isCollection(P)?P.forEach(F=>ae(F)):ne.Z.isLoadable(P)&&K.push(P))};W(ae);let $=null;if(yield(0,T.UI)(K,function(){var V=(0,x.Z)(function*(P){!1!==(yield(0,T.q6)(B(P)?P.loadAll():P.load())).ok||$||($=P)});return function(P){return V.apply(this,arguments)}}()),$)throw $.loadError;return X}),A.apply(this,arguments)}function B(X){return"loadAll"in X&&"function"==typeof X.loadAll}},21286:(lt,Se,C)=>{"use strict";C.d(Se,{ZF:()=>$,Kt:()=>V,jE:()=>q,uZ:()=>ee,oK:()=>Z,Vl:()=>W,wt:()=>J,t7:()=>B,Sf:()=>ne,fp:()=>j,BV:()=>K});var x=C(84161);C(993);const re=new Float32Array(1);function ne(oe){--oe;for(let Q=1;Q<32;Q<<=1)oe|=oe>>Q;return oe+1}function ee(oe,Q,pe){return Math.min(Math.max(oe,Q),pe)}function J(oe){return 0==(oe&oe-1)}function j(oe){return oe--,oe|=oe>>1,oe|=oe>>2,oe|=oe>>4,oe|=oe>>8,oe|=oe>>16,++oe}function B(oe,Q,pe){return oe+(Q-oe)*pe}function W(oe){return oe*Math.PI/180}function K(oe){return 180*oe/Math.PI}function $(oe){return Math.acos(ee(oe,-1,1))}function V(oe){return Math.asin(ee(oe,-1,1))}function Z(oe){return Y(Math.max(-ye,Math.min(oe,ye)))}function Y(oe){return re[0]=oe,re[0]}function q(oe,Q){const pe=(0,x.l)(oe),ue=V(oe[2]/pe),me=Math.atan2(oe[1]/pe,oe[0]/pe);return(0,x.s)(Q,pe,ue,me),Q}const ye=Y(34028234663852886e22)},62208:(lt,Se,C)=>{"use strict";function T(le){return null!=le}function re(le){return null==le}function ne(le){return void 0===le}function ee(le,ye){return T(le)?ye(le):null}function ie(le){return le}function J(le,ye){if(re(le))throw new Error(ye);return le}function j(le,ye){return T(le)?le:"function"==typeof ye?ye():ye}function A(le){return T(le)&&le.destroy(),null}function B(le){return T(le)&&le.dispose(),null}function X(le){return T(le)&&le.remove(),null}function W(le){return T(le)&&le.abort(),null}function K(le){return T(le)&&le.release(),null}function $(le){return null}function P(le,ye){const oe=new Array;for(const Q of le)oe.push(Z(Q,null,ye));return oe}function F(le,ye){for(const oe of le)Z(oe,null,ye)}function Z(le,ye,oe){return T(le)?oe(le):ye}function Y(le,ye){return T(le)?ye(le):null}function de(le){return le.filter(ye=>T(ye))}function q(le,...ye){let oe=le;for(let Q=0;Q<ye.length&&oe;++Q)oe=oe[ye[Q]];return oe}function ge(le){return le}C.d(Se,{IM:()=>W,Po:()=>Y,yw:()=>ee,j0:()=>ge,SC:()=>A,O3:()=>B,lV:()=>de,JR:()=>F,U2:()=>q,Wi:()=>re,pC:()=>T,o8:()=>ne,Fd:()=>P,R2:()=>Z,Bd:()=>$,RY:()=>K,hw:()=>X,Wg:()=>ie,Pt:()=>j,s3:()=>J})},22558:(lt,Se,C)=>{"use strict";function x(T){return T&&"getAtOrigin"in T&&"originOf"in T}C.d(Se,{l:()=>x})},79682:(lt,Se,C)=>{"use strict";C.d(Se,{Y:()=>T});const x=[];function T(re){x.push(re),1===x.length&&queueMicrotask(()=>{const ne=x.slice();x.length=0;for(const ee of ne)ee()})}},75327:(lt,Se,C)=>{"use strict";C.d(Se,{lt:()=>B,WU:()=>ee,Qc:()=>X});var x=C(77275),T=C(56683);const re={ar:[".",","],bg:[",","\xa0"],bs:[",","."],ca:[",","."],cs:[",","\xa0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\xa0"],fi:[",","\xa0"],fr:[",","\u202f"],"fr-ch":[",","\u202f"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\xa0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\xa0"],lv:[",","\xa0"],mk:[",","."],nb:[",","\xa0"],nl:[",","."],pl:[",","\xa0"],pt:[",","."],"pt-pt":[",","\xa0"],ro:[",","."],ru:[",","\xa0"],sk:[",","\xa0"],sl:[",","."],sr:[",","."],sv:[",","\xa0"],th:[".",","],tr:[",","."],uk:[",","\xa0"],vi:[",","."],zh:[".",","]};function ne(V){V||(V=(0,T.Kd)());let P=V in re;if(!P){const H=V.split("-");H.length>1&&H[0]in re&&(V=H[0],P=!0),P||(V="en")}const[F,Z,Y="#,##0.###"]=re[V];return{decimal:F,group:Z,pattern:Y}}function ee(V,P){const F=ne((P=Pt({},P)).locale);P.customs=F;const Z=P.pattern||F.pattern;return isNaN(V)||Math.abs(V)===1/0?null:function J(V,P,F){const Z=(F=F||{}).customs.group,Y=F.customs.decimal,H=P.split(";"),de=H[0];if(-1!==(P=H[V<0?1:0]||"-"+de).indexOf("%"))V*=100;else if(-1!==P.indexOf("\u2030"))V*=1e3;else{if(-1!==P.indexOf("\xa4"))throw new Error("currency notation not supported");if(-1!==P.indexOf("E"))throw new Error("exponential notation not supported")}const q=ie,ge=de.match(q);if(!ge)throw new Error("unable to find a number expression in pattern: "+P);return!1===F.fractional&&(F.places=0),P.replace(q,function j(V,P,F){!0===(F=F||{}).places&&(F.places=0),F.places===1/0&&(F.places=6);const Z=P.split("."),Y="string"==typeof F.places&&F.places.indexOf(",");let H=F.places;Y?H=F.places.substring(Y+1):H>=0||(H=(Z[1]||[]).length),F.round<0||(V=Number(V.toFixed(Number(H))));const de=String(Math.abs(V)).split("."),q=de[1]||"";if(Z[1]||F.places){Y&&(F.places=F.places.substring(0,Y));const ue=void 0!==F.places?F.places:Z[1]&&Z[1].lastIndexOf("0")+1;ue>q.length&&(de[1]=q.padEnd(Number(ue),"0")),H<q.length&&(de[1]=q.substr(0,Number(H)))}else de[1]&&de.pop();const ge=Z[0].replace(",","");let le=ge.indexOf("0");-1!==le&&(le=ge.length-le,le>de[0].length&&(de[0]=de[0].padStart(le,"0")),-1===ge.indexOf("#")&&(de[0]=de[0].substr(de[0].length-le)));let ye,oe,Q=Z[0].lastIndexOf(",");if(-1!==Q){ye=Z[0].length-Q-1;const ue=Z[0].substr(0,Q);Q=ue.lastIndexOf(","),-1!==Q&&(oe=ue.length-Q-1)}const pe=[];for(let ue=de[0];ue;){const me=ue.length-ye;pe.push(me>0?ue.substr(me):ue),ue=me>0?ue.slice(0,me):"",oe&&(ye=oe,oe=void 0)}return de[0]=pe.reverse().join(F.group||","),de.join(F.decimal||".")}(V,ge[0],{decimal:Y,group:Z,places:F.places,round:F.round}))}(V,Z,P)}const ie=/[#0,]*[#0](?:\.0*#*)?/;function B(V){const P=ne((V=V||{}).locale),F=V.pattern||P.pattern,Z=P.group,Y=P.decimal;let H=1;if(-1!==F.indexOf("%"))H/=100;else if(-1!==F.indexOf("\u2030"))H/=1e3;else if(-1!==F.indexOf("\xa4"))throw new Error("currency notation not supported");const de=F.split(";");return 1===de.length&&de.push("-"+de[0]),{regexp:ae(de,function(ge){return(ge="(?:"+(0,x.Qs)(ge,".")+")").replace(ie,function(le){const ye={signed:!1,separator:V.strict?Z:[Z,""],fractional:V.fractional,decimal:Y,exponent:!1},oe=le.split(".");let Q=V.places;1===oe.length&&1!==H&&(oe[1]="###"),1===oe.length||0===Q?ye.fractional=!1:(void 0===Q&&(Q=V.pattern?oe[1].lastIndexOf("0")+1:1/0),Q&&null==V.fractional&&(ye.fractional=!0),!V.places&&Q<oe[1].length&&(Q+=","+oe[1].length),ye.places=Q);const pe=oe[0].split(",");return pe.length>1&&(ye.groupSize=pe.pop().length,pe.length>1&&(ye.groupSize2=pe.pop().length)),"("+function W(V){"places"in(V=V||{})||(V.places=1/0),"string"!=typeof V.decimal&&(V.decimal="."),"fractional"in V&&!/^0/.test(String(V.places))||(V.fractional=[!0,!1]),"exponent"in V||(V.exponent=[!0,!1]),"eSigned"in V||(V.eSigned=[!0,!1]);const P=K(V),F=ae(V.fractional,function(Y){let H="";return Y&&0!==V.places&&(H="\\"+V.decimal,V.places===1/0?H="(?:"+H+"\\d+)?":H+="\\d{"+V.places+"}"),H},!0);let Z=P+F;return F&&(Z="(?:(?:"+Z+")|(?:"+F+"))"),Z+ae(V.exponent,function(Y){return Y?"([eE]"+K({signed:V.eSigned})+")":""})}(ye)+")"})},!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:Z,decimal:Y,factor:H}}function X(V,P){const F=B(P),Z=new RegExp("^"+F.regexp+"$").exec(V);if(!Z)return NaN;let Y=Z[1];if(!Z[1]){if(!Z[2])return NaN;Y=Z[2],F.factor*=-1}return Y=Y.replace(new RegExp("["+F.group+"\\s\\xa0]","g"),"").replace(F.decimal,"."),Number(Y)*F.factor}function K(V){return"signed"in(V=V||{})||(V.signed=[!0,!1]),"separator"in V?"groupSize"in V||(V.groupSize=3):V.separator="",ae(V.signed,function(P){return P?"[-+]":""},!0)+ae(V.separator,function(P){if(!P)return"(?:\\d+)";" "===(P=(0,x.Qs)(P))?P="\\s":"\xa0"===P&&(P="\\s\\xa0");const F=V.groupSize,Z=V.groupSize2;if(Z){const Y="(?:0|[1-9]\\d{0,"+(Z-1)+"}(?:["+P+"]\\d{"+Z+"})*["+P+"]\\d{"+F+"})";return F-Z>0?"(?:"+Y+"|(?:0|[1-9]\\d{0,"+(F-1)+"}))":Y}return"(?:0|[1-9]\\d{0,"+(F-1)+"}(?:["+P+"]\\d{"+F+"})*)"},!0)}const ae=function(V,P,F){if(!(V instanceof Array))return P(V);const Z=[];for(let Y=0;Y<V.length;Y++)Z.push(P(V[Y]));return $(Z.join("|"),F)},$=function(V,P){return"("+(P?"?:":"")+V+")"}},94113:(lt,Se,C)=>{"use strict";C.d(Se,{RH:()=>T,hS:()=>re,RB:()=>ne});var x=C(58817);function T(J,j,A=!1){return ie(J,j,A)}function re(J,j){if(null!=j)return j[J]||ee(J.split("."),!1,j)}function ne(J,j,A){const B=J.split("."),X=B.pop(),W=ee(B,!0,A);W&&X&&(W[X]=j)}function ee(J,j,A){let B=A;for(const X of J){if(null==B)return;if(!(X in B)){if(!j)return;B[X]={}}B=B[X]}return B}function ie(J,j,A){return j?Object.keys(j).reduce(function(B,X){let W=B[X],K=j[X];return W===K?B:void 0===W?(B[X]=(0,x.d9)(K),B):(Array.isArray(K)||Array.isArray(B)?(W=B[X]=W?Array.isArray(W)?W.concat():[W]:[],K&&(Array.isArray(K)||(K=[K]),A?K.forEach(ae=>{-1===W.indexOf(ae)&&W.push(ae)}):B[X]=K.concat())):K&&"object"==typeof K?B[X]=ie(W,K,A):B.hasOwnProperty(X)&&!j.hasOwnProperty(X)||(B[X]=K),B)},J||{}):J}},24192:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>ie});var x=C(8314),T=C(27899);const re=4294967296,ne=(0,x.Z)("esri-text-decoder")?new TextDecoder("utf-8"):null,ee=(0,x.Z)("safari")||(0,x.Z)("ios")?6:(0,x.Z)("ff")?12:32;class ie{constructor(j,A,B=0,X=(j?j.byteLength:0)){this._tag=0,this._dataType=99,this.init(j,A,B,X)}init(j,A,B,X){this._data=j,this._dataView=A,this._pos=B,this._end=X}clone(){return new ie(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(j){this._pos=j}nextTag(j){for(;;){if(this._pos===this._end)return!1;const A=this._decodeVarint();if(this._tag=A>>3,this._dataType=7&A,!j||j===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const j=this._decodeVarint();return this._tag=j>>3,this._dataType=7&j,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let j=4294967295;return j=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128?j:(j=(j|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128?j:(j=(j|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128?j:(j=(j|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128?j:(j=(j|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128?j:void 0))))}getUInt64(){return this._decodeVarint()}getSInt32(){const j=this.getUInt32();return j>>>1^-(1&j)|0}getSInt64(){return this._decodeSVarint()}getBool(){const j=0!==this._data[this._pos];return this._skip(1),j}getEnum(){return this._decodeVarint()}getFixed64(){const j=this._dataView,A=this._pos,B=j.getUint32(A,!0)+j.getUint32(A+4,!0)*re;return this._skip(8),B}getSFixed64(){const j=this._dataView,A=this._pos,B=j.getUint32(A,!0)+j.getInt32(A+4,!0)*re;return this._skip(8),B}getDouble(){const j=this._dataView.getFloat64(this._pos,!0);return this._skip(8),j}getFixed32(){const j=this._dataView.getUint32(this._pos,!0);return this._skip(4),j}getSFixed32(){const j=this._dataView.getInt32(this._pos,!0);return this._skip(4),j}getFloat(){const j=this._dataView.getFloat32(this._pos,!0);return this._skip(4),j}getString(){const j=this._getLength(),A=this._pos,B=this._toString(this._data,A,A+j);return this._skip(j),B}getBytes(){const j=this._getLength(),A=this._pos,B=this._toBytes(this._data,A,A+j);return this._skip(j),B}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(j,A,B,X){const W=this.getMessage(),K=j(W,A,B,X);return W.release(),K}processMessage(j){const A=this.getMessage(),B=j(A);return A.release(),B}getMessage(){const j=this._getLength(),A=ie.pool.acquire();return A.init(this._data,this._dataView,this._pos,this._pos+j),this._skip(j),A}release(){ie.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case 0:this._decodeVarint();break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw new Error("Invalid data type!")}}skipLen(j){this._skip(j)}_skip(j){if(this._pos+j>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=j}_decodeVarint(){const j=this._data;let A,B=this._pos,X=0;if(this._end-B>=10)do{if(A=j[B++],X|=127&A,0==(128&A)||(A=j[B++],X|=(127&A)<<7,0==(128&A))||(A=j[B++],X|=(127&A)<<14,0==(128&A))||(A=j[B++],X|=(127&A)<<21,0==(128&A))||(A=j[B++],X+=268435456*(127&A),0==(128&A))||(A=j[B++],X+=34359738368*(127&A),0==(128&A))||(A=j[B++],X+=4398046511104*(127&A),0==(128&A))||(A=j[B++],X+=562949953421312*(127&A),0==(128&A))||(A=j[B++],X+=72057594037927940*(127&A),0==(128&A))||(A=j[B++],X+=0x8000000000000000*(127&A),0==(128&A)))break;throw new Error("Varint too long!")}while(0);else{let W=1;for(;B!==this._end&&(A=j[B],0!=(128&A));)++B,X+=(127&A)*W,W*=128;if(B===this._end)throw new Error("Varint overrun!");++B,X+=A*W}return this._pos=B,X}_decodeSVarint(){const j=this._decodeVarint();return j%2?-(j+1)/2:j/2}_getLength(){if(2!==this._dataType)throw new Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(j,A,B){if((B=Math.min(this._end,B))-A>ee&&ne){const K=j.subarray(A,B);return ne.decode(K)}let X="",W="";for(let K=A;K<B;++K){const ae=j[K];128&ae?W+="%"+ae.toString(16):(X+=decodeURIComponent(W)+String.fromCharCode(ae),W="")}return W.length&&(X+=decodeURIComponent(W)),X}_toBytes(j,A,B){return B=Math.min(this._end,B),new Uint8Array(j.buffer,A,B-A)}}ie.pool=new T.Z(ie,null,J=>{J._data=null,J._dataView=null})},10699:(lt,Se,C)=>{"use strict";C.d(Se,{e4:()=>oe,$6:()=>ie,Ue:()=>j,zE:()=>A,dD:()=>de,hh:()=>fe,vr:()=>ce,Ds:()=>ve,as:()=>q,WW:()=>ge,R8:()=>Y,D_:()=>Z,Hc:()=>W,tI:()=>me,y8:()=>pe,fu:()=>$,$F:()=>V,d1:()=>le,DB:()=>ye,r9:()=>K,k_:()=>B,H9:()=>ae,Yn:()=>he,gx:()=>ue,Hl:()=>P});var x=C(84244),T=C(26584),re=C(17770),ee=(C(63290),C(62208));function ie(xe){return Promise.all(xe)}function j(xe){return new Promise((we,Ae)=>{try{xe(we,Ae)}catch(Fe){Promise.resolve().then(()=>Ae(Fe))}})}function A(xe="Aborted"){return new T.Z("AbortError",xe)}function B(xe,we="Aborted"){if(W(xe))throw A(we)}function X(xe){return(0,ee.pC)(xe)?"aborted"in xe?xe:xe.signal:xe}function W(xe){const we=X(xe);return(0,ee.pC)(we)&&we.aborted}function K(xe){if(Z(xe))throw xe}function ae(xe){if(!Z(xe))throw xe}function $(xe,we){const Ae=X(xe);if(!(0,ee.Wi)(Ae)){if(!Ae.aborted)return(0,re.IH)(Ae,"abort",()=>we());we()}}function V(xe,we){const Ae=X(xe);if(!(0,ee.Wi)(Ae))return B(Ae),(0,re.IH)(Ae,"abort",()=>we(A()))}function P(xe,we){const Ae=X(we);return(0,ee.Wi)(Ae)?xe:new Promise((Fe,tt)=>{let Re=$(we,()=>tt(A()));const be=()=>Re=(0,ee.hw)(Re);xe.then(be,be),xe.then(Fe,tt)})}function Z(xe){return xe&&"AbortError"===xe.name}function Y(xe){return xe.catch(we=>{if(!Z(we))throw we})}function de(){let xe=null;const we=new Promise((Ae,Fe)=>{xe={promise:void 0,resolve:Ae,reject:Fe}});return xe.promise=we,xe}function q(xe){if(!xe)return;if("function"!=typeof xe.forEach){const Ae=Object.keys(xe);return q(Ae.map(Fe=>xe[Fe])).then(Fe=>{const tt={};return Ae.forEach((Re,be)=>tt[Re]=Fe[be]),tt})}const we=xe;return j(Ae=>{const Fe=[];let tt=we.length;0===tt&&Ae(Fe),we.forEach(Re=>{const be={promise:Re||Promise.resolve(Re)};Fe.push(be),be.promise.then(Te=>{be.value=Te}).catch(Te=>{be.error=Te}).then(()=>{--tt,0===tt&&Ae(Fe)})})})}function ge(xe){return q(xe).then(we=>we.filter(Ae=>!!Ae.value).map(Ae=>Ae.value))}function le(xe){return Promise.reject(xe)}function ye(xe){return Promise.resolve(xe)}function oe(xe,we,Ae){const Fe=new AbortController;return $(Ae,()=>Fe.abort()),new Promise((tt,Re)=>{let be=setTimeout(()=>{be=0,tt(we)},xe);$(Fe,()=>{be&&(clearTimeout(be),Re(A()))})})}function pe(xe){return xe&&"function"==typeof xe.then}function ue(xe){return me(xe)?xe:Promise.resolve(xe)}function me(xe){return xe&&"object"==typeof xe&&"then"in xe&&"function"==typeof xe.then}function ve(xe,we=-1){let Ae,Fe,tt,Re,be=null;const Te=(...Je)=>{if(Ae){Fe=Je,Re&&Re.reject(A()),Re=de();const Ye=(0,ee.j0)(Re.promise);if(be){const te=be;be=null,te.abort()}return Ye}if(tt=Re||de(),Re=null,we>0){const Ye=new AbortController;Ae=ue(xe(...Je,Ye.signal));const te=Ae;oe(we).then(()=>{Ae===te&&(Re?Ye.abort():be=Ye)})}else Ae=1,Ae=ue(xe(...Je));const ut=()=>{const Ye=Fe;Fe=tt=Ae=be=null,null!=Ye&&Te(...Ye)},Pe=Ae,Qe=tt;return Pe.then(ut,ut),Pe.then(Qe.resolve,Qe.reject),(0,ee.j0)(Qe.promise)};return Te}function fe(){let xe,we;const Ae=new Promise((tt,Re)=>{xe=tt,we=Re}),Fe=tt=>{xe(tt)};return Fe.resolve=tt=>xe(tt),Fe.reject=tt=>we(tt),Fe.timeout=(tt,Re)=>x.Z.setTimeout(()=>Fe.reject(Re),tt),Fe.promise=Ae,Fe}function ce(xe,we){let Ae,Fe=new AbortController;const tt=xe(Fe.signal);let Re={promise:tt,finished:!1,abort:()=>{Fe&&(Fe.abort(),Fe=null)}};const be=()=>{Re&&(Re.finished=!0,Re=null),(0,ee.pC)(Ae)&&(Ae.remove(),Ae=null),Fe=null};return tt.then(be,be),Ae=$(we,()=>{(0,ee.pC)(Re)&&Re.abort()}),Re}function he(xe){return Promise.resolve().then(()=>{B(xe)})}},32917:(lt,Se,C)=>{"use strict";C.d(Se,{Ym:()=>ee,zF:()=>ie}),C(17770);var T=C(62208),re=C(45262);function ee(ae,$,V={}){return J(ae,$,V,j)}function ie(ae,$,V={}){return J(ae,$,V,A)}function J(ae,$,V={},P){let F=null;const Z=V.once?(Y,H)=>{P(Y)&&((0,T.hw)(F),$(Y,H))}:(Y,H)=>{P(Y)&&$(Y,H)};if(F=(0,re.aQ)(ae,Z,V.sync,V.equals),V.initial){const Y=ae();Z(Y,Y)}return F}function j(ae){return!0}function A(ae){return!!ae}C(21352)},50618:(lt,Se,C)=>{"use strict";C.d(Se,{A:()=>F,Os:()=>P,MU:()=>oe});var x=C(62208),T=C(79682),re=C(73362),ne=C(77029),ee=C(10699),ie=C(27422);class J{constructor(me){this.phases=me,this.paused=!1,this.ticks=-1,this.removed=!1}}class j{constructor(me){this.callback=me,this.isActive=!0}remove(){this.isActive=!1}}let A=0;const X={time:(0,ie.HA)(0),deltaTime:(0,ie.HA)(0),elapsedFrameTime:(0,ie.HA)(0),frameDuration:(0,ie.HA)(0)},W=["prepare","preRender","render","postRender","update"],K=[],ae=new ne.Z;class ${constructor(me){this._task=me}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}}const V={frameTasks:ae,willDispatch:!1,clearFrameTasks:function Y(ue=!1){ae.forAll(me=>{me.removed=!0}),ue&&le()},dispatch:ye,executeFrameTasks:function q(ue){const me=(0,ie.HA)(ue-A);A=ue;const ve=1e3/60,fe=Math.max(0,me-ve);for(let Ce=0;Ce<W.length;Ce++){const ce=performance.now(),he=W[Ce];ae.forAll(xe=>{var we;xe.paused||xe.removed||(0===Ce&&xe.ticks++,xe.phases[he]&&(X.time=ue,X.deltaTime=0===xe.ticks?(0,ie.HA)(0):me,X.elapsedFrameTime=(0,ie.HA)(performance.now()-ue),X.frameDuration=(0,ie.HA)(ve-fe),null==(we=xe.phases[he])||we.call(xe,X)))}),Q[Ce].record(performance.now()-ce)}le(),pe.record(performance.now()-ue)}};function P(ue){const me=new j(ue);return K.push(me),V.willDispatch||(V.willDispatch=!0,(0,T.Y)(ye)),me}function F(ue){const me=new J(ue);return ae.push(me),null==Z&&(A=performance.now(),Z=requestAnimationFrame(de)),new $(me)}let Z=null;function de(){const ue=performance.now();Z=null,Z=ae.length>0?requestAnimationFrame(de):null,V.executeFrameTasks(ue)}const ge=new ne.Z;function le(){ae.forAll(ue=>{ue.removed&&ge.push(ue)}),ae.removeUnorderedMany(ge.data,ge.length),ge.clear()}function ye(){for(;K.length;){const ue=(0,x.j0)(K.shift());ue.isActive&&ue.callback()}V.willDispatch=!1}function oe(ue=1,me){const ve=(0,ee.hh)(),fe=()=>{(0,ee.Hc)(me)?ve.reject((0,ee.zE)()):0===ue?ve():(--ue,(0,T.Y)(()=>fe()))};return fe(),ve.promise}const Q=W.map(ue=>new re.Z(ue)),pe=new re.Z("total")},23841:(lt,Se,C)=>{"use strict";C.d(Se,{vW:()=>J,s1:()=>j,F2:()=>ne,Wz:()=>ee,t_:()=>ie});const x=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;function ne(P){return P?P/72*96:0}function ee(P){return P?72*P/96:0}function ie(P){if("string"==typeof P){const F=P.match(x);if(F){const Z=Number(F[1]),Y=F[3]&&F[3].toLowerCase(),H="-"===P.charAt(0),de="px"===Y?ee(Z):Z;return H?-de:de}return console.warn("screenUtils.toPt: input not recognized!"),null}return P}function J(P=0,F=0){return{x:P,y:F}}function j(P=0,F=0){return[P,F]}},77275:(lt,Se,C)=>{"use strict";C.d(Se,{Qs:()=>ee,hP:()=>ie,gx:()=>ne,Cb:()=>J});var x=C(94113);const T=/\{([^\}]+)\}/g;function re(j){return null==j?"":j}function ne(j,A){return j.replace(T,"object"==typeof A?(B,X)=>re((0,x.hS)(X,A)):(B,X)=>re(A(X)))}function ee(j,A){return j.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,B=>A&&-1!==A.indexOf(B)?B:`\\${B}`)}function ie(j){let A=0;for(let B=0;B<j.length;B++)A=(A<<5)-A+j.charCodeAt(B),A|=0;return A}function J(j){return(new DOMParser).parseFromString(j||"","text/html").body.innerText||""}},28705:(lt,Se,C)=>{"use strict";C.d(Se,{a:()=>W,z:()=>K});var x=C(17626),T=C(7093),re=C(89726),ne=C(80542),ie=(C(8314),C(63290)),J=C(62208),j=C(77712),X=(C(85931),C(90912),C(76898));ie.Z.getLogger("esri.core.support.OwningCollection");let W=class extends((0,ne.p)(T.Z)){constructor(ae){super(ae),this.handles.add([this.on("before-add",$=>{(0,J.Wi)($.item)&&$.preventDefault()}),this.on("after-add",$=>this._own($.item)),this.on("after-remove",$=>this._release($.item))])}get owner(){return this._get("owner")}set owner(ae){ae!==this._get("owner")&&(this._releaseAll(),this._set("owner",ae),this._ownAll())}_ownAll(){for(const ae of this.items)this._own(ae)}_releaseAll(){for(const ae of this.items)this._release(ae)}_createNewInstance(ae){return this.itemType?new(T.Z.ofType(this.itemType.Type))(ae):new T.Z(ae)}};function K(ae,$){return{type:ae,cast:re.R,set(V){const P=(0,re.Z)(V,this._get($),ae);P.owner=this,this._set($,P)}}}(0,x._)([(0,j.Cb)()],W.prototype,"owner",null),W=(0,x._)([(0,X.j)("esri.core.support.OwningCollection")],W)},7074:(lt,Se,C)=>{"use strict";function x(T,re,ne,ee){let ie=null,J=1e3;"number"==typeof re?(J=re,ee=ne):(ie=null!=re?re:null,J=ne);let j,A=0;const B=()=>{A=0,T.apply(ee,j)},X=(...W)=>{ie&&ie.apply(ee,W),j=W,J?A||(A=setTimeout(B,J)):B()};return X.remove=()=>{A&&(clearTimeout(A),A=0)},X.forceUpdate=()=>{A&&(clearTimeout(A),B())},X.hasPendingUpdates=()=>!!A,X}C.d(Se,{P:()=>x})},27422:(lt,Se,C)=>{"use strict";function x(ee){return ee}C.d(Se,{HA:()=>x})},28170:(lt,Se,C)=>{"use strict";C.d(Se,{rJ:()=>X,Nm:()=>ne,JE:()=>ie}),C(8314);const T={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},re={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};function ne(W,K,ae){const $=new Date(W.getTime());if(K&&ae){const V=re[ae],{getter:P,setter:F,multiplier:Z}=V;$[F]($[P]()+K*Z)}return $}function ie(W,K){switch(K){case"milliseconds":return new Date(W.getTime());case"seconds":return new Date(W.getFullYear(),W.getMonth(),W.getDate(),W.getHours(),W.getMinutes(),W.getSeconds());case"minutes":return new Date(W.getFullYear(),W.getMonth(),W.getDate(),W.getHours(),W.getMinutes());case"hours":return new Date(W.getFullYear(),W.getMonth(),W.getDate(),W.getHours());case"days":return new Date(W.getFullYear(),W.getMonth(),W.getDate());case"weeks":return new Date(W.getFullYear(),W.getMonth(),W.getDate()-W.getDay());case"months":return new Date(W.getFullYear(),W.getMonth(),1);case"years":return new Date(W.getFullYear(),0,1);case"decades":return new Date(W.getFullYear()-W.getFullYear()%10,0,1);case"centuries":return new Date(W.getFullYear()-W.getFullYear()%100,0,1);default:return new Date}}function X(W,K,ae){return 0===W?0:W*T[K]/T[ae]}},55713:(lt,Se,C)=>{"use strict";function x($,V){if($.forEach)$.forEach(V);else for(let P=0;P<$.length;P++)V($[P],P,$)}function T($,V,P){if($.slice)return $.slice(V,P);void 0===V?V=0:(V<0&&(V+=$.length),V=Math.min($.length,Math.max(0,V))),void 0===P?P=$.length:(P<0&&(P+=$.length),P=Math.min($.length,Math.max(0,P)));const F=Math.max(0,P-V),Z=new $.constructor(F);for(let Y=0;Y<F;Y++)Z[Y]=$[V+Y];return Z}function re($){return $ instanceof ArrayBuffer||$&&$.constructor&&"ArrayBuffer"===$.constructor.name}function ne($){return $ instanceof Int8Array||$&&$.constructor&&"Int8Array"===$.constructor.name}function ee($){return $ instanceof Uint8Array||$&&$.constructor&&"Uint8Array"===$.constructor.name}function ie($){return $ instanceof Uint8ClampedArray||$&&$.constructor&&"Uint8ClampedArray"===$.constructor.name}function J($){return $ instanceof Int16Array||$&&$.constructor&&"Int16Array"===$.constructor.name}function j($){return $ instanceof Uint16Array||$&&$.constructor&&"Uint16Array"===$.constructor.name}function A($){return $ instanceof Int32Array||$&&$.constructor&&"Int32Array"===$.constructor.name}function B($){return $ instanceof Uint32Array||$&&$.constructor&&"Uint32Array"===$.constructor.name}function X($){return $ instanceof Float32Array||$&&$.constructor&&"Float32Array"===$.constructor.name}function W($){return $ instanceof Float64Array||$&&$.constructor&&"Float64Array"===$.constructor.name}C.d(Se,{Ed:()=>x,eP:()=>re,xZ:()=>X,fS:()=>W,z3:()=>J,Hx:()=>A,W0:()=>ne,Uc:()=>j,ZY:()=>B,lq:()=>ee,KZ:()=>ie,tP:()=>T})},86236:(lt,Se,C)=>{"use strict";C.d(Se,{D:()=>re});let x=0;function re(){return++x}},16730:(lt,Se,C)=>{"use strict";C.d(Se,{gV:()=>ft,En:()=>pe,Z7:()=>Te,c9:()=>be,_R:()=>tt,qE:()=>Pe,cM:()=>Re,hd:()=>A,ty:()=>we,Jo:()=>Et,$C:()=>Ae}),C(8314);var T=C(2076),re=C(62208),ne=C(12080),ee=C(65234),ie=C(94425),J=C(37053),j=C(84029);const A=39.37,B=ie.sv.radius*Math.PI/200,X=/UNIT\[([^\]]+)\]\]$/i,W=j.Z,K=/UNIT\[([^\]]+)\]/i,ae=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),$=(0,T.wY)()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),V=at=>at*at,P=at=>at*at*at,F={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:V(.001)},"square-centimeters":{inBaseUnits:V(.01)},"square-decimeters":{inBaseUnits:V(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:V(1e3)},"square-inches":{inBaseUnits:V(.0254)},"square-feet":{inBaseUnits:V(.3048)},"square-yards":{inBaseUnits:V(.9144)},"square-miles":{inBaseUnits:V(1609.344)},"square-us-feet":{inBaseUnits:V(1200/3937)},acres:{inBaseUnits:.0015625*V(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*P(.001)},"cubic-centimeters":{inBaseUnits:1e3*P(.01)},"cubic-decimeters":{inBaseUnits:1e3*P(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*P(1e3)},"cubic-inches":{inBaseUnits:1e3*P(.0254)},"cubic-feet":{inBaseUnits:1e3*P(.3048)},"cubic-yards":{inBaseUnits:1e3*P(.9144)},"cubic-miles":{inBaseUnits:1e3*P(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},Z=function(){const at={};for(const wt in F)for(const Tt in F[wt].units)at[Tt]=wt;return at}();function le(at){const wt=Z[at];if(wt)return wt;throw new Error("unknown measure")}function Q(at,wt=null){return wt=wt||le(at),F[wt].baseUnit===at}function pe(at,wt,Tt){if(wt===Tt)return at;const Ut=le(wt);if(Ut!==le(Tt))throw new Error("incompatible units");const Wt=Q(wt,Ut)?at:function Y(at,wt,Tt){return at*F[Tt].units[wt].inBaseUnits}(at,wt,Ut);return Q(Tt,Ut)?Wt:function H(at,wt,Tt){return at/F[Tt].units[wt].inBaseUnits}(Wt,Tt,Ut)}function we(at,wt,Tt){return pe(at,wt,"meters")/(Tt*Math.PI/180)}function Ae(at){return $.fromJSON(at.toLowerCase())||null}function tt(at){if(at&&"object"==typeof at&&!(0,J.N$)(at))return 1;const wt=be(at);return wt>1e5?1:wt}function Re(at){return be(at)>=(at instanceof ee.Z?(0,ne.Iu)(at).metersPerDegree:1e5)?"meters":Pe(at)}function be(at,wt=ie.sv.metersPerDegree){return Te(at,!0)||wt}function Te(at,wt=!1){let Tt,Ut,Wt=null;if(null!=at&&("object"==typeof at?(Tt=at.wkid,Ut=at.wkt):"number"==typeof at?Tt=at:"string"==typeof at&&(Ut=at)),Tt){if((0,J.o$)(Tt))return ie.yr.metersPerDegree;if((0,J.ME)(Tt))return ie.Z1.metersPerDegree;Wt=W.values[W[Tt]],!Wt&&wt&&ae.has(Tt)&&(Wt=B)}else Ut&&(Ye(Ut)?Wt=Je(X.exec(Ut),Wt):Qe(Ut)&&(Wt=Je(K.exec(Ut),Wt)));return Wt}function Je(at,wt){return at&&at[1]?ut(at[1]):wt}function ut(at){return parseFloat(at.split(",")[1])}function Pe(at){let wt,Tt,Ut=null;if(null!=at&&("object"==typeof at?(wt=at.wkid,Tt=at.wkt):"number"==typeof at?wt=at:"string"==typeof at&&(Tt=at)),wt)Ut=W.units[W[wt]];else if(Tt){const Wt=Ye(Tt)?X:Qe(Tt)?K:null;if(Wt){const er=Wt.exec(Tt);er&&er[1]&&(Ut=function _e(at){const wt=/[\\"\\']{1}([^\\"\\']+)/.exec(at);let Tt=wt&&wt[1];if(!Tt||-1===W.units.indexOf(Tt)){const Ut=ut(at);Tt=null;const Wt=W.values;for(let er=0;er<Wt.length;++er)if(Math.abs(Ut-Wt[er])<1e-7){Tt=W.units[er];break}}return Tt}(er[1]))}}return(0,re.pC)(Ut)?Ae(Ut):null}function Qe(at){return/^GEOCCS/i.test(at)}function Ye(at){return/^PROJCS/i.test(at)}const et={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},ht={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},ft=(0,T.wY)()(et),Et=(0,T.wY)()(ht);(0,T.wY)()(Pt(Pt({},et),ht))},21726:(lt,Se,C)=>{"use strict";C.d(Se,{R9:()=>V,qg:()=>le,tD:()=>pe,ZN:()=>Rt,fl:()=>Vt,AX:()=>Z,Gd:()=>P,Ie:()=>lr,sJ:()=>Pe,AH:()=>Je,vt:()=>yr,oh:()=>fe,P$:()=>tt,Ml:()=>Zt,ed:()=>ue,b7:()=>ge,D6:()=>Ce,tm:()=>me,YP:()=>Re,jc:()=>be,HK:()=>Te,$U:()=>ft,oC:()=>et,zd:()=>ct,kl:()=>ce,v_:()=>Fe,hF:()=>xe,_l:()=>Qe,PF:()=>we,Fv:()=>Ae,B7:()=>q,u0:()=>H,Yd:()=>gr,Hu:()=>Ot,Qj:()=>gt,hO:()=>wt,mN:()=>Y});var x=C(59318),T=C(26584),re=C(63290),ne=C(62208);const ee=re.Z.getLogger("esri.core.urlUtils"),ie=x.Z.request,J="esri/config: esriConfig.request.proxyUrl is not set.",j=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,A=/^\s*http:/i,B=/^\s*https:/i,X=/^\s*file:/i,W=/:\d+$/,K=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,ae=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),$=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");class V{constructor(Xe=""){this.uri=Xe,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let He=(0,ne.j0)(this.uri.match(ae));this.scheme=He[2]||(He[1]?"":null),this.authority=He[4]||(He[3]?"":null),this.path=He[5],this.query=He[7]||(He[6]?"":null),this.fragment=He[9]||(He[8]?"":null),null!=this.authority&&(He=(0,ne.j0)(this.authority.match($)),this.user=He[3]||null,this.password=He[4]||null,this.host=He[6]||He[7],this.port=He[9]||null)}toString(){return this.uri}}const P=new V(x.Z.applicationUrl),F={},Z=(()=>{const ze=(0,ne.j0)(P.path),Xe=ze.substring(0,ze.lastIndexOf(ze.split("/")[ze.split("/").length-1]));return`${P.scheme}://${P.host}${null!=P.port?`:${P.port}`:""}${Xe}`})();function Y(ze){const Xe={path:null,query:null},He=new V(ze),Ue=ze.indexOf("?");return null===He.query?Xe.path=ze:(Xe.path=ze.substring(0,Ue),Xe.query=H(He.query)),He.fragment&&(Xe.hash=He.fragment,null===He.query&&(Xe.path=Xe.path.substring(0,Xe.path.length-(He.fragment.length+1)))),Xe}function H(ze){const Xe=ze.split("&"),He={};for(const Ue of Xe){if(!Ue)continue;const nt=Ue.indexOf("=");let Mt,tr;nt<0?(Mt=decodeURIComponent(Ue),tr=""):(Mt=decodeURIComponent(Ue.slice(0,nt)),tr=decodeURIComponent(Ue.slice(nt+1)));let br=He[Mt];"string"==typeof br&&(br=He[Mt]=[br]),Array.isArray(br)?br.push(tr):He[Mt]=tr}return He}function de(ze){return ze&&"object"==typeof ze&&"toJSON"in ze&&"function"==typeof ze.toJSON}function q(ze,Xe){return ze?Xe&&"function"==typeof Xe?Object.keys(ze).map(He=>encodeURIComponent(He)+"="+encodeURIComponent(Xe(He,ze[He]))).join("&"):Object.keys(ze).map(He=>{const Ue=ze[He];if(null==Ue)return"";const nt=encodeURIComponent(He)+"=",Mt=Xe&&Xe[He];return Mt?nt+encodeURIComponent(Mt(Ue)):Array.isArray(Ue)?Ue.map(tr=>de(tr)?nt+encodeURIComponent(JSON.stringify(tr)):nt+encodeURIComponent(tr)).join("&"):de(Ue)?nt+encodeURIComponent(JSON.stringify(Ue)):nt+encodeURIComponent(Ue)}).filter(He=>He).join("&"):""}function ge(ze=!1){let Xe,He=ie.proxyUrl;if("string"==typeof ze){Xe=ft(ze);const Ue=ue(ze);Ue&&(He=Ue.proxyUrl)}else Xe=!!ze;if(!He)throw ee.warn(J),new T.Z("urlutils:proxy-not-set",J);return Xe&&Ut()&&(He=wt(He)),Y(He)}function le(ze){const Xe=ue(ze);let He,Ue;if(Xe){const nt=oe(Xe.proxyUrl);He=nt.path,Ue=nt.query?H(nt.query):null}if(He){const nt=Y(ze);ze=He+"?"+nt.path;const Mt=q(Pt(Pt({},Ue),nt.query));Mt&&(ze=`${ze}?${Mt}`)}return ze}const ye={path:"",query:""};function oe(ze){const Xe=ze.indexOf("?");return-1!==Xe?(ye.path=ze.slice(0,Xe),ye.query=ze.slice(Xe+1)):(ye.path=ze,ye.query=null),ye}function Q(ze){return(ze=Wt(ze=function mr(ze){return ze&&"/"===ze[ze.length-1]?ze:`${ze}/`}(ze=oe(ze).path),!0)).toLowerCase()}function pe(ze){const Xe={proxyUrl:ze.proxyUrl,urlPrefix:Q(ze.urlPrefix)},He=ie.proxyRules,Ue=Xe.urlPrefix;let nt=He.length;for(let Mt=0;Mt<He.length;Mt++){const tr=He[Mt].urlPrefix;if(0===Ue.indexOf(tr)){if(Ue.length===tr.length)return-1;nt=Mt;break}0===tr.indexOf(Ue)&&(nt=Mt+1)}return He.splice(nt,0,Xe),nt}function ue(ze){const Xe=ie.proxyRules,He=Q(ze);for(let Ue=0;Ue<Xe.length;Ue++)if(0===He.indexOf(Xe[Ue].urlPrefix))return Xe[Ue]}function me(ze,Xe){return ze=ve(ze),Xe=ve(Xe),Wt(ze)===Wt(Xe)}function ve(ze){const Xe=(ze=Ae(ze)).indexOf("/sharing");return Xe>0?ze.substring(0,Xe):ze.replace(/\/+$/,"")}function fe(ze){const Xe=Ue=>null==Ue||Ue instanceof RegExp&&Ue.test(ze)||"string"==typeof Ue&&ze.startsWith(Ue),He=ie.interceptors;if(He)for(const Ue of He)if(Array.isArray(Ue.urls)){if(Ue.urls.some(Xe))return Ue}else if(Xe(Ue.urls))return Ue;return null}function Ce(ze,Xe,He=!1){const Ue=dr(ze),nt=dr(Xe);return!(!He&&Ue.scheme!==nt.scheme)&&null!=Ue.host&&null!=nt.host&&Ue.host.toLowerCase()===nt.host.toLowerCase()&&Ue.port===nt.port}function ce(ze){if("string"==typeof ze){if(!Re(ze))return!0;ze=dr(ze)}if(Ce(ze,P))return!0;const Xe=ie.trustedServers||[];for(let He=0;He<Xe.length;He++){const Ue=he(Xe[He]);for(let nt=0;nt<Ue.length;nt++)if(Ce(ze,Ue[nt]))return!0}return!1}function he(ze){return F[ze]||(F[ze]=ht(ze)||et(ze)?[new V(xe(ze))]:[new V(`http://${ze}`),new V(`https://${ze}`)]),F[ze]}function xe(ze,Xe=Z,He){return et(ze)?He&&He.preserveProtocolRelative?ze:"http"===P.scheme&&P.authority===tt(ze).slice(2)?`http:${ze}`:`https:${ze}`:ht(ze)?ze:(0,ne.j0)(Fe("/"===ze[0]?function er(ze){const Xe=ze.indexOf("//"),He=ze.indexOf("/",Xe+2);return-1===He?ze:ze.slice(0,He)}(Xe):Xe,ze))}function we(ze,Xe=Z,He){if(!Re(ze))return ze;const Ue=Ae(ze),nt=Ue.toLowerCase(),Mt=Ae(Xe).toLowerCase().replace(/\/+$/,""),tr=He?Ae(He).toLowerCase().replace(/\/+$/,""):null;if(tr&&0!==Mt.indexOf(tr))return ze;const br=(nn,jn,Ai)=>-1===(Ai=nn.indexOf(jn,Ai))?nn.length:Ai;let xr=br(nt,"/",nt.indexOf("//")+2),Ur=-1;for(;nt.slice(0,xr+1)===Mt.slice(0,xr)+"/"&&(Ur=xr+1,xr!==nt.length);)xr=br(nt,"/",xr+1);if(-1===Ur||tr&&Ur<tr.length)return ze;ze=Ue.slice(Ur);const Br=Mt.slice(Ur-1).replace(/[^/]+/g,"").length;if(Br>0)for(let nn=0;nn<Br;nn++)ze=`../${ze}`;else ze=`./${ze}`;return ze}function Ae(ze){return function Qt(ze){const Xe=ie.httpsDomains;if(!function Et(ze){return A.test(ze)||"http"===P.scheme&&et(ze)}(ze))return ze;const He=ze.indexOf("/",7);let Ue;if(Ue=-1===He?ze:ze.slice(0,He),Ue=Ue.toLowerCase().slice(7),W.test(Ue)){if(!Ue.endsWith(":80"))return ze;Ue=Ue.slice(0,-3),ze=ze.replace(":80","")}return function Tt(){return"http"===P.scheme}()&&Ue===P.authority&&!K.test(ze)||(Ut()&&Ue===P.authority||Xe&&Xe.some(nt=>Ue===nt||Ue.endsWith(`.${nt}`))||Ut()&&!ue(ze))&&(ze=wt(ze)),ze}(ze=function Gt(ze){return ze.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}(ze=function kt(ze){if(/^https?:\/\//i.test(ze)){const Xe=oe(ze);ze=(ze=Xe.path.replace(/\/{2,}/g,"/")).replace("/","//"),Xe.query&&(ze+=`?${Xe.query}`)}return ze}(ze=xe(ze=ze.trim()))))}function Fe(...ze){const Xe=ze.filter(ne.pC);if(!Xe||!Xe.length)return;const He=[];if(Re(Xe[0])){const nt=Xe[0],Mt=nt.indexOf("//");-1!==Mt&&(He.push(nt.slice(0,Mt+1)),function mt(ze){return X.test(ze)}(Xe[0])&&(He[0]+="/"),Xe[0]=nt.slice(Mt+2))}else"/"===Xe[0][0]&&He.push("");const Ue=Xe.reduce((nt,Mt)=>Mt?nt.concat(Mt.split("/")):nt,[]);for(let nt=0;nt<Ue.length;nt++){const Mt=Ue[nt];".."===Mt&&He.length>0&&".."!==He[He.length-1]?He.pop():(!Mt&&nt===Ue.length-1||Mt&&("."!==Mt||0===He.length))&&He.push(Mt)}return He.join("/")}function tt(ze,Xe=!1){if(be(ze)||Te(ze))return null;let He=ze.indexOf("://");if(-1===He&&et(ze))He=2;else{if(-1===He)return null;He+=3}const Ue=ze.indexOf("/",He);return-1!==Ue&&(ze=ze.slice(0,Ue)),Xe&&(ze=Wt(ze,!0)),ze}function Re(ze){return et(ze)||ht(ze)}function be(ze){return null!=ze&&"blob:"===ze.slice(0,5)}function Te(ze){return"data:"===ze.slice(0,5)}function Je(ze){const Xe=Pe(ze);if(!Xe||!Xe.isBase64)return null;const He=atob(Xe.data),Ue=new Uint8Array(He.length);for(let nt=0;nt<He.length;nt++)Ue[nt]=He.charCodeAt(nt);return Ue.buffer}const ut=/^data:(.*?)(;base64)?,(.*)$/;function Pe(ze){const Xe=ze.match(ut);if(!Xe)return null;const[,He,Ue,nt]=Xe;return{mediaType:He,isBase64:!!Ue,data:nt}}function Qe(ze){return ze.isBase64?`data:${ze.mediaType};base64,${ze.data}`:`data:${ze.mediaType},${ze.data}`}function et(ze){return null!=ze&&void 0!==ze&&"/"===ze[0]&&"/"===ze[1]}function ht(ze){return j.test(ze)}function ft(ze){return B.test(ze)||"https"===P.scheme&&et(ze)}function wt(ze){return et(ze)?`https:${ze}`:ze.replace(A,"https:")}function Ut(){return"https"===P.scheme}function Wt(ze,Xe=!1){return et(ze)?ze.slice(2):(ze=ze.replace(j,""),Xe&&ze.length>1&&"/"===ze[0]&&"/"===ze[1]&&(ze=ze.slice(2)),ze)}function gr(ze){let Xe=0;if(Re(ze)){const Ue=ze.indexOf("//");-1!==Ue&&(Xe=Ue+2)}const He=ze.lastIndexOf("/");return He<Xe?ze:ze.slice(0,He+1)}function yr(ze,Xe){if(!ze)return"";const He=Y(ze).path.replace(/\/+$/,""),Ue=He.substring(He.lastIndexOf("/")+1);if(null==Xe||!Xe.length)return Ue;const nt=new RegExp(`.(${Xe.join("|")})$`,"ig");return Ue.replace(nt,"")}function gt(ze){return ze.replace(/\/+$/,"")}function lr(ze,Xe,He){if(!(Xe&&He&&ze&&Re(ze)))return ze;const Ue=ze.indexOf("//"),nt=ze.indexOf("/",Ue+2),Mt=ze.indexOf(":",Ue+2),tr=Math.min(nt<0?ze.length:nt,Mt<0?ze.length:Mt);return ze.slice(Ue+2,tr).toLowerCase()!==Xe.toLowerCase()?ze:`${ze.slice(0,Ue+2)}${He}${ze.slice(tr)}`}function dr(ze){return"string"==typeof ze?new V(xe(ze)):(ze.scheme||(ze.scheme=P.scheme),ze)}function ct(ze){return ot.test(ze)}function Ot(ze,Xe){const He=Y(ze),Ue=Object.keys(He.query||{});return Ue.length>0&&Xe&&Xe.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${Ue.join(", ")}.`),He.path}function Rt(ze,Xe,He){const Ue=Y(ze),nt=Ue.query||{};return nt[Xe]=String(He),`${Ue.path}?${q(nt)}`}function Vt(ze,Xe){const He=Y(ze),Ue=He.query||{};for(const Mt in Xe)Ue[Mt]=Xe[Mt];const nt=q(Ue);return nt?`${He.path}?${nt}`:He.path}function Zt(ze){if((0,ne.Wi)(ze))return null;const Xe=ze.match(ke);return Xe?Xe[1]:null}const ke=/.*?\.([^\/]*)$/,ot=/(^data:image\/svg|\.svg$)/i},35948:(lt,Se,C)=>{"use strict";function x(){const T=crypto.getRandomValues(new Uint16Array(8));T[3]=4095&T[3]|16384,T[4]=16383&T[4]|32768;const re=ne=>T[ne].toString(16);return re(0)+re(1)+"-"+re(2)+"-"+re(3)+"-"+re(4)+"-"+re(5)+re(6)+re(7)}C.d(Se,{D:()=>x})},27e3:(lt,Se,C)=>{"use strict";C.d(Se,{S1:()=>ee,on:()=>q,Wy:()=>de,YP:()=>ie,gx:()=>j,Nj:()=>ae,OY:()=>$,PA:()=>B,cm:()=>X,N1:()=>A,Z4:()=>W,LR:()=>K,tH:()=>le});var x=C(17770),re=(C(58817),C(10699));const ne=/\?(\.|$)/g;function ee(ve,fe,Ce,ce){const he=Array.isArray(fe)?fe:fe.indexOf(",")>-1?fe.split(","):[fe],xe=ie(ve,fe,Ce,ce);for(const we of he){const Ae=we.trim().replace(ne,"$1"),Fe=ve.get(Ae);Ce.call(ve,Fe,Fe,Ae,ve)}return xe}function ie(ve,fe,Ce,ce){return ve.watch(fe,Ce,ce)}function j(ve,fe,Ce,ce){return ge(ve,fe,ye,Ce,ce)}function A(ve,fe,Ce,ce){return le(ve,fe,ye,Ce,ce)}function B(ve,fe,Ce,ce){return ge(ve,fe,oe,Ce,ce)}function X(ve,fe,Ce,ce){return le(ve,fe,oe,Ce,ce)}function W(ve,fe,Ce,ce){return ge(ve,fe,Q,Ce,ce)}function K(ve,fe,Ce,ce){return le(ve,fe,Q,Ce,ce)}function ae(ve,fe,Ce,ce){return ge(ve,fe,pe,Ce,ce)}function $(ve,fe,Ce,ce){return le(ve,fe,pe,Ce,ce)}function de(ve,fe,Ce,ce){let he=!1;const xe=ve.watch(fe,(we,Ae,Fe,tt)=>{he||Ce.call(ve,we,Ae,Fe,tt)},ce);return{remove(){xe.remove()},pause(){he=!0},resume(){he=!1}}}function q(ve,fe,Ce,ce,he,xe,we){const Ae={};function Fe(Re){const be=Ae[Re];be&&(xe&&xe(be.target,Re,ve,Ce),be.handle.remove(),delete Ae[Re])}const tt=ee(ve,fe,(Re,be,Te)=>{Fe(Te),(0,x.vT)(Re)&&(Ae[Te]={handle:(0,x.on)(Re,Ce,ce),target:Re},he&&he(Re,Te,ve,Ce))},we);return{remove(){tt.remove();for(const Re in Ae)Fe(Re)}}}function ge(ve,fe,Ce,ce,he){const xe=ve.watch(fe,(we,Ae,Fe,tt)=>{Ce&&!Ce(we)||null==ce||ce.call(ve,we,Ae,Fe,tt)},he);if(Array.isArray(fe))for(const we of fe){const Ae=ve.get(we);Ce&&Ce(Ae)&&(null==ce||ce.call(ve,Ae,Ae,fe,ve))}else{const we=ve.get(fe);Ce&&Ce(we)&&(null==ce||ce.call(ve,we,we,fe,ve))}return xe}function le(ve,fe,Ce,ce,he){const xe="function"==typeof ce?ce:null,we="object"==typeof ce?ce:null;"boolean"==typeof ce&&(he=ce);let Ae,Fe=!1;function tt(){Ae&&(Ae.remove(),Ae=null)}const Re=(0,re.dD)();(0,re.fu)(we,()=>{tt(),Re.reject((0,re.zE)())});const be={then:Re.promise.then.bind(Re.promise),catch:Re.promise.catch.bind(Re.promise),remove:tt};return Object.freeze(be),Ae=ge(ve,fe,Ce,(Te,Je,ut,Pe)=>{Fe=!0,tt(),xe&&xe.call(ve,Te,Je,ut,Pe),Re.resolve({value:Te,oldValue:Je,propertyName:ut,target:Pe})},he),Fe&&tt(),be}function ye(ve){return!!ve}function oe(ve){return!ve}function Q(ve){return!0===ve}function pe(ve){return!1===ve}},93662:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>ie});var x=C(54024),T=C(63290),re=C(10699),ne=C(89951);const ee=T.Z.getLogger("esri.core.workers.Connection");class ie{constructor(){this._clients=new Array,this._clientPromises=new Array,this._clientIdx=0}destroy(){this.close()}get closed(){return!this._clients||!this._clients.length}open(j,A){return new Promise((B,X)=>{let W=!0;const K=ae=>{(0,re.k_)(A.signal),W&&(W=!1,ae())};this._clients.length=j.length,this._clientPromises.length=j.length;for(let ae=0;ae<j.length;++ae){const $=j[ae];(0,re.y8)($)?this._clientPromises[ae]=$.then(V=>(this._clients[ae]=new ne.Z(V,A),K(B),this._clients[ae]),()=>(K(X),null)):(this._clients[ae]=new ne.Z($,A),this._clientPromises[ae]=Promise.resolve(this._clients[ae]),K(B))}})}broadcast(j,A,B){const X=new Array(this._clientPromises.length);for(let W=0;W<this._clientPromises.length;++W)X[W]=this._clientPromises[W].then(ae=>ae.invoke(j,A,B));return X}close(){for(const j of this._clientPromises)j.then(A=>A.close());this._clients.length=0,this._clientPromises.length=0}getAvailableClient(){let j;for(let A=0;A<this._clients.length;++A){const B=this._clients[A];if(B){if(!B.isBusy())return Promise.resolve(B)}else j=j||[],j.push(this._clientPromises[A])}return j?Promise.race(j):(this._clientIdx=(this._clientIdx+1)%this._clients.length,Promise.resolve(this._clients[this._clientIdx]))}invoke(j,A,B){let X=null;return Array.isArray(B)?(ee.warn("invoke()","The transferList parameter is deprecated, use the options object instead"),X={transferList:B}):X=B,this.closed?Promise.reject(new Error("Connection closed")):this.getAvailableClient().then(W=>W.invoke(j,A,X))}on(j,A){return Promise.all(this._clientPromises).then(()=>(0,x.AL)(this._clients.map(B=>B.on(j,A))))}openPorts(){return new Promise(j=>{const A=new Array(this._clientPromises.length);let B=A.length;for(let X=0;X<this._clientPromises.length;++X)this._clientPromises[X].then(W=>{A[X]=W.openPort(),0==--B&&j(A)})})}get test(){return{numClients:this._clients.length}}}},89951:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>V});var x=C(24263),T=C(26584),re=C(17770),ne=C(62208),ee=C(10699),ie=C(13126),J=C(38365);const j={statsWorker:()=>Promise.all([C.e(3930),C.e(4135)]).then(C.bind(C,44135)),geometryEngineWorker:()=>Promise.all([C.e(4918),C.e(8592),C.e(1843)]).then(C.bind(C,28632)),CSVSourceWorker:()=>Promise.all([C.e(410),C.e(3930),C.e(8330),C.e(3222),C.e(9155)]).then(C.bind(C,39155)),EdgeProcessingWorker:()=>Promise.all([C.e(479),C.e(8592),C.e(8947)]).then(C.bind(C,36239)),ElevationSamplerWorker:()=>Promise.all([C.e(479),C.e(853),C.e(8149)]).then(C.bind(C,28149)),FeatureServiceSnappingSourceWorker:()=>Promise.all([C.e(410),C.e(3930),C.e(8330),C.e(3222),C.e(6210)]).then(C.bind(C,56210)),GeoJSONSourceWorker:()=>Promise.all([C.e(410),C.e(3930),C.e(8330),C.e(3222),C.e(8592),C.e(4079)]).then(C.bind(C,84079)),LercWorker:()=>C.e(7300).then(C.bind(C,57300)),MemorySourceWorker:()=>Promise.all([C.e(410),C.e(3930),C.e(8330),C.e(3222),C.e(8592),C.e(7728)]).then(C.bind(C,7728)),PBFDecoderWorker:()=>C.e(6089).then(C.bind(C,46089)),Pipeline:()=>Promise.all([C.e(3755),C.e(410),C.e(1572),C.e(3930),C.e(8330),C.e(9628),C.e(8592),C.e(7249)]).then(C.bind(C,87249)),PointCloudWorker:()=>Promise.all([C.e(8592),C.e(1107)]).then(C.bind(C,61107)),RasterWorker:()=>Promise.all([C.e(7692),C.e(6926),C.e(581),C.e(7897),C.e(5976)]).then(C.bind(C,15976)),SceneLayerWorker:()=>C.e(375).then(C.bind(C,30375)),WFSSourceWorker:()=>Promise.all([C.e(410),C.e(3930),C.e(8330),C.e(3222),C.e(3774),C.e(8592),C.e(2305)]).then(C.bind(C,62305)),WorkerTileHandler:()=>Promise.all([C.e(3751),C.e(4522),C.e(8364),C.e(8032)]).then(C.bind(C,90195))},{CLOSE:A,ABORT:B,INVOKE:X,RESPONSE:W,OPEN_PORT:K,ON:ae}=ie.Cs;class ${constructor(F){this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=F,this._timer=null,this._process=this._process.bind(this)}push(F){F.type===ie.Cs.ABORT?this._cancelledJobIds.add(F.jobId):(this._invokeMessages.push(F),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const F of this._invokeMessages)this._cancelledJobIds.has(F.jobId)||this._invoke(F);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class V{constructor(F,Z){this._port=F,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new $(Y=>this._onInvokeMessage(Y)),this._client=Z.client,this._onMessage=this._onMessage.bind(this),this._channel=Z.channel,this._schedule=Z.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}static connect(F){const Z=new MessageChannel;let Y;Y="function"==typeof F?new F:"default"in F&&"function"==typeof F.default?new F.default:F;const H=new V(Z.port1,{channel:Z,client:Y});return"object"==typeof Y&&"remoteClient"in Y&&(Y.remoteClient=H),V.clients.set(H,Y),Z.port2}static loadWorker(F){const Z=j[F];return Z?Z():Promise.resolve(null)}close(){this._post({type:A}),this._close()}isBusy(){return this._outJobs.size>0}invoke(F,Z,Y){const H=Y&&Y.signal,de=Y&&Y.transferList;if(!this._port)return Promise.reject(new T.Z("worker:port-closed",`Cannot call invoke('${F}'), port is closed`,{methodName:F,data:Z}));const q=(0,ie.jt)();return new Promise((ge,le)=>{const ye=(0,ee.$F)(H,()=>{var Q;const pe=this._outJobs.get(q);pe&&(this._outJobs.delete(q),null==(Q=pe.abortHandle)||Q.remove(),this._post({type:B,jobId:q}),le((0,ee.zE)()))});this._outJobs.set(q,{resolve:ge,reject:le,abortHandle:ye,debugInfo:F}),this._post({type:X,jobId:q,methodName:F,abortable:null!=H},Z,de)})}on(F,Z){const Y=new MessageChannel;function H(de){Z(de.data)}return this._port.postMessage({type:ie.Cs.ON,eventType:F,port:Y.port2},[Y.port2]),Y.port1.addEventListener("message",H),Y.port1.start(),{remove(){Y.port1.postMessage({type:ie.Cs.CLOSE}),Y.port1.close(),Y.port1.removeEventListener("message",H)}}}openPort(){const F=new MessageChannel;return this._post({type:K,port:F.port2}),F.port1}_close(){this._channel&&(this._channel=null),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(F=>{var Z;null==(Z=F.abortHandle)||Z.remove(),F.reject((0,ee.zE)(`Worker closing, aborting job calling '${F.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=this._client=this._schedule=null}_onMessage(F){(0,ne.pC)(this._schedule)?this._schedule(()=>this._processMessage(F)):this._processMessage(F)}_processMessage(F){const Z=(0,ie.QM)(F);if(Z)switch(Z.type){case W:this._onResponseMessage(Z);break;case X:this._invokeQueue.push(Z);break;case B:this._onAbortMessage(Z);break;case A:this._onCloseMessage();break;case K:this._onOpenPortMessage(Z);break;case ae:this._onOnMessage(Z)}}_onAbortMessage(F){const Z=this._inJobs,Y=F.jobId,H=Z.get(Y);this._invokeQueue.push(F),H&&(H.controller&&H.controller.abort(),Z.delete(Y))}_onCloseMessage(){const F=this._client;this._close(),F&&"destroy"in F&&V.clients.get(this)===F&&F.destroy(),V.clients.delete(this),F&&F.remoteClient&&(F.remoteClient=null)}_onInvokeMessage(F){const{methodName:Z,jobId:Y,data:H,abortable:de}=F,q=de?new AbortController:null,ge=this._inJobs;let le,ye=this._client,oe=ye[Z];try{if(!oe&&Z&&-1!==Z.indexOf(".")){const Q=Z.split(".");for(let pe=0;pe<Q.length-1;pe++)ye=ye[Q[pe]],oe=ye[Q[pe+1]]}if("function"!=typeof oe)throw new TypeError(`${Z} is not a function`);le=oe.call(ye,H,{client:this,signal:q?q.signal:null})}catch(Q){return void this._post({type:W,jobId:Y,error:(0,ie.AB)(Q)})}(0,ee.y8)(le)?(ge.set(Y,{controller:q,promise:le}),le.then(Q=>{ge.has(Y)&&(ge.delete(Y),this._post({type:W,jobId:Y},Q))},Q=>{ge.has(Y)&&(ge.delete(Y),(0,ee.D_)(Q)||this._post({type:W,jobId:Y,error:(0,ie.AB)(Q||{message:`Error encountered at method ${Z}`})}))})):this._post({type:W,jobId:Y},le)}_onOpenPortMessage(F){new V(F.port,{client:this._client})}_onOnMessage(F){const{port:Z}=F,Y=this._client.on(F.eventType,de=>{Z.postMessage(de)}),H=(0,re.on)(F.port,"message",de=>{(0,ie.QM)(de).type===ie.Cs.CLOSE&&(H.remove(),Y.remove(),Z.close())})}_onResponseMessage(F){var Z;const{jobId:Y,error:H,data:de}=F,q=this._outJobs;if(!q.has(Y))return;const ge=q.get(Y);q.delete(Y),null==(Z=ge.abortHandle)||Z.remove(),H?ge.reject(T.Z.fromJSON(JSON.parse(H))):ge.resolve(de)}_post(F,Z,Y){return(0,ie.oi)(this._port,F,Z,Y)}}V.kernelInfo={revision:J.$,version:x.i8,buildDate:J.r},V.clients=new Map},13126:(lt,Se,C)=>{"use strict";C.d(Se,{Cs:()=>T,jt:()=>ne,oi:()=>J,QM:()=>j,AB:()=>ie});var T,X,x=C(8314);(X=T||(T={}))[X.HANDSHAKE=0]="HANDSHAKE",X[X.OPEN=1]="OPEN",X[X.OPENED=2]="OPENED",X[X.RESPONSE=3]="RESPONSE",X[X.INVOKE=4]="INVOKE",X[X.ABORT=5]="ABORT",X[X.CLOSE=6]="CLOSE",X[X.OPEN_PORT=7]="OPEN_PORT",X[X.ON=8]="ON";let re=0;function ne(){return re++}function ie(X){return X?"string"==typeof X?JSON.stringify({name:"message",message:X}):X.toJSON?JSON.stringify(X):JSON.stringify({name:X.name,message:X.message,details:X.details||{stack:X.stack}}):null}function J(X,W,K,ae){if(W.type===T.OPEN_PORT)return void X.postMessage(W,[W.port]);if(W.type!==T.INVOKE&&W.type!==T.RESPONSE)return void X.postMessage(W);let $;!function ee(X){return X&&"object"==typeof X&&("result"in X||"transferList"in X)}(K)?($=A(ae),W.data=K):($=A(K.transferList),W.data=K.result),$?X.postMessage(W,$):X.postMessage(W)}function j(X){if(!X)return null;const W=X.data;return W?"string"==typeof W?JSON.parse(W):W:null}function A(X){if(!X||!X.length)return null;if((0,x.Z)("esri-workers-arraybuffer-transfer"))return X;const W=X.filter(K=>!function B(X){return X instanceof ArrayBuffer||X&&X.constructor&&"ArrayBuffer"===X.constructor.name}(K));return W.length?W:null}},59289:(lt,Se,C)=>{"use strict";C.d(Se,{j2:()=>Je,bA:()=>Ye});var x=C(15861),T=C(26584),re=C(8314),ne=C(10699),ee=C(93662),ie=C(89951),J=C(24263),j=C(63290),A=C(13126),B=C(54346),X=C(59318),K=(C(52515),C(21726));const $={};var F=C(79682);class Z{constructor(){const mt=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(at=>{this[at]=(...wt)=>mt[at](...wt)})}}class Y{constructor(){this._dispatcher=new Z,this._workerPostMessage({type:A.Cs.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(mt){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=mt,mt&&this.addEventListener("message",mt)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(mt){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=mt,mt&&this.addEventListener("messageerror",mt)}get onerror(){return this._onerrorHandler}set onerror(mt){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=mt,mt&&this.addEventListener("error",mt)}postMessage(mt){(0,F.Y)(()=>{this._workerMessageHandler(new MessageEvent("message",{data:mt}))})}dispatchEvent(mt){return this._dispatcher.dispatchEvent(mt)}addEventListener(mt,at,wt){this._dispatcher.addEventListener(mt,at,wt)}removeEventListener(mt,at,wt){this._dispatcher.removeEventListener(mt,at,wt)}_workerPostMessage(mt){(0,F.Y)(()=>{this.dispatchEvent(new MessageEvent("message",{data:mt}))})}_workerMessageHandler(mt){var at=this;return(0,x.Z)(function*(){const wt=(0,A.QM)(mt);if(wt&&wt.type===A.Cs.OPEN){const{modulePath:Tt,jobId:Ut}=wt;let Wt=yield ie.Z.loadWorker(Tt);Wt||(Wt=yield import(Tt));const er=ie.Z.connect(Wt);at._workerPostMessage({type:A.Cs.OPENED,jobId:Ut,data:er})}})()}}var H=C(56683),de=C(38365);const q=j.Z.getLogger("esri.core.workers"),{HANDSHAKE:ge}=A.Cs,le='let globalId=0;const outgoing=new Map,configuration=JSON.parse("{CONFIGURATION}");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());t.addEventListener("abort",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,buildDate:r,version:t}=configuration.kernelInfo,{revision:n,buildDate:i,version:s}=e.kernelInfo;o!==n&&console.warn(`[esri.core.workers] Version mismatch detected between ArcGIS API for JavaScript and assets:\nAPI version: ${t} [Date: ${r}, Revision: ${o.slice(0,8)}]\nAssets version: ${s} [Date: ${i}, Revision: ${n.slice(0,8)}]`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let e;function t(o){const t=e.connect(o);self.postMessage({type:2,jobId:r,data:t},[t])}"function"==typeof define&&define.amd?require([workerPath],(r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((r=>(e=r.default,checkWorkerRevision(e),e.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):(self.RemoteClient||importScripts(workerPath),e=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(e),e.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const e=outgoing.get(r);outgoing.delete(r),o.error?e.reject(JSON.parse(o.error)):e.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let ye,oe;const Q="Failed to create Worker. Fallback to execute module in main thread";function ue(){return(ue=(0,x.Z)(function*(){if(!(0,re.Z)("esri-workers"))return me(new Y);if(!ye&&!oe)try{const mt=le.replace('"{CONFIGURATION}"',`'${fe()}'`);ye=URL.createObjectURL(new Blob([mt],{type:"text/javascript"}))}catch(mt){oe=mt||{}}let Et;if(ye)try{Et=new Worker(ye,{name:"esri-worker-"+Ce++})}catch(mt){q.warn(Q,oe),Et=new Y}else q.warn(Q,oe),Et=new Y;return me(Et)})).apply(this,arguments)}function me(Et){return ve.apply(this,arguments)}function ve(){return(ve=(0,x.Z)(function*(Et){return new Promise(mt=>{function at(Tt){const Ut=(0,A.QM)(Tt);Ut&&Ut.type===ge&&(Et.removeEventListener("message",at),Et.removeEventListener("error",wt),mt(Et))}function wt(Tt){Tt.preventDefault(),Et.removeEventListener("message",at),Et.removeEventListener("error",wt),q.warn("Failed to create Worker. Fallback to execute module in main thread",Tt),(Et=new Y).addEventListener("message",at),Et.addEventListener("error",wt)}Et.addEventListener("message",at),Et.addEventListener("error",wt)})})).apply(this,arguments)}function fe(){let Et;if(null!=X.Z.default){const Tt=Pt({},X.Z);delete Tt.default,Et=JSON.parse(JSON.stringify(Tt))}else Et=JSON.parse(JSON.stringify(X.Z));Et.assetsPath=(0,K.hF)(Et.assetsPath),Et.request.interceptors=[],Et.log.interceptors=[],Et.locale=(0,H.Kd)(),Et.has={"esri-csp-restrictions":(0,re.Z)("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":(0,re.Z)("esri-2d-update-debug"),"esri-2d-query-centroid-enabled":(0,re.Z)("esri-2d-query-centroid-enabled"),"featurelayer-pbf":(0,re.Z)("featurelayer-pbf"),"featurelayer-simplify-thresholds":(0,re.Z)("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":(0,re.Z)("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":(0,re.Z)("featurelayer-simplify-mobile-factor"),"esri-atomics":(0,re.Z)("esri-atomics"),"esri-shared-array-buffer":(0,re.Z)("esri-shared-array-buffer"),"esri-tiles-debug":(0,re.Z)("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":(0,re.Z)("esri-workers-arraybuffer-transfer"),"host-webworker":1},Et.workers.loaderUrl&&(Et.workers.loaderUrl=(0,K.hF)(Et.workers.loaderUrl)),Et.workers.workerPath=(0,K.hF)(Et.workers.workerPath?Et.workers.workerPath:(0,B.V)("esri/core/workers/RemoteClient.js"));const mt=X.Z.workers.loaderConfig,at=function P(Et){var mt;const at={async:Et.async,isDebug:Et.isDebug,locale:Et.locale,baseUrl:Et.baseUrl,has:Pt({},Et.has),map:Pt({},Et.map),packages:Et.packages&&Et.packages.concat()||[],paths:Pt({},Et.paths)};return Et.hasOwnProperty("async")||(at.async=!0),Et.hasOwnProperty("isDebug")||(at.isDebug=!1),Et.baseUrl||(at.baseUrl=$.baseUrl),null==(mt=$.packages)||mt.forEach(wt=>{!function V(Et,mt){for(const at of Et)if(at.name===mt.name)return;Et.push(mt)}(at.packages,wt)}),at}({baseUrl:null==mt?void 0:mt.baseUrl,locale:(0,H.Kd)(),has:Pt({"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1},null==mt?void 0:mt.has),map:Pt({},null==mt?void 0:mt.map),paths:Pt({},null==mt?void 0:mt.paths),packages:(null==mt?void 0:mt.packages)||[]});return JSON.stringify({esriConfig:Et,loaderConfig:at,kernelInfo:{version:J.i8,buildDate:de.r,revision:de.$}})}let Ce=0;const ce=j.Z.getLogger("esri.core.workers"),{ABORT:he,INVOKE:xe,OPEN:we,OPENED:Ae,RESPONSE:Fe}=A.Cs;class tt{constructor(mt,at){this._outJobs=new Map,this._inJobs=new Map,this.worker=mt,this.id=at,mt.addEventListener("message",this._onMessage.bind(this)),mt.addEventListener("error",wt=>{wt.preventDefault(),ce.error(wt)})}static create(mt){return(0,x.Z)(function*(){const at=yield function pe(){return ue.apply(this,arguments)}();return new tt(at,mt)})()}terminate(){this.worker.terminate()}open(mt,at={}){var wt=this;return(0,x.Z)(function*(){const{signal:Tt}=at,Ut=(0,A.jt)();return new Promise((Wt,er)=>{const gr={resolve:Wt,reject:er,abortHandle:(0,ne.$F)(Tt,()=>{wt._outJobs.delete(Ut),wt._post({type:he,jobId:Ut})})};wt._outJobs.set(Ut,gr),wt._post({type:we,jobId:Ut,modulePath:mt})})})()}_onMessage(mt){const at=(0,A.QM)(mt);if(at)switch(at.type){case Ae:this._onOpenedMessage(at);break;case Fe:this._onResponseMessage(at);break;case he:this._onAbortMessage(at);break;case xe:this._onInvokeMessage(at)}}_onAbortMessage(mt){const at=this._inJobs,wt=mt.jobId,Tt=at.get(wt);Tt&&(Tt.controller&&Tt.controller.abort(),at.delete(wt))}_onInvokeMessage(mt){const{methodName:at,jobId:wt,data:Tt,abortable:Ut}=mt,Wt=Ut?new AbortController:null,er=this._inJobs,gr=J.Nv[at];let yr;try{if("function"!=typeof gr)throw new TypeError(`${at} is not a function`);yr=gr.call(null,Tt,{signal:Wt?Wt.signal:null})}catch(mr){return void this._post({type:Fe,jobId:wt,error:(0,A.AB)(mr)})}(0,ne.y8)(yr)?(er.set(wt,{controller:Wt,promise:yr}),yr.then(mr=>{er.has(wt)&&(er.delete(wt),this._post({type:Fe,jobId:wt},mr))},mr=>{er.has(wt)&&(er.delete(wt),mr||(mr={message:"Error encountered at method"+at}),(0,ne.D_)(mr)||this._post({type:Fe,jobId:wt,error:(0,A.AB)(mr||{message:`Error encountered at method ${at}`})}))})):this._post({type:Fe,jobId:wt},yr)}_onOpenedMessage(mt){var at;const{jobId:wt,data:Tt}=mt,Ut=this._outJobs.get(wt);Ut&&(this._outJobs.delete(wt),null==(at=Ut.abortHandle)||at.remove(),Ut.resolve(Tt))}_onResponseMessage(mt){var at;const{jobId:wt,error:Tt,data:Ut}=mt,Wt=this._outJobs.get(wt);Wt&&(this._outJobs.delete(wt),null==(at=Wt.abortHandle)||at.remove(),Tt?Wt.reject(T.Z.fromJSON(JSON.parse(Tt))):Wt.resolve(Ut))}_post(mt,at,wt){return(0,A.oi)(this.worker,mt,at,wt)}}let Re=(0,re.Z)("esri-workers-debug")?1:(0,re.Z)("host-browser")?navigator.hardwareConcurrency-1:0;Re||(Re=(0,re.Z)("safari")&&(0,re.Z)("mac")||(0,re.Z)("trident")?7:2);let be=0;const Te=[];function Je(){ht()}function Pe(Et,mt){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,x.Z)(function*(Et,mt){const at=new ee.Z;return yield at.open(Et,mt),at})).apply(this,arguments)}function Ye(Et){return te.apply(this,arguments)}function te(){return(te=(0,x.Z)(function*(Et,mt={}){if("string"!=typeof Et)throw new T.Z("workers:undefined-module","modulePath is missing");let at=mt.strategy||"distributed";if((0,re.Z)("host-webworker")&&!(0,re.Z)("esri-workers")&&(at="local"),"local"===at){let wt=yield ie.Z.loadWorker(Et);wt||(wt=yield import(Et)),(0,ne.k_)(mt.signal);const Tt=mt.client||wt;return Pe([ie.Z.connect(wt)],Xr(Pt({},mt),{client:Tt}))}if(yield ht(),(0,ne.k_)(mt.signal),"dedicated"===at){const wt=be++%Re;return Pe([yield Te[wt].open(Et,mt)],mt)}if(mt.maxNumWorkers&&mt.maxNumWorkers>0){const wt=Math.min(mt.maxNumWorkers,Re);if(wt<Re){const Tt=new Array(wt);for(let Ut=0;Ut<wt;++Ut){const Wt=be++%Re;Tt[Ut]=Te[Wt].open(Et,mt)}return Pe(Tt,mt)}}return Pe(Te.map(wt=>wt.open(Et,mt)),mt)})).apply(this,arguments)}let Ze,et=null;function ht(){return ft.apply(this,arguments)}function ft(){return(ft=(0,x.Z)(function*(){if(et)return et;Ze=new AbortController;const Et=[];for(let mt=0;mt<Re;mt++){const at=tt.create(mt).then(wt=>(Te[mt]=wt,wt));Et.push(at)}return et=Promise.all(Et),et})).apply(this,arguments)}},29132:(lt,Se,C)=>{"use strict";C.d(Se,{qM:()=>W});var x=C(90912),T=C(2004),re=C(21674),ne=C(72854),ee=C(49672),ie=C(37118),J=C(55214);C(65234),C(71774),C(91179);const W={base:re.Z,key:"type",typeMap:{extent:T.Z,multipoint:ne.Z,point:ee.Z,polyline:J.Z,polygon:ie.Z}};(0,x.N7)(W)},2004:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>Y});var V,x=C(17626),T=C(62208),re=C(77275),ne=C(77712),j=(C(85931),C(8314),C(90912),C(76898)),A=C(21674),B=C(49672),X=C(65234),W=C(33190),K=C(11519),ae=C(37053),$=C(46367);function F(H,de,q){return null==de?q:null==q?de:H(de,q)}let Z=V=class extends A.Z{constructor(...H){super(...H),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(H,de,q,ge,le){return function P(H){return H&&("esri.geometry.SpatialReference"===H.declaredClass||null!=H.wkid)}(H)?{spatialReference:H,xmin:0,ymin:0,xmax:0,ymax:0}:"object"==typeof H?(H.spatialReference=null==H.spatialReference?X.Z.WGS84:H.spatialReference,H):{xmin:H,ymin:de,xmax:q,ymax:ge,spatialReference:null==le?X.Z.WGS84:le}}static fromBounds(H,de){return new V({xmin:H[0],ymin:H[1],xmax:H[2],ymax:H[3],spatialReference:de})}static fromPoint(H){return new V({xmin:H.x,ymin:H.y,zmin:H.z,xmax:H.x,ymax:H.y,zmax:H.z,spatialReference:H.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const H=new B.Z({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(H.z=.5*(this.zmin+this.zmax)),this.hasM&&(H.m=.5*(this.mmin+this.mmax)),H}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(H){const de=this.center;return null!=H.z&&this.hasZ?this.offset(H.x-de.x,H.y-de.y,H.z-de.z):this.offset(H.x-de.x,H.y-de.y)}clone(){const H=new V;return H.xmin=this.xmin,H.ymin=this.ymin,H.xmax=this.xmax,H.ymax=this.ymax,H.spatialReference=this.spatialReference,null!=this.zmin&&(H.zmin=this.zmin,H.zmax=this.zmax),null!=this.mmin&&(H.mmin=this.mmin,H.mmax=this.mmax),H}contains(H){if(!H)return!1;const de=this.spatialReference,q=H.spatialReference;return de&&q&&!de.equals(q)&&(0,$.Q8)(de,q)&&(H=de.isWebMercator?(0,$.$)(H):(0,$.Sx)(H,!0)),"point"===H.type?(0,W.aV)(this,H):"extent"===H.type&&(0,W.uP)(this,H)}equals(H){if(this===H)return!0;if((0,T.Wi)(H))return!1;const de=this.spatialReference,q=H.spatialReference;return de&&q&&!de.equals(q)&&(0,$.Q8)(de,q)&&(H=de.isWebMercator?(0,$.$)(H):(0,$.Sx)(H,!0)),this.xmin===H.xmin&&this.ymin===H.ymin&&this.zmin===H.zmin&&this.mmin===H.mmin&&this.xmax===H.xmax&&this.ymax===H.ymax&&this.zmax===H.zmax&&this.mmax===H.mmax}expand(H){const de=.5*(1-H),q=this.width*de,ge=this.height*de;if(this.xmin+=q,this.ymin+=ge,this.xmax-=q,this.ymax-=ge,this.hasZ){const le=(this.zmax-this.zmin)*de;this.zmin+=le,this.zmax-=le}if(this.hasM){const le=(this.mmax-this.mmin)*de;this.mmin+=le,this.mmax-=le}return this}intersects(H){if((0,T.Wi)(H))return!1;"mesh"===H.type&&(H=H.extent);const de=this.spatialReference,q=H.spatialReference;return de&&q&&!de.equals(q)&&(0,$.Q8)(de,q)&&(H=de.isWebMercator?(0,$.$)(H):(0,$.Sx)(H,!0)),(0,K.IY)(H.type)(this,H)}normalize(){const H=this._normalize(!1,!0);return Array.isArray(H)?H:[H]}offset(H,de,q){return this.xmin+=H,this.ymin+=de,this.xmax+=H,this.ymax+=de,null!=q&&(this.zmin+=q,this.zmax+=q),this}shiftCentralMeridian(){return this._normalize(!0)}union(H){return this===H||(this.xmin=Math.min(this.xmin,H.xmin),this.ymin=Math.min(this.ymin,H.ymin),this.xmax=Math.max(this.xmax,H.xmax),this.ymax=Math.max(this.ymax,H.ymax),(this.hasZ||H.hasZ)&&(this.zmin=F(Math.min,this.zmin,H.zmin),this.zmax=F(Math.max,this.zmax,H.zmax)),(this.hasM||H.hasM)&&(this.mmin=F(Math.min,this.mmin,H.mmin),this.mmax=F(Math.max,this.mmax,H.mmax))),this}intersection(H){return this===H?this:(0,T.Wi)(H)||!this.intersects(H)?null:(this.xmin=Math.max(this.xmin,H.xmin),this.ymin=Math.max(this.ymin,H.ymin),this.xmax=Math.min(this.xmax,H.xmax),this.ymax=Math.min(this.ymax,H.ymax),(this.hasZ||H.hasZ)&&(this.zmin=F(Math.max,this.zmin,H.zmin),this.zmax=F(Math.min,this.zmax,H.zmax)),(this.hasM||H.hasM)&&(this.mmin=F(Math.max,this.mmin,H.mmin),this.mmax=F(Math.min,this.mmax,H.mmax)),this)}toJSON(H){return this.write({},H)}_shiftCM(H=(0,ae.C5)(this.spatialReference)){if(!H||!this.spatialReference)return this;const de=this.spatialReference,q=this._getCM(H);if(q){const ge=de.isWebMercator?(0,$.Sx)(q):q;this.xmin-=q.x,this.xmax-=q.x,de.isWebMercator||(ge.x=this._normalizeX(ge.x,H).x),this.spatialReference=new X.Z((0,re.gx)(de.isWGS84?H.altTemplate:H.wkTemplate,{Central_Meridian:ge.x}))}return this}_getCM(H){let de=null;const[q,ge]=H.valid,le=this.xmin,ye=this.xmax;return le>=q&&le<=ge&&ye>=q&&ye<=ge||(de=this.center),de}_normalize(H,de,q){const ge=this.spatialReference;if(!ge)return this;if(!(q=q||(0,ae.C5)(ge)))return this;const le=this._getParts(q).map(Q=>Q.extent);if(le.length<2)return le[0]||this;if(le.length>2)return H?this._shiftCM(q):this.set({xmin:q.valid[0],xmax:q.valid[1]});if(H)return this._shiftCM(q);if(de)return le;let ye=!0,oe=!0;return le.forEach(Q=>{Q.hasZ||(ye=!1),Q.hasM||(oe=!1)}),{rings:le.map(Q=>{const pe=[[Q.xmin,Q.ymin],[Q.xmin,Q.ymax],[Q.xmax,Q.ymax],[Q.xmax,Q.ymin],[Q.xmin,Q.ymin]];if(ye){const ue=(Q.zmax-Q.zmin)/2;for(let me=0;me<pe.length;me++)pe[me].push(ue)}if(oe){const ue=(Q.mmax-Q.mmin)/2;for(let me=0;me<pe.length;me++)pe[me].push(ue)}return pe}),hasZ:ye,hasM:oe,spatialReference:ge}}_getParts(H){let de=this.cache._parts;if(!de){de=[];const{ymin:le,ymax:ye,spatialReference:oe}=this,Q=this.width,pe=this.xmin,ue=this.xmax;let me;H=H||(0,ae.C5)(oe);const[ve,fe]=H.valid;me=this._normalizeX(this.xmin,H);const Ce=me.x,ce=me.frameId;me=this._normalizeX(this.xmax,H);const he=me.x,xe=me.frameId,we=Ce===he&&Q>0;if(Q>2*fe){const Ae=new V(pe<ue?Ce:he,le,fe,ye,oe),Fe=new V(ve,le,pe<ue?he:Ce,ye,oe),tt=new V(0,le,fe,ye,oe),Re=new V(ve,le,0,ye,oe),be=[],Te=[];Ae.contains(tt)&&be.push(ce),Ae.contains(Re)&&Te.push(ce),Fe.contains(tt)&&be.push(xe),Fe.contains(Re)&&Te.push(xe);for(let Je=ce+1;Je<xe;Je++)be.push(Je),Te.push(Je);de.push({extent:Ae,frameIds:[ce]},{extent:Fe,frameIds:[xe]},{extent:tt,frameIds:be},{extent:Re,frameIds:Te})}else Ce>he||we?de.push({extent:new V(Ce,le,fe,ye,oe),frameIds:[ce]},{extent:new V(ve,le,he,ye,oe),frameIds:[xe]}):de.push({extent:new V(Ce,le,he,ye,oe),frameIds:[ce]});this.cache._parts=de}const q=this.hasZ,ge=this.hasM;if(q||ge){const le={};q&&(le.zmin=this.zmin,le.zmax=this.zmax),ge&&(le.mmin=this.mmin,le.mmax=this.mmax);for(let ye=0;ye<de.length;ye++)de[ye].extent.set(le)}return de}_normalizeX(H,de){const[q,ge]=de.valid,le=2*ge;let ye,oe=0;return H>ge?(ye=Math.ceil(Math.abs(H-ge)/le),H-=ye*le,oe=ye):H<q&&(ye=Math.ceil(Math.abs(H-q)/le),H+=ye*le,oe=-ye),{x:H,frameId:oe}}};(0,x._)([(0,ne.Cb)({readOnly:!0})],Z.prototype,"cache",null),(0,x._)([(0,ne.Cb)({readOnly:!0})],Z.prototype,"center",null),(0,x._)([(0,ne.Cb)({readOnly:!0})],Z.prototype,"extent",null),(0,x._)([(0,ne.Cb)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Z.prototype,"hasM",null),(0,x._)([(0,ne.Cb)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Z.prototype,"hasZ",null),(0,x._)([(0,ne.Cb)({readOnly:!0})],Z.prototype,"height",null),(0,x._)([(0,ne.Cb)({readOnly:!0})],Z.prototype,"width",null),(0,x._)([(0,ne.Cb)({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],Z.prototype,"xmin",void 0),(0,x._)([(0,ne.Cb)({type:Number,json:{write:!0}})],Z.prototype,"ymin",void 0),(0,x._)([(0,ne.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Z.prototype,"mmin",void 0),(0,x._)([(0,ne.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Z.prototype,"zmin",void 0),(0,x._)([(0,ne.Cb)({type:Number,json:{write:!0}})],Z.prototype,"xmax",void 0),(0,x._)([(0,ne.Cb)({type:Number,json:{write:!0}})],Z.prototype,"ymax",void 0),(0,x._)([(0,ne.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Z.prototype,"mmax",void 0),(0,x._)([(0,ne.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Z.prototype,"zmax",void 0),Z=V=(0,x._)([(0,j.j)("esri.geometry.Extent")],Z),Z.prototype.toJSON.isDefaultToJSON=!0;const Y=Z},21674:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>X});var x=C(17626),T=C(86162),re=C(77712),J=(C(85931),C(8314),C(90912),C(68653)),j=C(76898),A=C(65234);let B=class extends T.wq{constructor(...W){super(...W),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=A.Z.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(W,K){if(W instanceof A.Z)return W;if(null!=W){const ae=new A.Z;return ae.read(W,K),ae}return W}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(W){return this.cache[W]}setCacheValue(W,K){this.cache[W]=K}};(0,x._)([(0,re.Cb)()],B.prototype,"type",void 0),(0,x._)([(0,re.Cb)({readOnly:!0})],B.prototype,"cache",null),(0,x._)([(0,re.Cb)({readOnly:!0})],B.prototype,"extent",null),(0,x._)([(0,re.Cb)({type:Boolean,json:{write:{overridePolicy:W=>({enabled:W})}}})],B.prototype,"hasM",void 0),(0,x._)([(0,re.Cb)({type:Boolean,json:{write:{overridePolicy:W=>({enabled:W})}}})],B.prototype,"hasZ",void 0),(0,x._)([(0,re.Cb)({type:A.Z,json:{write:!0}})],B.prototype,"spatialReference",void 0),(0,x._)([(0,J.r)("spatialReference")],B.prototype,"readSpatialReference",null),B=(0,x._)([(0,j.j)("esri.geometry.Geometry")],B);const X=B},79334:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>Y});var K,x=C(17626),T=C(85931),re=C(2076),ne=C(86162),ee=C(16730),ie=C(14889),J=C(77712),B=(C(8314),C(90912),C(68653)),X=C(76898),W=C(99433);const ae=(0,re.wY)()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),$=ae.jsonValues.slice();(0,T.e$)($,"orthometric");const V=(0,re.wY)()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let P=K=class extends ne.wq{constructor(H){super(H),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(H,de,q){return ae.write(H,de,q)}readHeightModel(H,de,q){return ae.read(H)||(q&&q.messages&&q.messages.push(function Z(H,de){return new ie.Z("height-model:unsupported",`Height model of value '${H}' is not supported`,de)}(H,{context:q})),null)}readHeightUnit(H,de,q){return V.read(H)||(q&&q.messages&&q.messages.push(F(H,{context:q})),null)}readHeightUnitService(H,de,q){return(0,ee.$C)(H)||V.read(H)||(q&&q.messages&&q.messages.push(F(H,{context:q})),null)}readVertCRS(H,de){return de.vertCRS||de.ellipsoid||de.geoid}clone(){return new K({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(H){return!!H&&(this===H||this.heightModel===H.heightModel&&this.heightUnit===H.heightUnit&&this.vertCRS===H.vertCRS)}static deriveUnitFromSR(H,de){const q=(0,ee.cM)(de);return new K({heightModel:H.heightModel,heightUnit:q,vertCRS:H.vertCRS})}write(H,de){return de=Pt({origin:"web-scene"},de),super.write(H,de)}static fromJSON(H){if(!H)return null;const de=new K;return de.read(H,{origin:"web-scene"}),de}};function F(H,de){return new ie.Z("height-unit:unsupported",`Height unit of value '${H}' is not supported`,de)}(0,x._)([(0,J.Cb)({type:ae.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:$,default:"ellipsoidal"}}}})],P.prototype,"heightModel",void 0),(0,x._)([(0,W.c)("web-scene","heightModel")],P.prototype,"writeHeightModel",null),(0,x._)([(0,B.r)(["web-scene","service"],"heightModel")],P.prototype,"readHeightModel",null),(0,x._)([(0,J.Cb)({type:V.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:V.jsonValues,write:V.write}}}})],P.prototype,"heightUnit",void 0),(0,x._)([(0,B.r)("web-scene","heightUnit")],P.prototype,"readHeightUnit",null),(0,x._)([(0,B.r)("service","heightUnit")],P.prototype,"readHeightUnitService",null),(0,x._)([(0,J.Cb)({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],P.prototype,"vertCRS",void 0),(0,x._)([(0,B.r)("service","vertCRS",["vertCRS","ellipsoid","geoid"])],P.prototype,"readVertCRS",null),P=K=(0,x._)([(0,X.j)("esri.geometry.HeightModelInfo")],P);const Y=P},72854:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>$});var X,x=C(17626),T=C(58817),re=C(77712),ee=(C(90912),C(76898)),ie=C(99433),J=C(2004),j=C(21674),A=C(49672),B=C(18945);function W(V){return(P,F)=>null==P?F:null==F?P:V(P,F)}let ae=X=class extends j.Z{constructor(...V){super(...V),this.points=[],this.type="multipoint"}normalizeCtorArgs(V,P){if(!V&&!P)return null;const F={};Array.isArray(V)?(F.points=V,F.spatialReference=P):function K(V){return V&&("esri.geometry.SpatialReference"===V.declaredClass||null!=V.wkid)}(V)?F.spatialReference=V:(V.points&&(F.points=V.points),V.spatialReference&&(F.spatialReference=V.spatialReference),V.hasZ&&(F.hasZ=V.hasZ),V.hasM&&(F.hasM=V.hasM));const Z=F.points&&F.points[0];return Z&&(void 0===F.hasZ&&void 0===F.hasM?(F.hasZ=Z.length>2,F.hasM=!1):void 0===F.hasZ?F.hasZ=Z.length>3:void 0===F.hasM&&(F.hasM=Z.length>3)),F}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const V=this.points;if(!V.length)return null;const P=new J.Z,F=this.hasZ,Z=this.hasM,Y=F?3:2,H=V[0],de=W(Math.min),q=W(Math.max);let ge,le,ye,oe,[Q,pe]=H,[ue,me]=H;for(let ve=0,fe=V.length;ve<fe;ve++){const Ce=V[ve],[ce,he]=Ce;if(Q=de(Q,ce),pe=de(pe,he),ue=q(ue,ce),me=q(me,he),F&&Ce.length>2){const xe=Ce[2];ge=de(ge,xe),ye=q(ye,xe)}if(Z&&Ce.length>Y){const xe=Ce[Y];le=de(le,xe),oe=q(oe,xe)}}return P.xmin=Q,P.ymin=pe,P.xmax=ue,P.ymax=me,P.spatialReference=this.spatialReference,F?(P.zmin=ge,P.zmax=ye):(P.zmin=null,P.zmax=null),Z?(P.mmin=le,P.mmax=oe):(P.mmin=null,P.mmax=null),P}writePoints(V,P){P.points=(0,T.d9)(this.points)}addPoint(V){return(0,B.l)(this,V),Array.isArray(V)?this.points.push(V):this.points.push(V.toArray()),this.notifyChange("points"),this}clone(){const V={points:(0,T.d9)(this.points),spatialReference:this.spatialReference};return this.hasZ&&(V.hasZ=!0),this.hasM&&(V.hasM=!0),new X(V)}getPoint(V){if(!this._validateInputs(V))return null;const P=this.points[V],F={x:P[0],y:P[1],spatialReference:this.spatialReference};let Z=2;return this.hasZ&&(F.z=P[2],Z=3),this.hasM&&(F.m=P[Z]),new A.Z(F)}removePoint(V){if(!this._validateInputs(V))return null;const P=new A.Z(this.points.splice(V,1)[0],this.spatialReference);return this.notifyChange("points"),P}setPoint(V,P){return this._validateInputs(V)?((0,B.l)(this,P),Array.isArray(P)||(P=P.toArray()),this.points[V]=P,this.notifyChange("points"),this):this}toJSON(V){return this.write({},V)}_validateInputs(V){return null!=V&&V>=0&&V<this.points.length}};(0,x._)([(0,re.Cb)({readOnly:!0})],ae.prototype,"cache",null),(0,x._)([(0,re.Cb)()],ae.prototype,"extent",null),(0,x._)([(0,re.Cb)({type:[[Number]],json:{write:{isRequired:!0}}})],ae.prototype,"points",void 0),(0,x._)([(0,ie.c)("points")],ae.prototype,"writePoints",null),ae=X=(0,x._)([(0,ee.j)("esri.geometry.Multipoint")],ae),ae.prototype.toJSON.isDefaultToJSON=!0;const $=ae},49672:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>le});var Y,x=C(17626),T=C(63290),re=C(62208),ne=C(77712),J=(C(85931),C(8314),C(66656)),j=C(68653),A=C(76898),B=C(99433),X=C(90912),W=C(21674),K=C(65234),F=C(37053),Z=C(46367);const H=[0,0];function de(ye){return ye&&("esri.geometry.SpatialReference"===ye.declaredClass||null!=ye.wkid)}const q=T.Z.getLogger("esri.geometry.Point");let ge=Y=class extends W.Z{constructor(...ye){super(...ye),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}static copy(ye,oe){oe._set("x",ye._get("x")),oe._set("y",ye._get("y")),oe._set("z",ye._get("z")),oe._set("m",ye._get("m"));const Q=ye._get("spatialReference");oe._set("spatialReference",Object.isFrozen(Q)?Q:Q.clone())}normalizeCtorArgs(ye,oe,Q,pe,ue){let me;if(Array.isArray(ye))me=ye,ue=oe,ye=me[0],oe=me[1],Q=me[2],pe=me[3];else if(ye&&"object"==typeof ye){if(me=ye,ye=null!=me.x?me.x:me.longitude,oe=null!=me.y?me.y:me.latitude,Q=me.z,pe=me.m,(ue=me.spatialReference)&&"esri.geometry.SpatialReference"!==ue.declaredClass&&(ue=new K.Z(ue)),null!=me.longitude||null!=me.latitude)if(null==me.longitude)q.warn(".longitude=","Latitude was defined without longitude");else if(null==me.latitude)q.warn(".latitude=","Longitude was defined without latitude");else if(!me.declaredClass&&ue&&ue.isWebMercator){const fe=(0,Z.hG)(me.longitude,me.latitude,H);ye=fe[0],oe=fe[1]}}else de(Q)?(ue=Q,Q=null):de(pe)&&(ue=pe,pe=null);const ve={x:ye,y:oe};return null==ve.x&&null!=ve.y?q.warn(".y=","Y coordinate was defined without an X coordinate"):null==ve.y&&null!=ve.x&&q.warn(".x=","X coordinate was defined without a Y coordinate"),null!=ue&&(ve.spatialReference=ue),null!=Q&&(ve.z=Q),null!=pe&&(ve.m=pe),ve}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return void 0!==this.m}set hasM(ye){ye!==(void 0!==this._get("m"))&&(this._set("m",ye?0:void 0),this._set("hasM",ye))}get hasZ(){return void 0!==this.z}set hasZ(ye){ye!==(void 0!==this._get("z"))&&(this._set("z",ye?0:void 0),this._set("hasZ",ye))}get latitude(){const{spatialReference:ye,x:oe,y:Q}=this;if(ye){if(ye.isWebMercator)return(0,Z.R6)(oe,Q,H)[1];if(ye.isGeographic)return Q}return null}set latitude(ye){const{spatialReference:oe,x:Q}=this;oe&&(oe.isWebMercator?this._set("y",(0,Z.hG)(Q,ye,H)[1]):oe.isGeographic&&this._set("y",ye),this._set("latitude",ye))}get longitude(){const{x:ye,y:oe,spatialReference:Q}=this;if(Q){if(Q.isWebMercator)return(0,Z.R6)(ye,oe,H)[0];if(Q.isGeographic)return ye}return null}set longitude(ye){const{y:oe,spatialReference:Q}=this;Q&&(Q.isWebMercator?this._set("x",(0,Z.hG)(ye,oe,H)[0]):Q.isGeographic&&this._set("x",ye),this._set("longitude",ye))}writeX(ye,oe,Q){oe[Q]=isNaN(ye)?"NaN":ye}readX(ye){return"string"==typeof ye?NaN:ye}clone(){const ye=new Y;return ye.x=this.x,ye.y=this.y,ye.z=this.z,ye.m=this.m,ye.spatialReference=this.spatialReference,ye}copy(ye){return Y.copy(ye,this),this}equals(ye){if((0,re.Wi)(ye))return!1;const{x:oe,y:Q,z:pe,m:ue,spatialReference:me}=this,{z:ve,m:fe}=ye;let{x:Ce,y:ce,spatialReference:he}=ye;if(!me.equals(he))if(me.isWebMercator&&he.isWGS84)[Ce,ce]=(0,Z.hG)(Ce,ce),he=me;else{if(!me.isWGS84||!he.isWebMercator)return!1;[Ce,ce]=(0,Z.R6)(Ce,ce),he=me}return oe===Ce&&Q===ce&&pe===ve&&ue===fe&&me.wkid===he.wkid}offset(ye,oe,Q){return function ae(ye,oe,Q,pe){var ue;return ye.x=ye.x+oe,ye.y=ye.y+Q,null!=pe&&(ye.z=(null!=(ue=ye.z)?ue:0)+pe),ye}(this,ye,oe,Q)}normalize(){if(!this.spatialReference)return this;const ye=(0,F.C5)(this.spatialReference);if(!ye)return this;let oe=this.x;const[Q,pe]=ye.valid,ue=2*pe;let me;return oe>pe?(me=Math.ceil(Math.abs(oe-pe)/ue),oe-=me*ue):oe<Q&&(me=Math.ceil(Math.abs(oe-Q)/ue),oe+=me*ue),this._set("x",oe),this}distance(ye){return function V(ye,oe){const Q=ye.x-oe.x,pe=ye.y-oe.y,ue=ye.hasZ&&oe.hasZ?ye.z-oe.z:0;return Math.sqrt(Q*Q+pe*pe+ue*ue)}(this,ye)}toArray(){const ye=this.hasZ,oe=this.hasM;return ye&&oe?[this.x,this.y,this.z,this.m]:ye?[this.x,this.y,this.z]:oe?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(ye){return this.write({},ye)}};(0,x._)([(0,ne.Cb)({readOnly:!0})],ge.prototype,"cache",null),(0,x._)([(0,ne.Cb)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],ge.prototype,"hasM",null),(0,x._)([(0,ne.Cb)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],ge.prototype,"hasZ",null),(0,x._)([(0,ne.Cb)({type:Number})],ge.prototype,"latitude",null),(0,x._)([(0,ne.Cb)({type:Number})],ge.prototype,"longitude",null),(0,x._)([(0,ne.Cb)({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),(0,J.p)(ye=>isNaN(ye)?ye:(0,X.q9)(ye))],ge.prototype,"x",void 0),(0,x._)([(0,B.c)("x")],ge.prototype,"writeX",null),(0,x._)([(0,j.r)("x")],ge.prototype,"readX",null),(0,x._)([(0,ne.Cb)({type:Number,json:{write:!0}})],ge.prototype,"y",void 0),(0,x._)([(0,ne.Cb)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],ge.prototype,"z",void 0),(0,x._)([(0,ne.Cb)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],ge.prototype,"m",void 0),ge=Y=(0,x._)([(0,A.j)("esri.geometry.Point")],ge),ge.prototype.toJSON.isDefaultToJSON=!0;const le=ge},37118:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>q});var Y,x=C(17626),T=C(85931),re=C(58817),ne=C(62208),ee=C(77712),J=(C(90912),C(76898)),j=C(99433),A=C(2004),B=C(21674),X=C(49672),W=C(65234),K=C(27105),ae=C(33190),$=C(25748),V=C(15176),P=C(11519),F=C(46367),Z=C(18945);function H(ge){return!Array.isArray(ge[0])}let de=Y=class extends B.Z{constructor(...ge){super(...ge),this.rings=[],this.type="polygon"}static fromExtent(ge){const le=ge.clone().normalize(),ye=ge.spatialReference;let oe=!1,Q=!1;for(const ue of le)ue.hasZ&&(oe=!0),ue.hasM&&(Q=!0);const pe={rings:le.map(function(ue){const me=[[ue.xmin,ue.ymin],[ue.xmin,ue.ymax],[ue.xmax,ue.ymax],[ue.xmax,ue.ymin],[ue.xmin,ue.ymin]];if(oe&&ue.hasZ){const ve=ue.zmin+.5*(ue.zmax-ue.zmin);for(let fe=0;fe<me.length;fe++)me[fe].push(ve)}if(Q&&ue.hasM){const ve=ue.mmin+.5*(ue.mmax-ue.mmin);for(let fe=0;fe<me.length;fe++)me[fe].push(ve)}return me}),spatialReference:ye};return oe&&(pe.hasZ=!0),Q&&(pe.hasM=!0),new Y(pe)}normalizeCtorArgs(ge,le){let ye,oe,Q=null,pe=null;return ge&&!Array.isArray(ge)?(Q=ge.rings?ge.rings:null,le||(ge.spatialReference?le=ge.spatialReference:ge.rings||(le=ge)),ye=ge.hasZ,oe=ge.hasM):Q=ge,Q=Q||[],Q.length&&Q[0]&&null!=Q[0][0]&&"number"==typeof Q[0][0]&&(Q=[Q]),pe=Q[0]&&Q[0][0],pe&&(void 0===ye&&void 0===oe?(ye=pe.length>2,oe=pe.length>3):void 0===ye?ye=oe?pe.length>3:pe.length>2:void 0===oe&&(oe=ye?pe.length>3:pe.length>2)),{rings:Q,spatialReference:le=le||W.Z.WGS84,hasZ:ye,hasM:oe}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const ge=(0,K.tO)(this);if(!ge||isNaN(ge[0])||isNaN(ge[1])||this.hasZ&&isNaN(ge[2]))return null;const le=new X.Z;return le.x=ge[0],le.y=ge[1],le.spatialReference=this.spatialReference,this.hasZ&&(le.z=ge[2]),le}get extent(){const{spatialReference:ge}=this,le=(0,V._w)(this);if(!le)return null;const ye=new A.Z(le);return ye.spatialReference=ge,ye}get isSelfIntersecting(){return(0,P.Ff)(this.rings)}writeRings(ge,le){le.rings=(0,re.d9)(this.rings)}addRing(ge){if(!ge)return;const le=this.rings,ye=le.length;if(H(ge)){const oe=[];for(let Q=0,pe=ge.length;Q<pe;Q++)oe[Q]=ge[Q].toArray();le[ye]=oe}else le[ye]=ge.concat();return this.notifyChange("rings"),this}clone(){const ge=new Y;return ge.spatialReference=this.spatialReference,ge.rings=(0,re.d9)(this.rings),ge.hasZ=this.hasZ,ge.hasM=this.hasM,ge}equals(ge){if(this===ge)return!0;if((0,ne.Wi)(ge))return!1;const le=this.spatialReference,ye=ge.spatialReference;if((0,ne.pC)(le)!==(0,ne.pC)(ye)||(0,ne.pC)(le)&&(0,ne.pC)(ye)&&!le.equals(ye)||this.rings.length!==ge.rings.length)return!1;const oe=([Q,pe,ue,me],[ve,fe,Ce,ce])=>Q===ve&&pe===fe&&(null==ue&&null==Ce||ue===Ce)&&(null==me&&null==ce||me===ce);for(let Q=0;Q<this.rings.length;Q++)if(!(0,T.fS)(this.rings[Q],ge.rings[Q],oe))return!1;return!0}contains(ge){if(!ge)return!1;const le=(0,F.iV)(ge,this.spatialReference);return(0,ae.CI)(this,(0,ne.pC)(le)?le:ge)}isClockwise(ge){let le;return le=H(ge)?ge.map(ye=>this.hasZ?this.hasM?[ye.x,ye.y,ye.z,ye.m]:[ye.x,ye.y,ye.z]:[ye.x,ye.y]):ge,(0,$.bu)(le,this.hasM,this.hasZ)}getPoint(ge,le){if(!this._validateInputs(ge,le))return null;const ye=this.rings[ge][le],oe=this.hasZ,Q=this.hasM;return oe&&!Q?new X.Z(ye[0],ye[1],ye[2],void 0,this.spatialReference):Q&&!oe?new X.Z(ye[0],ye[1],void 0,ye[2],this.spatialReference):oe&&Q?new X.Z(ye[0],ye[1],ye[2],ye[3],this.spatialReference):new X.Z(ye[0],ye[1],this.spatialReference)}insertPoint(ge,le,ye){return this._validateInputs(ge,le,!0)?((0,Z.l)(this,ye),Array.isArray(ye)||(ye=ye.toArray()),this.rings[ge].splice(le,0,ye),this.notifyChange("rings"),this):this}removePoint(ge,le){if(!this._validateInputs(ge,le))return null;const ye=new X.Z(this.rings[ge].splice(le,1)[0],this.spatialReference);return this.notifyChange("rings"),ye}removeRing(ge){if(!this._validateInputs(ge,null))return null;const le=this.rings.splice(ge,1)[0],ye=this.spatialReference,oe=le.map(Q=>new X.Z(Q,ye));return this.notifyChange("rings"),oe}setPoint(ge,le,ye){return this._validateInputs(ge,le)?((0,Z.l)(this,ye),Array.isArray(ye)||(ye=ye.toArray()),this.rings[ge][le]=ye,this.notifyChange("rings"),this):this}_validateInputs(ge,le,ye=!1){if(null==ge||ge<0||ge>=this.rings.length)return!1;if(null!=le){const oe=this.rings[ge];if(ye&&(le<0||le>oe.length)||!ye&&(le<0||le>=oe.length))return!1}return!0}toJSON(ge){return this.write({},ge)}};(0,x._)([(0,ee.Cb)({readOnly:!0})],de.prototype,"cache",null),(0,x._)([(0,ee.Cb)({readOnly:!0})],de.prototype,"centroid",null),(0,x._)([(0,ee.Cb)({readOnly:!0})],de.prototype,"extent",null),(0,x._)([(0,ee.Cb)({readOnly:!0})],de.prototype,"isSelfIntersecting",null),(0,x._)([(0,ee.Cb)({type:[[[Number]]],json:{write:{isRequired:!0}}})],de.prototype,"rings",void 0),(0,x._)([(0,j.c)("rings")],de.prototype,"writeRings",null),de=Y=(0,x._)([(0,J.j)("esri.geometry.Polygon")],de),de.prototype.toJSON.isDefaultToJSON=!0;const q=de},55214:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>V});var K,x=C(17626),T=C(58817),re=C(77712),ee=(C(90912),C(76898)),ie=C(99433),J=C(2004),j=C(21674),A=C(49672),B=C(65234),X=C(15176),W=C(18945);let $=K=class extends j.Z{constructor(...P){super(...P),this.paths=[],this.type="polyline"}normalizeCtorArgs(P,F){let Z,Y,H=null,de=null;return P&&!Array.isArray(P)?(H=P.paths?P.paths:null,F||(P.spatialReference?F=P.spatialReference:P.paths||(F=P)),Z=P.hasZ,Y=P.hasM):H=P,H=H||[],H.length&&H[0]&&null!=H[0][0]&&"number"==typeof H[0][0]&&(H=[H]),de=H[0]&&H[0][0],de&&(void 0===Z&&void 0===Y?(Z=de.length>2,Y=!1):void 0===Z?Z=!Y&&de.length>3:void 0===Y&&(Y=!Z&&de.length>3)),{paths:H,spatialReference:F=F||B.Z.WGS84,hasZ:Z,hasM:Y}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:P}=this,F=(0,X.Wn)(this);if(!F)return null;const Z=new J.Z(F);return Z.spatialReference=P,Z}writePaths(P,F){F.paths=(0,T.d9)(this.paths)}addPath(P){if(!P)return;const F=this.paths,Z=F.length;if(function ae(P){return!Array.isArray(P[0])}(P)){const Y=[];for(let H=0,de=P.length;H<de;H++)Y[H]=P[H].toArray();F[Z]=Y}else F[Z]=P.concat();return this.notifyChange("paths"),this}clone(){const P=new K;return P.spatialReference=this.spatialReference,P.paths=(0,T.d9)(this.paths),P.hasZ=this.hasZ,P.hasM=this.hasM,P}getPoint(P,F){if(!this._validateInputs(P,F))return null;const Z=this.paths[P][F],Y=this.hasZ,H=this.hasM;return Y&&!H?new A.Z(Z[0],Z[1],Z[2],void 0,this.spatialReference):H&&!Y?new A.Z(Z[0],Z[1],void 0,Z[2],this.spatialReference):Y&&H?new A.Z(Z[0],Z[1],Z[2],Z[3],this.spatialReference):new A.Z(Z[0],Z[1],this.spatialReference)}insertPoint(P,F,Z){return this._validateInputs(P,F,!0)?((0,W.l)(this,Z),Array.isArray(Z)||(Z=Z.toArray()),this.paths[P].splice(F,0,Z),this.notifyChange("paths"),this):this}removePath(P){if(!this._validateInputs(P,null))return null;const F=this.paths.splice(P,1)[0],Z=this.spatialReference,Y=F.map(H=>new A.Z(H,Z));return this.notifyChange("paths"),Y}removePoint(P,F){if(!this._validateInputs(P,F))return null;const Z=new A.Z(this.paths[P].splice(F,1)[0],this.spatialReference);return this.notifyChange("paths"),Z}setPoint(P,F,Z){return this._validateInputs(P,F)?((0,W.l)(this,Z),Array.isArray(Z)||(Z=Z.toArray()),this.paths[P][F]=Z,this.notifyChange("paths"),this):this}_validateInputs(P,F,Z=!1){if(null==P||P<0||P>=this.paths.length)return!1;if(null!=F){const Y=this.paths[P];if(Z&&(F<0||F>Y.length)||!Z&&(F<0||F>=Y.length))return!1}return!0}toJSON(P){return this.write({},P)}};(0,x._)([(0,re.Cb)({readOnly:!0})],$.prototype,"cache",null),(0,x._)([(0,re.Cb)({readOnly:!0})],$.prototype,"extent",null),(0,x._)([(0,re.Cb)({type:[[[Number]]],json:{write:{isRequired:!0}}})],$.prototype,"paths",void 0),(0,x._)([(0,ie.c)("paths")],$.prototype,"writePaths",null),$=K=(0,x._)([(0,ee.j)("esri.geometry.Polyline")],$),$.prototype.toJSON.isDefaultToJSON=!0;const V=$},65234:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>X});var A,x=C(17626),T=C(86162),re=C(58817),ne=C(90912),ee=C(77712),ie=C(76898),J=C(99433),j=C(37053);let B=A=class extends T.wq{constructor(W){super(W),this.latestWkid=null,this.wkid=null,this.wkt=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}static fromJSON(W){if(!W)return null;if(W.wkid){if(102100===W.wkid)return A.WebMercator;if(4326===W.wkid)return A.WGS84}const K=new A;return K.read(W),K}normalizeCtorArgs(W){return W&&"object"==typeof W?W:{["string"==typeof W?"wkt":"wkid"]:W}}get isWGS84(){return(0,j.oR)(this)}get isWebMercator(){return(0,j.sS)(this)}get isGeographic(){return(0,j.sT)(this)}get isWrappable(){return(0,j.MP)(this)}writeWkt(W,K){this.wkid||(K.wkt=W)}clone(){if(this===A.WGS84)return A.WGS84;if(this===A.WebMercator)return A.WebMercator;const W=new A;return null!=this.wkid?(W.wkid=this.wkid,null!=this.latestWkid&&(W.latestWkid=this.latestWkid),null!=this.vcsWkid&&(W.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(W.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(W.wkt=this.wkt),this.imageCoordinateSystem&&(W.imageCoordinateSystem=(0,re.d9)(this.imageCoordinateSystem)),W}equals(W){if(null==W)return!1;if(this.imageCoordinateSystem||W.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==W.imageCoordinateSystem)return!1;const{id:K,referenceServiceName:ae}=W.imageCoordinateSystem,{geodataXform:$}=W.imageCoordinateSystem,V=this.imageCoordinateSystem;return null==K||$?JSON.stringify(V)===JSON.stringify(W.imageCoordinateSystem):ae?V.id===K&&V.referenceServiceName===ae:V.id===K}return(0,j.fS)(this,W)}toJSON(W){return this.write(void 0,W)}};B.GCS_NAD_1927=null,B.WGS84=null,B.WebMercator=null,B.PlateCarree=null,(0,x._)([(0,ee.Cb)({readOnly:!0})],B.prototype,"isWGS84",null),(0,x._)([(0,ee.Cb)({readOnly:!0})],B.prototype,"isWebMercator",null),(0,x._)([(0,ee.Cb)({readOnly:!0})],B.prototype,"isGeographic",null),(0,x._)([(0,ee.Cb)({readOnly:!0})],B.prototype,"isWrappable",null),(0,x._)([(0,ee.Cb)({type:ne.z8,json:{write:!0}})],B.prototype,"latestWkid",void 0),(0,x._)([(0,ee.Cb)({type:ne.z8,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkt}}}}}}})],B.prototype,"wkid",void 0),(0,x._)([(0,ee.Cb)({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkid}}}}}}})],B.prototype,"wkt",void 0),(0,x._)([(0,J.c)("wkt"),(0,J.c)("web-scene","wkt")],B.prototype,"writeWkt",null),(0,x._)([(0,ee.Cb)({type:ne.z8,json:{write:!0}})],B.prototype,"vcsWkid",void 0),(0,x._)([(0,ee.Cb)({type:ne.z8,json:{write:!0}})],B.prototype,"latestVcsWkid",void 0),(0,x._)([(0,ee.Cb)()],B.prototype,"imageCoordinateSystem",void 0),B=A=(0,x._)([(0,ie.j)("esri.geometry.SpatialReference")],B),B.prototype.toJSON.isDefaultToJSON=!0,B.GCS_NAD_1927=new B({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),B.WGS84=new B(j.Zn),B.WebMercator=new B(j.R_),B.PlateCarree=new B(j.WR),Object.freeze&&(Object.freeze(B.GCS_NAD_1927),Object.freeze(B.WGS84),Object.freeze(B.WebMercator));const X=B},56741:(lt,Se,C)=>{"use strict";C.d(Se,{Up:()=>mr,Bm:()=>Hi,rS:()=>Ut,iQ:()=>gt,kR:()=>mt,zD:()=>at,iV:()=>wt,CM:()=>xr,oj:()=>Tt,KC:()=>He,Wt:()=>Yt});var x=C(15861),T=C(26584),re=C(21286),ne=C(62208),ee=C(10699),ie=C(16730),J=C(28347),A=(C(84161),C(28093)),B=C(2004),X=C(72854),W=C(54346),K=C(8314);let ae,$=null;function V(){return!!$}function F(){return ae||(ae=C.e(3714).then(C.bind(C,73714)).then(dt=>dt.p).then(({default:dt})=>dt({locateFile:xt=>(0,W.V)(`esri/geometry/support/${xt}`)})).then(dt=>{ve(dt)}),ae)}var Z,Y,H,dt;(function(dt){function xt(qt,hr,nr){$.ensureCache.prepare();const _t=ce(nr),Ft=nr===_t,$t=$.ensureFloat64(_t),pr=$._pe_geog_to_proj($.getPointer(qt),hr,$t);return pr&&he(nr,hr,$t,Ft),pr}function At(qt,hr,nr){return sr(qt,hr,nr,0)}function sr(qt,hr,nr,_t){$.ensureCache.prepare();const Ft=ce(nr),$t=nr===Ft,pr=$.ensureFloat64(Ft),vr=$._pe_proj_to_geog_center($.getPointer(qt),hr,pr,_t);return vr&&he(nr,hr,pr,$t),vr}dt.geogToProj=xt,dt.projGeog=function yt(qt,hr,nr,_t){switch(_t){case Y.PE_TRANSFORM_P_TO_G:return At(qt,hr,nr);case Y.PE_TRANSFORM_G_TO_P:return xt(qt,hr,nr)}return 0},dt.projToGeog=At,dt.projToGeogCenter=sr})(Z||(Z={})),(dt=Y||(Y={})).init=function xt(){dt.PE_BUFFER_MAX=$.PeDefs.prototype.PE_BUFFER_MAX,dt.PE_NAME_MAX=$.PeDefs.prototype.PE_NAME_MAX,dt.PE_MGRS_MAX=$.PeDefs.prototype.PE_MGRS_MAX,dt.PE_USNG_MAX=$.PeDefs.prototype.PE_USNG_MAX,dt.PE_DD_MAX=$.PeDefs.prototype.PE_DD_MAX,dt.PE_DDM_MAX=$.PeDefs.prototype.PE_DDM_MAX,dt.PE_DMS_MAX=$.PeDefs.prototype.PE_DMS_MAX,dt.PE_UTM_MAX=$.PeDefs.prototype.PE_UTM_MAX,dt.PE_PARM_MAX=$.PeDefs.prototype.PE_PARM_MAX,dt.PE_TYPE_NONE=$.PeDefs.prototype.PE_TYPE_NONE,dt.PE_TYPE_GEOGCS=$.PeDefs.prototype.PE_TYPE_GEOGCS,dt.PE_TYPE_PROJCS=$.PeDefs.prototype.PE_TYPE_PROJCS,dt.PE_TYPE_GEOGTRAN=$.PeDefs.prototype.PE_TYPE_GEOGTRAN,dt.PE_TYPE_COORDSYS=$.PeDefs.prototype.PE_TYPE_COORDSYS,dt.PE_TYPE_UNIT=$.PeDefs.prototype.PE_TYPE_UNIT,dt.PE_TYPE_LINUNIT=$.PeDefs.prototype.PE_TYPE_LINUNIT,dt.PE_STR_OPTS_NONE=$.PeDefs.prototype.PE_STR_OPTS_NONE,dt.PE_STR_AUTH_NONE=$.PeDefs.prototype.PE_STR_AUTH_NONE,dt.PE_STR_AUTH_TOP=$.PeDefs.prototype.PE_STR_AUTH_TOP,dt.PE_STR_NAME_CANON=$.PeDefs.prototype.PE_STR_NAME_CANON,dt.PE_PARM_X0=$.PeDefs.prototype.PE_PARM_X0,dt.PE_PARM_ND=$.PeDefs.prototype.PE_PARM_ND,dt.PE_TRANSFORM_1_TO_2=$.PeDefs.prototype.PE_TRANSFORM_1_TO_2,dt.PE_TRANSFORM_2_TO_1=$.PeDefs.prototype.PE_TRANSFORM_2_TO_1,dt.PE_TRANSFORM_P_TO_G=$.PeDefs.prototype.PE_TRANSFORM_P_TO_G,dt.PE_TRANSFORM_G_TO_P=$.PeDefs.prototype.PE_TRANSFORM_G_TO_P,dt.PE_HORIZON_RECT=$.PeDefs.prototype.PE_HORIZON_RECT,dt.PE_HORIZON_POLY=$.PeDefs.prototype.PE_HORIZON_POLY,dt.PE_HORIZON_LINE=$.PeDefs.prototype.PE_HORIZON_LINE,dt.PE_HORIZON_DELTA=$.PeDefs.prototype.PE_HORIZON_DELTA},function(dt){const xt={},yt={},At=cr=>{if(cr){const Qr=cr.getType();switch(Qr){case Y.PE_TYPE_GEOGCS:cr=$.castObject(cr,$.PeGeogcs);break;case Y.PE_TYPE_PROJCS:cr=$.castObject(cr,$.PeProjcs);break;case Y.PE_TYPE_GEOGTRAN:cr=$.castObject(cr,$.PeGeogtran);break;default:Qr&Y.PE_TYPE_UNIT&&(cr=$.castObject(cr,$.PeUnit))}}return cr};function hr(cr,Qr){let dn=null,je=xt[cr];if(je||(je={},xt[cr]=je),je.hasOwnProperty(String(Qr)))dn=je[Qr];else{const rt=$.PeFactory.prototype.factoryByType(cr,Qr);$.compare(rt,$.NULL)||(dn=rt,je[Qr]=dn)}return dn=At(dn),dn}dt.initialize=function sr(){$.PeFactory.prototype.initialize(null)},dt.coordsys=function qt(cr){return hr(Y.PE_TYPE_COORDSYS,cr)},dt.factoryByType=hr,dt.fromString=function nr(cr,Qr){let dn=null,je=yt[cr];if(je||(je={},yt[cr]=je),je.hasOwnProperty(Qr))dn=je[Qr];else{const rt=$.PeFactory.prototype.fromString(cr,Qr);$.compare(rt,$.NULL)||(dn=rt,je[Qr]=dn)}return dn=At(dn),dn},dt.geogcs=function _t(cr){return hr(Y.PE_TYPE_GEOGCS,cr)},dt.geogtran=function Ft(cr){return hr(Y.PE_TYPE_GEOGTRAN,cr)},dt.getCode=function $t(cr){return $.PeFactory.prototype.getCode(cr)},dt.projcs=function pr(cr){return hr(Y.PE_TYPE_PROJCS,cr)},dt.unit=function vr(cr){return hr(Y.PE_TYPE_UNIT,cr)}}(H||(H={}));let de=null;var q,ge,le,ye,oe,Q,pe,ue,me;function ve(dt){function xt(qt,hr,nr){qt[hr]=nr(qt[hr])}$=dt,Y.init(),q.init(),oe.init(),pe.init(),ue.init(),de=class extends $.PeGCSExtent{destroy(){$.destroy(this)}};const yt=[$.PeDatum,$.PeGeogcs,$.PeGeogtran,$.PeObject,$.PeParameter,$.PePrimem,$.PeProjcs,$.PeSpheroid,$.PeUnit];for(const qt of yt)xt(qt.prototype,"getName",hr=>function(){return hr.call(this,new Array(Y.PE_NAME_MAX))});for(const qt of[$.PeGeogtran,$.PeProjcs])xt(qt.prototype,"getParameters",hr=>function(){const nr=new Array(Y.PE_PARM_MAX);let _t=hr.call(this);for(let Ft=0;Ft<nr.length;Ft++){const $t=$.getValue(_t,"*");nr[Ft]=$t?$.wrapPointer($t,$.PeParameter):null,_t+=Int32Array.BYTES_PER_ELEMENT}return nr});xt($.PeHorizon.prototype,"getCoord",qt=>function(){const hr=this.getSize();if(!hr)return null;const nr=[];return he(nr,hr,qt.call(this)),nr}),xt($.PeGTlistExtendedEntry.prototype,"getEntries",qt=>{const hr=$._pe_getPeGTlistExtendedGTsSize();return function(){let nr=null;const _t=qt.call(this);if(!$.compare(_t,$.NULL)){nr=[_t];const Ft=this.getSteps();if(Ft>1){const $t=$.getPointer(_t);for(let pr=1;pr<Ft;pr++)nr.push($.wrapPointer($t+hr*pr,$.PeGTlistExtendedGTs))}}return nr}});const At=$._pe_getPeHorizonSize(),sr=qt=>function(){let hr=this._cache;if(hr||(hr=new Map,this._cache=hr),hr.has(qt))return hr.get(qt);let nr=null;const _t=qt.call(this);if(!$.compare(_t,$.NULL)){nr=[_t];const Ft=_t.getNump();if(Ft>1){const $t=$.getPointer(_t);for(let pr=1;pr<Ft;pr++)nr.push($.wrapPointer($t+At*pr,$.PeHorizon))}}return hr.set(qt,nr),nr};xt($.PeProjcs.prototype,"horizonGcsGenerate",sr),xt($.PeProjcs.prototype,"horizonPcsGenerate",sr),$.PeObject.prototype.toString=function(qt=Y.PE_STR_OPTS_NONE){$.ensureCache.prepare();const hr=$.getPointer(this),nr=$.ensureInt8(new Array(Y.PE_BUFFER_MAX));return $.UTF8ToString($._pe_object_to_string_ext(hr,qt,nr))}}function fe(dt){if(!dt)return;const xt=$.getClass(dt);if(!xt)return;const yt=$.getCache(xt);if(!yt)return;const At=$.getPointer(dt);At&&delete yt[At]}function Ce(dt,xt){const yt=[],At=new Array(xt);for(let sr=0;sr<dt;sr++)yt.push($.ensureInt8(At));return yt}function ce(dt){let xt;return Array.isArray(dt[0])?(xt=[],dt.forEach(yt=>{xt.push(yt[0],yt[1])})):xt=dt,xt}function he(dt,xt,yt,At=!1){if(At)for(let sr=0;sr<2*xt;sr++)dt[sr]=$.getValue(yt+sr*Float64Array.BYTES_PER_ELEMENT,"double");else{const sr=0===dt.length;for(let qt=0;qt<xt;qt++)sr&&(dt[qt]=new Array(2)),dt[qt][0]=$.getValue(yt,"double"),dt[qt][1]=$.getValue(yt+Float64Array.BYTES_PER_ELEMENT,"double"),yt+=2*Float64Array.BYTES_PER_ELEMENT}}(function(dt){let xt;dt.init=function yt(){dt.PE_GTLIST_OPTS_COMMON=$.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,xt=$._pe_getPeGTlistExtendedEntrySize()},dt.getGTlist=function At(sr,qt,hr,nr,_t,Ft){let $t=null;const pr=new $.PeInteger(Ft);try{const vr=$.PeGTlistExtended.prototype.getGTlist(sr,qt,hr,nr,_t,pr);if((Ft=pr.val)&&($t=[vr],Ft>1)){const cr=$.getPointer(vr);for(let Qr=1;Qr<Ft;Qr++)$t.push($.wrapPointer(cr+xt*Qr,$.PeGTlistExtendedEntry))}}finally{$.destroy(pr)}return $t}})(q||(q={})),function(dt){dt.destroy=function xt(yt){if(yt&&yt.length){for(const At of yt)fe(At),At.getEntries().forEach(sr=>{fe(sr);const qt=sr.getGeogtran();fe(qt),qt.getParameters().forEach(fe),[qt.getGeogcs1(),qt.getGeogcs2()].forEach(hr=>{fe(hr);const nr=hr.getDatum();fe(nr),fe(nr.getSpheroid()),fe(hr.getPrimem()),fe(hr.getUnit())})});$.PeGTlistExtendedEntry.prototype.Delete(yt[0])}}}(ge||(ge={})),function(dt){dt.geogToGeog=function xt(yt,At,sr,qt,hr){$.ensureCache.prepare();const nr=ce(sr),_t=sr===nr,Ft=$.ensureFloat64(nr);let $t=0;qt&&($t=$.ensureFloat64(qt));const pr=$._pe_geog_to_geog($.getPointer(yt),At,Ft,$t,hr);return pr&&he(sr,At,Ft,_t),pr}}(le||(le={})),function(dt){const xt=(Ft,$t,pr,vr,cr,Qr)=>{let dn,je;switch($.ensureCache.prepare(),Ft){case"dd":dn=$._pe_geog_to_dd,je=Y.PE_DD_MAX;break;case"ddm":dn=$._pe_geog_to_ddm,je=Y.PE_DDM_MAX;break;case"dms":dn=$._pe_geog_to_dms,je=Y.PE_DMS_MAX}let rt=0;$t&&(rt=$.getPointer($t));const bt=ce(vr),Le=$.ensureFloat64(bt),We=Ce(pr,je),it=dn(rt,pr,Le,cr,$.ensureInt32(We));if(it)for(let Dt=0;Dt<pr;Dt++)Qr[Dt]=$.UTF8ToString(We[Dt]);return it},yt=(Ft,$t,pr,vr,cr)=>{let Qr;switch($.ensureCache.prepare(),Ft){case"dd":Qr=$._pe_dd_to_geog;break;case"ddm":Qr=$._pe_ddm_to_geog;break;case"dms":Qr=$._pe_dms_to_geog}let dn=0;$t&&(dn=$.getPointer($t));const je=vr.map(We=>$.ensureString(We)),rt=$.ensureInt32(je),bt=$.ensureFloat64(new Array(2*pr)),Le=Qr(dn,pr,rt,bt);return Le&&he(cr,pr,bt),Le};dt.geog_to_dms=function At(Ft,$t,pr,vr,cr){return xt("dms",Ft,$t,pr,vr,cr)},dt.dms_to_geog=function sr(Ft,$t,pr,vr){return yt("dms",Ft,$t,pr,vr)},dt.geog_to_ddm=function qt(Ft,$t,pr,vr,cr){return xt("ddm",Ft,$t,pr,vr,cr)},dt.ddm_to_geog=function hr(Ft,$t,pr,vr){return yt("ddm",Ft,$t,pr,vr)},dt.geog_to_dd=function nr(Ft,$t,pr,vr,cr){return xt("dd",Ft,$t,pr,vr,cr)},dt.dd_to_geog=function _t(Ft,$t,pr,vr){return yt("dd",Ft,$t,pr,vr)}}(ye||(ye={})),function(dt){dt.init=function xt(){dt.PE_MGRS_STYLE_NEW=$.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,dt.PE_MGRS_STYLE_OLD=$.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,dt.PE_MGRS_STYLE_AUTO=$.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,dt.PE_MGRS_180_ZONE_1_PLUS=$.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,dt.PE_MGRS_ADD_SPACES=$.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES},dt.geog_to_mgrs_extended=function yt(sr,qt,hr,nr,_t,Ft,$t){$.ensureCache.prepare();let pr=0;sr&&(pr=$.getPointer(sr));const vr=ce(hr),cr=$.ensureFloat64(vr),Qr=Ce(qt,Y.PE_MGRS_MAX),dn=$.ensureInt32(Qr),je=$._pe_geog_to_mgrs_extended(pr,qt,cr,nr,_t,Ft,dn);if(je)for(let rt=0;rt<qt;rt++)$t[rt]=$.UTF8ToString(Qr[rt]);return je},dt.mgrs_to_geog_extended=function At(sr,qt,hr,nr,_t){$.ensureCache.prepare();let Ft=0;sr&&(Ft=$.getPointer(sr));const $t=hr.map(Qr=>$.ensureString(Qr)),pr=$.ensureInt32($t),vr=$.ensureFloat64(new Array(2*qt)),cr=$._pe_mgrs_to_geog_extended(Ft,qt,pr,nr,vr);return cr&&he(_t,qt,vr),cr}}(oe||(oe={})),function(dt){dt.geog_to_usng=function xt(At,sr,qt,hr,nr,_t,Ft){$.ensureCache.prepare();let $t=0;At&&($t=$.getPointer(At));const pr=ce(qt),vr=$.ensureFloat64(pr),cr=Ce(sr,Y.PE_MGRS_MAX),Qr=$.ensureInt32(cr),dn=$._pe_geog_to_usng($t,sr,vr,hr,nr,_t,Qr);if(dn)for(let je=0;je<sr;je++)Ft[je]=$.UTF8ToString(cr[je]);return dn},dt.usng_to_geog=function yt(At,sr,qt,hr){$.ensureCache.prepare();let nr=0;At&&(nr=$.getPointer(At));const _t=qt.map(vr=>$.ensureString(vr)),Ft=$.ensureInt32(_t),$t=$.ensureFloat64(new Array(2*sr)),pr=$._pe_usng_to_geog(nr,sr,Ft,$t);return pr&&he(hr,sr,$t),pr}}(Q||(Q={})),function(dt){dt.init=function xt(){dt.PE_UTM_OPTS_NONE=$.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,dt.PE_UTM_OPTS_ADD_SPACES=$.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,dt.PE_UTM_OPTS_NS=$.PeNotationUtm.prototype.PE_UTM_OPTS_NS},dt.geog_to_utm=function yt(sr,qt,hr,nr,_t){$.ensureCache.prepare();let Ft=0;sr&&(Ft=$.getPointer(sr));const $t=ce(hr),pr=$.ensureFloat64($t),vr=Ce(qt,Y.PE_UTM_MAX),cr=$.ensureInt32(vr),Qr=$._pe_geog_to_utm(Ft,qt,pr,nr,cr);if(Qr)for(let dn=0;dn<qt;dn++)_t[dn]=$.UTF8ToString(vr[dn]);return Qr},dt.utm_to_geog=function At(sr,qt,hr,nr,_t){$.ensureCache.prepare();let Ft=0;sr&&(Ft=$.getPointer(sr));const $t=hr.map(Qr=>$.ensureString(Qr)),pr=$.ensureInt32($t),vr=$.ensureFloat64(new Array(2*qt)),cr=$._pe_utm_to_geog(Ft,qt,pr,nr,vr);return cr&&he(_t,qt,vr),cr}}(pe||(pe={})),function(dt){const xt=new Map;dt.init=function yt(){dt.PE_PCSINFO_OPTION_NONE=$.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,dt.PE_PCSINFO_OPTION_DOMAIN=$.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,dt.PE_POLE_OUTSIDE_BOUNDARY=$.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,dt.PE_POLE_POINT=$.PePCSInfo.prototype.PE_POLE_POINT},dt.generate=function At(sr,qt=dt.PE_PCSINFO_OPTION_DOMAIN){let hr,nr;return xt.has(sr)&&(nr=xt.get(sr),nr[qt]&&(hr=nr[qt])),hr||(hr=$.PePCSInfo.prototype.generate(sr,qt),nr||(nr=[],xt.set(sr,nr)),nr[qt]=hr),hr}}(ue||(ue={})),function(dt){dt.version_string=function xt(){return $.PeVersion.prototype.version_string()}}(me||(me={}));const xe=Object.freeze({__proto__:null,get _pe(){return $},isLoaded:V,isSupported:function P(){return!!(0,K.Z)("esri-wasm")},load:F,get PeCSTransformations(){return Z},get PeDefs(){return Y},get PeFactory(){return H},get PeGCSExtent(){return de},get PeGTlistExtended(){return q},get PeGTlistExtendedEntry(){return ge},get PeGTTransformations(){return le},get PeNotationDms(){return ye},get PeNotationMgrs(){return oe},get PeNotationUsng(){return Q},get PeNotationUtm(){return pe},get PePCSInfo(){return ue},get PeVersion(){return me},_init:ve});var we=C(49672),Ae=C(37118),Fe=C(55214),tt=C(12080),be=(C(65401),C(94425));Math;const ut=be.sv.radius,Pe=be.sv.eccentricitySquared,Qe={a1:ut*Pe,a2:ut*Pe*ut*Pe,a3:ut*Pe*Pe/2,a4:ut*Pe*ut*Pe*2.5,a5:ut*Pe+ut*Pe*Pe/2,a6:1-Pe};var te=C(98346),_e=C(37053);C(33696);let et=null,ht=null,ft=null,Et={};function mt(){return!!et&&V()}function at(dt){return(0,ne.Wi)(ft)&&(ft=Promise.all([F(),C.e(4918).then(C.bind(C,4918)).then(xt=>xt.g),C.e(8592).then(C.bind(C,77777))])),ft.then(([,xt,{hydratedAdapter:yt}])=>{(0,ee.k_)(dt),ht=yt,et=xt.default,et._enableProjection(xe)})}function wt(dt,xt,yt=null){return Array.isArray(dt)?0===dt.length?[]:Tt(ht,dt,dt[0].spatialReference,xt,yt):Tt(ht,[dt],dt.spatialReference,xt,yt)[0]}function Tt(dt,xt,yt,At,sr=null){if((0,ne.Wi)(yt)||(0,ne.Wi)(At))return xt;if(mr(yt,At,sr))return xt.map(qt=>(0,ne.Wg)(function Qt(dt,xt,yt){return dt?"x"in dt?function dr(dt,xt,yt,At,sr){Mn[0]=dt.x,Mn[1]=dt.y;const qt=dt.z;return Mn[2]=void 0!==qt?qt:sr,xr(Mn,xt,0,Mn,At,0,1)?(yt.x=Mn[0],yt.y=Mn[1],yt.spatialReference=At,void 0===qt?(yt.z=void 0,yt.hasZ=!1):(yt.z=Mn[2],yt.hasZ=!0),void 0===dt.m?(yt.m=void 0,yt.hasM=!1):(yt.m=dt.m,yt.hasM=!0),yt):null}(dt,xt,new we.Z,yt,0):"xmin"in dt?function ot(dt,xt,yt,At,sr){const{xmin:qt,ymin:hr,xmax:nr,ymax:_t,hasZ:Ft,hasM:$t}=dt;return Ue(qt,hr,Ft?dt.zmin:sr,xt,Mn,At)?(yt.xmin=Mn[0],yt.ymin=Mn[1],Ft&&(yt.zmin=Mn[2]),Ue(nr,_t,Ft?dt.zmax:sr,xt,Mn,At)?(yt.xmax=Mn[0],yt.ymax=Mn[1],Ft&&(yt.zmax=Mn[2]),$t&&(yt.mmin=dt.mmin,yt.mmax=dt.mmax),yt.spatialReference=At,yt):null):null}(dt,xt,new B.Z,yt,0):"rings"in dt?Zt(dt,xt,new Ae.Z,yt,0):"paths"in dt?function Vt(dt,xt,yt,At,sr){const{paths:qt,hasZ:hr,hasM:nr}=dt,_t=[];return Br(qt,hr,nr,xt,_t,At,sr)?(yt.paths=_t,yt.spatialReference=At,yt.hasZ=hr,yt.hasM=nr,yt):null}(dt,xt,new Fe.Z,yt,0):"points"in dt?function Ot(dt,xt,yt,At,sr){const{points:qt,hasZ:hr,hasM:nr}=dt,_t=[],Ft=qt.length,$t=[];for(const pr of qt)$t.push(pr[0],pr[1],hr?pr[2]:sr);if(!xr($t,xt,0,$t,At,0,Ft))return null;for(let pr=0;pr<Ft;++pr){const vr=3*pr,cr=$t[vr],Qr=$t[vr+1];_t.push(hr&&nr?[cr,Qr,$t[vr+2],qt[pr][3]]:hr?[cr,Qr,$t[vr+2]]:nr?[cr,Qr,qt[pr][2]]:[cr,Qr])}return yt.points=_t,yt.spatialReference=At,yt.hasZ=hr,yt.hasM=nr,yt}(dt,xt,new X.Z,yt,0):null:null}(qt,yt,At)));if((0,ne.Wi)(sr)){const qt=te.Z.cacheKey(yt,At);void 0!==Et[qt]?sr=Et[qt]:(sr=Ut(yt,At,null),(0,ne.Wi)(sr)&&(sr=new te.Z),Et[qt]=sr)}if((0,ne.Wi)(et))throw new er;return et._project(dt,xt,yt,At,sr)}function Ut(dt,xt,yt=null){if((0,ne.Wi)(et))throw new er;if((0,ne.Wi)(dt)||(0,ne.Wi)(xt))return null;const At=et._getTransformation(ht,dt,xt,yt,null==yt?void 0:yt.spatialReference);return null!==At?te.Z.fromGE(At):null}class er extends T.Z{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}function mr(dt,xt,yt){return!yt&&(!!(0,_e.fS)(dt,xt)||(0,_e.JY)(dt)&&(0,_e.JY)(xt)&&!!wi(dt,xt,Cn))}function gt(dt,xt,yt,At){return kt.apply(this,arguments)}function kt(){return kt=(0,x.Z)(function*(dt,xt,yt,At){if(!mt())if(Array.isArray(dt)){for(const{source:sr,dest:qt,geographicTransformation:hr}of dt)if(!mr(sr,qt,hr))return at(At)}else if(!mr(dt,xt,yt))return at(At)}),kt.apply(this,arguments)}function Yt(dt,xt,yt=xt.spatialReference,At=0){return(0,ne.pC)(yt)&&(0,ne.pC)(Zt(dt,dt.spatialReference,xt,yt,At))}function Zt(dt,xt,yt,At,sr){const{rings:qt,hasZ:hr,hasM:nr}=dt,_t=[];return Br(qt,hr,nr,xt,_t,At,sr)?(yt.rings=_t,yt.spatialReference=At,yt.hasZ=hr,yt.hasM=nr,yt):null}function He(dt,xt,yt,At=0){Mn[0]=dt.x,Mn[1]=dt.y;const sr=dt.z;return Mn[2]=void 0!==sr?sr:At,xr(Mn,dt.spatialReference,0,xt,yt,0,1)}function Ue(dt,xt,yt,At,sr,qt){return Tn[0]=dt,Tn[1]=xt,Tn[2]=yt,xr(Tn,At,0,sr,qt,0,1)}function xr(dt,xt,yt,At,sr,qt,hr=1){const nr=wi(xt,sr,Cn);if((0,ne.Wi)(nr))return!1;if(nr===In){if(dt===At&&yt===qt)return!0;const Ft=yt+3*hr;for(let $t=yt,pr=qt;$t<Ft;$t++,pr++)At[pr]=dt[$t];return!0}const _t=yt+3*hr;for(let Ft=yt,$t=qt;Ft<_t;Ft+=3,$t+=3)nr(dt,Ft,At,$t);return!0}function Br(dt,xt,yt,At,sr,qt,hr=0){const nr=new Array;for(const Ft of dt)for(const $t of Ft)nr.push($t[0],$t[1],xt?$t[2]:hr);if(!xr(nr,At,0,nr,qt,0,nr.length/3))return!1;let _t=0;sr.length=0;for(const Ft of dt){const $t=new Array;for(const pr of Ft)xt&&yt?$t.push([nr[_t++],nr[_t++],nr[_t++],pr[3]]):xt?$t.push([nr[_t++],nr[_t++],nr[_t++]]):yt?($t.push([nr[_t++],nr[_t++],pr[2]]),_t++):($t.push([nr[_t++],nr[_t++]]),_t++);sr.push($t)}return!0}function Hi(dt,xt,yt,At){if((0,ne.Wi)(dt)||(0,ne.Wi)(At))return!1;const sr=oi(dt,tn),qt=oi(At,Yi);if(sr===qt&&!no(qt)&&(0!==sr||(0,_e.fS)(dt,At)))return(0,J.i)(yt),(0,J.a)(yt,yt,xt),!0;if(no(qt)){const hr=Vi[sr][11],nr=Vi[11][qt];return!(0,ne.Wi)(hr)&&!(0,ne.Wi)(nr)&&(hr(xt,0,Zn,0),nr(Zn,0,Gr,0),Ui(vi*Zn[0],vi*Zn[1],yt),yt[12]=Gr[0],yt[13]=Gr[1],yt[14]=Gr[2],!0)}if(!(3!==qt&&12!==qt||2!==sr&&1!==sr&&3!==sr)){const hr=Vi[sr][11],nr=Vi[11][qt];return!(0,ne.Wi)(hr)&&!(0,ne.Wi)(nr)&&(hr(xt,0,Zn,0),nr(Zn,0,Gr,0),1===sr?function $n(dt,xt,yt){Ui(dt,xt,yt),(0,J.t)(yt,yt)}(vi*Zn[0],vi*Zn[1],yt):(0,J.i)(yt),yt[12]=Gr[0],yt[13]=Gr[1],yt[14]=Gr[2],!0)}return!1}function no(dt){return 1===dt||7===dt||9===dt}function Ui(dt,xt,yt){const At=Math.sin(dt),sr=Math.cos(dt),qt=Math.sin(xt),hr=Math.cos(xt),nr=yt;return nr[0]=-At,nr[4]=-qt*sr,nr[8]=hr*sr,nr[12]=0,nr[1]=sr,nr[5]=-qt*At,nr[9]=hr*At,nr[13]=0,nr[2]=0,nr[6]=hr,nr[10]=qt,nr[14]=0,nr[3]=0,nr[7]=0,nr[11]=0,nr[15]=1,nr}function oi(dt,xt){return xt.spatialReference===dt?xt.spatialReferenceId:(xt.spatialReference=dt,"metersPerUnit"in xt&&(xt.metersPerUnit=(0,ie.c9)(dt,1)),xt.spatialReferenceId=dt.wkt===tt.GG.wkt?1:(0,_e.oR)(dt)?2:(0,_e.sS)(dt)?3:(0,_e.QM)(dt)?12:dt.wkt===tt.wY.wkt?4:4490===dt.wkid?5:dt.wkt===tt.HQ.wkt?7:dt.wkt===tt.VY.wkt?9:(0,_e.BZ)(dt)?8:(0,_e.V2)(dt)?10:0)}function In(dt,xt,yt,At){dt!==yt&&(yt[At++]=dt[xt++],yt[At++]=dt[xt++],yt[At]=dt[xt])}function Mi(dt,xt,yt,At){yt[At++]=Wi*(dt[xt++]/be.sv.radius),yt[At++]=Wi*(Math.PI/2-2*Math.atan(Math.exp(-dt[xt++]/be.sv.radius))),yt[At]=dt[xt]}function io(dt,xt,yt,At){!function $s(dt,xt,yt,At,sr){const qt=.4999999*Math.PI,hr=(0,re.uZ)(vi*dt[xt+1],-qt,qt),nr=Math.sin(hr);yt[At++]=vi*dt[xt]*sr.radius,yt[At++]=sr.halfSemiMajorAxis*Math.log((1+nr)/(1-nr)),yt[At]=dt[xt+2]}(dt,xt,yt,At,be.sv)}const $o=be.sv.radius*Math.PI/180,cs=180/(be.sv.radius*Math.PI);function Bi(dt,xt,yt,At){yt[At]=dt[xt]*$o,yt[At+1]=dt[xt+1]*$o,yt[At+2]=dt[xt+2]}function Sn(dt,xt,yt,At){yt[At]=dt[xt]*cs,yt[At+1]=dt[xt+1]*cs,yt[At+2]=dt[xt+2]}function an(dt,xt,yt,At,sr){const qt=sr+dt[xt+2],hr=vi*dt[xt+1],nr=vi*dt[xt],_t=Math.cos(hr);yt[At++]=Math.cos(nr)*_t*qt,yt[At++]=Math.sin(nr)*_t*qt,yt[At]=Math.sin(hr)*qt}function Pr(dt,xt,yt,At){an(dt,xt,yt,At,be.Z1.radius)}function wr(dt,xt,yt,At){an(dt,xt,yt,At,be.yr.radius)}function yn(dt,xt,yt,At){an(dt,xt,yt,At,be.sv.radius)}function xn(dt,xt,yt,At,sr){const qt=dt[xt],hr=dt[xt+1],nr=dt[xt+2],_t=Math.sqrt(qt*qt+hr*hr+nr*nr),Ft=(0,re.Kt)(nr/(0===_t?1:_t)),$t=Math.atan2(hr,qt);yt[At++]=Wi*$t,yt[At++]=Wi*Ft,yt[At]=_t-sr}function Zr(dt,xt,yt,At){xn(dt,xt,yt,At,be.Z1.radius)}function Xt(dt,xt,yt,At){xn(dt,xt,yt,At,be.yr.radius)}function Or(dt,xt,yt,At){xn(dt,xt,yt,At,be.sv.radius)}function Wr(dt,xt,yt,At){!function Bn(dt,xt,yt,At,sr){const qt=vi*dt[xt],hr=vi*dt[xt+1],nr=dt[xt+2],_t=Math.sin(hr),Ft=Math.cos(hr),$t=sr.radius/Math.sqrt(1-sr.eccentricitySquared*_t*_t);yt[At++]=($t+nr)*Ft*Math.cos(qt),yt[At++]=($t+nr)*Ft*Math.sin(qt),yt[At++]=($t*(1-sr.eccentricitySquared)+nr)*_t}(dt,xt,yt,At,be.sv)}function ei(dt,xt,yt,At){const sr=Qe,qt=dt[xt],hr=dt[xt+1],nr=dt[xt+2];let _t,Ft,$t,pr,vr,cr,Qr,dn,je,rt,bt,Le,We,it,Dt,Bt,Jt,rr,Dr,Vr,Nr;_t=Math.abs(nr),Ft=qt*qt+hr*hr,$t=Math.sqrt(Ft),pr=Ft+nr*nr,vr=Math.sqrt(pr),Vr=Math.atan2(hr,qt),cr=nr*nr/pr,Qr=Ft/pr,it=sr.a2/vr,Dt=sr.a3-sr.a4/vr,Qr>.3?(dn=_t/vr*(1+Qr*(sr.a1+it+cr*Dt)/vr),Dr=Math.asin(dn),rt=dn*dn,je=Math.sqrt(1-rt)):(je=$t/vr*(1-cr*(sr.a5-it-Qr*Dt)/vr),Dr=Math.acos(je),rt=1-je*je,dn=Math.sqrt(rt)),bt=1-be.sv.eccentricitySquared*rt,Le=be.sv.radius/Math.sqrt(bt),We=sr.a6*Le,it=$t-Le*je,Dt=_t-We*dn,Jt=je*it+dn*Dt,Bt=je*Dt-dn*it,rr=Bt/(We/bt+Jt),Dr+=rr,Nr=Jt+Bt*rr/2,nr<0&&(Dr=-Dr),yt[At++]=Wi*Vr,yt[At++]=Wi*Dr,yt[At]=Nr}const Vi={2:{5:null,8:null,10:null,11:In,6:In,1:yn,7:null,9:null,0:null,3:io,12:Bi,2:In,4:Wr},5:{5:In,8:null,10:null,11:In,6:In,1:yn,7:null,9:null,0:null,3:null,12:Bi,2:null,4:Wr},8:{5:null,8:In,10:null,11:In,6:null,1:null,7:wr,9:null,0:null,3:null,12:null,2:null,4:null},10:{5:null,8:null,10:In,11:In,6:null,1:null,7:null,9:Pr,0:null,3:null,12:null,2:null,4:null},3:{5:null,8:null,10:null,11:Mi,6:Mi,1:function us(dt,xt,yt,At){Mi(dt,xt,yt,At),yn(yt,At,yt,At)},7:null,9:null,0:null,3:In,12:function oo(dt,xt,yt,At){Mi(dt,xt,yt,At),Bi(yt,At,yt,At)},2:Mi,4:function No(dt,xt,yt,At){Mi(dt,xt,yt,At),Wr(yt,At,yt,At)}},4:{5:ei,8:null,10:null,11:ei,6:ei,1:function Pn(dt,xt,yt,At){ei(dt,xt,yt,At),yn(yt,At,yt,At)},7:null,9:null,0:null,3:function Ko(dt,xt,yt,At){ei(dt,xt,yt,At),io(yt,At,yt,At)},12:function Kn(dt,xt,yt,At){ei(dt,xt,yt,At),Bi(yt,At,yt,At)},2:ei,4:In},1:{5:Or,8:null,10:null,11:Or,6:Or,1:In,7:null,9:null,0:null,3:function An(dt,xt,yt,At){Or(dt,xt,yt,At),io(yt,At,yt,At)},12:function Ve(dt,xt,yt,At){Or(dt,xt,yt,At),Bi(yt,At,yt,At)},2:Or,4:function Xn(dt,xt,yt,At){Or(dt,xt,yt,At),Wr(yt,At,yt,At)}},7:{5:null,8:Xt,10:null,11:Xt,6:null,1:null,7:In,9:null,0:null,3:null,12:null,2:null,4:null},9:{5:null,8:null,10:Zr,11:Zr,6:null,1:null,7:null,9:In,0:null,3:null,12:null,2:null,4:null},0:{5:null,8:null,10:null,11:null,6:null,1:null,7:null,9:null,0:In,3:null,12:null,2:null,4:null},11:{5:In,8:In,10:In,11:In,6:In,1:yn,7:wr,9:Pr,0:null,3:io,12:Bi,2:In,4:Wr},6:{5:null,8:null,10:null,11:In,6:In,1:yn,7:null,9:null,0:null,3:null,12:Bi,2:In,4:Wr},12:{5:Sn,8:null,10:null,11:Sn,6:Sn,1:function Ht(dt,xt,yt,At){Sn(dt,xt,yt,At),yn(yt,At,yt,At)},7:null,9:null,0:null,3:function jt(dt,xt,yt,At){Sn(dt,xt,yt,At),io(yt,At,yt,At)},12:In,2:Sn,4:function Cr(dt,xt,yt,At){Sn(dt,xt,yt,At),Wr(yt,At,yt,At)}}};function wi(dt,xt,yt=so()){return(0,ne.Wi)(dt)||(0,ne.Wi)(xt)?null:function Ji(dt,xt,yt){if((0,ne.Wi)(dt)||(0,ne.Wi)(xt)||yt.source.spatialReference===dt&&yt.dest.spatialReference===xt)return yt;const At=oi(dt,yt.source),sr=oi(xt,yt.dest);return yt.projector=0===At&&0===sr?(0,_e.fS)(dt,xt)?In:null:Vi[At][sr],yt}(dt,xt,yt).projector}function so(){return{source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:In}}const tn={spatialReference:null,spatialReferenceId:0},Yi={spatialReference:null,spatialReferenceId:0},Cn=so(),vi=(so(),(0,re.Vl)(1)),Wi=(0,re.BV)(1),Tn=(0,A.c)(),Zn=(0,A.c)(),Gr=(0,A.c)(),Mn=(0,A.c)();(0,A.c)()},12080:(lt,Se,C)=>{"use strict";C.d(Se,{GG:()=>ee,HQ:()=>ie,VY:()=>J,wY:()=>j,Iu:()=>X,e8:()=>W,rS:()=>B,N_:()=>A});var x=C(65234),T=C(94425),re=C(37053);function ne(K){return new x.Z({wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${K.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`})}const ee=ne(T.sv),ie=ne(T.yr),J=ne(T.Z1),j=new x.Z({wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${T.sv.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`});function A(K){return K&&K===T.yr?ie:K&&K===T.Z1?J:ee}function B(K){return K&&((0,re.BZ)(K)||K===ie)?ie:K&&((0,re.V2)(K)||K===J)?J:ee}function X(K){return K&&((0,re.BZ)(K)||K===ie)?T.yr:K&&((0,re.V2)(K)||K===J)?T.Z1:T.sv}function W(K){return(0,re.o$)(K)?T.yr:(0,re.ME)(K)?T.Z1:T.sv}},94425:(lt,Se,C)=>{"use strict";C.d(Se,{sv:()=>T,yr:()=>re,Z1:()=>ne});class x{constructor(ie,J,j,A){this.semiMajorAxis=ie,this.flattening=J,this.outerAtmosphereRimWidth=j,this.semiMinorAxis=this.semiMajorAxis*(1-this.flattening),this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=A||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const T=new x(6378137,1/298.257223563,3e5,.006694379990137799),re=new x(3396190,1/169.8944472236118,23e4),ne=new x(1737400,0,0)},98346:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>re});let x=0;class T{constructor(ee=null){this.uid=x++,ee?(this._wkt=void 0!==ee.wkt?ee.wkt:null,this._wkid=void 0!==ee.wkid?ee.wkid:-1,this._isInverse=void 0!==ee.isInverse&&!0===ee.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}static fromGE(ee){const ie=new T;return ie._wkt=ee.wkt,ie._wkid=ee.wkid,ie._isInverse=ee.isInverse,ie}get wkt(){return this._wkt}set wkt(ee){this._wkt=ee,this.uid=x++}get wkid(){return this._wkid}set wkid(ee){this._wkid=ee,this.uid=x++}get isInverse(){return this._isInverse}set isInverse(ee){this._isInverse=ee,this.uid=x++}getInverse(){const ee=new T;return ee._wkt=this.wkt,ee._wkid=this._wkid,ee._isInverse=!this.isInverse,ee}}class re{constructor(ee){if(this.steps=[],this._cached_projection={},this._chain="",this._gtlistentry=null,ee&&ee.steps)for(const ie of ee.steps)this.steps.push(ie instanceof T?ie:new T({wkid:ie.wkid,wkt:ie.wkt,isInverse:ie.isInverse}))}static cacheKey(ee,ie){return[null!=ee.wkid?ee.wkid.toString():"-1",null!=ee.wkt?ee.wkt.toString():"",null!=ie.wkid?ie.wkid.toString():"-1",null!=ie.wkt?ie.wkt.toString():""].join(",")}static fromGE(ee){const ie=new re;let J="";for(const j of ee.steps){const A=T.fromGE(j);ie.steps.push(A),J+=A.uid.toString()+","}return ie._cached_projection={},ie._gtlistentry=null,ie._chain=J,ie}getInverse(){const ee=new re;ee.steps=[];for(let ie=this.steps.length-1;ie>=0;ie--)ee.steps.push(this.steps[ie].getInverse());return ee}getGTListEntry(){let ee="";for(const ie of this.steps)ee+=ie.uid.toString()+",";return ee!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=ee),this._gtlistentry}assignCachedGe(ee,ie,J){this._cached_projection[re.cacheKey(ee,ie)]=J}getCachedGeTransformation(ee,ie){let J="";for(const A of this.steps)J+=A.uid.toString()+",";J!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=J);const j=this._cached_projection[re.cacheKey(ee,ie)];return void 0===j?null:j}}},84029:(lt,Se,C)=>{"use strict";let x;C.d(Se,{Z:()=>T});const T={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(x=2e3;x<=2045;x++)T[x]=0;for(x=2056;x<=2065;x++)T[x]=0;for(x=2067;x<=2135;x++)T[x]=0;for(x=2137;x<=2154;x++)T[x]=0;for(x=2161;x<=2170;x++)T[x]=0;for(x=2172;x<=2193;x++)T[x]=0;for(x=2195;x<=2198;x++)T[x]=0;for(x=2200;x<=2203;x++)T[x]=0;for(x=2205;x<=2217;x++)T[x]=0;for(x=2222;x<=2224;x++)T[x]=1;for(x=2225;x<=2250;x++)T[x]=2;for(x=2251;x<=2253;x++)T[x]=1;for(x=2257;x<=2264;x++)T[x]=2;for(x=2274;x<=2279;x++)T[x]=2;for(x=2280;x<=2282;x++)T[x]=1;for(x=2283;x<=2289;x++)T[x]=2;for(x=2290;x<=2292;x++)T[x]=0;for(x=2308;x<=2313;x++)T[x]=0;for(x=2315;x<=2491;x++)T[x]=0;for(x=2494;x<=2866;x++)T[x]=0;for(x=2867;x<=2869;x++)T[x]=1;for(x=2870;x<=2888;x++)T[x]=2;for(x=2891;x<=2895;x++)T[x]=2;for(x=2896;x<=2898;x++)T[x]=1;for(x=2902;x<=2908;x++)T[x]=2;for(x=2915;x<=2920;x++)T[x]=2;for(x=2921;x<=2923;x++)T[x]=1;for(x=2924;x<=2930;x++)T[x]=2;for(x=2931;x<=2962;x++)T[x]=0;for(x=2964;x<=2968;x++)T[x]=2;for(x=2969;x<=2973;x++)T[x]=0;for(x=2975;x<=2991;x++)T[x]=0;for(x=2995;x<=3051;x++)T[x]=0;for(x=3054;x<=3079;x++)T[x]=0;for(x=3081;x<=3088;x++)T[x]=0;for(x=3092;x<=3101;x++)T[x]=0;for(x=3106;x<=3138;x++)T[x]=0;for(x=3146;x<=3151;x++)T[x]=0;for(x=3153;x<=3166;x++)T[x]=0;for(x=3168;x<=3172;x++)T[x]=0;for(x=3174;x<=3203;x++)T[x]=0;for(x=3294;x<=3358;x++)T[x]=0;for(x=3367;x<=3403;x++)T[x]=0;for(x=3408;x<=3416;x++)T[x]=0;for(x=3417;x<=3438;x++)T[x]=2;for(x=3441;x<=3446;x++)T[x]=2;for(x=3447;x<=3450;x++)T[x]=0;for(x=3451;x<=3459;x++)T[x]=2;for(x=3460;x<=3478;x++)T[x]=0;for(x=3554;x<=3559;x++)T[x]=0;for(x=3560;x<=3570;x++)T[x]=2;for(x=3571;x<=3581;x++)T[x]=0;for(x=3594;x<=3597;x++)T[x]=0;for(x=3601;x<=3604;x++)T[x]=0;for(x=3637;x<=3639;x++)T[x]=0;for(x=3665;x<=3667;x++)T[x]=0;for(x=3693;x<=3695;x++)T[x]=0;for(x=3701;x<=3727;x++)T[x]=0;for(x=3728;x<=3739;x++)T[x]=2;for(x=3740;x<=3751;x++)T[x]=0;for(x=3753;x<=3760;x++)T[x]=2;for(x=3761;x<=3773;x++)T[x]=0;for(x=3775;x<=3777;x++)T[x]=0;for(x=3779;x<=3781;x++)T[x]=0;for(x=3783;x<=3785;x++)T[x]=0;for(x=3788;x<=3791;x++)T[x]=0;for(x=3797;x<=3802;x++)T[x]=0;for(x=3814;x<=3816;x++)T[x]=0;for(x=3825;x<=3829;x++)T[x]=0;for(x=3832;x<=3841;x++)T[x]=0;for(x=3844;x<=3852;x++)T[x]=0;for(x=3873;x<=3885;x++)T[x]=0;for(x=3890;x<=3893;x++)T[x]=0;for(x=3907;x<=3912;x++)T[x]=0;for(x=3942;x<=3950;x++)T[x]=0;for(x=3968;x<=3970;x++)T[x]=0;for(x=3973;x<=3976;x++)T[x]=0;for(x=3986;x<=3989;x++)T[x]=0;for(x=3994;x<=3997;x++)T[x]=0;for(x=4048;x<=4051;x++)T[x]=0;for(x=4056;x<=4063;x++)T[x]=0;for(x=4093;x<=4096;x++)T[x]=0;for(x=4390;x<=4398;x++)T[x]=0;for(x=4399;x<=4413;x++)T[x]=2;for(x=4418;x<=4433;x++)T[x]=2;for(x=4455;x<=4457;x++)T[x]=2;for(x=4484;x<=4489;x++)T[x]=0;for(x=4491;x<=4554;x++)T[x]=0;for(x=4568;x<=4589;x++)T[x]=0;for(x=4652;x<=4656;x++)T[x]=0;for(x=4766;x<=4800;x++)T[x]=0;for(x=5014;x<=5016;x++)T[x]=0;for(x=5069;x<=5072;x++)T[x]=0;for(x=5105;x<=5130;x++)T[x]=0;for(x=5173;x<=5188;x++)T[x]=0;for(x=5253;x<=5259;x++)T[x]=0;for(x=5269;x<=5275;x++)T[x]=0;for(x=5292;x<=5311;x++)T[x]=0;for(x=5329;x<=5331;x++)T[x]=0;for(x=5343;x<=5349;x++)T[x]=0;for(x=5355;x<=5357;x++)T[x]=0;for(x=5387;x<=5389;x++)T[x]=0;for(x=5459;x<=5463;x++)T[x]=0;for(x=5479;x<=5482;x++)T[x]=0;for(x=5518;x<=5520;x++)T[x]=0;for(x=5530;x<=5539;x++)T[x]=0;for(x=5550;x<=5552;x++)T[x]=0;for(x=5562;x<=5583;x++)T[x]=0;for(x=5623;x<=5625;x++)T[x]=2;for(x=5631;x<=5639;x++)T[x]=0;for(x=5649;x<=5653;x++)T[x]=0;for(x=5663;x<=5680;x++)T[x]=0;for(x=5682;x<=5685;x++)T[x]=0;for(x=5875;x<=5877;x++)T[x]=0;for(x=5896;x<=5899;x++)T[x]=0;for(x=5921;x<=5940;x++)T[x]=0;for(x=6050;x<=6125;x++)T[x]=0;for(x=6244;x<=6275;x++)T[x]=0;for(x=6328;x<=6348;x++)T[x]=0;for(x=6350;x<=6356;x++)T[x]=0;for(x=6366;x<=6372;x++)T[x]=0;for(x=6381;x<=6387;x++)T[x]=0;for(x=6393;x<=6404;x++)T[x]=0;for(x=6480;x<=6483;x++)T[x]=0;for(x=6511;x<=6514;x++)T[x]=0;for(x=6579;x<=6581;x++)T[x]=0;for(x=6619;x<=6624;x++)T[x]=0;for(x=6625;x<=6627;x++)T[x]=2;for(x=6628;x<=6632;x++)T[x]=0;for(x=6634;x<=6637;x++)T[x]=0;for(x=6669;x<=6692;x++)T[x]=0;for(x=6707;x<=6709;x++)T[x]=0;for(x=6720;x<=6723;x++)T[x]=0;for(x=6732;x<=6738;x++)T[x]=0;for(x=6931;x<=6933;x++)T[x]=0;for(x=6956;x<=6959;x++)T[x]=0;for(x=7005;x<=7007;x++)T[x]=0;for(x=7057;x<=7070;x++)T[x]=2;for(x=7074;x<=7082;x++)T[x]=0;for(x=7109;x<=7118;x++)T[x]=0;for(x=7119;x<=7127;x++)T[x]=1;for(x=7374;x<=7376;x++)T[x]=0;for(x=7528;x<=7586;x++)T[x]=0;for(x=7587;x<=7645;x++)T[x]=2;for(x=7692;x<=7696;x++)T[x]=0;for(x=7755;x<=7787;x++)T[x]=0;for(x=7791;x<=7795;x++)T[x]=0;for(x=7799;x<=7801;x++)T[x]=0;for(x=7803;x<=7805;x++)T[x]=0;for(x=7825;x<=7831;x++)T[x]=0;for(x=7845;x<=7859;x++)T[x]=0;for(x=8013;x<=8032;x++)T[x]=0;for(x=8065;x<=8068;x++)T[x]=1;for(x=8518;x<=8529;x++)T[x]=2;for(x=8533;x<=8536;x++)T[x]=2;for(x=8538;x<=8540;x++)T[x]=2;for(x=8677;x<=8679;x++)T[x]=0;for(x=8836;x<=8840;x++)T[x]=0;for(x=8857;x<=8859;x++)T[x]=0;for(x=8908;x<=8910;x++)T[x]=0;for(x=9154;x<=9159;x++)T[x]=0;for(x=9205;x<=9218;x++)T[x]=0;for(x=9271;x<=9273;x++)T[x]=0;for(x=9295;x<=9297;x++)T[x]=0;for(x=9356;x<=9360;x++)T[x]=0;for(x=9404;x<=9407;x++)T[x]=0;for(x=9476;x<=9482;x++)T[x]=0;for(x=9487;x<=9494;x++)T[x]=0;for(x=9697;x<=9699;x++)T[x]=0;for(x=20002;x<=20032;x++)T[x]=0;for(x=20062;x<=20092;x++)T[x]=0;for(x=20135;x<=20138;x++)T[x]=0;for(x=20248;x<=20258;x++)T[x]=0;for(x=20348;x<=20358;x++)T[x]=0;for(x=20436;x<=20440;x++)T[x]=0;for(x=20822;x<=20824;x++)T[x]=0;for(x=20904;x<=20932;x++)T[x]=0;for(x=20934;x<=20936;x++)T[x]=0;for(x=21004;x<=21032;x++)T[x]=0;for(x=21035;x<=21037;x++)T[x]=0;for(x=21095;x<=21097;x++)T[x]=0;for(x=21148;x<=21150;x++)T[x]=0;for(x=21207;x<=21264;x++)T[x]=0;for(x=21307;x<=21364;x++)T[x]=0;for(x=21413;x<=21423;x++)T[x]=0;for(x=21453;x<=21463;x++)T[x]=0;for(x=21473;x<=21483;x++)T[x]=0;for(x=21780;x<=21782;x++)T[x]=0;for(x=21891;x<=21894;x++)T[x]=0;for(x=21896;x<=21899;x++)T[x]=0;for(x=22171;x<=22177;x++)T[x]=0;for(x=22181;x<=22187;x++)T[x]=0;for(x=22191;x<=22197;x++)T[x]=0;for(x=22234;x<=22236;x++)T[x]=0;for(x=22521;x<=22525;x++)T[x]=0;for(x=22991;x<=22994;x++)T[x]=0;for(x=23028;x<=23038;x++)T[x]=0;for(x=23830;x<=23853;x++)T[x]=0;for(x=23866;x<=23872;x++)T[x]=0;for(x=23877;x<=23884;x++)T[x]=0;for(x=23886;x<=23894;x++)T[x]=0;for(x=23946;x<=23948;x++)T[x]=0;for(x=24311;x<=24313;x++)T[x]=0;for(x=24342;x<=24347;x++)T[x]=0;for(x=24370;x<=24374;x++)T[x]=10;for(x=24375;x<=24381;x++)T[x]=0;for(x=24718;x<=24721;x++)T[x]=0;for(x=24817;x<=24821;x++)T[x]=0;for(x=24877;x<=24882;x++)T[x]=0;for(x=24891;x<=24893;x++)T[x]=0;for(x=25391;x<=25395;x++)T[x]=0;for(x=25828;x<=25838;x++)T[x]=0;for(x=26191;x<=26195;x++)T[x]=0;for(x=26391;x<=26393;x++)T[x]=0;for(x=26701;x<=26722;x++)T[x]=0;for(x=26729;x<=26799;x++)T[x]=2;for(x=26801;x<=26803;x++)T[x]=2;for(x=26811;x<=26813;x++)T[x]=2;for(x=26847;x<=26870;x++)T[x]=2;for(x=26891;x<=26899;x++)T[x]=0;for(x=26901;x<=26923;x++)T[x]=0;for(x=26929;x<=26946;x++)T[x]=0;for(x=26948;x<=26998;x++)T[x]=0;for(x=27037;x<=27040;x++)T[x]=0;for(x=27205;x<=27232;x++)T[x]=0;for(x=27258;x<=27260;x++)T[x]=0;for(x=27391;x<=27398;x++)T[x]=0;for(x=27561;x<=27564;x++)T[x]=0;for(x=27571;x<=27574;x++)T[x]=0;for(x=27581;x<=27584;x++)T[x]=0;for(x=27591;x<=27594;x++)T[x]=0;for(x=28191;x<=28193;x++)T[x]=0;for(x=28348;x<=28358;x++)T[x]=0;for(x=28402;x<=28432;x++)T[x]=0;for(x=28462;x<=28492;x++)T[x]=0;for(x=29118;x<=29122;x++)T[x]=0;for(x=29168;x<=29172;x++)T[x]=0;for(x=29177;x<=29185;x++)T[x]=0;for(x=29187;x<=29195;x++)T[x]=0;for(x=29900;x<=29903;x++)T[x]=0;for(x=30161;x<=30179;x++)T[x]=0;for(x=30491;x<=30494;x++)T[x]=0;for(x=30729;x<=30732;x++)T[x]=0;for(x=31251;x<=31259;x++)T[x]=0;for(x=31265;x<=31268;x++)T[x]=0;for(x=31275;x<=31279;x++)T[x]=0;for(x=31281;x<=31297;x++)T[x]=0;for(x=31461;x<=31469;x++)T[x]=0;for(x=31491;x<=31495;x++)T[x]=0;for(x=31917;x<=31922;x++)T[x]=0;for(x=31965;x<=32e3;x++)T[x]=0;for(x=32001;x<=32003;x++)T[x]=2;for(x=32005;x<=32031;x++)T[x]=2;for(x=32033;x<=32060;x++)T[x]=2;for(x=32064;x<=32067;x++)T[x]=2;for(x=32074;x<=32077;x++)T[x]=2;for(x=32081;x<=32086;x++)T[x]=0;for(x=32107;x<=32130;x++)T[x]=0;for(x=32133;x<=32158;x++)T[x]=0;for(x=32164;x<=32167;x++)T[x]=2;for(x=32180;x<=32199;x++)T[x]=0;for(x=32201;x<=32260;x++)T[x]=0;for(x=32301;x<=32360;x++)T[x]=0;for(x=32601;x<=32662;x++)T[x]=0;for(x=32664;x<=32667;x++)T[x]=2;for(x=32701;x<=32761;x++)T[x]=0;for(x=53001;x<=53004;x++)T[x]=0;for(x=53008;x<=53019;x++)T[x]=0;for(x=53021;x<=53032;x++)T[x]=0;for(x=53034;x<=53037;x++)T[x]=0;for(x=53042;x<=53046;x++)T[x]=0;for(x=53074;x<=53080;x++)T[x]=0;for(x=54001;x<=54004;x++)T[x]=0;for(x=54008;x<=54019;x++)T[x]=0;for(x=54021;x<=54032;x++)T[x]=0;for(x=54034;x<=54037;x++)T[x]=0;for(x=54042;x<=54046;x++)T[x]=0;for(x=54048;x<=54053;x++)T[x]=0;for(x=54074;x<=54080;x++)T[x]=0;for(x=54098;x<=54101;x++)T[x]=0;for(x=102001;x<=102040;x++)T[x]=0;for(x=102042;x<=102063;x++)T[x]=0;for(x=102065;x<=102067;x++)T[x]=0;for(x=102070;x<=102117;x++)T[x]=0;for(x=102122;x<=102216;x++)T[x]=0;for(x=102221;x<=102377;x++)T[x]=0;for(x=102382;x<=102388;x++)T[x]=0;for(x=102389;x<=102398;x++)T[x]=2;for(x=102399;x<=102444;x++)T[x]=0;for(x=102445;x<=102447;x++)T[x]=2;for(x=102448;x<=102458;x++)T[x]=0;for(x=102459;x<=102468;x++)T[x]=2;for(x=102469;x<=102499;x++)T[x]=0;for(x=102500;x<=102519;x++)T[x]=1;for(x=102520;x<=102524;x++)T[x]=0;for(x=102525;x<=102529;x++)T[x]=2;for(x=102530;x<=102588;x++)T[x]=0;for(x=102590;x<=102598;x++)T[x]=0;for(x=102601;x<=102603;x++)T[x]=0;for(x=102605;x<=102628;x++)T[x]=0;for(x=102629;x<=102646;x++)T[x]=2;for(x=102648;x<=102700;x++)T[x]=2;for(x=102701;x<=102703;x++)T[x]=0;for(x=102707;x<=102730;x++)T[x]=2;for(x=102733;x<=102758;x++)T[x]=2;for(x=102767;x<=102900;x++)T[x]=0;for(x=102901;x<=102933;x++)T[x]=2;for(x=102934;x<=102950;x++)T[x]=13;for(x=102951;x<=102960;x++)T[x]=0;for(x=102965;x<=102969;x++)T[x]=0;for(x=102971;x<=102973;x++)T[x]=0;for(x=102975;x<=102989;x++)T[x]=0;for(x=102990;x<=102992;x++)T[x]=1;for(x=102997;x<=103002;x++)T[x]=0;for(x=103003;x<=103008;x++)T[x]=2;for(x=103009;x<=103011;x++)T[x]=0;for(x=103012;x<=103014;x++)T[x]=2;for(x=103019;x<=103021;x++)T[x]=0;for(x=103022;x<=103024;x++)T[x]=2;for(x=103029;x<=103031;x++)T[x]=0;for(x=103032;x<=103034;x++)T[x]=2;for(x=103065;x<=103068;x++)T[x]=0;for(x=103074;x<=103076;x++)T[x]=0;for(x=103077;x<=103079;x++)T[x]=1;for(x=103080;x<=103082;x++)T[x]=0;for(x=103083;x<=103085;x++)T[x]=2;for(x=103090;x<=103093;x++)T[x]=0;for(x=103097;x<=103099;x++)T[x]=0;for(x=103100;x<=103102;x++)T[x]=2;for(x=103107;x<=103109;x++)T[x]=0;for(x=103110;x<=103112;x++)T[x]=2;for(x=103113;x<=103116;x++)T[x]=0;for(x=103117;x<=103120;x++)T[x]=2;for(x=103153;x<=103157;x++)T[x]=0;for(x=103158;x<=103162;x++)T[x]=2;for(x=103163;x<=103165;x++)T[x]=0;for(x=103166;x<=103168;x++)T[x]=1;for(x=103169;x<=103171;x++)T[x]=2;for(x=103186;x<=103188;x++)T[x]=0;for(x=103189;x<=103191;x++)T[x]=2;for(x=103192;x<=103195;x++)T[x]=0;for(x=103196;x<=103199;x++)T[x]=2;for(x=103200;x<=103224;x++)T[x]=0;for(x=103225;x<=103227;x++)T[x]=1;for(x=103232;x<=103237;x++)T[x]=0;for(x=103238;x<=103243;x++)T[x]=2;for(x=103244;x<=103246;x++)T[x]=0;for(x=103247;x<=103249;x++)T[x]=2;for(x=103254;x<=103256;x++)T[x]=0;for(x=103257;x<=103259;x++)T[x]=2;for(x=103264;x<=103266;x++)T[x]=0;for(x=103267;x<=103269;x++)T[x]=2;for(x=103300;x<=103375;x++)T[x]=0;for(x=103381;x<=103383;x++)T[x]=0;for(x=103384;x<=103386;x++)T[x]=1;for(x=103387;x<=103389;x++)T[x]=0;for(x=103390;x<=103392;x++)T[x]=2;for(x=103397;x<=103399;x++)T[x]=0;for(x=103400;x<=103471;x++)T[x]=2;for(x=103476;x<=103478;x++)T[x]=0;for(x=103479;x<=103481;x++)T[x]=2;for(x=103486;x<=103488;x++)T[x]=0;for(x=103489;x<=103491;x++)T[x]=2;for(x=103492;x<=103495;x++)T[x]=0;for(x=103496;x<=103499;x++)T[x]=2;for(x=103528;x<=103543;x++)T[x]=0;for(x=103544;x<=103548;x++)T[x]=2;for(x=103549;x<=103551;x++)T[x]=0;for(x=103552;x<=103554;x++)T[x]=1;for(x=103555;x<=103557;x++)T[x]=2;for(x=103558;x<=103560;x++)T[x]=0;for(x=103571;x<=103573;x++)T[x]=0;for(x=103574;x<=103576;x++)T[x]=2;for(x=103577;x<=103580;x++)T[x]=0;for(x=103581;x<=103583;x++)T[x]=2;for(x=103595;x<=103694;x++)T[x]=0;for(x=103696;x<=103699;x++)T[x]=0;for(x=103700;x<=103793;x++)T[x]=2;for(x=103794;x<=103872;x++)T[x]=0;for(x=103900;x<=103971;x++)T[x]=2},5548:(lt,Se,C)=>{"use strict";C.d(Se,{Gv:()=>Te,Ue:()=>ee,cS:()=>he,fS:()=>tt,TC:()=>B,pp:()=>W,JR:()=>we,al:()=>ie,t8:()=>ce,Tn:()=>Ce,op:()=>fe,dp:()=>de});var x=C(62208);function ee(Pe=Je){return[Pe[0],Pe[1],Pe[2],Pe[3],Pe[4],Pe[5]]}function ie(Pe,Qe,Ye,te,_e,Ze,et=ee()){return et[0]=Pe,et[1]=Qe,et[2]=Ye,et[3]=te,et[4]=_e,et[5]=Ze,et}function B(Pe,Qe){Pe[0]=Math.min(Pe[0],Qe[0]),Pe[1]=Math.min(Pe[1],Qe[1]),Pe[2]=Math.min(Pe[2],Qe[2]),Pe[3]=Math.max(Pe[3],Qe[3]),Pe[4]=Math.max(Pe[4],Qe[4]),Pe[5]=Math.max(Pe[5],Qe[5])}function W(Pe,Qe){Pe[0]=Math.min(Pe[0],Qe[0]),Pe[1]=Math.min(Pe[1],Qe[1]),Pe[2]=Math.min(Pe[2],Qe[2]),Pe[3]=Math.max(Pe[3],Qe[0]),Pe[4]=Math.max(Pe[4],Qe[1]),Pe[5]=Math.max(Pe[5],Qe[2])}function de(Pe,Qe=[0,0,0]){return Qe[0]=function P(Pe){return Pe[0]>=Pe[3]?0:Pe[3]-Pe[0]}(Pe),Qe[1]=function F(Pe){return Pe[1]>=Pe[4]?0:Pe[4]-Pe[1]}(Pe),Qe[2]=function Z(Pe){return Pe[2]>=Pe[5]?0:Pe[5]-Pe[2]}(Pe),Qe}function fe(Pe,Qe,Ye=Pe){return Ye[0]=Qe[0],Ye[1]=Qe[1],Ye[2]=Qe[2],Ye!==Pe&&(Ye[3]=Pe[3],Ye[4]=Pe[4],Ye[5]=Pe[5]),Ye}function Ce(Pe,Qe,Ye=Pe){return Ye[3]=Qe[0],Ye[4]=Qe[1],Ye[5]=Qe[2],Ye!==Pe&&(Ye[0]=Pe[0],Ye[1]=Pe[1],Ye[2]=Pe[2]),Pe}function ce(Pe,Qe){return Pe[0]=Qe[0],Pe[1]=Qe[1],Pe[2]=Qe[2],Pe[3]=Qe[3],Pe[4]=Qe[4],Pe[5]=Qe[5],Pe}function he(Pe){return Pe?ce(Pe,Te):ee(Te)}function we(Pe,Qe){return Pe[0]=Qe[0],Pe[1]=Qe[1],Pe[2]=Number.NEGATIVE_INFINITY,Pe[3]=Qe[2],Pe[4]=Qe[3],Pe[5]=Number.POSITIVE_INFINITY,Pe}function Ae(Pe){return 6===Pe.length}function tt(Pe,Qe,Ye){if((0,x.Wi)(Pe)||(0,x.Wi)(Qe))return Pe===Qe;if(!Ae(Pe)||!Ae(Qe))return!1;if(Ye){for(let te=0;te<Pe.length;te++)if(!Ye(Pe[te],Qe[te]))return!1}else for(let te=0;te<Pe.length;te++)if(Pe[te]!==Qe[te])return!1;return!0}C(2004),C(65401);const Te=[1/0,1/0,1/0,-1/0,-1/0,-1/0],Je=[0,0,0,0,0,0];ee()},65401:(lt,Se,C)=>{"use strict";C.d(Se,{Gv:()=>Ae,SO:()=>F,d9:()=>J,r3:()=>ye,Zm:()=>ge,Ue:()=>ie,Ho:()=>W,oJ:()=>B,al:()=>A,Cb:()=>P,kK:()=>le,HH:()=>X,bf:()=>V}),C(8314),C(21286);var re=C(62208),ne=C(2004);function ie(Re=Fe){return[Re[0],Re[1],Re[2],Re[3]]}function J(Re){return[Re[0],Re[1],Re[2],Re[3]]}function A(Re,be,Te,Je,ut=ie()){return ut[0]=Re,ut[1]=be,ut[2]=Te,ut[3]=Je,ut}function B(Re,be=ie()){return be[0]=Re.xmin,be[1]=Re.ymin,be[2]=Re.xmax,be[3]=Re.ymax,be}function X(Re,be){return new ne.Z({xmin:Re[0],ymin:Re[1],xmax:Re[2],ymax:Re[3],spatialReference:be})}function W(Re,be){be[0]<Re[0]&&(Re[0]=be[0]),be[0]>Re[2]&&(Re[2]=be[0]),be[1]<Re[1]&&(Re[1]=be[1]),be[1]>Re[3]&&(Re[3]=be[1])}function V(Re){return(0,re.Wi)(Re)||Re[0]>=Re[2]?0:Re[2]-Re[0]}function P(Re){return Re[1]>=Re[3]?0:Re[3]-Re[1]}function F(Re){return V(Re)*P(Re)}function ge(Re,be,Te){return be[0]>=Re[0]-Te&&be[1]>=Re[1]-Te&&be[0]<=Re[2]+Te&&be[1]<=Re[3]+Te}function le(Re,be){return Math.max(be[0],Re[0])<=Math.min(be[2],Re[2])&&Math.max(be[1],Re[1])<=Math.min(be[3],Re[3])}function ye(Re,be){return be[0]>=Re[0]&&be[2]<=Re[2]&&be[1]>=Re[1]&&be[3]<=Re[3]}const Ae=[1/0,1/0,-1/0,-1/0],Fe=[0,0,0,0]},32442:(lt,Se,C)=>{"use strict";function x(V){return void 0!==V.xmin&&void 0!==V.ymin&&void 0!==V.xmax&&void 0!==V.ymax}function T(V){return void 0!==V.points}function re(V){return void 0!==V.x&&void 0!==V.y}function ne(V){return void 0!==V.paths}function ee(V){return void 0!==V.rings}function ie(V){return(P,F)=>null==P?F:null==F?P:V(P,F)}C.d(Se,{$P:()=>A,Yg:()=>B,lC:()=>K,C6:()=>X});const J=ie(Math.min),j=ie(Math.max);function A(V,P){return ne(P)?X(V,P.paths,!1,!1):ee(P)?X(V,P.rings,!1,!1):T(P)?K(V,P.points,!1,!1,!1,!1):x(P)?W(V,P):(re(P)&&(V[0]=P.x,V[1]=P.y,V[2]=P.x,V[3]=P.y),V)}function B(V,P){return ne(P)?X(V,P.paths,!0,!1):ee(P)?X(V,P.rings,!0,!1):T(P)?K(V,P.points,!0,!1,!0,!1):x(P)?W(V,P,0,0,!0,!1):(re(P)&&(V[0]=P.x,V[1]=P.y,V[2]=P.z,V[3]=P.x,V[4]=P.y,V[5]=P.z),V)}function X(V,P,F,Z){const Y=F?3:2;if(!P.length||!P[0].length)return null;let H,de,q,ge,[le,ye]=P[0][0],[oe,Q]=P[0][0];for(let pe=0;pe<P.length;pe++){const ue=P[pe];for(let me=0;me<ue.length;me++){const ve=ue[me],[fe,Ce]=ve;if(le=J(le,fe),ye=J(ye,Ce),oe=j(oe,fe),Q=j(Q,Ce),F&&ve.length>2){const ce=ve[2];H=J(H,ce),de=j(de,ce)}if(Z&&ve.length>Y){const ce=ve[Y];q=J(H,ce),ge=j(de,ce)}}}return F?Z?(V[0]=le,V[1]=ye,V[2]=H,V[3]=q,V[4]=oe,V[5]=Q,V[6]=de,V[7]=ge,V.length=8,V):(V[0]=le,V[1]=ye,V[2]=H,V[3]=oe,V[4]=Q,V[5]=de,V.length=6,V):Z?(V[0]=le,V[1]=ye,V[2]=q,V[3]=oe,V[4]=Q,V[5]=ge,V.length=6,V):(V[0]=le,V[1]=ye,V[2]=oe,V[3]=Q,V.length=4,V)}function W(V,P,F,Z,Y,H){const de=P.xmin,q=P.xmax,ge=P.ymin,le=P.ymax;let ye=P.zmin,oe=P.zmax,Q=P.mmin,pe=P.mmax;return Y?(ye=ye||0,oe=oe||0,H?(Q=Q||0,pe=pe||0,V[0]=de,V[1]=ge,V[2]=ye,V[3]=Q,V[4]=q,V[5]=le,V[6]=oe,V[7]=pe,V):(V[0]=de,V[1]=ge,V[2]=ye,V[3]=q,V[4]=le,V[5]=oe,V)):H?(Q=Q||0,pe=pe||0,V[0]=de,V[1]=ge,V[2]=Q,V[3]=q,V[4]=le,V[5]=pe,V):(V[0]=de,V[1]=ge,V[2]=q,V[3]=le,V)}function K(V,P,F,Z,Y,H){const de=F?3:2,q=Z&&H,ge=F&&Y;if(!P.length||!P[0].length)return null;let le,ye,oe,Q,[pe,ue]=P[0],[me,ve]=P[0];for(let fe=0;fe<P.length;fe++){const Ce=P[fe],[ce,he]=Ce;if(pe=J(pe,ce),ue=J(ue,he),me=j(me,ce),ve=j(ve,he),ge&&Ce.length>2){const xe=Ce[2];le=J(le,xe),ye=j(ye,xe)}if(q&&Ce.length>de){const xe=Ce[de];oe=J(le,xe),Q=j(ye,xe)}}return Y?(le=le||0,ye=ye||0,H?(oe=oe||0,Q=Q||0,V[0]=pe,V[1]=ue,V[2]=le,V[3]=oe,V[4]=me,V[5]=ve,V[6]=ye,V[7]=Q,V):(V[0]=pe,V[1]=ue,V[2]=le,V[3]=me,V[4]=ve,V[5]=ye,V)):H?(oe=oe||0,Q=Q||0,V[0]=pe,V[1]=ue,V[2]=oe,V[3]=me,V[4]=ve,V[5]=Q,V):(V[0]=pe,V[1]=ue,V[2]=me,V[3]=ve,V)}},27105:(lt,Se,C)=>{"use strict";C.d(Se,{tO:()=>re});var x=C(25748);function re(J){return J?function ne(J,j){if(!J||!J.length)return null;const A=[],B=[],X=j?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let W=0,K=J.length;W<K;W++){const ae=ee(J[W],j,X);ae&&B.push(ae)}if(B.sort((W,K)=>{let ae=W[2]-K[2];return 0===ae&&j&&(ae=W[4]-K[4]),ae}),B.length&&(A[0]=B[0][0],A[1]=B[0][1],j&&(A[2]=B[0][3]),(A[0]<X[0]||A[0]>X[1]||A[1]<X[2]||A[1]>X[3]||j&&(A[2]<X[4]||A[2]>X[5]))&&(A.length=0)),!A.length){const W=J[0]&&J[0].length?function ie(J,j){const A=j?[0,0,0]:[0,0],B=j?[0,0,0]:[0,0];let X=0,W=0,K=0,ae=0;for(let $=0,V=J.length;$<V-1;$++){const P=J[$],F=J[$+1];if(P&&F){A[0]=P[0],A[1]=P[1],B[0]=F[0],B[1]=F[1],j&&P.length>2&&F.length>2&&(A[2]=P[2],B[2]=F[2]);const Z=(0,x.xA)(A,B);if(Z){X+=Z;const Y=(0,x.Gi)(P,F);W+=Z*Y[0],K+=Z*Y[1],j&&Y.length>2&&(ae+=Z*Y[2])}}}return X>0?j?[W/X,K/X,ae/X]:[W/X,K/X]:J.length?J[0]:null}(J[0],j):null;if(!W)return null;A[0]=W[0],A[1]=W[1],j&&W.length>2&&(A[2]=W[2])}return A}(J.rings,J.hasZ):null}function ee(J,j,A){let B=0,X=0,W=0,K=0,ae=0;const $=J.length?J[0][0]:0,V=J.length?J[0][1]:0,P=J.length&&j?J[0][2]:0;for(let Z=0;Z<J.length;Z++){const Y=J[Z],H=J[(Z+1)%J.length],[de,q,ge]=Y,le=de-$,ye=q-V,oe=j?ge-P:void 0,[Q,pe,ue]=H,me=Q-$,ve=pe-V,fe=j?ue-P:void 0,Ce=le*ve-me*ye;if(K+=Ce,B+=(le+me)*Ce,X+=(ye+ve)*Ce,j&&Y.length>2&&H.length>2){const ce=le*fe-me*oe;W+=(oe+fe)*ce,ae+=ce}de<A[0]&&(A[0]=de),de>A[1]&&(A[1]=de),q<A[2]&&(A[2]=q),q>A[3]&&(A[3]=q),j&&(ge<A[4]&&(A[4]=ge),ge>A[5]&&(A[5]=ge))}if(K>0&&(K*=-1),ae>0&&(ae*=-1),!K)return null;K*=.5,ae*=.5;const F=[B/(6*K)+$,X/(6*K)+V,K];return j&&(A[4]===A[5]||0===ae?(F[3]=(A[4]+A[5])/2,F[4]=0):(F[3]=W/(6*ae)+P,F[4]=ae)),F}},33190:(lt,Se,C)=>{"use strict";C.d(Se,{OQ:()=>ie,Qg:()=>J,uP:()=>ee,lQ:()=>ne,aV:()=>re,rM:()=>B,CI:()=>A});var x=C(62208);const T=[0,0];function re(ae,$){return!!(0,x.pC)($)&&j(ae,$.x,$.y,$.z)}function ne(ae,$){if(!$.points||$.points.length)return!1;for(const V of $.points)if(!ie(ae,V))return!1;return!0}function ee(ae,$){const{xmin:V,ymin:P,zmin:F,xmax:Z,ymax:Y,zmax:H}=$;return ae.hasZ&&$.hasZ?j(ae,V,P,F)&&j(ae,V,Y,F)&&j(ae,Z,Y,F)&&j(ae,Z,P,F)&&j(ae,V,P,H)&&j(ae,V,Y,H)&&j(ae,Z,Y,H)&&j(ae,Z,P,H):j(ae,V,P)&&j(ae,V,Y)&&j(ae,Z,Y)&&j(ae,Z,P)}function ie(ae,$){return j(ae,$[0],$[1])}function J(ae,$){return j(ae,$[0],$[1],$[2])}function j(ae,$,V,P){return $>=ae.xmin&&$<=ae.xmax&&V>=ae.ymin&&V<=ae.ymax&&(null==P||!ae.hasZ||P>=ae.zmin&&P<=ae.zmax)}function A(ae,$){return T[1]=$.y,T[0]=$.x,B(ae,T)}function B(ae,$){return function X(ae,$){if(!ae)return!1;if(function W(ae){return!Array.isArray(ae[0][0])}(ae))return K(!1,ae,$);let V=!1;for(let P=0,F=ae.length;P<F;P++)V=K(V,ae[P],$);return V}(ae.rings,$)}function K(ae,$,V){const[P,F]=V;let Z=ae,Y=0;for(let H=0,de=$.length;H<de;H++){Y++,Y===de&&(Y=0);const[q,ge]=$[H],[le,ye]=$[Y];(ge<F&&ye>=F||ye<F&&ge>=F)&&q+(F-ge)/(ye-ge)*(le-q)<P&&(Z=!Z)}return Z}},25748:(lt,Se,C)=>{"use strict";function re(V,P){const F=P[0]-V[0],Z=P[1]-V[1];if(V.length>2&&P.length>2){const Y=V[2]-P[2];return Math.sqrt(F*F+Z*Z+Y*Y)}return Math.sqrt(F*F+Z*Z)}function ee(V,P,F,Z){const[Y,H]=P,[de,q]=F[Z],[ge,le]=F[Z+1],ye=ge-de,oe=le-q,ue=Math.min(1,Math.max(0,((Y-de)*ye+(H-q)*oe)/(ye*ye+oe*oe)));return V[0]=de+ye*ue,V[1]=q+oe*ue,V}function ie(V,P){return function ne(V,P,F){const Z=V[0]+F*(P[0]-V[0]),Y=V[1]+F*(P[1]-V[1]);return V.length>2&&P.length>2?[Z,Y,V[2]+F*(P[2]-V[2])]:[Z,Y]}(V,P,.5)}function A(V,P,F){const Z=V.length;let Y=0,H=0,de=0;for(let q=0;q<Z;q++){const ge=V[q],le=V[(q+1)%Z];let ye=2;Y+=ge[0]*le[1]-le[0]*ge[1],ge.length>2&&le.length>2&&F&&(H+=ge[0]*le[2]-le[0]*ge[2],ye=3),ge.length>ye&&le.length>ye&&P&&(de+=ge[0]*le[ye]-le[0]*ge[ye])}return Y<=0&&H<=0&&de<=0}function B(V){if("rings"in V){for(const P of V.rings)P.length<3||P[0][0]===P[P.length-1][0]&&P[0][1]===P[P.length-1][1]||P.push([P[0][0],P[0][1]]);if(V.rings.length>0&&!A(V.rings[0],V.hasM,V.hasZ))for(let P=0;P<V.rings.length;++P)V.rings[P]=V.rings[P].reverse()}}C.d(Se,{pW:()=>B,xA:()=>re,Gi:()=>ie,bu:()=>A,Tx:()=>ee}),C(37053)},15176:(lt,Se,C)=>{"use strict";C.d(Se,{aO:()=>K,_w:()=>V,Wn:()=>P});var x=C(32442);const J=[];function j(F,Z,Y,H){return{xmin:F,ymin:Z,xmax:Y,ymax:H}}function A(F,Z,Y,H,de,q){return{xmin:F,ymin:Z,zmin:Y,xmax:H,ymax:de,zmax:q}}function B(F,Z,Y,H,de,q){return{xmin:F,ymin:Z,mmin:Y,xmax:H,ymax:de,mmax:q}}function X(F,Z,Y,H,de,q,ge,le){return{xmin:F,ymin:Z,zmin:Y,mmin:H,xmax:de,ymax:q,zmax:ge,mmax:le}}function W(F,Z=!1,Y=!1){return Z?Y?X(F[0],F[1],F[2],F[3],F[4],F[5],F[6],F[7]):A(F[0],F[1],F[2],F[3],F[4],F[5]):Y?B(F[0],F[1],F[2],F[3],F[4],F[5]):j(F[0],F[1],F[2],F[3])}function K(F){return F?function T(F){return void 0!==F.xmin&&void 0!==F.ymin&&void 0!==F.xmax&&void 0!==F.ymax}(F)?F:function ne(F){return void 0!==F.x&&void 0!==F.y}(F)?function $(F){const{x:Z,y:Y,z:H,m:de}=F,q=null!=de;return null!=H?q?X(Z,Y,H,de,Z,Y,H,de):A(Z,Y,H,Z,Y,H):q?B(Z,Y,de,Z,Y,de):j(Z,Y,Z,Y)}(F):function ie(F){return void 0!==F.rings}(F)?V(F):function ee(F){return void 0!==F.paths}(F)?P(F):function re(F){return void 0!==F.points}(F)?function ae(F){const{hasZ:Z,hasM:Y,points:H}=F;return W((0,x.lC)(J,H,Z,Y),Z,Y)}(F):null:null}function V(F){const{hasZ:Z,hasM:Y,rings:H}=F,de=(0,x.C6)(J,H,Z,Y);return de?W(de,Z,Y):null}function P(F){const{hasZ:Z,hasM:Y,paths:H}=F,de=(0,x.C6)(J,H,Z,Y);return de?W(de,Z,Y):null}},11519:(lt,Se,C)=>{"use strict";C.d(Se,{h_:()=>re,jQ:()=>W,IY:()=>P,Ff:()=>ae,UT:()=>V});var x=C(33190);function T(F,Z){return(0,x.aV)(F,Z)}function re(F,Z){let H,de,q;if(F.xmin<=Z.xmin){if(H=Z.xmin,F.xmax<H)return!1}else if(H=F.xmin,Z.xmax<H)return!1;if(F.ymin<=Z.ymin){if(de=Z.ymin,F.ymax<de)return!1}else if(de=F.ymin,Z.ymax<de)return!1;if(F.hasZ&&Z.hasZ&&Z.hasZ)if(F.zmin<=Z.zmin){if(q=Z.zmin,F.zmax<q)return!1}else if(q=F.zmin,Z.zmax<q)return!1;return!0}function ne(F,Z){const{points:Y,hasZ:H}=Z,de=H?x.Qg:x.OQ;for(const q of Y)if(de(F,q))return!0;return!1}const ee=[0,0],ie=[0,0],J=[0,0],j=[0,0],A=[ee,ie,J,j],B=[[J,ee],[ee,ie],[ie,j],[j,J]];function X(F,Z){ee[0]=F.xmin,ee[1]=F.ymax,ie[0]=F.xmax,ie[1]=F.ymax,J[0]=F.xmin,J[1]=F.ymin,j[0]=F.xmax,j[1]=F.ymin;for(const Y of A)if((0,x.rM)(Z,Y))return!0;for(const Y of Z.rings){if(!Y.length)continue;let H=Y[0];if((0,x.OQ)(F,H))return!0;for(let de=1;de<Y.length;de++){const q=Y[de];if((0,x.OQ)(F,q)||$(H,q,B))return!0;H=q}}return!1}function W(F,Z){ee[0]=F.xmin,ee[1]=F.ymax,ie[0]=F.xmax,ie[1]=F.ymax,J[0]=F.xmin,J[1]=F.ymin,j[0]=F.xmax,j[1]=F.ymin;const Y=Z.paths;for(const H of Y){if(!Y.length)continue;let de=H[0];if((0,x.OQ)(F,de))return!0;for(let q=1;q<H.length;q++){const ge=H[q];if((0,x.OQ)(F,ge)||$(de,ge,B))return!0;de=ge}}return!1}const K=[0,0];function ae(F){for(let Z=0;Z<F.length;Z++){const Y=F[Z];for(let de=0;de<Y.length-1;de++){const q=Y[de],ge=Y[de+1];for(let le=Z+1;le<F.length;le++)for(let ye=0;ye<F[le].length-1;ye++){const oe=F[le][ye],Q=F[le][ye+1];if(V(q,ge,oe,Q,K)&&!(K[0]===q[0]&&K[1]===q[1]||K[0]===oe[0]&&K[1]===oe[1]||K[0]===ge[0]&&K[1]===ge[1]||K[0]===Q[0]&&K[1]===Q[1]))return!0}}const H=Y.length;if(!(H<=4))for(let de=0;de<H-3;de++){let q=H-1;0===de&&(q=H-2);const ge=Y[de],le=Y[de+1];for(let ye=de+2;ye<q;ye++){const oe=Y[ye],Q=Y[ye+1];if(V(ge,le,oe,Q,K)&&!(K[0]===ge[0]&&K[1]===ge[1]||K[0]===oe[0]&&K[1]===oe[1]||K[0]===le[0]&&K[1]===le[1]||K[0]===Q[0]&&K[1]===Q[1]))return!0}}}return!1}function $(F,Z,Y){for(let H=0;H<Y.length;H++)if(V(F,Z,Y[H][0],Y[H][1]))return!0;return!1}function V(F,Z,Y,H,de){const[q,ge]=F,[le,ye]=Z,[oe,Q]=Y,[pe,ue]=H,me=pe-oe,ve=q-oe,fe=le-q,Ce=ue-Q,ce=ge-Q,he=ye-ge,xe=Ce*fe-me*he;if(0===xe)return!1;const we=(me*ce-Ce*ve)/xe,Ae=(fe*ce-he*ve)/xe;return we>=0&&we<=1&&Ae>=0&&Ae<=1&&(de&&(de[0]=q+we*(le-q),de[1]=ge+we*(ye-ge)),!0)}function P(F){switch(F){case"esriGeometryEnvelope":case"extent":return re;case"esriGeometryMultipoint":case"multipoint":return ne;case"esriGeometryPoint":case"point":return T;case"esriGeometryPolygon":case"polygon":return X;case"esriGeometryPolyline":case"polyline":return W}}},91179:(lt,Se,C)=>{"use strict";C.d(Se,{im:()=>$,q9:()=>F,Ji:()=>V,YX:()=>A,aW:()=>B,wp:()=>X,oU:()=>K,l9:()=>W});var x=C(62208),T=C(2004),re=C(21674),ne=C(72854),ee=C(49672),ie=C(37118),J=C(55214);function A(Z){return void 0!==Z.xmin&&void 0!==Z.ymin&&void 0!==Z.xmax&&void 0!==Z.ymax}function B(Z){return void 0!==Z.points}function X(Z){return void 0!==Z.x&&void 0!==Z.y}function W(Z){return void 0!==Z.paths}function K(Z){return void 0!==Z.rings}function $(Z){return(0,x.Wi)(Z)?null:Z instanceof re.Z?Z:X(Z)?ee.Z.fromJSON(Z):W(Z)?J.Z.fromJSON(Z):K(Z)?ie.Z.fromJSON(Z):B(Z)?ne.Z.fromJSON(Z):A(Z)?T.Z.fromJSON(Z):null}function V(Z){return Z?X(Z)?"esriGeometryPoint":W(Z)?"esriGeometryPolyline":K(Z)?"esriGeometryPolygon":A(Z)?"esriGeometryEnvelope":B(Z)?"esriGeometryMultipoint":null:null}const P={esriGeometryPoint:ee.Z,esriGeometryPolyline:J.Z,esriGeometryPolygon:ie.Z,esriGeometryEnvelope:T.Z,esriGeometryMultipoint:ne.Z};function F(Z){return Z&&P[Z]||null}},62825:(lt,Se,C)=>{"use strict";C.d(Se,{aX:()=>ue,or:()=>fe});var x=C(15861),T=C(59318),re=C(26584),ne=C(63290),ee=C(62208),ie=C(37118),J=C(55214),j=C(74618),A=C(37053),B=C(46367),W=(C(29132),C(84792)),K=C(21726),ae=C(91179);function $(Ce,ce,he,xe){return V.apply(this,arguments)}function V(){return(V=(0,x.Z)(function*(Ce,ce,he,xe){const we="string"==typeof Ce?(0,K.mN)(Ce):Ce,Ae=ce[0].spatialReference,Fe=Xr(Pt({},xe),{query:Xr(Pt({},we.query),{f:"json",sr:JSON.stringify(Ae),target:JSON.stringify({geometryType:(0,ae.Ji)(ce[0]),geometries:ce}),cutter:JSON.stringify(he)})}),tt=yield(0,W.default)(we.path+"/cut",Fe),{cutIndexes:Re,geometries:be=[]}=tt.data;return{cutIndexes:Re,geometries:be.map(Te=>{const Je=(0,ae.im)(Te);return Je.spatialReference=Ae,Je})}})).apply(this,arguments)}function P(Ce,ce,he){return F.apply(this,arguments)}function F(){return(F=(0,x.Z)(function*(Ce,ce,he){const xe="string"==typeof Ce?(0,K.mN)(Ce):Ce,we=ce[0].spatialReference,Ae=(0,ae.Ji)(ce[0]),Fe=Xr(Pt({},he),{query:Xr(Pt({},xe.query),{f:"json",sr:we.wkid?we.wkid:JSON.stringify(we),geometries:JSON.stringify(Z(ce))})});return Y((yield(0,W.default)(xe.path+"/simplify",Fe)).data,Ae,we)})).apply(this,arguments)}function Z(Ce){return{geometryType:(0,ae.Ji)(Ce[0]),geometries:Ce.map(ce=>ce.toJSON())}}function Y(Ce,ce,he){const xe=(0,ae.q9)(ce);return Ce.map(we=>{const Ae=xe.fromJSON(we);return Ae.spatialReference=he,Ae})}const H=ne.Z.getLogger("esri.geometry.support.normalizeUtils");function q(Ce){return"polygon"===Ce[0].type}function ge(Ce){return"polyline"===Ce[0].type}function oe(Ce,ce,he){if(ce){const xe=function ye(Ce,ce){if(!(Ce instanceof J.Z||Ce instanceof ie.Z)){const we="straightLineDensify: the input geometry is neither polyline nor polygon";throw H.error(we),new re.Z(we)}const he=(0,j.x3)(Ce),xe=[];for(const we of he){const Ae=[];xe.push(Ae),Ae.push([we[0][0],we[0][1]]);for(let Fe=0;Fe<we.length-1;Fe++){const tt=we[Fe][0],Re=we[Fe][1],be=we[Fe+1][0],Te=we[Fe+1][1],Je=Math.sqrt((be-tt)*(be-tt)+(Te-Re)*(Te-Re)),ut=(Te-Re)/Je,Pe=(be-tt)/Je,Qe=Je/ce;if(Qe>1){for(let Ze=1;Ze<=Qe-1;Ze++){const et=Ze*ce;Ae.push([Pe*et+tt,ut*et+Re])}const Ye=(Je+Math.floor(Qe-1)*ce)/2;Ae.push([Pe*Ye+tt,ut*Ye+Re])}Ae.push([be,Te])}}return function de(Ce){return"polygon"===Ce.type}(Ce)?new ie.Z({rings:xe,spatialReference:Ce.spatialReference}):new J.Z({paths:xe,spatialReference:Ce.spatialReference})}(Ce,1e6);Ce=(0,B.Sx)(xe,!0)}return he&&(Ce=(0,j.Sy)(Ce,he)),Ce}function Q(Ce,ce,he){if(Array.isArray(Ce)){const xe=Ce[0];if(xe>ce){const we=(0,j.XZ)(xe,ce);Ce[0]=xe+we*(-2*ce)}else if(xe<he){const we=(0,j.XZ)(xe,he);Ce[0]=xe+we*(-2*he)}}else{const xe=Ce.x;if(xe>ce){const we=(0,j.XZ)(xe,ce);Ce=Ce.clone().offset(we*(-2*ce),0)}else if(xe<he){const we=(0,j.XZ)(xe,he);Ce=Ce.clone().offset(we*(-2*he),0)}}return Ce}function pe(Ce,ce){let he=-1;for(let xe=0;xe<ce.cutIndexes.length;xe++){const we=ce.cutIndexes[xe],Ae=ce.geometries[xe],Fe=(0,j.x3)(Ae);for(let tt=0;tt<Fe.length;tt++){const Re=Fe[tt];Re.some(be=>{if(be[0]<180)return!0;{let Te=0;for(let ut=0;ut<Re.length;ut++){const Pe=Re[ut][0];Te=Pe>Te?Pe:Te}Te=Number(Te.toFixed(9));const Je=-360*(0,j.XZ)(Te,180);for(let ut=0;ut<Re.length;ut++){const Pe=Ae.getPoint(tt,ut);Ae.setPoint(tt,ut,Pe.clone().offset(Je,0))}return!0}})}if(we===he){if(q(Ce))for(const tt of(0,j.x3)(Ae))Ce[we]=Ce[we].addRing(tt);else if(ge(Ce))for(const tt of(0,j.x3)(Ae))Ce[we]=Ce[we].addPath(tt)}else he=we,Ce[we]=Ae}return Ce}function ue(Ce,ce,he){return me.apply(this,arguments)}function me(){return(me=(0,x.Z)(function*(Ce,ce,he){var xe;if(!Array.isArray(Ce))return ue([Ce],ce);const we=null!=(xe=null==ce?void 0:ce.url)?xe:T.Z.geometryServiceUrl;let Ae,Fe,tt,Re,be,Te,Je,ut,Pe=0;const Qe=[],Ye=[];for(const ft of Ce)if((0,ee.Wi)(ft))Ye.push(ft);else if(Ae||(Ae=ft.spatialReference,Fe=(0,A.C5)(Ae),tt=Ae.isWebMercator,Te=tt?102100:4326,Re=j.UZ[Te].maxX,be=j.UZ[Te].minX,Je=j.UZ[Te].plus180Line,ut=j.UZ[Te].minus180Line),Fe)if("mesh"===ft.type)Ye.push(ft);else if("point"===ft.type)Ye.push(Q(ft.clone(),Re,be));else if("multipoint"===ft.type){const Et=ft.clone();Et.points=Et.points.map(mt=>Q(mt,Re,be)),Ye.push(Et)}else if("extent"===ft.type){const Et=ft.clone()._normalize(!1,!1,Fe);Ye.push(Et.rings?new ie.Z(Et):Et)}else if(ft.extent){const Et=ft.extent,mt=(0,j.XZ)(Et.xmin,be)*(2*Re);let at=0===mt?ft.clone():(0,j.Sy)(ft.clone(),mt);Et.offset(mt,0),Et.intersects(Je)&&Et.xmax!==Re?(Pe=Et.xmax>Pe?Et.xmax:Pe,at=oe(at,tt),Qe.push(at),Ye.push("cut")):Et.intersects(ut)&&Et.xmin!==be?(Pe=Et.xmax*(2*Re)>Pe?Et.xmax*(2*Re):Pe,at=oe(at,tt,360),Qe.push(at),Ye.push("cut")):Ye.push(at)}else Ye.push(ft.clone());else Ye.push(ft);let te=(0,j.XZ)(Pe,Re),_e=-90;const Ze=te,et=new J.Z;for(;te>0;){const ft=360*te-180;et.addPath([[ft,_e],[ft,-1*_e]]),_e*=-1,te--}if(Qe.length>0&&Ze>0){const ft=pe(Qe,yield $(we,Qe,et,he)),Et=[],mt=[];for(let Tt=0;Tt<Ye.length;Tt++){const Ut=Ye[Tt];if("cut"!==Ut)mt.push(Ut);else{const Wt=ft.shift(),er=Ce[Tt];(0,ee.pC)(er)&&"polygon"===er.type&&er.rings&&er.rings.length>1&&Wt.rings.length>=er.rings.length?(Et.push(Wt),mt.push("simplify")):mt.push(tt?(0,B.$)(Wt):Wt)}}if(!Et.length)return mt;const at=yield P(we,Et,he),wt=[];for(let Tt=0;Tt<mt.length;Tt++){const Ut=mt[Tt];wt.push("simplify"!==Ut?Ut:tt?(0,B.$)(at.shift()):at.shift())}return wt}const ht=[];for(let ft=0;ft<Ye.length;ft++){const Et=Ye[ft];if("cut"!==Et)ht.push(Et);else{const mt=Qe.shift();ht.push(!0===tt?(0,B.$)(mt):mt)}}return Promise.resolve(ht)})).apply(this,arguments)}function fe(Ce,ce){const he=(0,A.C5)(ce);if(he){const[xe,we]=he.valid,Ae=we-xe;if(Ce<xe)for(;Ce<xe;)Ce+=Ae;if(Ce>we)for(;Ce>we;)Ce-=Ae}return Ce}},74618:(lt,Se,C)=>{"use strict";C.d(Se,{UZ:()=>ne,x3:()=>J,uS:()=>j,XZ:()=>ee,Sy:()=>ie});var x=C(55214),T=C(65234),re=C(91179);const ne={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new x.Z({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:T.Z.WebMercator}),minus180Line:new x.Z({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:T.Z.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new x.Z({paths:[[[180,-180],[180,180]]],spatialReference:T.Z.WGS84}),minus180Line:new x.Z({paths:[[[-180,-180],[-180,180]]],spatialReference:T.Z.WGS84})}};function ee(A,B){return Math.ceil((A-B)/(2*B))}function ie(A,B){const X=J(A);for(const W of X)for(const K of W)K[0]+=B;return A}function J(A){return(0,re.oU)(A)?A.rings:A.paths}function j(A){const B=(null==A?void 0:A.isWebMercator)?102100:4326;return[ne[B].minX,ne[B].maxX]}},83137:(lt,Se,C)=>{"use strict";C.d(Se,{yZ:()=>re});var x=C(16730);function re(J,j){const A=j||J.extent,B=J.width,X=(0,x.c9)(A&&A.spatialReference);return A&&B?A.width/B*X*x.hd*96:0}},37053:(lt,Se,C)=>{"use strict";C.d(Se,{WR:()=>ye,Zn:()=>ge,R_:()=>le,fS:()=>B,C5:()=>X,yW:()=>$,N$:()=>K,sT:()=>W,BZ:()=>Z,V2:()=>H,QM:()=>P,JY:()=>q,oR:()=>ae,o$:()=>F,ME:()=>Y,sS:()=>V,MP:()=>de});var x=C(62208),T=C(77275),re=C(84029);const ne={102113:!0,102100:!0,3857:!0,3785:!0},ee={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0},ie='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',J=[-20037508.342788905,20037508.342788905],j=[-20037508.342787,20037508.342787],A={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:J,origin:j,dx:1e-5},102100:{wkTemplate:ie,valid:J,origin:j,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:J,origin:j,dx:1e-5},3857:{wkTemplate:ie,valid:J,origin:j,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function B(oe,Q){return!(0,x.Wi)(oe)&&!(0,x.Wi)(Q)&&(oe===Q||(null!=oe.wkid||null!=Q.wkid?oe.wkid===Q.wkid||V(oe)&&V(Q)||null!=Q.latestWkid&&oe.wkid===Q.latestWkid||null!=oe.latestWkid&&Q.wkid===oe.latestWkid:!(!oe.wkt||!Q.wkt)&&oe.wkt.toUpperCase()===Q.wkt.toUpperCase()))}function X(oe){return q(oe)&&oe.wkid?A[oe.wkid]:null}function W(oe){return!!q(oe)&&(oe.wkid?null==re.Z[oe.wkid]:!!oe.wkt&&!!/^\s*GEOGCS/i.test(oe.wkt))}function K(oe){return!(Z(oe)||H(oe))}function ae(oe){return q(oe)&&4326===oe.wkid}function $(oe){return q(oe)&&4490===oe.wkid}function V(oe){return q(oe)&&null!=oe.wkid&&!0===ne[oe.wkid]}function P(oe){return q(oe)&&32662===oe.wkid}function F(oe){return 104971===oe||104905===oe}function Z(oe){return q(oe)&&null!=oe.wkid&&F(oe.wkid)}function Y(oe){return 104903===oe}function H(oe){return q(oe)&&null!=oe.wkid&&Y(oe.wkid)}function de(oe){return q(oe)&&null!=oe.wkid&&!0===ee[oe.wkid]}function q(oe){return(0,x.pC)(oe)&&(null!=oe.wkid&&oe.wkid>=2e3||null!=oe.wkt)}const ge={wkid:4326,wkt:(0,T.gx)(A[4326].wkTemplate,{Central_Meridian:"0.0"})},le={wkid:102100,latestWkid:3857},ye={wkid:32662}},71774:(lt,Se,C)=>{"use strict";C.d(Se,{Mk:()=>re,P$:()=>ne});var x=C(2076);const re=(0,x.wY)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),ne=(0,x.wY)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"})},46367:(lt,Se,C)=>{"use strict";C.d(Se,{Q8:()=>$,$:()=>Z,hG:()=>P,iV:()=>V,Sx:()=>Y,R6:()=>F,mZ:()=>X});var x=C(58817),T=C(62208),re=C(65234),ne=C(94425),ee=C(37053);function j(H){return 57.29577951308232*H}function A(H){return.017453292519943*H}function X(H){return Math.PI/2-2*Math.atan(Math.exp(-H/ne.sv.radius))}function W(H){return null!=H.wkid||null!=H.wkt}const K=[0,0];function ae(H,de,q,ge,le){const ye=H,oe=le;if(oe.spatialReference=q,"x"in ye&&"x"in oe)[oe.x,oe.y]=de(ye.x,ye.y,K,ge);else if("xmin"in ye&&"xmin"in oe)[oe.xmin,oe.ymin]=de(ye.xmin,ye.ymin,K,ge),[oe.xmax,oe.ymax]=de(ye.xmax,ye.ymax,K,ge);else if("paths"in ye&&"paths"in oe||"rings"in ye&&"rings"in oe){const Q="paths"in ye?ye.paths:ye.rings,pe=[];let ue;for(let me=0;me<Q.length;me++){const ve=Q[me];ue=[],pe.push(ue);for(let fe=0;fe<ve.length;fe++)ue.push(de(ve[fe][0],ve[fe][1],[0,0],ge)),ve[fe].length>2&&ue[fe].push(ve[fe][2]),ve[fe].length>3&&ue[fe].push(ve[fe][3])}"paths"in oe?oe.paths=pe:oe.rings=pe}else if("points"in ye&&"points"in oe){const Q=ye.points,pe=[];for(let ue=0;ue<Q.length;ue++)pe[ue]=de(Q[ue][0],Q[ue][1],[0,0],ge),Q[ue].length>2&&pe[ue].push(Q[ue][2]),Q[ue].length>3&&pe[ue].push(Q[ue][3]);oe.points=pe}return le}function $(H,de){const q=H&&(W(H)?H:H.spatialReference),ge=de&&(W(de)?de:de.spatialReference);return!(H&&"type"in H&&"mesh"===H.type||de&&"type"in de&&"mesh"===de.type||!q||!ge)&&(!!(0,ee.fS)(ge,q)||(0,ee.sS)(ge)&&(0,ee.oR)(q)||(0,ee.sS)(q)&&(0,ee.oR)(ge))}function V(H,de){if((0,T.Wi)(H))return null;const q=H.spatialReference,ge=de&&(W(de)?de:de.spatialReference);return $(q,ge)?(0,ee.fS)(q,ge)?(0,x.d9)(H):(0,ee.sS)(ge)?ae(H,P,re.Z.WebMercator,!1,(0,x.d9)(H)):(0,ee.oR)(ge)?ae(H,F,re.Z.WGS84,!1,(0,x.d9)(H)):null:null}function P(H,de,q=[0,0]){de>89.99999?de=89.99999:de<-89.99999&&(de=-89.99999);const ge=A(de);return q[0]=A(H)*ne.sv.radius,q[1]=ne.sv.halfSemiMajorAxis*Math.log((1+Math.sin(ge))/(1-Math.sin(ge))),q}function F(H,de,q=[0,0],ge=!1){const le=j(H/ne.sv.radius);return q[0]=ge?le:le-360*Math.floor((le+180)/360),q[1]=j(Math.PI/2-2*Math.atan(Math.exp(-de/ne.sv.radius))),q}function Z(H,de=!1,q=(0,x.d9)(H)){return ae(H,P,re.Z.WebMercator,de,q)}function Y(H,de=!1,q=(0,x.d9)(H)){return ae(H,F,re.Z.WGS84,de,q)}},18945:(lt,Se,C)=>{"use strict";function x(T,re,ne=!1){let{hasM:ee,hasZ:ie}=T;Array.isArray(re)?4!==re.length||ee||ie?3===re.length&&ne&&!ee?(ie=!0,ee=!1):3===re.length&&ee&&ie&&(ee=!1,ie=!1):(ee=!0,ie=!0):(ie=!ie&&re.hasZ&&(!ee||re.hasM),ee=!ee&&re.hasM&&(!ie||re.hasZ)),T.hasZ=ie,T.hasM=ee}C.d(Se,{l:()=>x})},33696:(lt,Se,C)=>{"use strict";C.d(Se,{k:()=>ne});var x=C(62208),T=C(16730),re=C(37053);function ne(B,X,W){if((0,x.Wi)(X)||(0,x.Wi)(W)||W.vcsWkid||(0,re.fS)(X,W))return null;const K=(0,T._R)(X)/(0,T._R)(W);if(1===K)return null;switch(B){case"point":case"esriGeometryPoint":return ae=>function ee(B,X){B&&null!=B.z&&(B.z*=X)}(ae,K);case"polyline":case"esriGeometryPolyline":return ae=>function J(B,X){if(B)for(const W of B.paths)for(const K of W)K.length>2&&(K[2]*=X)}(ae,K);case"polygon":case"esriGeometryPolygon":return ae=>function ie(B,X){if(B)for(const W of B.rings)for(const K of W)K.length>2&&(K[2]*=X)}(ae,K);case"multipoint":case"esriGeometryMultipoint":return ae=>function j(B,X){if(B)for(const W of B.points)W.length>2&&(W[2]*=X)}(ae,K);case"extent":case"esriGeometryExtent":return ae=>function A(B,X){B&&null!=B.zmin&&null!=B.zmax&&(B.zmin*=X,B.zmax*=X)}(ae,K);default:return null}}},52515:(lt,Se,C)=>{"use strict";C(88411),C(15348),C(97059),C(56683);var ee=C(41840),ie=C(15861),J=C(84792),j=C(26584),A=C(62208);function X(){return(X=(0,ie.Z)(function*(F,Z,Y,H){const de=Z.exec(Y);if(!de)throw new j.Z("esri-intl:invalid-bundle",`Bundle id "${Y}" is not compatible with the pattern "${Z}"`);const q=de[1]?`${de[1]}/`:"",ge=de[2],le=(0,ee.Su)(H),ye=`${q}${ge}.json`,oe=le?`${q}${ge}_${le}.json`:ye;let Q;try{Q=yield W(F(oe))}catch(pe){if(oe===ye)throw new j.Z("intl:unknown-bundle",`Bundle "${Y}" cannot be loaded`,{error:pe});try{Q=yield W(F(ye))}catch(ue){throw new j.Z("intl:unknown-bundle",`Bundle "${Y}" cannot be loaded`,{error:ue})}}return Q})).apply(this,arguments)}function W(F){return K.apply(this,arguments)}function K(){return(K=(0,ie.Z)(function*(F){if((0,A.pC)(V.fetchBundleAsset))return V.fetchBundleAsset(F);const Z=yield(0,J.default)(F,{responseType:"text"});return JSON.parse(Z.data)})).apply(this,arguments)}class ae{constructor({base:Z="",pattern:Y,location:H=new URL(window.location.href)}){let de;de="string"==typeof H?q=>new URL(q,new URL(H,window.location.href)).href:H instanceof URL?q=>new URL(q,H).href:H,this.pattern="string"==typeof Y?new RegExp(`^${Y}`):Y,this.getAssetUrl=de,Z=Z?Z.endsWith("/")?Z:Z+"/":"",this.matcher=new RegExp(`^${Z}(?:(.*)/)?(.*)$`)}fetchMessageBundle(Z,Y){return function B(F,Z,Y,H){return X.apply(this,arguments)}(this.getAssetUrl,this.matcher,Z,Y)}}const V={};var P=C(54346);(0,ee.tz)(function $(F){return new ae(F)}({pattern:"esri/",location:P.V}))},88411:(lt,Se,C)=>{"use strict";C.d(Se,{Ze:()=>F,p6:()=>Z});var x=C(2076),T=C(56683);const re={year:"numeric",month:"numeric",day:"numeric"},ne={year:"numeric",month:"long",day:"numeric"},ee={year:"numeric",month:"short",day:"numeric"},ie={year:"numeric",month:"long",weekday:"long",day:"numeric"},J={hour:"numeric",minute:"numeric"},j=Xr(Pt({},J),{second:"numeric"}),A={"short-date":re,"short-date-short-time":Pt(Pt({},re),J),"short-date-short-time-24":Xr(Pt(Pt({},re),J),{hour12:!1}),"short-date-long-time":Pt(Pt({},re),j),"short-date-long-time-24":Xr(Pt(Pt({},re),j),{hour12:!1}),"short-date-le":re,"short-date-le-short-time":Pt(Pt({},re),J),"short-date-le-short-time-24":Xr(Pt(Pt({},re),J),{hour12:!1}),"short-date-le-long-time":Pt(Pt({},re),j),"short-date-le-long-time-24":Xr(Pt(Pt({},re),j),{hour12:!1}),"long-month-day-year":ne,"long-month-day-year-short-time":Pt(Pt({},ne),J),"long-month-day-year-short-time-24":Xr(Pt(Pt({},ne),J),{hour12:!1}),"long-month-day-year-long-time":Pt(Pt({},ne),j),"long-month-day-year-long-time-24":Xr(Pt(Pt({},ne),j),{hour12:!1}),"day-short-month-year":ee,"day-short-month-year-short-time":Pt(Pt({},ee),J),"day-short-month-year-short-time-24":Xr(Pt(Pt({},ee),J),{hour12:!1}),"day-short-month-year-long-time":Pt(Pt({},ee),j),"day-short-month-year-long-time-24":Xr(Pt(Pt({},ee),j),{hour12:!1}),"long-date":ie,"long-date-short-time":Pt(Pt({},ie),J),"long-date-short-time-24":Xr(Pt(Pt({},ie),J),{hour12:!1}),"long-date-long-time":Pt(Pt({},ie),j),"long-date-long-time-24":Xr(Pt(Pt({},ie),j),{hour12:!1}),"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":J,"long-time":j},B=(0,x.wY)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),ae=(B.toJSON.bind(B),B.fromJSON.bind(B),{ar:"ar-u-nu-latn-ca-gregory"});let $=new WeakMap,V=A["short-date-short-time"];function F(Y){return A[Y]||null}function Z(Y,H){return function P(Y){const H=Y||V;if(!$.has(H)){const de=(0,T.Kd)(),q=ae[(0,T.Kd)()]||de;$.set(H,new Intl.DateTimeFormat(q,H))}return $.get(H)}(H).format(Y)}(0,T.Ze)(()=>{$=new WeakMap,V=A["short-date-short-time"]})},56683:(lt,Se,C)=>{"use strict";var x,T,re;let ee;C.d(Se,{Ze:()=>V,Kd:()=>j,qe:()=>ae});const ie=null!=(x=null==(T=globalThis.esriConfig)?void 0:T.locale)?x:null==(re=globalThis.dojoConfig)?void 0:re.locale;function J(){var F,Z;return null!=(F=null!=ie?ie:null==(Z=globalThis.navigator)?void 0:Z.language)?F:"en"}function j(){return void 0===ee&&(ee=J()),ee}const K=[];function ae(F){return K.push(F),{remove(){K.splice(K.indexOf(F),1)}}}const $=[];function V(F){return $.push(F),{remove(){K.splice($.indexOf(F),1)}}}null==globalThis.addEventListener||globalThis.addEventListener("languagechange",function P(){const Z=null!=undefined?undefined:J();ee!==Z&&(ee=Z,[...$].forEach(Y=>{Y.call(null,Z)}),[...K].forEach(Y=>{Y.call(null,Z)}))})},41840:(lt,Se,C)=>{"use strict";C.d(Se,{ME:()=>W,Su:()=>ae,tz:()=>X});var x=C(15861),T=C(26584),re=C(10699),ne=C(56683);const ee=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,ie={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function J(Y){var H;return null!=(H=ie[Y])&&H}const j=[],A=new Map;function B(Y){for(const H of A.keys())P(Y.pattern,H)&&A.delete(H)}function X(Y){return j.includes(Y)||(B(Y),j.unshift(Y)),{remove(){const H=j.indexOf(Y);H>-1&&(j.splice(H,1),B(Y))}}}function W(Y){return K.apply(this,arguments)}function K(){return(K=(0,x.Z)(function*(Y){const H=(0,ne.Kd)();A.has(Y)||A.set(Y,$(Y,H));const de=A.get(Y);return yield F.add(de),de})).apply(this,arguments)}function ae(Y){if(!ee.test(Y))return null;const[,H,de]=ee.exec(Y),q=H+(de?"-"+de.toUpperCase():"");return J(q)?q:J(H)?H:null}function $(Y,H){return V.apply(this,arguments)}function V(){return(V=(0,x.Z)(function*(Y,H){const de=[];for(const q of j)if(P(q.pattern,Y))try{return yield q.fetchMessageBundle(Y,H)}catch(ge){de.push(ge)}throw de.length?new T.Z("intl:message-bundle-error",`Errors occurred while loading "${Y}"`,{errors:de}):new T.Z("intl:no-message-bundle-loader",`No loader found for message bundle "${Y}"`)})).apply(this,arguments)}function P(Y,H){return"string"==typeof Y?H.startsWith(Y):Y.test(H)}(0,ne.Ze)(()=>{A.clear()});const F=new class{constructor(){this._numLoading=0}waitForAll(){var Y=this;return(0,x.Z)(function*(){Y._dfd&&(yield Y._dfd.promise)})()}add(Y){return this._increase(),Y.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=(0,re.dD)())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}}},15348:(lt,Se,C)=>{"use strict";C.d(Se,{sh:()=>J,uf:()=>j});var x=C(62208),T=C(56683);const re={ar:"ar-u-nu-latn"};let ne=new WeakMap,ee={};function J(A={}){const B={};return null!=A.digitSeparator&&(B.useGrouping=A.digitSeparator),null!=A.places&&(B.minimumFractionDigits=B.maximumFractionDigits=A.places),B}function j(A,B){return function ie(A){const B=A||ee;if(!ne.has(B)){const X=(0,T.Kd)(),W=re[(0,T.Kd)()]||X;ne.set(B,new Intl.NumberFormat(W,A))}return(0,x.j0)(ne.get(B))}(B).format(A)}(0,T.Ze)(()=>{ne=new WeakMap,ee={}})},97059:(lt,Se,C)=>{"use strict";C.d(Se,{n:()=>J});var x=C(63290),T=C(94113),re=C(77275),ne=C(88411),ee=C(15348);const ie=x.Z.getLogger("esri.intl");function J(W,K,ae={}){const{format:$={}}=ae;return(0,re.gx)(W,V=>function j(W,K,ae){let $,V;const P=W.indexOf(":");if(-1===P?$=W.trim():($=W.slice(0,P).trim(),V=W.slice(P+1).trim()),!$)return"";const F=(0,T.hS)($,K);if(null==F)return"";const Z=ae[V]||ae[$];return Z?function A(W,K){switch(K.type){case"date":return(0,ne.p6)(W,K.intlOptions);case"number":return(0,ee.uf)(W,K.intlOptions);default:return ie.warn("missing format descriptor for key {key}"),X(W)}}(F,Z):V?function B(W,K){switch(K.toLowerCase()){case"dateformat":return(0,ne.p6)(W);case"numberformat":return(0,ee.uf)(W);default:return ie.warn(`inline format is unsupported since 4.12: ${K}`),/^(dateformat|datestring)/i.test(K)?(0,ne.p6)(W):/^numberformat/i.test(K)?(0,ee.uf)(W):X(W)}}(F,V):X(F)}(V,K,$))}function X(W){switch(typeof W){case"string":return W;case"number":return(0,ee.uf)(W);case"boolean":return""+W;default:return W instanceof Date?(0,ne.p6)(W):""}}},24263:(lt,Se,C)=>{"use strict";C.d(Se,{Dp:()=>j,id:()=>ie,qh:()=>J,i8:()=>ne,Nv:()=>ee});var x=C(15861),T=C(8314),re=C(21726);const ne="4.22",ee={request:(A,B)=>(0,x.Z)(function*(){var X;const{default:W}=yield Promise.resolve().then(C.bind(C,84792)),K=A.options,ae=K.responseType;K.signal=null==B?void 0:B.signal,K.responseType="native"===ae||"native-request-init"===ae?"native-request-init":["blob","json","text"].includes(ae)&&null!=(X=(0,re.oh)(A.url))&&X.after?ae:"array-buffer";const $=yield W(A.url,K),V={data:$.data,ssl:$.ssl};switch($.requestOptions.responseType){case"native-request-init":return delete V.data.signal,V;case"blob":V.data=yield V.data.arrayBuffer();break;case"json":V.data=(new TextEncoder).encode(JSON.stringify(V.data)).buffer;break;case"text":V.data=(new TextEncoder).encode(V.data).buffer}return{result:V,transferList:[V.data]}})()};let ie;function J(A){ie=A}function j(A){const B=ie&&ie.findCredential(A);return B&&B.token?(0,re.ZN)(A,"token",B.token):A}(0,T.Z)("host-webworker")||((0,T.Z)("edge")||(0,T.Z)("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser")},15382:(lt,Se,C)=>{"use strict";C.r(Se),C.d(Se,{default:()=>bt});var x=C(15861),T=C(17626),re=C(73281),A=(C(4832),C(49067),C(26284),C(54928),C(69357),C(40342)),B=C(14726),X=C(33474),W=C(32088),K=C(84792),ae=C(65787),$=C(7093),V=C(26584),P=C(72392),F=C(8314),Z=C(2076),Y=C(63290),H=C(62208),de=C(99959),q=C(94113),ge=C(10699);function ye(){return(ye=(0,x.Z)(function*(Le,We){const{WhereClause:it}=yield C.e(410).then(C.bind(C,10410));return it.create(Le,We)})).apply(this,arguments)}var we,oe=C(21726),Q=C(77712),ue=(C(85931),C(66656)),me=C(68653),ve=C(76898),fe=C(99433),Ce=C(383),ce=C(86162),he=C(58817),xe=C(90912);let Ae=we=class extends ce.wq{constructor(Le){super(Le),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new we({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};(0,T._)([(0,Q.Cb)({type:String,json:{write:!0}})],Ae.prototype,"expression",void 0),(0,T._)([(0,Q.Cb)({type:String,json:{write:!0}})],Ae.prototype,"name",void 0),(0,T._)([(0,Q.Cb)({type:["boolean"],json:{write:!0}})],Ae.prototype,"returnType",void 0),(0,T._)([(0,Q.Cb)({type:String,json:{write:!0}})],Ae.prototype,"title",void 0),Ae=we=(0,T._)([(0,ve.j)("esri.form.ExpressionInfo")],Ae);const Fe=Ae;let tt=class extends ce.wq{constructor(Le){super(Le),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};(0,T._)([(0,Q.Cb)({type:String,json:{write:!0}})],tt.prototype,"description",void 0),(0,T._)([(0,Q.Cb)({type:String,json:{write:!0}})],tt.prototype,"label",void 0),(0,T._)([(0,Q.Cb)()],tt.prototype,"type",void 0),(0,T._)([(0,Q.Cb)({type:String,json:{write:!0}})],tt.prototype,"visibilityExpression",void 0),tt=(0,T._)([(0,ve.j)("esri.form.elements.Element")],tt);const Re=tt;var be;let Te=be=class extends ce.wq{constructor(Le){super(Le),this.type=null}clone(){return new be({type:this.type})}};(0,T._)([(0,Q.Cb)({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],Te.prototype,"type",void 0),Te=be=(0,T._)([(0,ve.j)("esri.form.elements.inputs.AttachmentInput")],Te);const Je=Te;var ut;let Pe=ut=class extends Re{constructor(Le){super(Le),this.attachmentKeyword=null,this.editable=!0,this.input=null,this.type="attachment"}clone(){return new ut({attachmentKeyword:this.attachmentKeyword,description:this.description,editable:this.editable,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}};(0,T._)([(0,Q.Cb)({type:String,json:{write:!0}})],Pe.prototype,"attachmentKeyword",void 0),(0,T._)([(0,Q.Cb)({type:Boolean,json:{write:!0}})],Pe.prototype,"editable",void 0),(0,T._)([(0,Q.Cb)({type:Je,json:{read:{source:"inputType"},write:{target:"inputType"}}})],Pe.prototype,"input",void 0),(0,T._)([(0,Q.Cb)({type:["attachment"],json:{read:!1,write:!0}})],Pe.prototype,"type",void 0),Pe=ut=(0,T._)([(0,ve.j)("esri.form.elements.AttachmentElement")],Pe);const Qe=Pe;let Ye=class extends ce.wq{constructor(Le){super(Le),this.type=null}};(0,T._)([(0,Q.Cb)()],Ye.prototype,"type",void 0),Ye=(0,T._)([(0,ve.j)("esri.form.elements.inputs.Input")],Ye);const te=Ye;let _e=class extends te{constructor(Le){super(Le),this.maxLength=null,this.minLength=0}};(0,T._)([(0,Q.Cb)({type:Number,json:{write:!0}})],_e.prototype,"maxLength",void 0),(0,T._)([(0,Q.Cb)({type:Number,json:{write:!0}})],_e.prototype,"minLength",void 0),_e=(0,T._)([(0,ve.j)("esri.form.elements.inputs.TextInput")],_e);const Ze=_e;var et;let ht=et=class extends Ze{constructor(Le){super(Le),this.type="barcode-scanner"}clone(){return new et({maxLength:this.maxLength,minLength:this.minLength})}};(0,T._)([(0,Q.Cb)({type:["barcode-scanner"],json:{read:!1,write:!0}})],ht.prototype,"type",void 0),ht=et=(0,T._)([(0,ve.j)("esri.form.elements.inputs.BarcodeScannerInput")],ht);const ft=ht;var Et;let mt=Et=class extends te{constructor(Le){super(Le),this.noValueOptionLabel=null,this.showNoValueOption=!1,this.type="combo-box"}clone(){return new Et({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};(0,T._)([(0,Q.Cb)({type:String,json:{write:!0}})],mt.prototype,"noValueOptionLabel",void 0),(0,T._)([(0,Q.Cb)({type:Boolean,json:{write:!0}})],mt.prototype,"showNoValueOption",void 0),(0,T._)([(0,Q.Cb)({type:["combo-box"],json:{read:!1,write:!0}})],mt.prototype,"type",void 0),mt=Et=(0,T._)([(0,ve.j)("esri.form.elements.inputs.ComboBoxInput")],mt);const at=mt;var wt;function Tt(Le){return null!=Le?new Date(Le):null}function Ut(Le){return Le?Le.getTime():null}let Wt=wt=class extends te{constructor(Le){super(Le),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(Le,We){return Tt(We.max)}writeMax(Le,We){We.max=Ut(Le)}readMin(Le,We){return Tt(We.min)}writeMin(Le,We){We.min=Ut(Le)}clone(){return new wt({includeTime:this.includeTime,max:this.max,min:this.min,type:this.type})}};(0,T._)([(0,Q.Cb)({type:Boolean,json:{write:!0}})],Wt.prototype,"includeTime",void 0),(0,T._)([(0,Q.Cb)({type:Date,json:{type:Number,write:!0}})],Wt.prototype,"max",void 0),(0,T._)([(0,me.r)("max")],Wt.prototype,"readMax",null),(0,T._)([(0,fe.c)("max")],Wt.prototype,"writeMax",null),(0,T._)([(0,Q.Cb)({type:Date,json:{type:Number,write:!0}})],Wt.prototype,"min",void 0),(0,T._)([(0,me.r)("min")],Wt.prototype,"readMin",null),(0,T._)([(0,fe.c)("min")],Wt.prototype,"writeMin",null),(0,T._)([(0,Q.Cb)({type:["datetime-picker"],json:{read:!1,write:!0}})],Wt.prototype,"type",void 0),Wt=wt=(0,T._)([(0,ve.j)("esri.form.elements.inputs.DateTimePickerInput")],Wt);const er=Wt;var gr;let yr=gr=class extends te{constructor(Le){super(Le),this.noValueOptionLabel=null,this.showNoValueOption=!1,this.type="radio-buttons"}clone(){return new gr({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};(0,T._)([(0,Q.Cb)({type:String,json:{write:!0}})],yr.prototype,"noValueOptionLabel",void 0),(0,T._)([(0,Q.Cb)({type:Boolean,json:{write:!0}})],yr.prototype,"showNoValueOption",void 0),(0,T._)([(0,Q.Cb)({type:["radio-buttons"],json:{read:!1,write:!0}})],yr.prototype,"type",void 0),yr=gr=(0,T._)([(0,ve.j)("esri.form.elements.inputs.RadioButtonsInput")],yr);const mr=yr;var gt;let kt=gt=class extends te{constructor(Le){super(Le),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new gt({offValue:this.offValue,onValue:this.onValue})}};(0,T._)([(0,Q.Cb)({type:[String,Number],json:{write:!0}})],kt.prototype,"offValue",void 0),(0,T._)([(0,Q.Cb)({type:[String,Number],json:{write:!0}})],kt.prototype,"onValue",void 0),(0,T._)([(0,Q.Cb)({type:["switch"],json:{read:!1,write:!0}})],kt.prototype,"type",void 0),kt=gt=(0,T._)([(0,ve.j)("esri.form.elements.inputs.SwitchInput")],kt);const Gt=kt;var Qt;let lr=Qt=class extends Ze{constructor(Le){super(Le),this.type="text-area"}clone(){return new Qt({maxLength:this.maxLength,minLength:this.minLength})}};(0,T._)([(0,Q.Cb)({type:["text-area"],json:{read:!1,write:!0}})],lr.prototype,"type",void 0),lr=Qt=(0,T._)([(0,ve.j)("esri.form.elements.inputs.TextAreaInput")],lr);const dr=lr;var ct;let Ot=ct=class extends Ze{constructor(Le){super(Le),this.type="text-box"}clone(){return new ct({maxLength:this.maxLength,minLength:this.minLength})}};(0,T._)([(0,Q.Cb)({type:["text-box"],json:{read:!1,write:!0}})],Ot.prototype,"type",void 0),Ot=ct=(0,T._)([(0,ve.j)("esri.form.elements.inputs.TextBoxInput")],Ot);const Vt={base:te,key:"type",typeMap:{"barcode-scanner":ft,"combo-box":at,"datetime-picker":er,"radio-buttons":mr,switch:Gt,"text-area":dr,"text-box":Ot}};var Zt,Yt=C(26141);let ke=Zt=class extends Re{constructor(Le){super(Le),this.domain=null,this.editable=!0,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field"}clone(){return new Zt({description:this.description,domain:this.domain,editable:this.editable,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,visibilityExpression:this.visibilityExpression})}};(0,T._)([(0,Q.Cb)({types:Yt.V5,json:{read:{reader:Yt.im},write:!0}})],ke.prototype,"domain",void 0),(0,T._)([(0,Q.Cb)({type:Boolean,json:{write:!0}})],ke.prototype,"editable",void 0),(0,T._)([(0,Q.Cb)({type:String,json:{write:!0}})],ke.prototype,"fieldName",void 0),(0,T._)([(0,Q.Cb)({type:String,json:{write:!0}})],ke.prototype,"hint",void 0),(0,T._)([(0,Q.Cb)({types:Vt,json:{read:{source:"inputType"},write:{target:"inputType"}}})],ke.prototype,"input",void 0),(0,T._)([(0,Q.Cb)({type:String,json:{write:!0}})],ke.prototype,"requiredExpression",void 0),(0,T._)([(0,Q.Cb)({type:String,json:{read:!1,write:!0}})],ke.prototype,"type",void 0),ke=Zt=(0,T._)([(0,ve.j)("esri.form.elements.FieldElement")],ke);const ot=ke;var Xe,ze=C(51686);let He=Xe=class extends Re{constructor(Le){super(Le),this.displayCount=null,this.displayType="list",this.editable=!0,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new Xe({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editable:this.editable,label:this.label,orderByFields:(0,he.d9)(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};(0,T._)([(0,Q.Cb)({type:Number,json:{write:!0}})],He.prototype,"displayCount",void 0),(0,T._)([(0,Q.Cb)({type:["list"],json:{write:!0}})],He.prototype,"displayType",void 0),(0,T._)([(0,Q.Cb)({type:Boolean,json:{write:!0}})],He.prototype,"editable",void 0),(0,T._)([(0,Q.Cb)({type:[ze.Z],json:{write:!0}})],He.prototype,"orderByFields",void 0),(0,T._)([(0,Q.Cb)({type:Number,json:{write:!0}})],He.prototype,"relationshipId",void 0),(0,T._)([(0,Q.Cb)({type:["relationship"],json:{read:!1,write:!0}})],He.prototype,"type",void 0),He=Xe=(0,T._)([(0,ve.j)("esri.form.elements.RelationshipElement")],He);const Ue=He;function nt(Le){return{typesWithGroup:{base:Re,key:"type",typeMap:{attachment:Qe,field:ot,group:Le,relationship:Ue}},typesWithoutGroup:{base:Re,key:"type",typeMap:{attachment:Qe,field:ot,relationship:Ue}}}}function Mt(Le,We,it=!0){if(!Le)return null;const Dt=it?We.typesWithGroup.typeMap:We.typesWithoutGroup.typeMap;return Le.filter(Bt=>Dt[Bt.type]).map(Bt=>Dt[Bt.type].fromJSON(Bt))}function tr(Le,We,it=!0){if(!Le)return null;const Dt=it?We.typesWithGroup.typeMap:We.typesWithoutGroup.typeMap;return Le.filter(Bt=>Dt[Bt.type]).map(Bt=>Bt.toJSON())}function br(Le,We,it=!0){return Le?Le.map(Dt=>(0,xe.N7)(it?We.typesWithGroup:We.typesWithoutGroup,Dt)):null}var xr;let Ur=xr=class extends Re{constructor(Le){super(Le),this.elements=null,this.initialState="expanded",this.type="group"}castElements(Le){return br(Le,Br,!1)}readElements(Le,We){return Mt(We.formElements,Br,!1)}writeElements(Le,We){We.formElements=tr(Le,Br,!1)}clone(){return new xr({description:this.description,elements:(0,he.d9)(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};(0,T._)([(0,Q.Cb)({json:{write:!0}})],Ur.prototype,"elements",void 0),(0,T._)([(0,ue.p)("elements")],Ur.prototype,"castElements",null),(0,T._)([(0,me.r)("elements",["formElements"])],Ur.prototype,"readElements",null),(0,T._)([(0,fe.c)("elements")],Ur.prototype,"writeElements",null),(0,T._)([(0,Q.Cb)({type:["collapsed","expanded"],json:{write:!0}})],Ur.prototype,"initialState",void 0),(0,T._)([(0,Q.Cb)({type:String,json:{read:!1,write:!0}})],Ur.prototype,"type",void 0),Ur=xr=(0,T._)([(0,ve.j)("esri.form.elements.GroupElement")],Ur);const Br=nt(Ur);var jn;const Ai=nt(Ur);let Yn=jn=class extends ce.wq{constructor(Le){super(Le),this.description=null,this.elements=null,this.expressionInfos=null,this.title=null}castElements(Le){return br(Le,Ai)}readElements(Le,We){return Mt(We.formElements,Ai)}writeElements(Le,We){We.formElements=tr(Le,Ai)}clone(){return new jn({description:this.description,expressionInfos:(0,he.d9)(this.expressionInfos),elements:(0,he.d9)(this.elements),title:this.title})}};(0,T._)([(0,Q.Cb)({type:String,json:{write:!0}})],Yn.prototype,"description",void 0),(0,T._)([(0,Q.Cb)({json:{write:!0}})],Yn.prototype,"elements",void 0),(0,T._)([(0,ue.p)("elements")],Yn.prototype,"castElements",null),(0,T._)([(0,me.r)("elements",["formElements"])],Yn.prototype,"readElements",null),(0,T._)([(0,fe.c)("elements")],Yn.prototype,"writeElements",null),(0,T._)([(0,Q.Cb)({type:[Fe],json:{write:!0}})],Yn.prototype,"expressionInfos",void 0),(0,T._)([(0,Q.Cb)({type:String,json:{write:!0}})],Yn.prototype,"title",void 0),Yn=jn=(0,T._)([(0,ve.j)("esri.form.FormTemplate")],Yn);const Hi=Yn;var no=C(2004),Ui=C(79334),$n=C(65234),oi=C(63602),Mi=(C(29132),C(88879)),us=C(80542),No=C(47996),$s=C(60330),io=C(59289),$o=C(61039),cs=C(20514),Bi=C(61515),Sn=C(17253),oo=C(37118),Kn=C(71774);let Ve=0;const Ht=Y.Z.getLogger("esri.layers.graphics.sources.MemorySource");let jt=class extends(No.Z.LoadableMixin((0,$s.v)((0,us.p)($.Z)))){constructor(Le){super(Le),this._idToClientGraphic=null,this.type="memory"}load(Le){const We=(0,H.pC)(Le)?Le.signal:null;return this.addResolvingPromise(this._startWorker(We)),Promise.resolve(this)}destroy(){var Le;null==(Le=this._connection)||Le.close(),this._connection=null}get workerGeometryType(){var Le;const We=null==(Le=this.layer)?void 0:Le.geometryType;return We?this._geometryTypeRequiresClientGraphicMapping(We)?"polygon":We:null}applyEdits(Le){return this.load().then(()=>this._applyEdits(Le))}openPorts(){return this.load().then(()=>this._connection.openPorts())}queryFeatures(Le,We={}){var it=this;return(0,x.Z)(function*(){yield it.load(We);const Dt=yield it._connection.invoke("queryFeatures",Le?Le.toJSON():null,We);(0,Bi.p)(Le,it.layer.spatialReference,Dt);const Bt=Sn.default.fromJSON(Dt);if(!it._requiresClientGraphicMapping())return Bt;const Jt=it.layer.objectIdField;for(const rr of Bt.features){const Vr=it._idToClientGraphic.get(rr.attributes[Jt]);Vr&&(rr.geometry=Vr.geometry)}return Bt.geometryType=it.layer.geometryType,Bt})()}queryFeaturesJSON(Le,We={}){var it=this;return(0,x.Z)(function*(){if(it._requiresClientGraphicMapping())throw new V.Z("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");yield it.load(We);const Dt=yield it._connection.invoke("queryFeatures",Le?Le.toJSON():null,We);return(0,Bi.p)(Le,it.layer.spatialReference,Dt),Dt})()}queryFeatureCount(Le,We={}){return this.load(We).then(()=>this._connection.invoke("queryFeatureCount",Le?Le.toJSON():null,We))}queryObjectIds(Le,We={}){return this.load(We).then(()=>this._connection.invoke("queryObjectIds",Le?Le.toJSON():null,We))}queryExtent(Le,We={}){return this.load(We).then(()=>this._connection.invoke("queryExtent",Le?Le.toJSON():null,We)).then(it=>({count:it.count,extent:no.Z.fromJSON(it.extent)}))}querySnapping(Le,We={}){return this.load(We).then(()=>this._connection.invoke("querySnapping",Le,We))}_applyEdits(Le){var We=this;return(0,x.Z)(function*(){if(!We._connection)throw new V.Z("feature-layer-source:edit-failure","Memory source not loaded");const it=We.layer.objectIdField;let Dt=null;const Bt=[],Jt=[];yield Promise.all([We._prepareClientMapping(Le.addFeatures,null),We._prepareClientMapping(Le.updateFeatures,null)]);const rr=Rn=>"objectId"in Rn&&null!=Rn.objectId?Rn.objectId:"attributes"in Rn&&null!=Rn.attributes[it]?Rn.attributes[it]:null;if(Le.addFeatures&&(Dt=We._prepareAddFeatures(Le.addFeatures)),Le.deleteFeatures)for(const Rn of Le.deleteFeatures){const mi=rr(Rn);null!=mi&&Bt.push(mi)}const Dr=Le.updateFeatures&&We._idToClientGraphic?new Map:null;if(Le.updateFeatures)for(const Rn of Le.updateFeatures)if(Jt.push(We._serializeFeature(Rn)),Dr){const mi=rr(Rn);null!=mi&&Dr.set(mi,Rn)}(0,cs.P)(Dt?Dt.features:null,Jt,We.layer.spatialReference);const{fullExtent:Vr,featureEditResults:Nr}=yield We._connection.invoke("applyEdits",{adds:Dt?Dt.features:[],updates:Jt,deletes:Bt});return We.fullExtent=Vr,Dt&&Dt.finish(Nr.uidToObjectId),We._updateClientGraphicIds(Dr,Nr),We._createEditsResult(Nr)})()}_prepareClientMapping(Le,We){var it=this;return(0,x.Z)(function*(){if("mesh"!==it.layerOrSourceGeometryType||(0,H.Wi)(Le))return;const Dt=[];for(const{geometry:Bt}of Le)!(0,H.pC)(Bt)||"mesh"!==Bt.type||Bt.hasExtent||Bt.loaded||Dt.push(Bt.load({signal:We}));Dt.length&&(yield Promise.all(Dt))})()}_updateClientGraphicIds(Le,We){if(this._idToClientGraphic){if(Le)for(const it of We.updateResults){if(!it.success)continue;const Dt=Le.get(it.objectId);null!=Dt&&this._addIdToClientGraphic(Dt)}for(const it of We.deleteResults)it.success&&this._idToClientGraphic.delete(it.objectId)}}_createEditsResult(Le){return{addFeatureResults:Le.addResults?Le.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:Le.updateResults?Le.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:Le.deleteResults?Le.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(Le){const We=!0===Le.success?null:Le.error||{code:void 0,description:void 0};return{objectId:Le.objectId,globalId:Le.globalId,error:We?new V.Z("feature-layer-source:edit-failure",We.description,{code:We.code}):null}}_prepareAddFeatures(Le){const We=new Map,it=new Array(Le.length);let Dt=null;for(let Jt=0;Jt<Le.length;Jt++){const rr=Le[Jt],Dr=this._serializeFeature(rr);!Dt&&(0,H.pC)(rr.geometry)&&(Dt=rr.geometry.type),it[Jt]=Dr,We.set(`${Dr.uid}`,rr)}const Bt=this;return{features:it,inferredGeometryType:Dt,finish(Jt){const rr=Bt.sourceJSON.objectIdField;for(const Dr in Jt){const Vr=Jt[Dr],Nr=We.get(Dr);Nr&&(Nr.attributes||(Nr.attributes={}),-1===Vr?delete Nr.attributes[rr]:Nr.attributes[rr]=Vr,Bt._addIdToClientGraphic(Nr))}}}}_addIdToClientGraphic(Le){if(!this._idToClientGraphic)return;const it=Le.attributes&&Le.attributes[this.sourceJSON.objectIdField];null!=it&&this._idToClientGraphic.set(it,Le)}get layerOrSourceGeometryType(){var Le,We,it;return null!=(Le=null==(We=this.layer)?void 0:We.geometryType)?Le:null==(it=this.sourceJSON)?void 0:it.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this.layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(Le){return this._geometryTypeRequiresClientGraphicMapping(Le.type)}_geometryTypeRequiresClientGraphicMapping(Le){return"mesh"===Le||"multipatch"===Le||"extent"===Le}_serializeFeature(Le){const{attributes:We}=Le,it=this._geometryForSerialization(Le),Dt=(Ve++).toString();return it?{uid:Dt,geometry:it.toJSON(),attributes:We}:{uid:Dt,attributes:We}}_geometryForSerialization(Le){const{geometry:We}=Le;return(0,H.Wi)(We)?null:this._geometryRequiresClientGraphicMapping(We)?We.extent?oo.Z.fromExtent(We.extent):null:We}_startWorker(Le){var We=this;return(0,x.Z)(function*(){We._connection=yield(0,io.bA)("MemorySourceWorker",{strategy:(0,F.Z)("feature-layers-workers")?"dedicated":"local",signal:Le});const{fields:it,spatialReference:Dt,objectIdField:Bt,hasM:Jt,hasZ:rr,timeInfo:Dr}=We.layer,Vr="defaults"===We.layer.originOf("spatialReference");yield We._prepareClientMapping(We.items,Le);const Nr=We._prepareAddFeatures(We.items);We.handles.add(We.on("before-changes",gn=>{Ht.error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),gn.preventDefault()}));const Rn={features:Nr.features,fields:it&&it.map(gn=>gn.toJSON()),geometryType:Kn.P$.toJSON(We.workerGeometryType),hasM:"mesh"!==We.layerOrSourceGeometryType&&Jt,hasZ:"mesh"===We.layerOrSourceGeometryType||rr,objectIdField:Bt,spatialReference:Vr?null:Dt&&Dt.toJSON(),timeInfo:Dr?Dr.toJSON():null},mi=yield We._connection.invoke("load",Rn,{signal:Le});for(const gn of mi.warnings)Ht.warn(gn.message,{layer:We.layer,warning:gn});mi.featureErrors.length&&Ht.warn(`Encountered ${mi.featureErrors.length} validation errors while loading features`,mi.featureErrors);const Ri=mi.layerDefinition;We._geometryTypeRequiresClientGraphicMapping(Nr.inferredGeometryType)&&(Ri.geometryType=Kn.P$.toJSON(Nr.inferredGeometryType)),We.sourceJSON=Ri,We._requiresClientGraphicMapping()&&(We._idToClientGraphic=new Map),Nr.finish(mi.assignedObjectIds)})()}};(0,T._)([(0,$o.c)({Type:Mi.Z,ensureType:(0,xe.se)(Mi.Z)})],jt.prototype,"itemType",void 0),(0,T._)([(0,Q.Cb)()],jt.prototype,"type",void 0),(0,T._)([(0,Q.Cb)({constructOnly:!0})],jt.prototype,"layer",void 0),(0,T._)([(0,Q.Cb)({readOnly:!0})],jt.prototype,"workerGeometryType",null),(0,T._)([(0,Q.Cb)()],jt.prototype,"sourceJSON",void 0),jt=(0,T._)([(0,ve.j)("esri.layers.graphics.sources.MemorySource")],jt);const Cr=jt;var Wr,_r=C(50085),Kr=C(65088),an=C(552),Pr=C(50107),wr=C(35126),yn=C(49286),xn=C(32629),Zr=C(6647),Xt=C(30346),Or=C(99555),An=C(97941),Xn=C(38305),Bn=C(13812);let ei=Wr=class extends ce.wq{constructor(Le){super(Le)}clone(){const{name:Le,fields:We,isAscending:it,isUnique:Dt,description:Bt}=this;return new Wr({name:Le,fields:We,isAscending:it,isUnique:Dt,description:Bt})}};(0,T._)([(0,Q.Cb)({constructOnly:!0})],ei.prototype,"name",void 0),(0,T._)([(0,Q.Cb)({constructOnly:!0})],ei.prototype,"fields",void 0),(0,T._)([(0,Q.Cb)({constructOnly:!0})],ei.prototype,"isAscending",void 0),(0,T._)([(0,Q.Cb)({constructOnly:!0})],ei.prototype,"isUnique",void 0),(0,T._)([(0,Q.Cb)({constructOnly:!0})],ei.prototype,"description",void 0),ei=Wr=(0,T._)([(0,ve.j)("esri.layers.support.FeatureIndex")],ei);var Ko=C(2777),Vi=C(32777),wi=C(41638),Ji=C(55911),so=C(36630),tn=C(16730);let Yi=class extends ce.wq{constructor(Le){super(Le),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};(0,T._)([(0,Q.Cb)({type:String,json:{read:{source:"shapeAreaFieldName"}}})],Yi.prototype,"shapeAreaField",void 0),(0,T._)([(0,Q.Cb)({type:String,json:{read:{source:"shapeLengthFieldName"}}})],Yi.prototype,"shapeLengthField",void 0),(0,T._)([(0,Q.Cb)({type:String,json:{read:Le=>tn.gV.read(Le)||tn.Jo.read(Le)}})],Yi.prototype,"units",void 0),Yi=(0,T._)([(0,ve.j)("esri.layers.support.GeometryFieldsInfo")],Yi);const Cn=Yi;var ds=C(170),vi=C(62667),Wi=C(2430);const Tn=new Z.Xn({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),Zn=new Z.Xn({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let Gr=class extends ce.wq{constructor(Le){super(Le),this.cardinality=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};(0,T._)([(0,Q.Cb)({json:{read:Tn.read,write:Tn.write}})],Gr.prototype,"cardinality",void 0),(0,T._)([(0,Q.Cb)({json:{read:!0,write:!0}})],Gr.prototype,"composite",void 0),(0,T._)([(0,Q.Cb)({json:{read:!0,write:!0}})],Gr.prototype,"id",void 0),(0,T._)([(0,Q.Cb)({json:{read:!0,write:!0}})],Gr.prototype,"keyField",void 0),(0,T._)([(0,Q.Cb)({json:{read:!0,write:!0}})],Gr.prototype,"keyFieldInRelationshipTable",void 0),(0,T._)([(0,Q.Cb)({json:{read:!0,write:!0}})],Gr.prototype,"name",void 0),(0,T._)([(0,Q.Cb)({json:{read:!0,write:!0}})],Gr.prototype,"relatedTableId",void 0),(0,T._)([(0,Q.Cb)({json:{read:!0,write:!0}})],Gr.prototype,"relationshipTableId",void 0),(0,T._)([(0,Q.Cb)({json:{read:Zn.read,write:Zn.write}})],Gr.prototype,"role",void 0),Gr=(0,T._)([(0,ve.j)("esri.layers.support.Relationship")],Gr);const Mn=Gr;var hs=C(62708),dt=C(15283),xt=C(39683),yt=C(67736),At=C(84952),sr=C(67010),qt=C(6871),hr=C(49430);const nr=new Z.Xn({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),_t={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"},Ft="FeatureLayer",$t=Y.Z.getLogger("esri.layers.FeatureLayer");function pr(Le){return Le&&Le instanceof $.Z}function vr(Le,We,it){return!!(Le&&Le.hasOwnProperty(We)?Le[We]:it)}function cr(Le,We,it){return Le&&Le.hasOwnProperty(We)?Le[We]:it}const Qr=(0,Ji.v)();function dn(Le,We,it){const Dt=!(null==it||!it.writeLayerSchema);return{enabled:Dt,ignoreOrigin:Dt}}let je=class extends((0,wr.b)((0,an.h)((0,xn.c)((0,An.n)((0,Or.M)((0,Xt.Q)((0,Kr.Y)((0,yn.q)((0,Zr.I)((0,de.R)((0,Pr.N)((0,_r.V)(oi.Z))))))))))))){constructor(...Le){super(...Le),this._handles=new P.Z,this.capabilities=null,this.charts=null,this.copyright=null,this.datesInUnknownTimezone=!1,this.displayField=null,this.definitionExpression=null,this.dynamicDataSource=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.featureReduction=null,this.fields=null,this.fieldsIndex=null,this.floorInfo=null,this.formTemplate=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.layerId=void 0,this.legendEnabled=!0,this.minScale=0,this.maxScale=0,this.globalIdField=null,this.objectIdField=null,this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.relationships=null,this.sourceJSON=null,this.returnM=void 0,this.returnZ=void 0,this.screenSizePerspectiveEnabled=!0,this.serviceDefinitionExpression=null,this.spatialReference=$n.Z.WGS84,this.subtypeCode=null,this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.trackIdField=null,this.type="feature",this.typeIdField=null,this.types=null,this.indexes=new($.Z.ofType(ei)),this.userIsAdmin=!1,this.version=void 0,this.visible=!0}destroy(){var Le;null==(Le=this.source)||Le.destroy(),this._handles=(0,H.SC)(this._handles)}normalizeCtorArgs(Le,We){return"string"==typeof Le?Pt({url:Le},We):Le}load(Le){var We=this;const it=(0,H.pC)(Le)?Le.signal:null;if(this.portalItem&&this.portalItem.loaded&&this.source)return void this.addResolvingPromise(this.createGraphicsSource(it).then(Bt=>this._initLayerProperties(Bt)));const Dt=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection"]},Le).catch(ge.r9).then((0,x.Z)(function*(){if(We.url&&null==We.layerId&&/FeatureServer|MapServer\/*$/i.test(We.url)){const Bt=yield We._fetchFirstLayerId(it);null!=Bt&&(We.layerId=Bt)}if(!We.url&&!We._hasMemorySource())throw new V.Z("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return We._initLayerProperties(yield We.createGraphicsSource(it))})).then(()=>this.finishLoadEditablePortalLayer(Le));return this.addResolvingPromise(Dt),Promise.resolve(this)}readCapabilities(Le,We){return{attachment:this._readAttachmentCapabilities((We=We.layerDefinition||We).attachmentProperties),data:this._readDataCapabilities(We),metadata:this._readMetadataCapabilities(We),operations:this._readOperationsCapabilities(We.capabilities||Le,We),query:this._readQueryCapabilities(We),queryRelated:this._readQueryRelatedCapabilities(We),editing:this._readEditingCapabilities(We)}}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")||0)+1}get editingEnabled(){return!(this.loaded&&!this.capabilities.operations.supportsEditing)&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(Le){null!=Le?this._override("editingEnabled",Le):this._clearOverride("editingEnabled")}readEditingEnabled(Le,We){return this._readEditingEnabled(We,!1)}readEditingEnabledFromWebMap(Le,We,it){return this._readEditingEnabled(We,!0,it)}writeEditingEnabled(Le,We){this._writeEditingEnabled(Le,We,!1)}writeEditingEnabledToWebMap(Le,We,it,Dt){this._writeEditingEnabled(Le,We,!0,Dt)}readEditingInfo(Le,We){const{editingInfo:it}=We;return it?{lastEditDate:null!=it.lastEditDate?new Date(it.lastEditDate):null}:null}readIsTable(Le,We){return"Table"===(We=We&&We.layerDefinition||We).type||!We.geometryType}writeIsTable(Le,We,it,Dt){null!=Dt&&Dt.writeLayerSchema&&(0,q.RB)(it,Le?"Table":"Feature Layer",We)}readMinScale(Le,We){return We.effectiveMinScale||Le||0}readMaxScale(Le,We){return We.effectiveMaxScale||Le||0}readGlobalIdFieldFromService(Le,We){if((We=We.layerDefinition||We).globalIdField)return We.globalIdField;if(We.fields)for(const it of We.fields)if("esriFieldTypeGlobalID"===it.type)return it.name}readObjectIdFieldFromService(Le,We){if((We=We.layerDefinition||We).objectIdField)return We.objectIdField;if(We.fields)for(const it of We.fields)if("esriFieldTypeOID"===it.type)return it.name}get parsedUrl(){const Le=this.url?(0,oe.mN)(this.url):null;return null!=Le&&(null!=this.dynamicDataSource?Le.path=(0,oe.v_)(Le.path,"dynamicLayer"):null!=this.layerId&&(Le.path=(0,oe.v_)(Le.path,this.layerId.toString()))),Le}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(Le){(0,so.YN)(Le,this.fieldsIndex),this._set("renderer",Le)}readRenderer(Le,We,it){const Dt=(We=We.layerDefinition||We).drawingInfo&&We.drawingInfo.renderer||void 0;if(Dt){const Bt=(0,X.a)(Dt,We,it)||void 0;return Bt||$t.error("Failed to create renderer",{rendererDefinition:We.drawingInfo.renderer,layer:this,context:it}),Bt}if(We.defaultSymbol)return We.types&&We.types.length?new B.Z({defaultSymbol:rt(We.defaultSymbol,We,it),field:We.typeIdField,uniqueValueInfos:We.types.map(Bt=>({id:Bt.id,symbol:rt(Bt.symbol,Bt,it)}))}):new A.Z({symbol:rt(We.defaultSymbol,We,it)})}set source(Le){const We=this._get("source");We!==Le&&(pr(We)&&this._resetMemorySource(We),pr(Le)&&this._initMemorySource(Le),this._set("source",Le))}castSource(Le){return Le?Array.isArray(Le)||Le instanceof $.Z?new Cr({layer:this,items:Le}):Le:null}readSource(Le,We){const it=Sn.default.fromJSON(We.featureSet);return new Cr({layer:this,items:it&&it.features||[]})}readServiceDefinitionExpression(Le,We){return We.definitionQuery||We.definitionExpression}readTemplates(Le,We){const it=We.editFieldsInfo,Dt=it&&it.creatorField,Bt=it&&it.editorField;return Le=Le&&Le.map(Jt=>Vi.Z.fromJSON(Jt)),this._fixTemplates(Le,Dt),this._fixTemplates(Le,Bt),Le}readTitle(Le,We){const it=We.layerDefinition&&We.layerDefinition.name||We.name,Dt=We.title||We.layerDefinition&&We.layerDefinition.title;if(it){const Bt=this.portalItem&&this.portalItem.title;if("item-title"===this.sublayerTitleMode)return this.url?(0,Xn.a7)(this.url,it):it;let Jt=it;if(!Jt&&this.url){const rr=(0,Xn.Qc)(this.url);(0,H.pC)(rr)&&(Jt=rr.title)}return Jt?("item-title-and-service-name"===this.sublayerTitleMode&&Bt&&Bt!==Jt&&(Jt=Bt+" - "+Jt),(0,Xn.ld)(Jt)):void 0}if("item-title"===this.sublayerTitleMode&&Dt)return Dt}readTitleFromWebMap(Le,We){return We.title||We.layerDefinition&&We.layerDefinition.name}readTypeIdField(Le,We){let it=(We=We.layerDefinition||We).typeIdField;if(it&&We.fields){it=it.toLowerCase();const Dt=We.fields.find(Bt=>Bt.name.toLowerCase()===it);Dt&&(it=Dt.name)}return it}readTypes(Le,We){Le=(We=We.layerDefinition||We).types;const it=We.editFieldsInfo,Dt=it&&it.creatorField,Bt=it&&it.editorField;return Le&&Le.map(Jt=>(Jt=wi.Z.fromJSON(Jt),this._fixTemplates(Jt.templates,Dt),this._fixTemplates(Jt.templates,Bt),Jt))}set url(Le){const We=(0,Xn.XG)({layer:this,url:Le,nonStandardUrlAllowed:!0,logger:$t});this._set("url",We.url),null!=We.layerId&&this._set("layerId",We.layerId)}writeUrl(Le,We,it,Dt){(0,Xn.wH)(this,Le,null,We,Dt)}readVersion(Le,We){return We.currentVersion?We.currentVersion:We.hasOwnProperty("capabilities")||We.hasOwnProperty("drawingInfo")||We.hasOwnProperty("hasAttachments")||We.hasOwnProperty("htmlPopupType")||We.hasOwnProperty("relationships")||We.hasOwnProperty("timeInfo")||We.hasOwnProperty("typeIdField")||We.hasOwnProperty("types")?10:9.3}readVisible(Le,We){return We.layerDefinition&&null!=We.layerDefinition.defaultVisibility?!!We.layerDefinition.defaultVisibility:null!=We.visibility?!!We.visibility:void 0}addAttachment(Le,We){return this.load().then(()=>this._checkAttachmentSupport(Le)).then(()=>{if(!("addAttachment"in this.source))throw new V.Z(Ft,"Layer source does not support addAttachment capability");return this.source.addAttachment(Le,We)})}updateAttachment(Le,We,it){return this.load().then(()=>this._checkAttachmentSupport(Le)).then(()=>{if(!("updateAttachment"in this.source))throw new V.Z(Ft,"Layer source does not support updateAttachment capability");return this.source.updateAttachment(Le,We,it)})}applyEdits(Le,We){var it=this;return(0,x.Z)(function*(){const Dt=yield C.e(1913).then(C.bind(C,81913));return yield it.load(),Dt.applyEdits(it,it.source,Le,We)})()}on(Le,We){return super.on(Le,We)}createPopupTemplate(Le){return(0,hr.eZ)(this,Le)}createGraphicsSource(Le){var We=this;return(0,x.Z)(function*(){if(We._hasMemorySource())return We.source.load({signal:Le});const{default:it}=yield(0,ge.Hl)(C.e(5547).then(C.bind(C,45547)),Le);return new it({layer:We}).load({signal:Le})})()}createQuery(){const Le=new At.Z,We=this.get("capabilities.data");Le.dynamicDataSource=this.dynamicDataSource,Le.gdbVersion=this.gdbVersion,Le.historicMoment=this.historicMoment,Le.returnGeometry=!0,We&&(We.supportsZ&&null!=this.returnZ&&(Le.returnZ=this.returnZ),We.supportsM&&null!=this.returnM&&(Le.returnM=this.returnM)),Le.outFields=["*"],Le.where=this.definitionExpression||"1=1";const{timeOffset:it,timeExtent:Dt}=this;return Le.timeExtent=null!=it&&null!=Dt?Dt.offset(-it.value,it.unit):Dt||null,Le.multipatchOption="multipatch"===this.geometryType?"xyFootprint":null,Le}deleteAttachments(Le,We){return this.load().then(()=>this._checkAttachmentSupport(Le)).then(()=>{if(!("deleteAttachments"in this.source))throw new V.Z(Ft,"Layer source does not support deleteAttachments capability");return this.source.deleteAttachments(Le,We)})}fetchRecomputedExtents(Le){return this.load({signal:null==Le?void 0:Le.signal}).then(()=>{if(this.source.fetchRecomputedExtents)return this.source.fetchRecomputedExtents(Le);throw new V.Z(Ft,"Layer source does not support fetchUpdates capability")})}getFeatureType(Le){const{typeIdField:We,types:it}=this;if(!We||!Le)return null;const Dt=Le.attributes?Le.attributes[We]:void 0;if(null==Dt)return null;let Bt=null;return it.some(Jt=>{const{id:rr}=Jt;return null!=rr&&(rr.toString()===Dt.toString()&&(Bt=Jt),!!Bt)}),Bt}getFieldDomain(Le,We){const Dt=this.getFeatureType(We&&We.feature);if(Dt){const Bt=Dt.domains&&Dt.domains[Le];if(Bt&&"inherited"!==Bt.type)return Bt}return this._getLayerDomain(Le)}getField(Le){return this.fieldsIndex.get(Le)}queryAttachments(Le,We){return Le=yt.Z.from(Le),this.load().then(()=>{if(!this.get("capabilities.data.supportsAttachment"))throw new V.Z(Ft,"this layer doesn't support attachments");const{attachmentTypes:it,objectIds:Dt,globalIds:Bt,num:Jt,size:rr,start:Dr,where:Vr}=Le;if(!this.get("capabilities.operations.supportsQueryAttachments")){const Rn=it&&it.length,mi=Bt&&Bt.length,Ri=rr&&rr.length;if(Dt&&Dt.length>1||Rn||mi||Ri||Jt||Dr||Vr)throw new V.Z(Ft,"when 'supportsQueryAttachments' is false, only objectIds of length 1 are supported",Le)}if(!(Dt&&Dt.length||Vr))throw new V.Z(Ft,"'objectIds' or 'where' are required to perform attachment query",Le);if(!("queryAttachments"in this.source))throw new V.Z(Ft,"Layer source does not support queryAttachments capability",Le);return this.source.queryAttachments(Le)})}queryFeatures(Le,We){return this.load().then(()=>this.source.queryFeatures(At.Z.from(Le)||this.createQuery(),We)).then(it=>{if(null!=it&&it.features)for(const Dt of it.features)Dt.layer=Dt.sourceLayer=this;return it})}queryObjectIds(Le,We){return this.load().then(()=>{if(this.source.queryObjectIds)return this.source.queryObjectIds(At.Z.from(Le)||this.createQuery(),We);throw new V.Z(Ft,"Layer source does not support queryObjectIds capability")})}queryFeatureCount(Le,We){return this.load().then(()=>{if(this.source.queryFeatureCount)return this.source.queryFeatureCount(At.Z.from(Le)||this.createQuery(),We);throw new V.Z(Ft,"Layer source does not support queryFeatureCount capability")})}queryExtent(Le,We){return this.load().then(()=>{if(this.source.queryExtent)return this.source.queryExtent(At.Z.from(Le)||this.createQuery(),We);throw new V.Z(Ft,"Layer source does not support queryExtent capability")})}queryRelatedFeatures(Le,We){return this.load().then(()=>{if("queryRelatedFeatures"in this.source)return this.source.queryRelatedFeatures(sr.Z.from(Le),We);throw new V.Z(Ft,"Layer source does not support queryRelatedFeatures capability")})}queryRelatedFeaturesCount(Le,We){return this.load().then(()=>{if("queryRelatedFeaturesCount"in this.source)return this.source.queryRelatedFeaturesCount(sr.Z.from(Le),We);throw new V.Z(Ft,"Layer source does not support queryRelatedFeaturesCount capability")})}queryTopFeatures(Le,We){return this.load().then(()=>{if("queryTopFeatures"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopFeatures(qt.Z.from(Le),We).then(it=>{if(null!=it&&it.features)for(const Dt of it.features)Dt.layer=Dt.sourceLayer=this;return it});throw new V.Z(Ft,"Layer source does not support queryTopFeatures capability")})}queryTopObjectIds(Le,We){return this.load().then(()=>{if("queryTopObjectIds"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopObjectIds(qt.Z.from(Le),We);throw new V.Z(Ft,"Layer source does not support queryTopObjectIds capability")})}queryTopFeaturesExtent(Le,We){return this.load().then(()=>{if("queryTopExtents"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopExtents(qt.Z.from(Le),We);throw new V.Z(Ft,"Layer source does not support queryTopExtents capability")})}queryTopFeatureCount(Le,We){return this.load().then(()=>{if("queryTopCount"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopCount(qt.Z.from(Le),We);throw new V.Z(Ft,"Layer source does not support queryFeatureCount capability")})}read(Le,We){const it=Le.featureCollection;if(it){const Dt=it.layers;Dt&&1===Dt.length&&(super.read(Dt[0],We),null!=it.showLegend&&super.read({showLegend:it.showLegend},We))}super.read(Le,We),We&&"service"===We.origin&&this.revert(["objectIdField","fields","timeInfo","spatialReference"],"service")}write(Le,We){var it,Dt;const Bt=(We=Xr(Pt({},We),{writeLayerSchema:null!=(it=null==(Dt=We)?void 0:Dt.writeLayerSchema)?it:this._hasMemorySource()})).origin,Jt=We.layerContainerType,rr=We.messages;if(this.isTable){if("web-scene"===Bt||"web-map"===Bt&&"tables"!==Jt)return rr&&rr.push(new V.Z("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Table source cannot be written to web scenes and web maps`,{layer:this})),null;if(this._hasMemorySource())return rr&&rr.push(new V.Z("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using an in-memory Table source cannot be written to web scenes and web maps`,{layer:this})),null}else if(this.loaded&&"web-map"===Bt&&"tables"===Jt)return rr&&rr.push(new V.Z("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a non-table source cannot be written to tables in web maps`,{layer:this})),null;return super.write(Le,We)}_readEditingEnabled(Le,We,it){var Dt;let Bt=null==(Dt=Le.layerDefinition)?void 0:Dt.capabilities;return Bt?this._hasEditingCapability(Bt):(Bt=Le.capabilities,We&&"web-map"===(null==it?void 0:it.origin)&&!this._hasMemorySource()&&Bt?this._hasEditingCapability(Bt):void 0)}_hasEditingCapability(Le){return Le.toLowerCase().split(",").map(We=>We.trim()).includes("editing")}_writeEditingEnabled(Le,We,it,Dt){if(!Le){var Bt,Jt;const rr=null!=(Bt=this.capabilities)&&null!=(Jt=Bt.operations)&&Jt.supportsSync?"Query,Sync":"Query";(0,q.RB)("layerDefinition.capabilities",rr,We),!it||null!=Dt&&Dt.writeLayerSchema||(We.capabilities=rr)}}_checkAttachmentSupport(Le){const{attributes:We}=Le,{objectIdField:it}=this;return this.get("capabilities.data.supportsAttachment")?Le?We?We[it]?void 0:Promise.reject(new V.Z(Ft,`feature is missing the identifying attribute ${it}`)):Promise.reject(new V.Z(Ft,"'attributes' are required on a feature to query attachments")):Promise.reject(new V.Z(Ft,"A feature is required to add/delete/update attachments")):Promise.reject(new V.Z(Ft,"this layer doesn't support attachments"))}_getLayerDomain(Le){const We=this.fieldsIndex.get(Le);return We?We.domain:null}_fetchFirstLayerId(Le){return(0,K.default)(this.url,{query:Xr(Pt({f:"json"},this.customParameters),{token:this.apiKey}),responseType:"json",signal:Le}).then(We=>{const it=We.data;if(it)return Array.isArray(it.layers)&&it.layers.length>0?it.layers[0].id:Array.isArray(it.tables)&&it.tables.length>0?it.tables[0].id:void 0})}_initLayerProperties(Le){var We=this;return(0,x.Z)(function*(){return We._set("source",Le),Le.sourceJSON&&(We.sourceJSON=Le.sourceJSON,We.read(Le.sourceJSON,{origin:"service",url:We.parsedUrl})),We._verifySource(),We._verifyFields(),(0,so.YN)(We.renderer,We.fieldsIndex),(0,so.UF)(We.timeInfo,We.fieldsIndex),(0,xt.y)(We,{origin:"service"})})()}hasDataChanged(){var Le=this;return(0,x.Z)(function*(){var We;if(null!=(We=Le.source)&&We.refresh)try{var it;const{dataChanged:Dt,updates:Bt}=yield null==(it=Le.source)?void 0:it.refresh();if((0,H.pC)(Bt)&&(Le.sourceJSON=Pt(Pt({},Le.sourceJSON),Bt),Le.read(Bt,{origin:"service",url:Le.parsedUrl})),Dt)return!0}catch(Dt){}if(Le.definitionExpression)try{return(yield function le(Le,We){return ye.apply(this,arguments)}(Le.definitionExpression,Le.fieldsIndex)).hasDateFunctions}catch(Dt){}return!1})()}_verifyFields(){const Le=this.parsedUrl&&this.parsedUrl.path||"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+Le+")"),this.isTable||this._hasMemorySource()||-1!==Le.search(/\/FeatureServer\//i)||this.fields&&this.fields.some(function(We){return"geometry"===We.type})||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+Le+")")}_fixTemplates(Le,We){Le&&Le.forEach(it=>{const Dt=it.prototype&&it.prototype.attributes;Dt&&We&&delete Dt[We]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new V.Z("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new V.Z("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(Le){Le.forEach(We=>{We.layer=this,We.sourceLayer=this}),this._handles.add([Le.on("after-add",We=>{We.item.layer=this,We.item.sourceLayer=this}),Le.on("after-remove",We=>{We.item.layer=null,We.item.sourceLayer=null})],"fl-source")}_resetMemorySource(Le){Le.forEach(We=>{We.layer=null,We.sourceLayer=null}),this._handles.remove("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}_readAttachmentCapabilities(Le){const We={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1};return Le&&Array.isArray(Le)&&Le.forEach(it=>{const Dt=_t[it.name];Dt&&(We[Dt]=!!it.isEnabled)}),We}_readDataCapabilities(Le){return{isVersioned:vr(Le,"isDataVersioned",!1),supportsAttachment:vr(Le,"hasAttachments",!1),supportsM:vr(Le,"hasM",!1),supportsZ:vr(Le,"hasZ",!1)}}_readMetadataCapabilities(Le){return{supportsAdvancedFieldProperties:vr(Le,"supportsFieldDescriptionProperty",!1)}}_readOperationsCapabilities(Le,We){const it=Le?Le.toLowerCase().split(",").map(Vr=>Vr.trim()):[],Dt=it.includes("editing")&&!We.datesInUnknownTimezone;let Bt=Dt&&it.includes("create"),Jt=Dt&&it.includes("delete"),rr=Dt&&it.includes("update");const Dr=it.includes("changetracking");return Dt&&!(Bt||Jt||rr)&&(Bt=Jt=rr=!0),{supportsCalculate:vr(We,"supportsCalculate",!1),supportsTruncate:vr(We,"supportsTruncate",!1),supportsValidateSql:vr(We,"supportsValidateSql",!1),supportsAdd:Bt,supportsDelete:Jt,supportsEditing:Dt,supportsChangeTracking:Dr,supportsQuery:it.includes("query"),supportsQueryAttachments:vr(We.advancedQueryCapabilities,"supportsQueryAttachments",!1),supportsResizeAttachments:vr(We,"supportsAttachmentsResizing",!1),supportsSync:it.includes("sync"),supportsUpdate:rr,supportsExceedsLimitStatistics:vr(We,"supportsExceedsLimitStatistics",!1)}}_readQueryCapabilities(Le){var We;const it=Le.advancedQueryCapabilities,Dt=Le.ownershipBasedAccessControlForFeatures,Bt=Le.archivingInfo,Jt=null==(We=this.url)?void 0:We.includes("MapServer"),rr=!(0,F.Z)("mapserver-pbf-enabled")&&Jt&&this.version<10.81,Dr=(Le.supportedQueryFormats||"").split(",").reduce((Vr,Nr)=>{const Rn=Nr.toLowerCase().trim();return Rn&&Vr.add(Rn),Vr},new Set);return{supportsStatistics:vr(it,"supportsStatistics",Le.supportsStatistics),supportsPercentileStatistics:vr(it,"supportsPercentileStatistics",!1),supportsCentroid:vr(it,"supportsReturningGeometryCentroid",!1),supportsDistance:vr(it,"supportsQueryWithDistance",!1),supportsDistinct:vr(it,"supportsDistinct",Le.supportsAdvancedQueries),supportsExtent:vr(it,"supportsReturningQueryExtent",!1),supportsGeometryProperties:vr(it,"supportsReturningGeometryProperties",!1),supportsHavingClause:vr(it,"supportsHavingClause",!1),supportsOrderBy:vr(it,"supportsOrderBy",Le.supportsAdvancedQueries),supportsPagination:vr(it,"supportsPagination",!1),supportsQuantization:vr(Le,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:vr(Le,"supportsQuantizationEditMode",!1),supportsQueryGeometry:vr(Le,"supportsReturningQueryGeometry",!1),supportsResultType:vr(it,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:vr(it,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:vr(it,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:vr(Le,"useStandardizedQueries",!1),supportsTopFeaturesQuery:vr(it,"supportsTopFeaturesQuery",!1),supportsQueryByOthers:vr(Dt,"allowOthersToQuery",!0),supportsHistoricMoment:vr(Bt,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:!rr&&Dr.has("pbf"),supportsDisjointSpatialRelationship:vr(it,"supportsDisjointSpatialRel",!1),supportsCacheHint:vr(it,"supportsQueryWithCacheHint",!1),maxRecordCountFactor:cr(Le,"maxRecordCountFactor",void 0),maxRecordCount:cr(Le,"maxRecordCount",void 0),standardMaxRecordCount:cr(Le,"standardMaxRecordCount",void 0),tileMaxRecordCount:cr(Le,"tileMaxRecordCount",void 0)}}_readQueryRelatedCapabilities(Le){const We=Le.advancedQueryCapabilities,it=vr(We,"supportsAdvancedQueryRelated",!1);return{supportsPagination:vr(We,"supportsQueryRelatedPagination",!1),supportsCount:it,supportsOrderBy:it}}_readEditingCapabilities(Le){const We=Le.ownershipBasedAccessControlForFeatures;return{supportsGeometryUpdate:vr(Le,"allowGeometryUpdates",!0),supportsGlobalId:vr(Le,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:vr(Le,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:vr(Le,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:vr(Le,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:vr(Le,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:vr(We,"allowAnonymousToDelete",!0),supportsDeleteByOthers:vr(We,"allowOthersToDelete",!0),supportsUpdateByAnonymous:vr(We,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:vr(We,"allowOthersToUpdate",!0)}}};(0,T._)([(0,Q.Cb)({readOnly:!0,json:{read:!1}})],je.prototype,"capabilities",void 0),(0,T._)([(0,me.r)("service","capabilities",["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"])],je.prototype,"readCapabilities",null),(0,T._)([(0,Q.Cb)({json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],je.prototype,"charts",void 0),(0,T._)([(0,Q.Cb)({readOnly:!0})],je.prototype,"createQueryVersion",null),(0,T._)([(0,Q.Cb)({type:String,json:{read:{source:"layerDefinition.copyrightText"},origins:{service:{read:{source:"copyrightText"}}}}})],je.prototype,"copyright",void 0),(0,T._)([(0,Q.Cb)({type:Boolean})],je.prototype,"datesInUnknownTimezone",void 0),(0,T._)([(0,Q.Cb)({type:String,json:{read:{source:"layerDefinition.displayField"},origins:{service:{read:{source:"displayField"}}}}})],je.prototype,"displayField",void 0),(0,T._)([(0,Q.Cb)({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],je.prototype,"definitionExpression",void 0),(0,T._)([(0,Q.Cb)({types:ae.LB,readOnly:!0})],je.prototype,"defaultSymbol",void 0),(0,T._)([(0,Q.Cb)({type:dt.n})],je.prototype,"dynamicDataSource",void 0),(0,T._)([(0,Q.Cb)({readOnly:!0})],je.prototype,"editFieldsInfo",void 0),(0,T._)([(0,Q.Cb)({type:Boolean})],je.prototype,"editingEnabled",null),(0,T._)([(0,me.r)(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],je.prototype,"readEditingEnabled",null),(0,T._)([(0,me.r)("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],je.prototype,"readEditingEnabledFromWebMap",null),(0,T._)([(0,fe.c)(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],je.prototype,"writeEditingEnabled",null),(0,T._)([(0,fe.c)("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],je.prototype,"writeEditingEnabledToWebMap",null),(0,T._)([(0,Q.Cb)({readOnly:!0})],je.prototype,"editingInfo",void 0),(0,T._)([(0,me.r)("editingInfo")],je.prototype,"readEditingInfo",null),(0,T._)([(0,Q.Cb)(Bn.PV)],je.prototype,"elevationInfo",void 0),(0,T._)([(0,Q.Cb)(Ko.d)],je.prototype,"featureReduction",void 0),(0,T._)([(0,Q.Cb)(Xr(Pt({},Qr.fields),{json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:dn}}}}}))],je.prototype,"fields",void 0),(0,T._)([(0,Q.Cb)(Qr.fieldsIndex)],je.prototype,"fieldsIndex",void 0),(0,T._)([(0,Q.Cb)({type:Wi.Z,json:{read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo"}}})],je.prototype,"floorInfo",void 0),(0,T._)([(0,Q.Cb)({type:Hi,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],je.prototype,"formTemplate",void 0),(0,T._)([(0,Q.Cb)({type:no.Z,json:{origins:{service:{read:{source:"extent"}}},read:{source:"layerDefinition.extent"}}})],je.prototype,"fullExtent",void 0),(0,T._)([(0,Q.Cb)()],je.prototype,"gdbVersion",void 0),(0,T._)([(0,Q.Cb)({readOnly:!0,type:Cn,json:{read:{source:"geometryProperties"}}})],je.prototype,"geometryFieldsInfo",void 0),(0,T._)([(0,Q.Cb)({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:nr.read},"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:dn,writer(Le,We,it){const Dt=Le?nr.toJSON(Le):null;Dt&&(0,q.RB)(it,Dt,We)}}}},read:{source:"layerDefinition.geometryType",reader:nr.read}}})],je.prototype,"geometryType",void 0),(0,T._)([(0,Q.Cb)({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasM"}}})],je.prototype,"hasM",void 0),(0,T._)([(0,Q.Cb)({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasZ"}}})],je.prototype,"hasZ",void 0),(0,T._)([(0,Q.Cb)({readOnly:!0,type:Ui.Z})],je.prototype,"heightModelInfo",void 0),(0,T._)([(0,Q.Cb)({type:Date})],je.prototype,"historicMoment",void 0),(0,T._)([(0,Q.Cb)(Bn.id)],je.prototype,"id",void 0),(0,T._)([(0,Q.Cb)({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],je.prototype,"infoFor3D",void 0),(0,T._)([(0,Q.Cb)({readOnly:!0,json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],je.prototype,"isTable",void 0),(0,T._)([(0,me.r)("service","isTable",["type","geometryType"]),(0,me.r)("isTable",["layerDefinition.type","layerDefinition.geometryType"])],je.prototype,"readIsTable",null),(0,T._)([(0,fe.c)("web-map","isTable")],je.prototype,"writeIsTable",null),(0,T._)([(0,Q.Cb)(Bn.iR)],je.prototype,"labelsVisible",void 0),(0,T._)([(0,Q.Cb)({type:[ds.Z],json:{origins:{service:{read:{source:"drawingInfo.labelingInfo",reader:vi.r},write:{target:"drawingInfo.labelingInfo",enabled:!1}}},read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:vi.r},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],je.prototype,"labelingInfo",void 0),(0,T._)([(0,Q.Cb)(Bn.bT)],je.prototype,"opacity",void 0),(0,T._)([(0,Q.Cb)({type:Number,json:{origins:{service:{read:{source:"id"}}},read:!1}})],je.prototype,"layerId",void 0),(0,T._)([(0,Q.Cb)(Bn.rn)],je.prototype,"legendEnabled",void 0),(0,T._)([(0,Q.Cb)({type:["show","hide"]})],je.prototype,"listMode",void 0),(0,T._)([(0,Q.Cb)(Bn.rO)],je.prototype,"minScale",void 0),(0,T._)([(0,me.r)("service","minScale",["minScale","effectiveMinScale"])],je.prototype,"readMinScale",null),(0,T._)([(0,Q.Cb)(Bn.u1)],je.prototype,"maxScale",void 0),(0,T._)([(0,me.r)("service","maxScale",["maxScale","effectiveMaxScale"])],je.prototype,"readMaxScale",null),(0,T._)([(0,Q.Cb)({type:String})],je.prototype,"globalIdField",void 0),(0,T._)([(0,me.r)("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"]),(0,me.r)("service","globalIdField",["globalIdField","fields"])],je.prototype,"readGlobalIdFieldFromService",null),(0,T._)([(0,Q.Cb)({type:String,json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:dn}}}}})],je.prototype,"objectIdField",void 0),(0,T._)([(0,me.r)("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"]),(0,me.r)("service","objectIdField",["objectIdField","fields"])],je.prototype,"readObjectIdFieldFromService",null),(0,T._)([(0,Q.Cb)({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],je.prototype,"operationalLayerType",void 0),(0,T._)([(0,Q.Cb)(Qr.outFields)],je.prototype,"outFields",void 0),(0,T._)([(0,Q.Cb)({readOnly:!0})],je.prototype,"parsedUrl",null),(0,T._)([(0,Q.Cb)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],je.prototype,"path",void 0),(0,T._)([(0,Q.Cb)(Bn.C_)],je.prototype,"popupEnabled",void 0),(0,T._)([(0,Q.Cb)({type:re.Z,json:{name:"popupInfo",write:!0}})],je.prototype,"popupTemplate",void 0),(0,T._)([(0,Q.Cb)({readOnly:!0})],je.prototype,"defaultPopupTemplate",null),(0,T._)([(0,Q.Cb)({type:[Mn],readOnly:!0})],je.prototype,"relationships",void 0),(0,T._)([(0,Q.Cb)({types:W.A,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:W.o,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:(Le,We,it)=>({ignoreOrigin:null==it?void 0:it.writeLayerSchema})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(Le,We,it)=>({ignoreOrigin:null==it?void 0:it.writeLayerSchema})}}})],je.prototype,"renderer",null),(0,T._)([(0,me.r)("service","renderer",["drawingInfo.renderer","defaultSymbol"]),(0,me.r)("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],je.prototype,"readRenderer",null),(0,T._)([(0,Q.Cb)()],je.prototype,"sourceJSON",void 0),(0,T._)([(0,Q.Cb)({type:Boolean})],je.prototype,"returnM",void 0),(0,T._)([(0,Q.Cb)({type:Boolean})],je.prototype,"returnZ",void 0),(0,T._)([(0,Q.Cb)(Bn.YI)],je.prototype,"screenSizePerspectiveEnabled",void 0),(0,T._)([(0,Q.Cb)()],je.prototype,"source",null),(0,T._)([(0,ue.p)("source")],je.prototype,"castSource",null),(0,T._)([(0,me.r)("portal-item","source",["featureSet"]),(0,me.r)("web-map","source",["featureSet"])],je.prototype,"readSource",null),(0,T._)([(0,Q.Cb)({readOnly:!0})],je.prototype,"serviceDefinitionExpression",void 0),(0,T._)([(0,me.r)("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],je.prototype,"readServiceDefinitionExpression",null),(0,T._)([(0,Q.Cb)({type:$n.Z,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:{source:"layerDefinition.extent.spatialReference"}}})],je.prototype,"spatialReference",void 0),(0,T._)([(0,Q.Cb)({type:Number})],je.prototype,"subtypeCode",void 0),(0,T._)([(0,Q.Cb)({type:[Vi.Z]})],je.prototype,"templates",void 0),(0,T._)([(0,me.r)("templates",["editFieldsInfo","creatorField","editorField","templates"])],je.prototype,"readTemplates",null),(0,T._)([(0,Q.Cb)({type:hs.Z})],je.prototype,"timeInfo",void 0),(0,T._)([(0,Q.Cb)()],je.prototype,"title",void 0),(0,T._)([(0,me.r)("service","title",["name"]),(0,me.r)("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],je.prototype,"readTitle",null),(0,T._)([(0,me.r)("web-map","title",["layerDefinition.name","title"])],je.prototype,"readTitleFromWebMap",null),(0,T._)([(0,Q.Cb)({type:String})],je.prototype,"sublayerTitleMode",void 0),(0,T._)([(0,Q.Cb)({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],je.prototype,"trackIdField",void 0),(0,T._)([(0,Q.Cb)({json:{read:!1}})],je.prototype,"type",void 0),(0,T._)([(0,Q.Cb)({type:String})],je.prototype,"typeIdField",void 0),(0,T._)([(0,me.r)("service","typeIdField"),(0,me.r)("typeIdField",["layerDefinition.typeIdField"])],je.prototype,"readTypeIdField",null),(0,T._)([(0,Q.Cb)({type:[wi.Z]})],je.prototype,"types",void 0),(0,T._)([(0,me.r)("service","types",["types"]),(0,me.r)("types",["layerDefinition.types"])],je.prototype,"readTypes",null),(0,T._)([(0,Q.Cb)({readOnly:!0,json:{write:!1}})],je.prototype,"serverGens",void 0),(0,T._)([(0,Q.Cb)({type:$.Z.ofType(ei),readOnly:!0})],je.prototype,"indexes",void 0),(0,T._)([(0,Q.Cb)(Bn.HQ)],je.prototype,"url",null),(0,T._)([(0,fe.c)("url")],je.prototype,"writeUrl",null),(0,T._)([(0,Q.Cb)({readOnly:!0})],je.prototype,"userIsAdmin",void 0),(0,T._)([(0,Q.Cb)({json:{origins:{service:{read:!0}},read:!1}})],je.prototype,"version",void 0),(0,T._)([(0,me.r)("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],je.prototype,"readVersion",null),(0,T._)([(0,Q.Cb)({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],je.prototype,"visible",void 0),(0,T._)([(0,me.r)("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],je.prototype,"readVisible",null),je=(0,T._)([(0,ve.j)("esri.layers.FeatureLayer")],je);const rt=(0,Ce.d)({types:ae.QT}),bt=je},63602:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>q});var x=C(15861),T=C(17626),re=C(59318),ee=(C(29132),C(84792)),ie=C(26584),J=C(61885),j=C(61996),A=C(47996),B=C(63290),X=C(10699),W=C(21726),K=C(77712),P=(C(85931),C(8314),C(90912),C(76898)),F=C(2004),Z=C(65234);let Y=0;const H=B.Z.getLogger("esri.layers.Layer");let de=class extends(J.Z.EventedMixin((0,j.I)(A.Z))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new F.Z(-180,-90,180,90,Z.Z.WGS84),this.id=Date.now().toString(16)+"-layer-"+Y++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=Z.Z.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static fromArcGISServerUrl(ge){return(0,x.Z)(function*(){const le="string"==typeof ge?{url:ge}:ge,ye=yield C.e(4578).then(C.bind(C,24578));try{return yield ye.fromUrl(le)}catch(oe){throw H.error("#fromArcGISServerUrl({ url: '"+le.url+"'})","Failed to create layer from arcgis server url",oe),oe}})()}static fromPortalItem(ge){return(0,x.Z)(function*(){const le="portalItem"in ge?ge:{portalItem:ge},ye=yield C.e(7534).then(C.bind(C,7534));try{return yield ye.fromItem(le)}catch(oe){const Q=le&&le.portalItem;throw H.error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+(Q&&Q.portal&&Q.portal.url||re.Z.portalUrl)+"', id: '"+(Q&&Q.id||"unset")+"')",oe),oe}})()}initialize(){this.when().catch(ge=>{var le,ye;(0,X.D_)(ge)||B.Z.getLogger(this.declaredClass).error("#load()",`Failed to load layer (title: '${null!=(le=this.title)?le:"no title"}', id: '${null!=(ye=this.id)?ye:"no id"}')`,{error:ge})})}destroy(){if(this.parent){const ge=this,le=this.parent;"layers"in le&&le.layers.includes(ge)?le.layers.remove(ge):"tables"in le&&le.tables.includes(ge)?le.tables.remove(ge):"baseLayers"in le&&le.baseLayers.includes(ge)?le.baseLayers.remove(ge):"baseLayers"in le&&le.referenceLayers.includes(ge)&&le.referenceLayers.remove(ge)}}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){const ge=this.url;return ge?(0,W.mN)(ge):null}fetchAttributionData(){var ge=this;return(0,x.Z)(function*(){const le=ge.attributionDataUrl;if(ge.hasAttributionData&&le)return(yield(0,ee.default)(le,{query:{f:"json"},responseType:"json"})).data;throw new ie.Z("layer:no-attribution-data","Layer does not have attribution data")})()}};(0,T._)([(0,K.Cb)({type:String})],de.prototype,"attributionDataUrl",void 0),(0,T._)([(0,K.Cb)({type:F.Z})],de.prototype,"fullExtent",void 0),(0,T._)([(0,K.Cb)({readOnly:!0})],de.prototype,"hasAttributionData",null),(0,T._)([(0,K.Cb)({type:String})],de.prototype,"id",void 0),(0,T._)([(0,K.Cb)({type:Boolean,nonNullable:!0})],de.prototype,"legendEnabled",void 0),(0,T._)([(0,K.Cb)({type:["show","hide","hide-children"]})],de.prototype,"listMode",void 0),(0,T._)([(0,K.Cb)({type:Number,range:{min:0,max:1},nonNullable:!0})],de.prototype,"opacity",void 0),(0,T._)([(0,K.Cb)()],de.prototype,"parent",void 0),(0,T._)([(0,K.Cb)({readOnly:!0})],de.prototype,"parsedUrl",null),(0,T._)([(0,K.Cb)({type:Boolean})],de.prototype,"popupEnabled",void 0),(0,T._)([(0,K.Cb)({type:Boolean})],de.prototype,"attributionVisible",void 0),(0,T._)([(0,K.Cb)({type:Z.Z})],de.prototype,"spatialReference",void 0),(0,T._)([(0,K.Cb)({type:String})],de.prototype,"title",void 0),(0,T._)([(0,K.Cb)({type:String,readOnly:!0,json:{read:!1}})],de.prototype,"type",void 0),(0,T._)([(0,K.Cb)()],de.prototype,"url",void 0),(0,T._)([(0,K.Cb)({type:Boolean,nonNullable:!0})],de.prototype,"visible",void 0),de=(0,T._)([(0,P.j)("esri.layers.Layer")],de);const q=de},58141:(lt,Se,C)=>{"use strict";C.d(Se,{rk:()=>K,Tj:()=>ae,GI:()=>$,CE:()=>V,Tq:()=>P,Zx:()=>F,Ee:()=>H});var x=C(20414),T=C(23841),re=C(55494),ne=C(28347);class K{constructor(q,ge,le){this.strength=q,this.radius=ge,this.threshold=le,this.type="bloom"}interpolate(q,ge,le){this.strength=Z(q.strength,ge.strength,le),this.radius=Z(q.radius,ge.radius,le),this.threshold=Z(q.threshold,ge.threshold,le)}clone(){return new K(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:Y(this.radius),strength:this.strength,threshold:this.threshold}}}class ae{constructor(q){this.radius=q,this.type="blur"}interpolate(q,ge,le){this.radius=Math.round(Z(q.radius,ge.radius,le))}clone(){return new ae(this.radius)}toJSON(){return{type:"blur",radius:Y(this.radius)}}}class ${constructor(q,ge){this.type=q,this.amount=ge,"invert"!==this.type&&"grayscale"!==this.type&&"sepia"!==this.type||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(q,ge,le){this.amount=Z(q.amount,ge.amount,le),this._updateMatrix()}clone(){return new $(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const q=this._colorMatrix||(0,re.c)();switch(this.type){case"brightness":this._colorMatrix=((de,q)=>{const ge=(0,ne.s)(de,q,0,0,0,0,q,0,0,0,0,q,0,0,0,0,1);return(0,ne.t)(ge,ge)})(q,this.amount);break;case"contrast":this._colorMatrix=((de,q)=>{const ge=(0,ne.s)(de,q,0,0,.5-.5*q,0,q,0,.5-.5*q,0,0,q,.5-.5*q,0,0,0,1);return(0,ne.t)(ge,ge)})(q,this.amount);break;case"grayscale":this._colorMatrix=((de,q)=>{const ge=1-this.amount,le=(0,ne.s)(de,.2126+.7874*ge,.7152-.7152*ge,.0722-.0722*ge,0,.2126-.2126*ge,.7152+.2848*ge,.0722-.0722*ge,0,.2126-.2126*ge,.7152-.7152*ge,.0722+.9278*ge,0,0,0,0,1);return(0,ne.t)(le,le)})(q);break;case"invert":this._colorMatrix=((de,q)=>{const ge=1-2*q,le=(0,ne.s)(de,ge,0,0,q,0,ge,0,q,0,0,ge,q,0,0,0,1);return(0,ne.t)(le,le)})(q,this.amount);break;case"saturate":this._colorMatrix=((de,q)=>{const ge=(0,ne.s)(de,.213+.787*q,.715-.715*q,.072-.072*q,0,.213-.213*q,.715+.285*q,.072-.072*q,0,.213-.213*q,.715-.715*q,.072+.928*q,0,0,0,0,1);return(0,ne.t)(ge,ge)})(q,this.amount);break;case"sepia":this._colorMatrix=((de,q)=>{const ge=1-this.amount,le=(0,ne.s)(de,.393+.607*ge,.769-.769*ge,.189-.189*ge,0,.349-.349*ge,.686+.314*ge,.168-.168*ge,0,.272-.272*ge,.534-.534*ge,.131+.869*ge,0,0,0,0,1);return(0,ne.t)(le,le)})(q)}}}class V{constructor(q,ge,le,ye){this.offsetX=q,this.offsetY=ge,this.blurRadius=le,this.color=ye,this.type="drop-shadow"}interpolate(q,ge,le){this.offsetX=Z(q.offsetX,ge.offsetX,le),this.offsetY=Z(q.offsetY,ge.offsetY,le),this.blurRadius=Z(q.blurRadius,ge.blurRadius,le),this.color[0]=Math.round(Z(q.color[0],ge.color[0],le)),this.color[1]=Math.round(Z(q.color[1],ge.color[1],le)),this.color[2]=Math.round(Z(q.color[2],ge.color[2],le)),this.color[3]=Z(q.color[3],ge.color[3],le)}clone(){return new V(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const q=[...this.color];return q[3]*=255,{type:"drop-shadow",xoffset:Y(this.offsetX),yoffset:Y(this.offsetY),blurRadius:Y(this.blurRadius),color:q}}}class P{constructor(q){this.angle=q,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(q,ge,le){this.angle=Z(q.angle,ge.angle,le),this._updateMatrix()}clone(){return new P(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const q=this._colorMatrix||(0,re.c)();this._colorMatrix=((de,q)=>{const ge=Math.sin(q*Math.PI/180),le=Math.cos(q*Math.PI/180),ye=(0,ne.s)(de,.213+.787*le-.213*ge,.715-.715*le-.715*ge,.072-.072*le+.928*ge,0,.213-.213*le+.143*ge,.715+.285*le+.14*ge,.072-.072*le-.283*ge,0,.213-.213*le-.787*ge,.715-.715*le+.715*ge,.072+.928*le+.072*ge,0,0,0,0,1);return(0,ne.t)(ye,ye)})(q,this.angle)}}class F{constructor(q){this.amount=q,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(q,ge,le){this.amount=Z(q.amount,ge.amount,le)}clone(){return new F(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}function Z(de,q,ge){return de+(q-de)*ge}function Y(de){return Math.round(1e3*(0,T.Wz)(de))/1e3}function H(de){switch(de.type){case"grayscale":case"sepia":case"invert":return new $(de.type,0);case"saturate":case"brightness":case"contrast":return new $(de.type,1);case"opacity":return new F(1);case"hue-rotate":return new P(0);case"blur":return new ae(0);case"drop-shadow":return new V(0,0,0,[...(0,x.h$)("transparent")]);case"bloom":return new K(0,0,1)}}},71149:(lt,Se,C)=>{"use strict";C.d(Se,{rM:()=>B,ij:()=>ee,cW:()=>ie});var x=C(26584),T=C(94113),re=C(29538),ne=C(53390);function ee(K,ae,$){try{return function j(K){if(!K||0===K.length)return null;if(function A(K){const ae=K[0];return!!ae&&"scale"in ae}(K)){const ae=[];for(const $ of K)ae.push({scale:$.scale,value:B($.value)});return ae}return B(K)}(K)}catch(P){var V;null==$||null==(V=$.messages)||V.push(P)}return null}function ie(K,ae,$,V){try{const P=function J(K){const ae=(0,re.Q)(K);return ae?(0,ne.Cb)(ae)?ae.map($=>$.toJSON()):ae.map(({scale:$,effects:V})=>({scale:$,value:V.map(P=>P.toJSON())})):null}(K);(0,T.RB)($,P,ae)}catch(P){V.messages&&V.messages.push(P)}}function B(K){if(!K||!K.length)return"";const ae=[];for(const $ of K){let V=[];switch($.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":V=[X($,"amount")];break;case"blur":V=[X($,"radius","pt")];break;case"hue-rotate":V=[X($,"angle","deg")];break;case"drop-shadow":V=[X($,"xoffset","pt"),X($,"yoffset","pt"),X($,"blurRadius","pt"),W($,"color")];break;case"bloom":V=[X($,"strength"),X($,"radius","pt"),X($,"threshold")]}const P=`${$.type}(${V.filter(Boolean).join(" ")})`;(0,re.Q)(P),ae.push(P)}return ae.join(" ")}function X(K,ae,$){if(null==K[ae])throw new x.Z("effect:missing-parameter",`Missing parameter '${ae}' in ${K.type} effect`,{effect:K});return $?K[ae]+$:""+K[ae]}function W(K,ae){if(null==K[ae])throw new x.Z("effect:missing-parameter",`Missing parameter '${ae}' in ${K.type} effect`,{effect:K});const $=K[ae];return`rgba(${$[0]||0}, ${$[1]||0}, ${$[2]||0}, ${$[3]/255||0})`}},29538:(lt,Se,C)=>{"use strict";C.d(Se,{Q:()=>A});var ie,x=C(20414),T=C(26584),re=C(58141),ee=(C(1719),C(53390)),j={exports:{}};function A(he){if(!he||0===he.length)return null;if("string"==typeof he){const we=B(he);return we&&0!==we.length?we:null}const xe=he.map(we=>{if(!Number.isFinite(we.scale)||we.scale<=0)throw new T.Z("effect:invalid-scale","scale must be finite and greater than 0",{stop:we});return{scale:we.scale,effects:B(we.value)}});xe.sort((we,Ae)=>Ae.effects.length-we.effects.length);for(let we=0;we<xe.length-1;we++){if(!(0,ee.AS)(xe[we].effects,xe[we+1].effects))throw new T.Z("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:xe[we].effects,b:xe[we+1].effects});(0,ee.uF)(xe[we].effects,xe[we+1].effects)}return xe.sort((we,Ae)=>Ae.scale-we.scale),xe}function B(he){let xe;if(!he)return[];try{xe=j.exports.parse(he)}catch(we){throw new T.Z("effect:invalid-syntax","Invalid effect syntax",{value:he,error:we})}return xe.map(we=>function X(he){try{switch(he.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return function W(he){let xe=1;return F(he.parameters,1),1===he.parameters.length&&(xe=oe(he.parameters[0])),new re.GI(he.name,xe)}(he);case"opacity":return function K(he){let xe=1;return F(he.parameters,1),1===he.parameters.length&&(xe=oe(he.parameters[0])),new re.Zx(xe)}(he);case"hue-rotate":return function ae(he){let xe=0;return F(he.parameters,1),1===he.parameters.length&&(xe=function pe(he){return function ge(he){if("quantity"!==he.type||!(0===he.value&&null===he.unit||he.unit&&null!=q[he.unit]))throw new T.Z("effect:type-error",`Expected <angle>, Actual: ${Z(he)}`,{term:he})}(he),he.value*q[he.unit]||0}(he.parameters[0])),new re.Tq(xe)}(he);case"blur":return function $(he){let xe=0;return F(he.parameters,1),1===he.parameters.length&&(xe=ue(he.parameters[0]),Y(xe,he.parameters[0])),new re.Tj(xe)}(he);case"drop-shadow":return function V(he){const xe=[];let we=null;for(const Ae of he.parameters)if("color"===Ae.type){if(xe.length&&Object.freeze(xe),we)throw new T.Z("effect:type-error","Accepts only one color",{});we=me(Ae)}else{const Fe=ue(Ae);if(Object.isFrozen(xe))throw new T.Z("effect:type-error","<length> parameters not consecutive",{lengths:xe});xe.push(Fe),3===xe.length&&Y(Fe,Ae)}if(xe.length<2||xe.length>3)throw new T.Z("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${xe.length}}`,{lengths:xe});return new re.CE(xe[0],xe[1],xe[2]||0,we||ve("black"))}(he);case"bloom":return function P(he){let xe=1,we=0,Ae=0;return F(he.parameters,3),he.parameters[0]&&(xe=oe(he.parameters[0])),he.parameters[1]&&(we=ue(he.parameters[1]),Y(we,he.parameters[1])),he.parameters[2]&&(Ae=oe(he.parameters[2])),new re.rk(xe,we,Ae)}(he)}}catch(xe){throw xe.details.filter=he,xe}throw new T.Z("effect:unknown-effect",`Effect '${he.name}' is not supported`,{effect:he})}(we))}function F(he,xe){if(he.length>xe)throw new T.Z("effect:type-error",`Function supports up to ${xe} parameters, Actual: ${he.length}`,{parameters:he})}function Z(he){if("color"===he.type)return"<color>";if(he.unit){if(le[he.unit])return"<length>";if(q[he.unit])return"<angle>";if("%"===he.unit)return"<percentage>"}return"<double>"}function Y(he,xe){if(he<0)throw new T.Z("effect:type-error",`Negative values are not allowed, Actual: ${he}`,{term:xe})}(ie=j).exports&&(ie.exports=function(){function xe(Fe,tt,Re,be){var Te=Error.call(this,Fe);return Object.setPrototypeOf&&Object.setPrototypeOf(Te,xe.prototype),Te.expected=tt,Te.found=Re,Te.location=be,Te.name="SyntaxError",Te}function we(Fe,tt,Re){return Re=Re||" ",Fe.length>tt?Fe:Fe+(Re+=Re.repeat(tt-=Fe.length)).slice(0,tt)}return function he(Fe,tt){function Re(){this.constructor=Fe}Re.prototype=tt.prototype,Fe.prototype=new Re}(xe,Error),xe.prototype.format=function(Fe){var tt="Error: "+this.message;if(this.location){var Re,be=null;for(Re=0;Re<Fe.length;Re++)if(Fe[Re].source===this.location.source){be=Fe[Re].text.split(/\r\n|\n|\r/g);break}var Te=this.location.start,Je=this.location.source+":"+Te.line+":"+Te.column;if(be){var ut=this.location.end,Pe=we("",Te.line.toString().length),Qe=be[Te.line-1],Ye=Te.line===ut.line?ut.column:Qe.length+1;tt+="\n --\x3e "+Je+"\n"+Pe+" |\n"+Te.line+" | "+Qe+"\n"+Pe+" | "+we("",Te.column-1)+we("",Ye-Te.column,"^")}else tt+="\n at "+Je}return tt},xe.buildMessage=function(Fe,tt){var Re={literal:function(Ye){return'"'+Te(Ye.text)+'"'},class:function(Ye){var te=Ye.parts.map(function(_e){return Array.isArray(_e)?Je(_e[0])+"-"+Je(_e[1]):Je(_e)});return"["+(Ye.inverted?"^":"")+te+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(Ye){return Ye.description}};function be(Ye){return Ye.charCodeAt(0).toString(16).toUpperCase()}function Te(Ye){return Ye.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(te){return"\\x0"+be(te)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(te){return"\\x"+be(te)})}function Je(Ye){return Ye.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(te){return"\\x0"+be(te)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(te){return"\\x"+be(te)})}function ut(Ye){return Re[Ye.type](Ye)}return"Expected "+function Pe(Ye){var te,_e,Ze=Ye.map(ut);if(Ze.sort(),Ze.length>0){for(te=1,_e=1;te<Ze.length;te++)Ze[te-1]!==Ze[te]&&(Ze[_e]=Ze[te],_e++);Ze.length=_e}switch(Ze.length){case 1:return Ze[0];case 2:return Ze[0]+" or "+Ze[1];default:return Ze.slice(0,-1).join(", ")+", or "+Ze[Ze.length-1]}}(Fe)+" but "+function Qe(Ye){return Ye?'"'+Te(Ye)+'"':"end of input"}(tt)+" found."},{SyntaxError:xe,parse:function Ae(Fe,tt){var Re,be={},Te=(tt=void 0!==tt?tt:{}).grammarSource,Je={start:Cn},ut=Cn,yr=/^[ \t\n\r]/,mr=/^[a-z\-]/,gt=/^[0-9a-fA-F]/,kt=/^[+\-]/,Gt=/^[0-9]/,Qt=wi("none"),lr=Pn("none",!1),dr=Pn(")",!1),ct=Pn(",",!1),Ot=wi("whitespace"),Rt=Ko([" ","\t","\n","\r"],!1,!1),Vt=wi("function"),Yt=Pn("(",!1),Zt=wi("identifier"),ke=Ko([["a","z"],"-"],!1,!1),ot=wi("percentage"),ze=Pn("%",!1),Xe=wi("length"),He=Pn("px",!1),Ue=Pn("cm",!1),nt=Pn("mm",!1),Mt=Pn("in",!1),tr=Pn("pt",!1),br=Pn("pc",!1),xr=wi("angle"),Ur=Pn("deg",!1),Br=Pn("rad",!1),nn=Pn("grad",!1),jn=Pn("turn",!1),Ai=wi("number"),Yn=wi("color"),Hi=Pn("#",!1),no=Ko([["0","9"],["a","f"],["A","F"]],!1,!1),Ui=Ko(["+","-"],!1,!1),$n=Ko([["0","9"]],!1,!1),oi=Pn(".",!1),In=Pn("e",!1),Xt=0,Or=0,An=[{line:1,column:1}],Xn=0,Bn=[],Wr=0;if("startRule"in tt){if(!(tt.startRule in Je))throw new Error("Can't start parsing from rule \""+tt.startRule+'".');ut=Je[tt.startRule]}function ei(){return Fe.substring(Or,Xt)}function Pn(_t,Ft){return{type:"literal",text:_t,ignoreCase:Ft}}function Ko(_t,Ft,$t){return{type:"class",parts:_t,inverted:Ft,ignoreCase:$t}}function wi(_t){return{type:"other",description:_t}}function Ji(_t){var Ft,$t=An[_t];if($t)return $t;for(Ft=_t-1;!An[Ft];)Ft--;for($t={line:($t=An[Ft]).line,column:$t.column};Ft<_t;)10===Fe.charCodeAt(Ft)?($t.line++,$t.column=1):$t.column++,Ft++;return An[_t]=$t,$t}function tn(_t){Xt<Xn||(Xt>Xn&&(Xn=Xt,Bn=[]),Bn.push(_t))}function Cn(){var _t;return(_t=function ds(){var _t,Ft;return Wr++,_t=Xt,Gr(),"none"===Fe.substr(Xt,4)?(Ft="none",Xt+=4):(Ft=be,0===Wr&&tn(lr)),Ft!==be?(Gr(),Or=_t,_t=[]):(Xt=_t,_t=be),Wr--,_t===be&&0===Wr&&tn(Qt),_t}())===be&&(_t=function vi(){var _t,Ft;if(_t=[],(Ft=Wi())!==be)for(;Ft!==be;)_t.push(Ft),Ft=Wi();else _t=be;return _t}()),_t}function Wi(){var _t,Ft,$t,pr;return _t=Xt,Gr(),(Ft=function Mn(){var _t,Ft,$t;return Wr++,_t=Xt,(Ft=hs())!==be?(40===Fe.charCodeAt(Xt)?($t="(",Xt++):($t=be,0===Wr&&tn(Yt)),$t!==be?(Or=_t,_t=Ft):(Xt=_t,_t=be)):(Xt=_t,_t=be),Wr--,_t===be&&(Ft=be,0===Wr&&tn(Vt)),_t}())!==be?(Gr(),($t=function Tn(){var _t,Ft,$t,pr,vr,cr,Qr,dn;if(_t=Xt,(Ft=Zn())!==be){for($t=[],pr=Xt,vr=Gr(),44===Fe.charCodeAt(Xt)?(cr=",",Xt++):(cr=be,0===Wr&&tn(ct)),cr===be&&(cr=null),Qr=Gr(),(dn=Zn())!==be?pr=vr=[vr,cr,Qr,dn]:(Xt=pr,pr=be);pr!==be;)$t.push(pr),pr=Xt,vr=Gr(),44===Fe.charCodeAt(Xt)?(cr=",",Xt++):(cr=be,0===Wr&&tn(ct)),cr===be&&(cr=null),Qr=Gr(),(dn=Zn())!==be?pr=vr=[vr,cr,Qr,dn]:(Xt=pr,pr=be);Or=_t,_t=function(_t,Ft){return Ft.length>0?function nr(_t,Ft,$t){return[_t].concat(function hr(_t,Ft){return _t.map(function($t){return $t[Ft]})}(Ft,$t))}(_t,Ft,3):[_t]}(Ft,$t)}else Xt=_t,_t=be;return _t}())===be&&($t=null),Gr(),41===Fe.charCodeAt(Xt)?(pr=")",Xt++):(pr=be,0===Wr&&tn(dr)),pr!==be?(Gr(),Or=_t,_t=function(_t,Ft){return{type:"function",name:_t,parameters:Ft||[]}}(Ft,$t)):(Xt=_t,_t=be)):(Xt=_t,_t=be),_t}function Zn(){var _t,Ft;return _t=Xt,(Ft=function dt(){var _t,Ft,$t;return Wr++,_t=Xt,Gr(),(Ft=qt())!==be?(37===Fe.charCodeAt(Xt)?($t="%",Xt++):($t=be,0===Wr&&tn(ze)),$t!==be?(Or=_t,_t=function(_t){return{value:_t,unit:"%"}}(Ft)):(Xt=_t,_t=be)):(Xt=_t,_t=be),Wr--,_t===be&&0===Wr&&tn(ot),_t}())===be&&(Ft=function xt(){var _t,Ft,$t;return Wr++,_t=Xt,Gr(),(Ft=qt())!==be?("px"===Fe.substr(Xt,2)?($t="px",Xt+=2):($t=be,0===Wr&&tn(He)),$t!==be?(Or=_t,_t=function(_t){return{value:_t,unit:"px"}}(Ft)):(Xt=_t,_t=be)):(Xt=_t,_t=be),_t===be&&(_t=Xt,Gr(),(Ft=qt())!==be?("cm"===Fe.substr(Xt,2)?($t="cm",Xt+=2):($t=be,0===Wr&&tn(Ue)),$t!==be?(Or=_t,_t=function(_t){return{value:_t,unit:"cm"}}(Ft)):(Xt=_t,_t=be)):(Xt=_t,_t=be),_t===be&&(_t=Xt,Gr(),(Ft=qt())!==be?("mm"===Fe.substr(Xt,2)?($t="mm",Xt+=2):($t=be,0===Wr&&tn(nt)),$t!==be?(Or=_t,_t=function(_t){return{value:_t,unit:"mm"}}(Ft)):(Xt=_t,_t=be)):(Xt=_t,_t=be),_t===be&&(_t=Xt,Gr(),(Ft=qt())!==be?("in"===Fe.substr(Xt,2)?($t="in",Xt+=2):($t=be,0===Wr&&tn(Mt)),$t!==be?(Or=_t,_t=function(_t){return{value:_t,unit:"in"}}(Ft)):(Xt=_t,_t=be)):(Xt=_t,_t=be),_t===be&&(_t=Xt,Gr(),(Ft=qt())!==be?("pt"===Fe.substr(Xt,2)?($t="pt",Xt+=2):($t=be,0===Wr&&tn(tr)),$t!==be?(Or=_t,_t=function(_t){return{value:_t,unit:"pt"}}(Ft)):(Xt=_t,_t=be)):(Xt=_t,_t=be),_t===be&&(_t=Xt,Gr(),(Ft=qt())!==be?("pc"===Fe.substr(Xt,2)?($t="pc",Xt+=2):($t=be,0===Wr&&tn(br)),$t!==be?(Or=_t,_t=function(_t){return{value:_t,unit:"pc"}}(Ft)):(Xt=_t,_t=be)):(Xt=_t,_t=be)))))),Wr--,_t===be&&0===Wr&&tn(Xe),_t}())===be&&(Ft=function yt(){var _t,Ft,$t;return Wr++,_t=Xt,(Ft=qt())!==be?("deg"===Fe.substr(Xt,3)?($t="deg",Xt+=3):($t=be,0===Wr&&tn(Ur)),$t!==be?(Or=_t,_t=function(_t){return{value:_t,unit:"deg"}}(Ft)):(Xt=_t,_t=be)):(Xt=_t,_t=be),_t===be&&(_t=Xt,(Ft=qt())!==be?("rad"===Fe.substr(Xt,3)?($t="rad",Xt+=3):($t=be,0===Wr&&tn(Br)),$t!==be?(Or=_t,_t=function(_t){return{value:_t,unit:"rad"}}(Ft)):(Xt=_t,_t=be)):(Xt=_t,_t=be),_t===be&&(_t=Xt,(Ft=qt())!==be?("grad"===Fe.substr(Xt,4)?($t="grad",Xt+=4):($t=be,0===Wr&&tn(nn)),$t!==be?(Or=_t,_t=function(_t){return{value:_t,unit:"grad"}}(Ft)):(Xt=_t,_t=be)):(Xt=_t,_t=be),_t===be&&(_t=Xt,(Ft=qt())!==be?("turn"===Fe.substr(Xt,4)?($t="turn",Xt+=4):($t=be,0===Wr&&tn(jn)),$t!==be?(Or=_t,_t=function(_t){return{value:_t,unit:"turn"}}(Ft)):(Xt=_t,_t=be)):(Xt=_t,_t=be)))),Wr--,_t===be&&(Ft=be,0===Wr&&tn(xr)),_t}())===be&&(Ft=function At(){var _t,Ft;return Wr++,_t=Xt,Gr(),(Ft=qt())!==be?(Or=_t,_t=function(_t){return{value:_t,unit:null}}(Ft)):(Xt=_t,_t=be),Wr--,_t===be&&0===Wr&&tn(Ai),_t}()),Ft!==be&&(Or=_t,Ft=function(_t){return{type:"quantity",value:_t.value,unit:_t.unit}}(Ft)),(_t=Ft)===be&&(_t=Xt,(Ft=function sr(){var _t,Ft,$t,pr;if(Wr++,_t=Xt,35===Fe.charCodeAt(Xt)?(Ft="#",Xt++):(Ft=be,0===Wr&&tn(Hi)),Ft!==be){if($t=[],gt.test(Fe.charAt(Xt))?(pr=Fe.charAt(Xt),Xt++):(pr=be,0===Wr&&tn(no)),pr!==be)for(;pr!==be;)$t.push(pr),gt.test(Fe.charAt(Xt))?(pr=Fe.charAt(Xt),Xt++):(pr=be,0===Wr&&tn(no));else $t=be;$t!==be?(Or=_t,_t={type:"hex",value:ei()}):(Xt=_t,_t=be)}else Xt=_t,_t=be;return _t===be&&(_t=Xt,(Ft=Wi())!==be&&(Or=_t,Ft=function(_t){return{type:"function",value:_t}}(Ft)),(_t=Ft)===be&&(_t=Xt,(Ft=hs())!==be&&(Or=_t,Ft={type:"named",value:ei()}),_t=Ft)),Wr--,_t===be&&(Ft=be,0===Wr&&tn(Yn)),_t}())!==be&&(Or=_t,Ft=function(_t){return{type:"color",colorType:_t.type,value:_t.value}}(Ft)),_t=Ft),_t}function Gr(){var _t,Ft;for(Wr++,_t=[],yr.test(Fe.charAt(Xt))?(Ft=Fe.charAt(Xt),Xt++):(Ft=be,0===Wr&&tn(Rt));Ft!==be;)_t.push(Ft),yr.test(Fe.charAt(Xt))?(Ft=Fe.charAt(Xt),Xt++):(Ft=be,0===Wr&&tn(Rt));return Wr--,Ft=be,0===Wr&&tn(Ot),_t}function hs(){var _t,Ft,$t;if(Wr++,_t=Xt,Ft=[],mr.test(Fe.charAt(Xt))?($t=Fe.charAt(Xt),Xt++):($t=be,0===Wr&&tn(ke)),$t!==be)for(;$t!==be;)Ft.push($t),mr.test(Fe.charAt(Xt))?($t=Fe.charAt(Xt),Xt++):($t=be,0===Wr&&tn(ke));else Ft=be;return Ft!==be&&(Or=_t,Ft=ei()),Wr--,(_t=Ft)===be&&(Ft=be,0===Wr&&tn(Zt)),_t}function qt(){var _t,Ft,$t,pr,vr,cr,Qr;for(_t=Xt,kt.test(Fe.charAt(Xt))?(Fe.charAt(Xt),Xt++):0===Wr&&tn(Ui),Ft=Xt,$t=[],Gt.test(Fe.charAt(Xt))?(pr=Fe.charAt(Xt),Xt++):(pr=be,0===Wr&&tn($n));pr!==be;)$t.push(pr),Gt.test(Fe.charAt(Xt))?(pr=Fe.charAt(Xt),Xt++):(pr=be,0===Wr&&tn($n));if(46===Fe.charCodeAt(Xt)?(pr=".",Xt++):(pr=be,0===Wr&&tn(oi)),pr!==be){if(vr=[],Gt.test(Fe.charAt(Xt))?(cr=Fe.charAt(Xt),Xt++):(cr=be,0===Wr&&tn($n)),cr!==be)for(;cr!==be;)vr.push(cr),Gt.test(Fe.charAt(Xt))?(cr=Fe.charAt(Xt),Xt++):(cr=be,0===Wr&&tn($n));else vr=be;vr!==be?Ft=$t=[$t,pr,vr]:(Xt=Ft,Ft=be)}else Xt=Ft,Ft=be;if(Ft===be)if(Ft=[],Gt.test(Fe.charAt(Xt))?($t=Fe.charAt(Xt),Xt++):($t=be,0===Wr&&tn($n)),$t!==be)for(;$t!==be;)Ft.push($t),Gt.test(Fe.charAt(Xt))?($t=Fe.charAt(Xt),Xt++):($t=be,0===Wr&&tn($n));else Ft=be;if(Ft!==be){if($t=Xt,101===Fe.charCodeAt(Xt)?(pr="e",Xt++):(pr=be,0===Wr&&tn(In)),pr!==be){if(kt.test(Fe.charAt(Xt))?(vr=Fe.charAt(Xt),Xt++):(vr=be,0===Wr&&tn(Ui)),vr===be&&(vr=null),cr=[],Gt.test(Fe.charAt(Xt))?(Qr=Fe.charAt(Xt),Xt++):(Qr=be,0===Wr&&tn($n)),Qr!==be)for(;Qr!==be;)cr.push(Qr),Gt.test(Fe.charAt(Xt))?(Qr=Fe.charAt(Xt),Xt++):(Qr=be,0===Wr&&tn($n));else cr=be;cr!==be?$t=pr=[pr,vr,cr]:(Xt=$t,$t=be)}else Xt=$t,$t=be;$t===be&&($t=null),Or=_t,_t=parseFloat(ei())}else Xt=_t,_t=be;return _t}if((Re=ut())!==be&&Xt===Fe.length)return Re;throw Re!==be&&Xt<Fe.length&&tn({type:"end"}),function Yi(_t,Ft,$t){return new xe(xe.buildMessage(_t,Ft),_t,Ft,$t)}(Bn,Xn<Fe.length?Fe.charAt(Xn):null,function so(_t,Ft){var $t=Ji(_t),pr=Ji(Ft);return{source:Te,start:{offset:_t,line:$t.line,column:$t.column},end:{offset:Ft,line:pr.line,column:pr.column}}}(Xn,Xn<Fe.length?Xn+1:Xn))}}}());const q={deg:1,grad:.9,rad:180/Math.PI,turn:360},le={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function oe(he){!function de(he){if("quantity"!==he.type||null!==he.unit&&"%"!==he.unit)throw new T.Z("effect:type-error",`Expected <double> or <percentage>, Actual: ${Z(he)}`,{term:he})}(he);const xe=he.value;return Y(xe,he),"%"===he.unit?.01*xe:xe}function ue(he){return function ye(he){if("quantity"!==he.type||!(0===he.value&&null===he.unit||he.unit&&null!=le[he.unit]))throw new T.Z("effect:type-error",`Expected <length>, Actual: ${Z(he)}`,{term:he})}(he),he.value*le[he.unit]||0}function me(he){switch(he.colorType){case"hex":return(0,x.rW)(he.value);case"named":return ve(he.value);case"function":return function ce(he){if(F(he.parameters,4),fe.test(he.name))return[oe(he.parameters[0]),oe(he.parameters[1]),oe(he.parameters[2]),he.parameters[3]?oe(he.parameters[3]):1];if(Ce.test(he.name))return(0,x.B7)(function Q(he){return function H(he){if("quantity"!==he.type||null!==he.unit)throw new T.Z("effect:type-error",`Expected <double>, Actual: ${Z(he)}`,{term:he})}(he),Y(he.value,he),he.value}(he.parameters[0]),oe(he.parameters[1]),oe(he.parameters[2]),he.parameters[3]?oe(he.parameters[3]):1);throw new T.Z("effect:syntax-error",`Invalid color function '${he.name}'`,{colorFunction:he})}(he.value)}}function ve(he){if(!(0,x.St)(he))throw new T.Z("effect:unknown-color",`color '${he}' isn't valid`,{namedColor:he});return(0,x.VL)(he)}const fe=/^rgba?/i,Ce=/^hsla?/i},53390:(lt,Se,C)=>{"use strict";C.d(Se,{AS:()=>T,Cb:()=>ne,uF:()=>re});var x=C(58141);function T(ee,ie){const J=ee.length>ie.length?ee:ie;return(ee.length>ie.length?ie:ee).every((j,A)=>j.type===J[A].type)}function re(ee,ie){const J=ee.length>ie.length?ee:ie,j=ee.length>ie.length?ie:ee;for(let A=j.length;A<J.length;A++)j.push((0,x.Ee)(J[A]))}function ne(ee){const ie=ee[0];return!!ie&&"type"in ie}},66385:(lt,Se,C)=>{"use strict";C.d(Se,{nd:()=>ne,ZP:()=>T,S6:()=>re});var x=C(62208);class T{constructor(ie=null,J={},j,A){this.geometry=ie,this.attributes=J,this.centroid=j,this.objectId=A,this.displayId=0,this.geohashX=0,this.geohashY=0}weakClone(){const ie=new T(this.geometry,this.attributes,this.centroid,this.objectId);return ie.displayId=this.displayId,ie.geohashX=this.geohashX,ie.geohashY=this.geohashY,ie}}function re(ee){return!((0,x.Wi)(ee.geometry)||!ee.geometry.coords||!ee.geometry.coords.length)}class ne extends T{}},95786:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>x});class x{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const re=new x;return re.objectIdFieldName=this.objectIdFieldName,re.globalIdFieldName=this.globalIdFieldName,re.geohashFieldName=this.geohashFieldName,re.geometryProperties=this.geometryProperties,re.geometryType=this.geometryType,re.spatialReference=this.spatialReference,re.hasZ=this.hasZ,re.hasM=this.hasM,re.features=this.features,re.fields=this.fields,re.transform=this.transform,re.exceededTransferLimit=this.exceededTransferLimit,re.uniqueIdField=this.uniqueIdField,re.queryGeometry=this.queryGeometry,re.queryGeometryType=this.queryGeometryType,re}}},88071:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>x});class x{constructor(re=[],ne=[],ee=!1){this.lengths=null!=re?re:[],this.coords=null!=ne?ne:[],this.hasIndeterminateRingOrder=ee}get isPoint(){return 0===this.lengths.length}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((re,ne)=>re+ne)}forEachVertex(re){let ne=0;this.lengths.length||re(this.coords[0],this.coords[1]);for(let ee=0;ee<this.lengths.length;ee++){const ie=this.lengths[ee];for(let J=0;J<ie;J++)re(this.coords[2*(J+ne)],this.coords[2*(J+ne)+1]);ne+=ie}}clone(re){return re?(re.set(this.coords),new x(this.lengths.slice(),re,this.hasIndeterminateRingOrder)):new x(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}},82054:(lt,Se,C)=>{"use strict";C.d(Se,{XA:()=>Qe,h_:()=>mt,Yn:()=>Ye,GH:()=>Ze,E7:()=>te,ks:()=>Je,Uy:()=>Te,u0:()=>Fe,EI:()=>_e,cn:()=>Et,di:()=>et,Iv:()=>Ce,fQ:()=>Y,eG:()=>Re,J6:()=>we,oB:()=>dr,zj:()=>Ut,$:()=>gr,lz:()=>Qt,RZ:()=>wt,Nh:()=>Tt,Jd:()=>V,IN:()=>P,hY:()=>gt,lM:()=>at,$g:()=>mr});var x=C(26584),T=C(63290),re=C(62208),ne=C(91179),ee=C(66385),ie=C(95786),J=C(88071);function j(ct,Ot){return ct?Ot?4:3:Ot?3:2}const A=T.Z.getLogger("esri.tasks.support.optimizedFeatureSet"),B={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},X=(ct,Ot,Rt,Vt,Yt,Zt)=>{ct[Rt]=Yt,ct[Rt+1]=Zt},W=(ct,Ot,Rt,Vt,Yt,Zt)=>{ct[Rt]=Yt,ct[Rt+1]=Zt,ct[Rt+2]=Ot[Vt+2]},K=(ct,Ot,Rt,Vt,Yt,Zt)=>{ct[Rt]=Yt,ct[Rt+1]=Zt,ct[Rt+2]=Ot[Vt+3]},ae=(ct,Ot,Rt,Vt,Yt,Zt)=>{ct[Rt]=Yt,ct[Rt+1]=Zt,ct[Rt+2]=Ot[Vt+2],ct[Rt+3]=Ot[Vt+3]};function $(ct,Ot,Rt,Vt){if(ct){if(Rt)return Ot&&Vt?ae:W;if(Ot&&Vt)return K}else if(Ot&&Vt)return W;return X}function V({scale:ct,translate:Ot},Rt){return Math.round((Rt-Ot[0])/ct[0])}function P({scale:ct,translate:Ot},Rt){return Math.round((Ot[1]-Rt)/ct[1])}function F({scale:ct,translate:Ot},Rt){return Rt*ct[0]+Ot[0]}function Z({scale:ct,translate:Ot},Rt){return Ot[1]-Rt*ct[1]}function Y(ct,Ot,Rt){return ct?Ot?Rt?oe(ct):q(ct):Rt?le(ct):H(ct):null}function H(ct){const Ot=ct.coords;return{x:Ot[0],y:Ot[1]}}function de(ct,Ot){return ct.coords[0]=Ot.x,ct.coords[1]=Ot.y,ct}function q(ct){const Ot=ct.coords;return{x:Ot[0],y:Ot[1],z:Ot[2]}}function ge(ct,Ot){return ct.coords[0]=Ot.x,ct.coords[1]=Ot.y,ct.coords[2]=Ot.z,ct}function le(ct){const Ot=ct.coords;return{x:Ot[0],y:Ot[1],m:Ot[2]}}function ye(ct,Ot){return ct.coords[0]=Ot.x,ct.coords[1]=Ot.y,ct.coords[2]=Ot.m,ct}function oe(ct){const Ot=ct.coords;return{x:Ot[0],y:Ot[1],z:Ot[2],m:Ot[3]}}function Q(ct,Ot){return ct.coords[0]=Ot.x,ct.coords[1]=Ot.y,ct.coords[2]=Ot.z,ct.coords[3]=Ot.m,ct}function ue(ct,Ot){return ct&&Ot?Q:ct?ge:Ot?ye:de}function me(ct,Ot,Rt,Vt,Yt){const Zt=ue(Rt,Vt);for(const ke of Ot){const{geometry:ot,attributes:ze}=ke;let Xe;ot&&(Xe=Zt(new J.Z,ot)),ct.push(new ee.ZP(Xe,ze,null,ze[Yt]))}return ct}function Ce(ct,Ot,Rt){if((0,re.Wi)(ct))return null;const Vt=j(Ot,Rt),Yt=[];for(let Zt=0;Zt<ct.coords.length;Zt+=Vt){const ke=[];for(let ot=0;ot<Vt;ot++)ke.push(ct.coords[Zt+ot]);Yt.push(ke)}return Ot?Rt?{points:Yt,hasZ:Ot,hasM:Rt}:{points:Yt,hasZ:Ot}:Rt?{points:Yt,hasM:Rt}:{points:Yt}}function ce(ct,Ot,Rt,Vt,Yt){const Zt=j(Rt,Vt);for(const ke of Ot){const ot=ke.geometry,ze=ke.attributes;let Xe;ot&&(Xe=he(new J.Z,ot,Zt)),ct.push(new ee.ZP(Xe,ze,null,ze[Yt]))}return ct}function he(ct,Ot,Rt=j(Ot.hasZ,Ot.hasM)){ct.lengths[0]=Ot.points.length;const Vt=ct.coords;let Yt=0;for(const Zt of Ot.points)for(let ke=0;ke<Rt;ke++)Vt[Yt++]=Zt[ke];return ct}function we(ct,Ot,Rt){if(!ct)return null;const Vt=j(Ot,Rt),{coords:Yt,lengths:Zt}=ct,ke=[];let ot=0;for(const ze of Zt){const Xe=[];for(let He=0;He<ze;He++){const Ue=[];for(let nt=0;nt<Vt;nt++)Ue.push(Yt[ot++]);Xe.push(Ue)}ke.push(Xe)}return Ot?Rt?{paths:ke,hasZ:Ot,hasM:Rt}:{paths:ke,hasZ:Ot}:Rt?{paths:ke,hasM:Rt}:{paths:ke}}function Ae(ct,Ot,Rt,Vt,Yt){const Zt=j(Rt,Vt);for(const ke of Ot){const ot=ke.geometry,ze=ke.attributes;let Xe;ot&&(Xe=Fe(new J.Z,ot,Zt)),ct.push(new ee.ZP(Xe,ze,null,ze[Yt]))}return ct}function Fe(ct,Ot,Rt=j(Ot.hasZ,Ot.hasM)){const{lengths:Vt,coords:Yt}=ct;let Zt=0;for(const ke of Ot.paths){for(const ot of ke)for(let ze=0;ze<Rt;ze++)Yt[Zt++]=ot[ze];Vt.push(ke.length)}return ct}function Re(ct,Ot,Rt){if(!ct)return null;const Vt=j(Ot,Rt),{coords:Yt,lengths:Zt}=ct,ke=[];let ot=0;for(const ze of Zt){const Xe=[];for(let He=0;He<ze;He++){const Ue=[];for(let nt=0;nt<Vt;nt++)Ue.push(Yt[ot++]);Xe.push(Ue)}ke.push(Xe)}return Ot?Rt?{rings:ke,hasZ:Ot,hasM:Rt}:{rings:ke,hasZ:Ot}:Rt?{rings:ke,hasM:Rt}:{rings:ke}}function be(ct,Ot,Rt,Vt,Yt){for(const Zt of Ot){const ke=Zt.geometry,ot=Zt.centroid,ze=Zt.attributes;let Xe;ke&&(Xe=Te(new J.Z,ke,Rt,Vt)),(0,re.pC)(ot)?ct.push(new ee.ZP(Xe,ze,de(new J.Z,ot),ze[Yt])):ct.push(new ee.ZP(Xe,ze,null,ze[Yt]))}return ct}function Te(ct,Ot,Rt=Ot.hasZ,Vt=Ot.hasM){return Je(ct,Ot.rings,Rt,Vt),ct}function Je(ct,Ot,Rt,Vt){const Yt=j(Rt,Vt),{lengths:Zt,coords:ke}=ct;let ot=0;Zt.length=ke.length=0;for(const ze of Ot){for(const Xe of ze)for(let He=0;He<Yt;He++)ke[ot++]=Xe[He];Zt.push(ze.length)}return ct}const ut=[],Pe=[];function Qe(ct,Ot,Rt,Vt,Yt){ut[0]=ct;const[Zt]=Ye(Pe,ut,Ot,Rt,Vt,Yt);return ut.length=Pe.length=0,Zt}function Ye(ct,Ot,Rt,Vt,Yt,Zt){if(ct.length=0,!Rt){for(const ke of Ot)ct.push(new ee.ZP(null,ke.attributes,null,ke.attributes[Zt]));return ct}switch(Rt){case"esriGeometryPoint":return me(ct,Ot,Vt,Yt,Zt);case"esriGeometryMultipoint":return ce(ct,Ot,Vt,Yt,Zt);case"esriGeometryPolyline":return Ae(ct,Ot,Vt,Yt,Zt);case"esriGeometryPolygon":return be(ct,Ot,Vt,Yt,Zt);default:A.error("convertToFeatureSet:unknown-geometry",new x.Z(`Unable to parse unknown geometry type '${Rt}'`)),ct.length=0}return ct}function te(ct,Ot,Rt,Vt,Yt,Zt){const ke=ct.length;switch(Rt){case"esriGeometryPoint":me(ct,Ot,Vt,Yt,Zt);break;case"esriGeometryMultipoint":ce(ct,Ot,Vt,Yt,Zt);break;case"esriGeometryPolyline":Ae(ct,Ot,Vt,Yt,Zt);break;case"esriGeometryPolygon":be(ct,Ot,Vt,Yt,Zt);break;default:A.error("convertToFeatureSet:unknown-geometry",new x.Z(`Unable to parse unknown geometry type '${Rt}'`))}for(let ot=0;ot<Ot.length;ot++)ct[ot+ke].geometryType=Rt,ct[ot+ke].insertAfter=Ot[ot].insertAfter,ct[ot+ke].groupId=Ot[ot].groupId;return ct}function _e(ct,Ot,Rt,Vt){Pe[0]=ct,ft(ut,Pe,Ot,Rt,Vt);const Yt=ut[0];return ut.length=Pe.length=0,Yt}function Ze(ct,Ot,Rt){if((0,re.Wi)(ct))return null;const Vt=new J.Z;return"hasZ"in ct&&null==Ot&&(Ot=ct.hasZ),"hasM"in ct&&null==Rt&&(Rt=ct.hasM),(0,ne.wp)(ct)?ue(null!=Ot?Ot:null!=ct.z,null!=Rt?Rt:null!=ct.m)(Vt,ct):(0,ne.oU)(ct)?Te(Vt,ct,Ot,Rt):(0,ne.l9)(ct)?Fe(Vt,ct,j(Ot,Rt)):(0,ne.aW)(ct)?he(Vt,ct,j(Ot,Rt)):void A.error("convertFromGeometry:unknown-geometry",new x.Z(`Unable to parse unknown geometry type '${ct}'`))}function et(ct,Ot,Rt,Vt){const Yt=ct&&("coords"in ct?ct:ct.geometry);if((0,re.Wi)(Yt))return null;switch(Ot){case"esriGeometryPoint":{let Zt=H;return Rt&&Vt?Zt=oe:Rt?Zt=q:Vt&&(Zt=le),Zt(Yt)}case"esriGeometryMultipoint":return Ce(Yt,Rt,Vt);case"esriGeometryPolyline":return we(Yt,Rt,Vt);case"esriGeometryPolygon":return Re(Yt,Rt,Vt);default:return void A.error("convertToGeometry:unknown-geometry",new x.Z(`Unable to parse unknown geometry type '${Ot}'`))}}function ft(ct,Ot,Rt,Vt,Yt){if(ct.length=0,(0,re.Wi)(Rt))return function ht(ct,Ot){for(const Rt of Ot)ct.push({attributes:Rt.attributes});return ct}(ct,Ot);switch(Rt){case"esriGeometryPoint":return function pe(ct,Ot,Rt,Vt){let Yt=H;Rt&&Vt?Yt=oe:Rt?Yt=q:Vt&&(Yt=le);for(const Zt of Ot){const{geometry:ke,attributes:ot}=Zt,ze=(0,re.pC)(ke)?Yt(ke):null;ct.push({attributes:ot,geometry:ze})}return ct}(ct,Ot,Vt,Yt);case"esriGeometryMultipoint":return function fe(ct,Ot,Rt,Vt){for(const Yt of Ot){const{geometry:Zt,attributes:ke}=Yt;let ot;Zt&&(ot=Ce(Zt,Rt,Vt)),ct.push({attributes:ke,geometry:ot})}return ct}(ct,Ot,Vt,Yt);case"esriGeometryPolyline":return function xe(ct,Ot,Rt,Vt){for(const Yt of Ot){const{geometry:Zt,attributes:ke}=Yt;let ot;(0,re.pC)(Zt)&&(ot=we(Zt,Rt,Vt)),ct.push({attributes:ke,geometry:ot})}return ct}(ct,Ot,Vt,Yt);case"esriGeometryPolygon":return function tt(ct,Ot,Rt,Vt){for(const Yt of Ot){const{geometry:Zt,attributes:ke,centroid:ot}=Yt;let ze;if((0,re.pC)(Zt)&&(ze=Re(Zt,Rt,Vt)),ot){const Xe=H(ot);ct.push({attributes:ke,centroid:Xe,geometry:ze})}else ct.push({attributes:ke,geometry:ze})}return ct}(ct,Ot,Vt,Yt);default:A.error("convertToFeatureSet:unknown-geometry",new x.Z(`Unable to parse unknown geometry type '${Rt}'`))}return ct}function Et(ct){const{objectIdFieldName:Ot,spatialReference:Rt,transform:Vt,fields:Yt,hasM:Zt,hasZ:ke,features:ot,geometryType:ze,exceededTransferLimit:Xe,uniqueIdField:He,queryGeometry:Ue,queryGeometryType:nt}=ct,Mt={features:ft([],ot,ze,ke,Zt),fields:Yt,geometryType:ze,objectIdFieldName:Ot,spatialReference:Rt,uniqueIdField:He,queryGeometry:et(Ue,nt,!1,!1)};return Vt&&(Mt.transform=Vt),Xe&&(Mt.exceededTransferLimit=Xe),Zt&&(Mt.hasM=Zt),ke&&(Mt.hasZ=ke),Mt}function mt(ct,Ot){const Rt=new ie.Z,{hasM:Vt,hasZ:Yt,features:Zt,objectIdFieldName:ke,spatialReference:ot,geometryType:ze,exceededTransferLimit:Xe,transform:He,fields:Ue}=ct;return Ue&&(Rt.fields=Ue),Rt.geometryType=ze,Rt.objectIdFieldName=ke||Ot,Rt.spatialReference=ot,Rt.objectIdFieldName?(Zt&&Ye(Rt.features,Zt,ze,Yt,Vt,Rt.objectIdFieldName),Xe&&(Rt.exceededTransferLimit=Xe),Vt&&(Rt.hasM=Vt),Yt&&(Rt.hasZ=Yt),He&&(Rt.transform=He),Rt):(A.error(new x.Z("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),Rt)}function at(ct){const{transform:Ot,features:Rt,hasM:Vt,hasZ:Yt}=ct;if(!Ot)return ct;for(const Zt of Rt)(0,re.pC)(Zt.geometry)&&mr(Zt.geometry,Zt.geometry,Vt,Yt,Ot),Zt.centroid&&mr(Zt.centroid,Zt.centroid,Vt,Yt,Ot);return ct.transform=null,ct}function wt(ct,Ot){const{geometryType:Rt,features:Vt,hasM:Yt,hasZ:Zt}=Ot;if(!ct)return Ot;for(let ke=0;ke<Vt.length;ke++){const ot=Vt[ke],ze=ot.weakClone();ze.geometry=new J.Z,Tt(ze.geometry,ot.geometry,Yt,Zt,Rt,ct),ot.centroid&&(ze.centroid=new J.Z,Tt(ze.centroid,ot.centroid,Yt,Zt,"esriGeometryPoint",ct)),Vt[ke]=ze}return Ot.transform=ct,Ot}function Tt(ct,Ot,Rt,Vt,Yt,Zt,ke=Rt,ot=Vt){if(ct.lengths.length&&(ct.lengths.length=0),ct.coords.length&&(ct.coords.length=0),(0,re.Wi)(Ot)||!Ot.coords.length)return null;const ze=B[Yt],{coords:Xe,lengths:He}=Ot,Ue=j(Rt,Vt),nt=j(Rt&&ke,Vt&&ot),Mt=$(Rt,Vt,ke,ot);if(!He.length)return Mt(ct.coords,Xe,0,0,V(Zt,Xe[0]),P(Zt,Xe[1])),ct.lengths.length&&(ct.lengths.length=0),ct.coords.length=Ue,ct;let tr,br,xr,Ur,Br=0,nn=0,jn=nn;for(const Ai of He){if(Ai<ze)continue;let Yn=0;nn=jn,xr=tr=V(Zt,Xe[Br]),Ur=br=P(Zt,Xe[Br+1]),Mt(ct.coords,Xe,nn,Br,xr,Ur),Yn++,Br+=Ue,nn+=nt;for(let Hi=1;Hi<Ai;Hi++,Br+=Ue)xr=V(Zt,Xe[Br]),Ur=P(Zt,Xe[Br+1]),xr===tr&&Ur===br||(Mt(ct.coords,Xe,nn,Br,xr-tr,Ur-br),nn+=nt,Yn++,tr=xr,br=Ur);Yn>=ze&&(ct.lengths.push(Yn),jn=nn)}return ct.coords.length=jn,ct.coords.length?ct:null}function Ut(ct,Ot,Rt,Vt,Yt,Zt,ke=Rt,ot=Vt){if(ct.lengths.length&&(ct.lengths.length=0),ct.coords.length&&(ct.coords.length=0),!Ot||!Ot.coords.length)return null;const ze=B[Yt],{coords:Xe,lengths:He}=Ot,Ue=j(Rt,Vt),nt=j(Rt&&ke,Vt&&ot),Mt=$(Rt,Vt,ke,ot);if(!He.length)return Mt(ct.coords,Xe,0,0,Xe[0],Xe[1]),ct.lengths.length&&(ct.lengths.length=0),ct.coords.length=Ue,ct;let tr=0;const br=Zt*Zt;for(const xr of He){if(xr<ze){tr+=xr*Ue;continue}const Ur=ct.coords.length/nt,Br=tr,nn=tr+(xr-1)*Ue;Mt(ct.coords,Xe,ct.coords.length,Br,Xe[Br],Xe[Br+1]),er(ct.coords,Xe,Ue,br,Mt,Br,nn),Mt(ct.coords,Xe,ct.coords.length,nn,Xe[nn],Xe[nn+1]);const jn=ct.coords.length/nt-Ur;jn>=ze?ct.lengths.push(jn):ct.coords.length=Ur*nt,tr+=xr*Ue}return ct.coords.length?ct:null}function Wt(ct,Ot,Rt,Vt){const Yt=ct[Ot],Zt=ct[Ot+1],ze=ct[Vt],Xe=ct[Vt+1];let He=ct[Rt],Ue=ct[Rt+1],nt=ze-He,Mt=Xe-Ue;if(0!==nt||0!==Mt){const tr=((Yt-He)*nt+(Zt-Ue)*Mt)/(nt*nt+Mt*Mt);tr>1?(He=ze,Ue=Xe):tr>0&&(He+=nt*tr,Ue+=Mt*tr)}return nt=Yt-He,Mt=Zt-Ue,nt*nt+Mt*Mt}function er(ct,Ot,Rt,Vt,Yt,Zt,ke){let ot,ze=Vt,Xe=0;for(let He=Zt+Rt;He<ke;He+=Rt)ot=Wt(Ot,He,Zt,ke),ot>ze&&(Xe=He,ze=ot);ze>Vt&&(Xe-Zt>Rt&&er(ct,Ot,Rt,Vt,Yt,Zt,Xe),Yt(ct,Ot,ct.length,Xe,Ot[Xe],Ot[Xe+1]),ke-Xe>Rt&&er(ct,Ot,Rt,Vt,Yt,Xe,ke))}function gr(ct,Ot,Rt,Vt){if((0,re.Wi)(Ot)||!Ot.coords||!Ot.coords.length)return null;const Yt=j(Rt,Vt);let Zt=Number.POSITIVE_INFINITY,ke=Number.POSITIVE_INFINITY,ot=Number.NEGATIVE_INFINITY,ze=Number.NEGATIVE_INFINITY;if(Ot&&Ot.coords){const Xe=Ot.coords;for(let He=0;He<Xe.length;He+=Yt){const Ue=Xe[He],nt=Xe[He+1];Zt=Math.min(Zt,Ue),ot=Math.max(ot,Ue),ke=Math.min(ke,nt),ze=Math.max(ze,nt)}}return ct[0]=Zt,ct[1]=ke,ct[2]=ot,ct[3]=ze,ct}function mr(ct,Ot,Rt,Vt,Yt){const{coords:Zt,lengths:ke}=Ot,ot=Rt?Vt?ae:W:Vt?W:X,ze=j(Rt,Vt);if(!Zt.length)return ct!==Ot&&(ct.lengths.length=0,ct.coords.length=0),ct;if(!ke.length)return ot(ct.coords,Zt,0,0,F(Yt,Zt[0]),Z(Yt,Zt[1])),ct!==Ot&&(ct.lengths.length=0,ct.coords.length=ze),ct;const[Xe,He]=Yt.scale;let Ue=0;for(let nt=0;nt<ke.length;nt++){const Mt=ke[nt];ct.lengths[nt]=Mt;let tr=F(Yt,Zt[Ue]),br=Z(Yt,Zt[Ue+1]);ot(ct.coords,Zt,Ue,Ue,tr,br),Ue+=ze;for(let xr=1;xr<Mt;xr++,Ue+=ze)tr+=Zt[Ue]*Xe,br-=Zt[Ue+1]*He,ot(ct.coords,Zt,Ue,Ue,tr,br)}return ct!==Ot&&(ct.lengths.length=ke.length,ct.coords.length=Zt.length),ct}function gt(ct,Ot,Rt,Vt,Yt,Zt){const ke=j(Rt,Vt),ot=$(Rt,Vt,Yt,Zt),ze=Ot.coords;ct.coords.length=0,ct.lengths.length=0,ct.lengths.push(...Ot.lengths);for(let Xe=0;Xe<ze.length;Xe+=ke)ot(ct.coords,ze,ct.coords.length,Xe,ze[Xe],ze[Xe+1]);return ct}function Gt(ct,Ot,Rt,Vt){let Yt=0,Zt=ct[Vt*Ot],ke=ct[Vt*(Ot+1)];for(let ot=1;ot<Rt;ot++){const ze=Zt+ct[Vt*(Ot+ot)],Xe=ke+ct[Vt*(Ot+ot)+1],He=(ze-Zt)*(Xe+ke);Zt=ze,ke=Xe,Yt+=He}return.5*Yt}function Qt(ct,Ot){const{coords:Rt,lengths:Vt}=ct;let Yt=0,Zt=0;for(let ke=0;ke<Vt.length;ke++)Zt+=Gt(Rt,Yt,Vt[ke],Ot),Yt+=ke;return Math.abs(Zt)}function dr(ct,Ot){if((0,re.Wi)(ct))return null;const Rt=ct.clone(),Vt=ct.coords,Yt=ct.lengths;let Zt=0;for(let ke=0;ke<Yt.length;ke++){const ot=Yt[ke];let ze=Vt[Ot*Zt],Xe=Vt[Ot*Zt+1];for(let He=1;He<ot;He++){const Ue=ze+Vt[Ot*(Zt+He)],nt=Xe+Vt[Ot*(Zt+He)+1];Rt.coords[Ot*(Zt+He)]=Ue,Rt.coords[Ot*(Zt+He)+1]=nt,ze=Ue,Xe=nt}Zt+=ot}return Rt}},50085:(lt,Se,C)=>{"use strict";C.d(Se,{V:()=>j});var x=C(17626),T=C(77712),ie=(C(85931),C(8314),C(90912),C(76898));const j=A=>{let B=class extends A{get apiKey(){var X;return this._isOverridden("apiKey")?this._get("apiKey"):function J(A){return"portalItem"in A}(this)?null==(X=this.portalItem)?void 0:X.apiKey:null}set apiKey(X){null!=X?this._override("apiKey",X):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return(0,x._)([(0,T.Cb)({type:String})],B.prototype,"apiKey",null),B=(0,x._)([(0,ie.j)("esri.layers.mixins.APIKeyMixin")],B),B}},65088:(lt,Se,C)=>{"use strict";C.d(Se,{Y:()=>B});var x=C(17626),T=C(63290),re=C(62208),ne=C(77712),j=(C(85931),C(8314),C(90912),C(76898)),A=C(38305);const B=X=>{let W=class extends X{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const K=(0,A.Qc)(this.url);if((0,re.pC)(K)&&K.title)return K.title}return this._get("title")||""}set title(K){this._set("title",K)}set url(K){this._set("url",(0,A.Nm)(K,T.Z.getLogger(this.declaredClass)))}};return(0,x._)([(0,ne.Cb)()],W.prototype,"title",null),(0,x._)([(0,ne.Cb)({type:String})],W.prototype,"url",null),W=(0,x._)([(0,j.j)("esri.layers.mixins.ArcGISService")],W),W}},552:(lt,Se,C)=>{"use strict";C.d(Se,{h:()=>j});var x=C(17626),T=C(77712),ie=(C(85931),C(8314),C(90912),C(76898)),J=C(71149);const j=A=>{let B=class extends A{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return(0,x._)([(0,T.Cb)({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0}}}})],B.prototype,"blendMode",void 0),(0,x._)([(0,T.Cb)({json:{read:!1,write:!1,origins:{"web-map":{read:{reader:J.ij},write:{allowNull:!0,writer:J.cW}}}}})],B.prototype,"effect",void 0),B=(0,x._)([(0,ie.j)("esri.layers.mixins.BlendLayer")],B),B}},50107:(lt,Se,C)=>{"use strict";C.d(Se,{N:()=>J});var x=C(17626),T=C(77712),ie=(C(85931),C(8314),C(90912),C(76898));const J=j=>{let A=class extends j{constructor(){super(...arguments),this.customParameters=null}};return(0,x._)([(0,T.Cb)({type:Object,json:{write:{overridePolicy:B=>({enabled:!!(B&&Object.keys(B).length>0)})}}})],A.prototype,"customParameters",void 0),A=(0,x._)([(0,ie.j)("esri.layers.mixins.CustomParametersMixin")],A),A}},35126:(lt,Se,C)=>{"use strict";C.d(Se,{b:()=>j});var x=C(17626),T=C(77712),ie=(C(85931),C(8314),C(90912),C(76898)),J=C(2319);const j=A=>{let B=class extends A{constructor(){super(...arguments),this.featureEffect=null}};return(0,x._)([(0,T.Cb)({type:J.Z,json:{origins:{"web-map":{write:{allowNull:!0}}}}})],B.prototype,"featureEffect",void 0),B=(0,x._)([(0,ie.j)("esri.layers.mixins.FeatureEffectLayer")],B),B}},49286:(lt,Se,C)=>{"use strict";C.d(Se,{q:()=>ae});var x=C(17626),T=C(26584),re=C(21726),ne=C(77712),j=(C(85931),C(8314),C(90912),C(76898)),A=C(99433),B=C(29338),X=C(36054);const W={"web-scene/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!1},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,OGCFeatureLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}};var K=C(13812);const ae=V=>{let P=class extends V{constructor(){super(...arguments),this.title=null}writeListMode(F,Z,Y,H){(H&&"ground"===H.layerContainerType||F&&(0,X.df)(this,Y,{},H))&&(Z[Y]=F)}writeOperationalLayerType(F,Z,Y,H){!F||H&&"tables"===H.layerContainerType||(Z.layerType=F)}writeTitle(F,Z){Z.title=F||"Layer"}read(F,Z){Z&&(Z.layer=this),(0,B.$Z)(this,F,Y=>super.read(F,Y),Z)}write(F,Z){if(null!=Z&&Z.origin){const ge=`${Z.origin}/${Z.layerContainerType||"operational-layers"}`,le=W[ge];let ye=le&&le[this.operationalLayerType];var Y;if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===ge&&(ye=!1),!ye)return null==(Y=Z.messages)||Y.push(new T.Z("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${ge}'`,{layer:this})),null}const H=super.write(F,Xr(Pt({},Z),{layer:this})),de=!!Z&&!!Z.messages&&!!Z.messages.filter(ge=>ge instanceof T.Z&&"web-document-write:property-required"===ge.name).length;var q;return(0,re.jc)(null==H?void 0:H.url)?(null==Z||null==(q=Z.messages)||q.push(new T.Z("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&de?null:H}beforeSave(){}};return(0,x._)([(0,ne.Cb)({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],P.prototype,"id",void 0),(0,x._)([(0,ne.Cb)({json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,write:!1}}}})],P.prototype,"listMode",void 0),(0,x._)([(0,A.c)("listMode")],P.prototype,"writeListMode",null),(0,x._)([(0,ne.Cb)({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],P.prototype,"operationalLayerType",void 0),(0,x._)([(0,A.c)("operationalLayerType")],P.prototype,"writeOperationalLayerType",null),(0,x._)([(0,ne.Cb)(K.Oh)],P.prototype,"opacity",void 0),(0,x._)([(0,ne.Cb)({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],P.prototype,"title",void 0),(0,x._)([(0,A.c)("title")],P.prototype,"writeTitle",null),(0,x._)([(0,ne.Cb)({type:Boolean,json:{name:"visibility",origins:{"web-document":{name:"visibility",default:!0},"portal-item":{name:"visibility",read:{source:["visible","visibility"]}}}}})],P.prototype,"visible",void 0),P=(0,x._)([(0,j.j)("esri.layers.mixins.OperationalLayer")],P),P}},32629:(lt,Se,C)=>{"use strict";C.d(Se,{c:()=>P});var B,x=C(17626),T=C(94113),re=C(77712),J=(C(85931),C(8314),C(90912),C(76898)),j=C(2076),A=C(86162);const X=new j.Xn({asc:"ascending",desc:"descending"});let W=B=class extends A.wq{constructor(F){super(F),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new B({field:this.field,valueExpression:this.valueExpression,order:this.order})}};(0,x._)([(0,re.Cb)({type:String,json:{write:!0}})],W.prototype,"field",void 0),(0,x._)([(0,re.Cb)({type:String,json:{write:!0}})],W.prototype,"valueExpression",void 0),(0,x._)([(0,re.Cb)({type:X.apiValues,json:{read:X.read,write:X.write}})],W.prototype,"order",void 0),W=B=(0,x._)([(0,J.j)("esri.layers.support.OrderByInfo")],W);const K=W;function $(F,Z,Y){if(!F)return null;const H=F.find(q=>!!q.field);if(!H)return null;const de=new K;return de.read(H,Y),[de]}function V(F,Z,Y,H){const de=F.find(q=>!!q.field);de&&(0,T.RB)(Y,[de.toJSON()],Z)}const P=F=>{let Z=class extends F{constructor(){super(...arguments),this.orderBy=null}};return(0,x._)([(0,re.Cb)({type:[K],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:$},write:{target:"layerDefinition.orderBy",writer:V}}})],Z.prototype,"orderBy",void 0),Z=(0,x._)([(0,J.j)("esri.layers.mixins.OrderedLayer")],Z),Z}},6647:(lt,Se,C)=>{"use strict";C.d(Se,{I:()=>de});var x=C(15861),T=C(17626),re=C(24263),ne=C(84792),ee=C(59213),ie=C(26584),J=C(63290),j=C(62208),A=C(10699),B=C(21726),X=C(77712),$=(C(85931),C(8314),C(90912),C(68653)),V=C(76898),P=C(99433),F=C(84687),Z=C(55463),Y=C(94508);const H=J.Z.getLogger("esri.layers.mixins.PortalLayer"),de=ge=>{let le=class extends ge{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0}destroy(){var ye;null==(ye=this.portalItem)||ye.destroy(),this.portalItem=null}set portalItem(ye){ye!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",ye))}readPortalItem(ye,oe,Q){if(oe.itemId)return new Z.default({id:oe.itemId,portal:Q&&Q.portal})}writePortalItem(ye,oe){ye&&ye.id&&(oe.itemId=ye.id)}loadFromPortal(ye,oe){var Q=this;return(0,x.Z)(function*(){if(Q.portalItem&&Q.portalItem.id)try{const pe=yield C.e(3705).then(C.bind(C,83705));return(0,A.k_)(oe),yield pe.load({instance:Q,supportedTypes:ye.supportedTypes,validateItem:ye.validateItem,supportsData:ye.supportsData},oe)}catch(pe){throw(0,A.D_)(pe)||H.warn(`Failed to load layer (${Q.title}, ${Q.id}) portal item (${Q.portalItem.id})\n  ${pe}`),pe}})()}finishLoadEditablePortalLayer(ye){var oe=this;return(0,x.Z)(function*(){oe._set("userHasEditingPrivileges",yield oe.fetchUserHasEditingPrivileges(ye).catch(Q=>((0,A.r9)(Q),!0)))})()}fetchUserHasEditingPrivileges(ye){var oe=this;return(0,x.Z)(function*(){const Q=oe.url?null==re.id?void 0:re.id.findCredential(oe.url):null;if(!Q)return!0;const pe=q.credential===Q?q.user:yield oe.fetchEditingUser(ye);return q.credential=Q,q.user=pe,(0,j.Wi)(pe)||null==pe.privileges||pe.privileges.includes("features:user:edit")})()}fetchEditingUser(ye){var oe=this;return(0,x.Z)(function*(){var Q,pe;const ue=null==(Q=oe.portalItem)||null==(pe=Q.portal)?void 0:pe.user;if(ue)return ue;const me=re.id.findServerInfo(oe.url);if(null==me||!me.owningSystemUrl)return null;const ve=`${me.owningSystemUrl}/sharing/rest`,fe=F.Z.getDefault();if(fe&&fe.loaded&&(0,B.Fv)(fe.restUrl)===(0,B.Fv)(ve))return fe.user;const Ce=`${ve}/community/self`,ce=(0,j.pC)(ye)?ye.signal:null,he=yield(0,ee.q6)((0,ne.default)(Ce,{authMode:"no-prompt",query:{f:"json"},signal:ce}));return he.ok?Y.default.fromJSON(he.value.data):null})()}read(ye,oe){oe&&(oe.layer=this),super.read(ye,oe)}write(ye,oe){const Q=oe&&oe.portal,pe=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||F.Z.getDefault());return Q&&pe&&!(0,B.tm)(pe.restUrl,Q.restUrl)?(oe.messages&&oe.messages.push(new ie.Z("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer`,{layer:this})),null):super.write(ye,Xr(Pt({},oe),{layer:this}))}};return(0,T._)([(0,X.Cb)({type:Z.default})],le.prototype,"portalItem",null),(0,T._)([(0,$.r)("web-document","portalItem",["itemId"])],le.prototype,"readPortalItem",null),(0,T._)([(0,P.c)("web-document","portalItem",{itemId:{type:String}})],le.prototype,"writePortalItem",null),(0,T._)([(0,X.Cb)()],le.prototype,"resourceReferences",void 0),(0,T._)([(0,X.Cb)({readOnly:!0})],le.prototype,"userHasEditingPrivileges",void 0),le=(0,T._)([(0,V.j)("esri.layers.mixins.PortalLayer")],le),le},q={credential:null,user:null}},30346:(lt,Se,C)=>{"use strict";C.d(Se,{Q:()=>ge});var x=C(15861),T=C(17626),re=C(63290),ne=C(10699),ee=C(77712),A=(C(85931),C(8314),C(90912),C(76898)),B=C(7093),W=(C(45262),C(21352));const K=new B.Z,ae=new WeakMap;function P(le){return le&&"object"==typeof le&&"refreshInterval"in le&&"refresh"in le}function F(le,ye){return Number.isFinite(le)&&Number.isFinite(ye)?ye<=0?le:F(ye,le%ye):0}let Z=0,Y=0;function H(){const le=Date.now();for(const oe of K)if(oe.refreshInterval){var ye;le-(null!=(ye=ae.get(oe))?ye:0)+5>=6e4*oe.refreshInterval&&(ae.set(oe,le),oe.refresh(le))}}(0,W.EH)(()=>{const le=Date.now();let ye=0;for(const oe of K)ye=F(Math.round(6e4*oe.refreshInterval),ye),oe.refreshInterval?ae.get(oe)||ae.set(oe,le):ae.delete(oe);if(ye!==Y){if(Y=ye,clearInterval(Z),0===Y)return void(Z=0);Z=setInterval(H,Y)}});const ge=le=>{let ye=class extends le{constructor(...oe){super(...oe),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=(0,ne.Ds)(()=>this.hasDataChanged()),this.when().then(()=>{!function $(le){P(le)&&K.push(le)}(this)},()=>{})}destroy(){!function V(le){P(le)&&K.includes(le)&&K.remove(le)}(this)}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(oe=Date.now()){(0,ne.R8)(this._debounceHasDataChanged()).then(Q=>{Q&&this._set("refreshTimestamp",oe),this.emit("refresh",{dataChanged:Q})},Q=>{re.Z.getLogger(this.declaredClass).error(Q),this.emit("refresh",{dataChanged:!1,error:Q})})}hasDataChanged(){return(0,x.Z)(function*(){return!0})()}};return(0,T._)([(0,ee.Cb)({type:Number,cast:oe=>oe>=.1?oe:oe<=0?0:.1,json:{write:!0}})],ye.prototype,"refreshInterval",void 0),(0,T._)([(0,ee.Cb)({readOnly:!0})],ye.prototype,"refreshTimestamp",void 0),(0,T._)([(0,ee.Cb)()],ye.prototype,"refreshParameters",null),ye=(0,T._)([(0,A.j)("esri.layers.mixins.RefreshableLayer")],ye),ye}},99555:(lt,Se,C)=>{"use strict";C.d(Se,{M:()=>J});var x=C(17626),T=C(77712),ie=(C(85931),C(8314),C(90912),C(76898));const J=j=>{let A=class extends j{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get scaleRangeId(){return`${this.minScale},${this.maxScale}`}};return(0,x._)([(0,T.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],A.prototype,"minScale",void 0),(0,x._)([(0,T.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],A.prototype,"maxScale",void 0),(0,x._)([(0,T.Cb)({readOnly:!0})],A.prototype,"scaleRangeId",null),A=(0,x._)([(0,ie.j)("esri.layers.mixins.ScaleRangeLayer")],A),A}},97941:(lt,Se,C)=>{"use strict";C.d(Se,{n:()=>ae});var x=C(17626),T=C(97478),re=C(20849),ne=C(77712),j=(C(85931),C(8314),C(90912),C(68653)),A=C(76898),B=C(62708),X=C(36630),W=C(58926);const ae=$=>{let V=class extends ${constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(P,F){const Z=F.timeInfo.exportOptions;if(!Z)return null;const Y=Z.timeOffset,H=W.v.fromJSON(Z.timeOffsetUnits);return Y&&H?new re.Z({value:Y,unit:H}):null}set timeInfo(P){(0,X.UF)(P,this.fieldsIndex),this._set("timeInfo",P)}};return(0,x._)([(0,ne.Cb)({type:T.Z,json:{write:!1}})],V.prototype,"timeExtent",void 0),(0,x._)([(0,ne.Cb)({type:re.Z})],V.prototype,"timeOffset",void 0),(0,x._)([(0,j.r)("service","timeOffset",["timeInfo.exportOptions"])],V.prototype,"readOffset",null),(0,x._)([(0,ne.Cb)({value:null,type:B.Z,json:{write:!0,origins:{"web-document":{read:!1,write:!1}}}})],V.prototype,"timeInfo",null),(0,x._)([(0,ne.Cb)({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],V.prototype,"useViewTime",void 0),V=(0,x._)([(0,A.j)("esri.layers.mixins.TemporalLayer")],V),V}},2319:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>$});var K,x=C(17626),T=C(26584),re=C(86162),ne=C(62208),ee=C(94113),ie=C(77712),B=(C(85931),C(8314),C(90912),C(76898)),X=C(71149),W=C(98624);let ae=K=class extends re.wq{constructor(V){super(V),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(V,P){const F=super.write(V,P);if(null!=P&&P.origin){if(F.filter){const H=Object.keys(F.filter);var Z;if(H.length>1||"where"!==H[0])return null==(Z=P.messages)||Z.push(new T.Z("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:P.layer,effect:this})),null}var Y;if("showExcludedLabels"in F)return null==(Y=P.messages)||Y.push(new T.Z("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:P.layer,effect:this})),null}return F}clone(){return new K({filter:(0,ne.pC)(this.filter)&&this.filter.clone(),includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};(0,x._)([(0,ie.Cb)({type:W.Z,json:{write:{allowNull:!0,writer(V,P,F,Z){const Y=null==V?void 0:V.write({},Z);Y&&0!==Object.keys(Y).length?(0,ee.RB)(F,Y,P):(0,ee.RB)(F,null,P)}}}})],ae.prototype,"filter",void 0),(0,x._)([(0,ie.Cb)({json:{write:!0,origins:{"web-map":{read:{reader:X.ij},write:{writer:X.cW,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}}}}})],ae.prototype,"includedEffect",void 0),(0,x._)([(0,ie.Cb)({json:{write:!0,origins:{"web-map":{read:{reader:X.ij},write:{writer:X.cW,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}}}}})],ae.prototype,"excludedEffect",void 0),(0,x._)([(0,ie.Cb)({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":{name:"showExcludedLabels",default:!0}}}})],ae.prototype,"excludedLabelsVisible",void 0),ae=K=(0,x._)([(0,B.j)("esri.layers.support.FeatureEffect")],ae);const $=ae},98624:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>V});var W,x=C(17626),T=C(29132),re=C(97478),ne=C(2076),ee=C(86162),ie=C(58817),J=C(62208),j=C(77712),B=(C(90912),C(76898)),X=C(84952);const K=new ne.Xn({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),ae=new ne.Xn({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let $=W=class extends ee.wq{constructor(P){super(P),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(P={}){const{where:F,geometry:Z,spatialRelationship:Y,timeExtent:H,objectIds:de,units:q,distance:ge}=this;return new X.Z(Pt({geometry:(0,ie.d9)(Z),objectIds:(0,ie.d9)(de),spatialRelationship:Y,timeExtent:(0,ie.d9)(H),where:F,units:q,distance:ge},P))}clone(){const{where:P,geometry:F,spatialRelationship:Z,timeExtent:Y,objectIds:H,units:de,distance:q}=this;return new W({geometry:(0,ie.d9)(F),objectIds:(0,ie.d9)(H),spatialRelationship:Z,timeExtent:(0,ie.d9)(Y),where:P,units:de,distance:q})}};(0,x._)([(0,j.Cb)({type:String,json:{write:!0}})],$.prototype,"where",void 0),(0,x._)([(0,j.Cb)({types:T.qM,json:{write:!0}})],$.prototype,"geometry",void 0),(0,x._)([(0,j.Cb)({type:K.apiValues,json:{name:"spatialRel",read:{reader:K.read},write:{allowNull:!1,writer:K.write,overridePolicy(){return{enabled:(0,J.pC)(this.geometry)}}}}})],$.prototype,"spatialRelationship",void 0),(0,x._)([(0,j.Cb)({type:Number,json:{write:{overridePolicy(P){return{enabled:null!=P&&null!=this.geometry}}}}})],$.prototype,"distance",void 0),(0,x._)([(0,j.Cb)({type:[Number],json:{write:!0}})],$.prototype,"objectIds",void 0),(0,x._)([(0,j.Cb)({type:ae.apiValues,json:{read:ae.read,write:{writer:ae.write,overridePolicy(P){return{enabled:null!=P&&null!=this.geometry}}}}})],$.prototype,"units",void 0),(0,x._)([(0,j.Cb)({type:re.Z,json:{write:!0}})],$.prototype,"timeExtent",void 0),$=W=(0,x._)([(0,B.j)("esri.layers.support.FeatureFilter")],$);const V=$},83989:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>A});var x=C(17626),T=C(86162),re=C(77712),J=(C(85931),C(8314),C(90912),C(76898));let j=class extends T.wq{constructor(){super(...arguments),this.type=null}};(0,x._)([(0,re.Cb)({type:["selection","cluster"],readOnly:!0,json:{read:!1,write:!0}})],j.prototype,"type",void 0),j=(0,x._)([(0,J.j)("esri.layers.support.FeatureReduction")],j);const A=j},47058:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>B});var j,x=C(17626),T=C(77712),ie=(C(85931),C(8314),C(90912),C(76898)),J=C(83989);let A=j=class extends J.Z{constructor(X){super(X),this.type="selection"}clone(){return new j}};(0,x._)([(0,T.Cb)({type:["selection"]})],A.prototype,"type",void 0),A=j=(0,x._)([(0,ie.j)("esri.layers.support.FeatureReductionSelection")],A);const B=A},32777:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>X});var x=C(17626),T=C(2076),re=C(86162),ne=C(77712),j=(C(85931),C(8314),C(90912),C(76898));const A=new T.Xn({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let B=class extends re.wq{constructor(W){super(W),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};(0,x._)([(0,ne.Cb)({json:{write:!0}})],B.prototype,"name",void 0),(0,x._)([(0,ne.Cb)({json:{write:!0}})],B.prototype,"description",void 0),(0,x._)([(0,ne.Cb)({json:{read:A.read,write:A.write}})],B.prototype,"drawingTool",void 0),(0,x._)([(0,ne.Cb)({json:{write:!0}})],B.prototype,"prototype",void 0),(0,x._)([(0,ne.Cb)({json:{write:!0}})],B.prototype,"thumbnail",void 0),B=(0,x._)([(0,j.j)("esri.layers.support.FeatureTemplate")],B);const X=B},41638:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>K});var x=C(17626),T=C(86162),re=C(77712),J=(C(85931),C(8314),C(90912),C(68653)),j=C(76898),A=C(99433),B=C(26141),X=C(32777);let W=class extends T.wq{constructor(ae){super(ae),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(ae){const $={};for(const V of Object.keys(ae))$[V]=(0,B.im)(ae[V]);return $}writeDomains(ae,$){const V={};for(const F of Object.keys(ae)){var P;ae[F]&&(V[F]=null==(P=ae[F])?void 0:P.toJSON())}$.domains=V}};(0,x._)([(0,re.Cb)({json:{write:!0}})],W.prototype,"id",void 0),(0,x._)([(0,re.Cb)({json:{write:!0}})],W.prototype,"name",void 0),(0,x._)([(0,re.Cb)({json:{write:!0}})],W.prototype,"domains",void 0),(0,x._)([(0,J.r)("domains")],W.prototype,"readDomains",null),(0,x._)([(0,A.c)("domains")],W.prototype,"writeDomains",null),(0,x._)([(0,re.Cb)({type:[X.Z],json:{write:!0}})],W.prototype,"templates",void 0),W=(0,x._)([(0,j.j)("esri.layers.support.FeatureType")],W);const K=W},36255:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>V});var K,x=C(17626),T=C(2076),re=C(86162),ne=C(77712),J=(C(85931),C(8314),C(90912)),j=C(55342),A=C(68653),B=C(76898),X=C(26141),W=C(85);const ae=new T.Xn({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let $=K=class extends re.wq{constructor(P){super(P),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null}readDescription(P,{description:F}){let Z;try{Z=JSON.parse(F)}catch(Y){}return Z?Z.value:null}readValueType(P,{description:F}){let Z;try{Z=JSON.parse(F)}catch(Y){}return Z?ae.fromJSON(Z.fieldValueType):null}clone(){return new K({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}};(0,x._)([(0,ne.Cb)({type:String,json:{write:!0}})],$.prototype,"alias",void 0),(0,x._)([(0,ne.Cb)({type:[String,Number],json:{write:{allowNull:!0}}})],$.prototype,"defaultValue",void 0),(0,x._)([(0,ne.Cb)()],$.prototype,"description",void 0),(0,x._)([(0,A.r)("description")],$.prototype,"readDescription",null),(0,x._)([(0,ne.Cb)({types:X.V5,json:{read:{reader:X.im},write:!0}})],$.prototype,"domain",void 0),(0,x._)([(0,ne.Cb)({type:Boolean,json:{write:!0}})],$.prototype,"editable",void 0),(0,x._)([(0,ne.Cb)({type:J.z8,json:{write:!0}})],$.prototype,"length",void 0),(0,x._)([(0,ne.Cb)({type:String,json:{write:!0}})],$.prototype,"name",void 0),(0,x._)([(0,ne.Cb)({type:Boolean,json:{write:!0}})],$.prototype,"nullable",void 0),(0,x._)([(0,j.J)(W.v)],$.prototype,"type",void 0),(0,x._)([(0,ne.Cb)()],$.prototype,"valueType",void 0),(0,x._)([(0,A.r)("valueType",["description"])],$.prototype,"readValueType",null),$=K=(0,x._)([(0,B.j)("esri.layers.support.Field")],$);const V=$},60466:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>ee});var x=C(36630);function re(J){return"oid"===J.type||"esriFieldTypeOID"===J.type}function ne(J){return"global-id"===J.type||"esriFieldTypeGlobalID"===J.type}class ee{constructor(j){if(this.fields=j,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this.dateFields=[],this.numericFields=[],this._requiredFields=null,!j)return;const A=[];for(const B of j){const X=B&&B.name;if(X){const W=ie(X);this._fieldsMap.set(X,B),this._fieldsMap.set(W,B),A.push(W),"date"===(J=B).type||"esriFieldTypeDate"===J.type?(this.dateFields.push(B),this._dateFieldsSet.add(B)):(0,x.H7)(B)&&(this._numericFieldsSet.add(B),this.numericFields.push(B)),re(B)||ne(B)||(B.editable=null==B.editable||!!B.editable,B.nullable=null==B.nullable||!!B.nullable)}}var J;A.sort(),this.uid=A.join(",")}destroy(){this._fieldsMap.clear()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const j of this.fields)re(j)||ne(j)||j.nullable||void 0!==(0,x.os)(j)||this._requiredFields.push(j)}return this._requiredFields}has(j){return null!=this.get(j)}get(j){return null!=j?this._fieldsMap.get(j)||this._fieldsMap.get(ie(j)):void 0}isDateField(j){return this._dateFieldsSet.has(this.get(j))}isNumericField(j){return this._numericFieldsSet.has(this.get(j))}normalizeFieldName(j){const A=this.get(j);if(A)return A.name}}function ie(J){return J.toLowerCase().trim()}},72258:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>B});var j,x=C(17626),T=C(86162),re=C(77712),ie=(C(85931),C(8314),C(90912)),J=C(76898);let A=j=class extends T.wq{constructor(X){super(X),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new j({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};(0,x._)([(0,re.Cb)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],A.prototype,"cols",void 0),(0,x._)([(0,re.Cb)({type:ie.z8,json:{write:!0}})],A.prototype,"level",void 0),(0,x._)([(0,re.Cb)({type:String,json:{write:!0}})],A.prototype,"levelValue",void 0),(0,x._)([(0,re.Cb)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],A.prototype,"origin",void 0),(0,x._)([(0,re.Cb)({type:Number,json:{write:!0}})],A.prototype,"resolution",void 0),(0,x._)([(0,re.Cb)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],A.prototype,"rows",void 0),(0,x._)([(0,re.Cb)({type:Number,json:{write:!0}})],A.prototype,"scale",void 0),A=j=(0,x._)([(0,J.j)("esri.layers.support.LOD")],A);const B=A},170:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>oe});var $,x=C(17626),T=C(65787),re=C(2076),ne=C(86162),ee=C(58817),ie=C(23841),J=C(77712),A=(C(90912),C(68653)),B=C(76898),X=C(99433),ae=(C(85931),C(8314),C(86793));let V=$=class extends ne.wq{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(Q,pe){return pe.value?(0,ae.dI)(pe.value):Q}writeExpression(Q,pe,ue){null!=this.value&&(Q=(0,ae.dI)(this.value)),null!=Q&&(pe[ue]=Q)}clone(){return new $({expression:this.expression,title:this.title,value:this.value})}};(0,x._)([(0,J.Cb)({type:String,json:{write:{writerEnsuresNonNull:!0}}})],V.prototype,"expression",void 0),(0,x._)([(0,A.r)("expression",["expression","value"])],V.prototype,"readExpression",null),(0,x._)([(0,X.c)("expression")],V.prototype,"writeExpression",null),(0,x._)([(0,J.Cb)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],V.prototype,"title",void 0),(0,x._)([(0,J.Cb)({json:{read:!1,write:!1}})],V.prototype,"value",void 0),V=$=(0,x._)([(0,B.j)("esri.layers.support.LabelExpressionInfo")],V);const P=V;var Y,F=C(8080),Z=C(65270);const H=new re.Xn({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function de(Q){return!Q||"service"!==Q.origin&&!q(Q.layer)}function q(Q){return"map-image"===(null==Q?void 0:Q.type)}function ge(Q){var pe,ue;return!!q(Q)&&!(null==(pe=Q.capabilities)||null==(ue=pe.exportMap)||!ue.supportsArcadeExpressionForLabeling)}let ye=Y=class extends ne.wq{constructor(Q){super(Q),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=F.Rz,this.useCodedValues=void 0,this.where=null}static evaluateWhere(Q,pe){const ue=function(me,ve,fe){switch(ve){case"=":return me==fe;case"<>":return me!=fe;case">":return me>fe;case">=":return me>=fe;case"<":return me<fe;case"<=":return me<=fe}return!1};try{if(null==Q)return!0;const me=Q.split(" ");if(3===me.length)return ue(pe[me[0]],me[1],me[2]);if(7===me.length){const ve=ue(pe[me[0]],me[1],me[2]),fe=me[3],Ce=ue(pe[me[4]],me[5],me[6]);switch(fe){case"AND":return ve&&Ce;case"OR":return ve||Ce}}return!1}catch(me){console.log("Error.: can't parse = "+Q)}}readLabelExpression(Q,pe){const ue=pe.labelExpressionInfo;if(!ue||!ue.value&&!ue.expression)return Q}writeLabelExpression(Q,pe,ue){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)Q=(0,ae.z7)(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const me=(0,ae.el)(this.labelExpressionInfo.expression);me&&(Q="["+me+"]")}null!=Q&&(pe[ue]=Q)}writeLabelExpressionInfo(Q,pe,ue,me){if(null==Q&&null!=this.labelExpression&&de(me))Q=new P({expression:this.getLabelExpressionArcade()});else if(!Q)return;const ve=Q.toJSON(me);ve.expression&&(pe[ue]=ve)}writeMaxScale(Q,pe){(Q||this.minScale)&&(pe.maxScale=Q)}writeMinScale(Q,pe){(Q||this.maxScale)&&(pe.minScale=Q)}getLabelExpression(){return(0,ae.hV)(this)}getLabelExpressionArcade(){return(0,ae.YI)(this)}getLabelExpressionSingleField(){return(0,ae.UO)(this)}hash(){return JSON.stringify(this)}clone(){return new Y({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:(0,ee.d9)(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:(0,ee.d9)(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};(0,x._)([(0,J.Cb)({type:String,json:{write:!0}})],ye.prototype,"name",void 0),(0,x._)([(0,J.Cb)({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],ye.prototype,"allowOverrun",void 0),(0,x._)([(0,J.Cb)({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1}}}})],ye.prototype,"deconflictionStrategy",void 0),(0,x._)([(0,J.Cb)({type:String,json:{write:{overridePolicy(Q,pe,ue){return this.labelExpressionInfo&&"service"===(null==ue?void 0:ue.origin)&&ge(ue.layer)?{enabled:!1}:{allowNull:!0}}}}})],ye.prototype,"labelExpression",void 0),(0,x._)([(0,A.r)("labelExpression")],ye.prototype,"readLabelExpression",null),(0,x._)([(0,X.c)("labelExpression")],ye.prototype,"writeLabelExpression",null),(0,x._)([(0,J.Cb)({type:P,json:{write:{overridePolicy:(Q,pe,ue)=>function le(Q){return de(Q)||ge(Q.layer)}(ue)?{allowNull:!0}:{enabled:!1}}}})],ye.prototype,"labelExpressionInfo",void 0),(0,x._)([(0,X.c)("labelExpressionInfo")],ye.prototype,"writeLabelExpressionInfo",null),(0,x._)([(0,J.Cb)({type:H.apiValues,json:{type:H.jsonValues,read:H.read,write:H.write}})],ye.prototype,"labelPlacement",void 0),(0,x._)([(0,J.Cb)({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],ye.prototype,"labelPosition",void 0),(0,x._)([(0,J.Cb)({type:Number})],ye.prototype,"maxScale",void 0),(0,x._)([(0,X.c)("maxScale")],ye.prototype,"writeMaxScale",null),(0,x._)([(0,J.Cb)({type:Number})],ye.prototype,"minScale",void 0),(0,x._)([(0,X.c)("minScale")],ye.prototype,"writeMinScale",null),(0,x._)([(0,J.Cb)({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:!1}}}})],ye.prototype,"repeatLabel",void 0),(0,x._)([(0,J.Cb)({type:Number,cast:ie.t_,json:{write:!0,origins:{"web-scene":{write:!1}}}})],ye.prototype,"repeatLabelDistance",void 0),(0,x._)([(0,J.Cb)({types:T.yK,json:{origins:{"web-scene":{types:T.S6,write:Z.c,default:null}},write:Z.c,default:null}})],ye.prototype,"symbol",void 0),(0,x._)([(0,J.Cb)({type:Boolean,json:{write:!0}})],ye.prototype,"useCodedValues",void 0),(0,x._)([(0,J.Cb)({type:String,json:{write:!0}})],ye.prototype,"where",void 0),ye=Y=(0,x._)([(0,B.j)("esri.layers.support.LabelClass")],ye);const oe=ye},2430:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>X});var A,x=C(17626),T=C(7093),re=C(86162),ne=C(77712),j=(C(85931),C(8314),C(90912),C(76898));let B=A=class extends re.wq{constructor(W){super(W),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new T.Z}clone(){return new A({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};(0,x._)([(0,ne.Cb)({type:String,json:{write:!0}})],B.prototype,"floorField",void 0),(0,x._)([(0,ne.Cb)({json:{read:!1,write:!1}})],B.prototype,"viewAllMode",void 0),(0,x._)([(0,ne.Cb)({json:{read:!1,write:!1}})],B.prototype,"viewAllLevelIds",void 0),B=A=(0,x._)([(0,j.j)("esri.layers.support.LayerFloorInfo")],B);const X=B},2584:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>de});var Z,x=C(17626),T=C(2076),re=C(86162),ne=C(62208),ee=C(16730),ie=C(77712),A=(C(85931),C(8314),C(90912)),B=C(68653),X=C(76898),W=C(99433),K=C(49672),ae=C(65234),$=C(65401),V=C(37053),P=C(46367),F=C(72258);const Y=new T.Xn({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let H=Z=class extends re.wq{constructor(q){super(q),this.dpi=96,this.format=null,this.origin=null,this.minScale=0,this.maxScale=0,this.size=null,this.spatialReference=null}static create(q={}){const{resolutionFactor:ge=1,scales:le,size:ye=256,spatialReference:oe=ae.Z.WebMercator,numLODs:Q=24}=q;if(!(0,V.JY)(oe)){const Ce=[];if(le)for(let ce=0;ce<le.length;ce++){const he=le[ce];Ce.push({level:ce,scale:he,resolution:he})}else{let ce=5e-4;for(let he=Q-1;he>=0;he--)Ce.unshift({level:he,scale:ce,resolution:ce}),ce*=2}return new Z({dpi:96,lods:Ce,origin:new K.Z(0,0,oe),size:[ye,ye],spatialReference:oe})}const pe=(0,V.C5)(oe),ue=new K.Z(q.origin?{x:q.origin.x,y:q.origin.y,spatialReference:oe}:pe?{x:pe.origin[0],y:pe.origin[1],spatialReference:oe}:{x:0,y:0,spatialReference:oe}),ve=1/(39.37*(0,ee.c9)(oe)*96),fe=[];if(le)for(let Ce=0;Ce<le.length;Ce++){const ce=le[Ce];fe.push({level:Ce,scale:ce,resolution:ce*ve})}else{let Ce=(0,V.sT)(oe)?512/ye*591657527.5917094:256/ye*591657527.591555;const ce=Math.ceil(Q/ge);fe.push({level:0,scale:Ce,resolution:Ce*ve});for(let he=1;he<ce;he++){const xe=Ce/2**ge;fe.push({level:he,scale:xe,resolution:xe*ve}),Ce=xe}}return new Z({dpi:96,lods:fe,origin:ue,size:[ye,ye],spatialReference:oe})}get isWrappable(){const{spatialReference:q,origin:ge}=this;if(q&&ge){const le=(0,V.C5)(q);return q.isWrappable&&Math.abs(le.origin[0]-ge.x)<=le.dx}return!1}readOrigin(q,ge){return K.Z.fromJSON(Pt({spatialReference:ge.spatialReference},q))}set lods(q){let ge=0,le=0;const ye=[];this._levelToLOD={},q&&(ge=-1/0,le=1/0,q.forEach(oe=>{ye.push(oe.scale),ge=oe.scale>ge?oe.scale:ge,le=oe.scale<le?oe.scale:le,this._levelToLOD[oe.level]=oe})),this._set("scales",ye),this._set("minScale",ge),this._set("maxScale",le),this._set("lods",q),this._initializeUpsampleLevels()}readSize(q,ge){return[ge.cols,ge.rows]}writeSize(q,ge){ge.cols=q[0],ge.rows=q[1]}zoomToScale(q){const ge=this.scales;if(q<=0)return ge[0];if(q>=ge.length-1)return ge[ge.length-1];{const le=Math.floor(q);return ge[le]/(ge[le]/ge[le+1])**(q-le)}}scaleToZoom(q){const ge=this.scales,le=ge.length-1;let ye=0;for(;ye<le;ye++){const oe=ge[ye],Q=ge[ye+1];if(oe<=q)return ye;if(Q===q)return ye+1;if(oe>q&&Q<q)return ye+Math.log(oe/q)/Math.log(oe/Q)}return ye}snapScale(q,ge=.95){const le=this.scaleToZoom(q);return le%Math.floor(le)>=ge?this.zoomToScale(Math.ceil(le)):this.zoomToScale(Math.floor(le))}tileAt(q,ge,le,ye){const oe=this.lodAt(q);if(!oe)return null;let Q,pe;if("number"==typeof ge)Q=ge,pe=le;else if((0,V.fS)(ge.spatialReference,this.spatialReference))Q=ge.x,pe=ge.y,ye=le;else{const ve=(0,P.iV)(ge,this.spatialReference);if((0,ne.Wi)(ve))return null;Q=ve.x,pe=ve.y,ye=le}const ue=oe.resolution*this.size[0],me=oe.resolution*this.size[1];return ye||(ye={id:null,level:0,row:0,col:0,extent:(0,$.Ue)()}),ye.level=q,ye.row=Math.floor((this.origin.y-pe)/me+.001),ye.col=Math.floor((Q-this.origin.x)/ue+.001),this.updateTileInfo(ye),ye}updateTileInfo(q,ge=0){let le=this.lodAt(q.level);if(!le&&1===ge){const pe=this.lods[this.lods.length-1];pe.level<q.level&&(le=pe)}if(!le)return;const ye=q.level-le.level,oe=le.resolution*this.size[0]/2**ye,Q=le.resolution*this.size[1]/2**ye;q.id=`${q.level}/${q.row}/${q.col}`,q.extent||(q.extent=(0,$.Ue)()),q.extent[0]=this.origin.x+q.col*oe,q.extent[1]=this.origin.y-(q.row+1)*Q,q.extent[2]=q.extent[0]+oe,q.extent[3]=q.extent[1]+Q}upsampleTile(q){const ge=this._upsampleLevels[q.level];return!(!ge||-1===ge.parentLevel||(q.level=ge.parentLevel,q.row=Math.floor(q.row/ge.factor+.001),q.col=Math.floor(q.col/ge.factor+.001),this.updateTileInfo(q),0))}getTileBounds(q,ge){const{resolution:le}=this.lodAt(ge.level),ye=le*this.size[0],oe=le*this.size[1];return q[0]=this.origin.x+ge.col*ye,q[1]=this.origin.y-(ge.row+1)*oe,q[2]=q[0]+ye,q[3]=q[1]+oe,q}lodAt(q){return this._levelToLOD&&this._levelToLOD[q]||null}clone(){return Z.fromJSON(this.write({}))}_initializeUpsampleLevels(){const q=this.lods;this._upsampleLevels=[];let ge=null;for(let le=0;le<q.length;le++){const ye=q[le];this._upsampleLevels[ye.level]={parentLevel:ge?ge.level:-1,factor:ge?ge.resolution/ye.resolution:0},ge=ye}}};(0,x._)([(0,ie.Cb)({type:Number,json:{write:!0}})],H.prototype,"compressionQuality",void 0),(0,x._)([(0,ie.Cb)({type:Number,json:{write:!0}})],H.prototype,"dpi",void 0),(0,x._)([(0,ie.Cb)({type:String,json:{read:Y.read,write:Y.write,origins:{"web-scene":{read:!1,write:!1}}}})],H.prototype,"format",void 0),(0,x._)([(0,ie.Cb)({readOnly:!0})],H.prototype,"isWrappable",null),(0,x._)([(0,ie.Cb)({type:K.Z,json:{write:!0}})],H.prototype,"origin",void 0),(0,x._)([(0,B.r)("origin")],H.prototype,"readOrigin",null),(0,x._)([(0,ie.Cb)({type:[F.Z],value:null,json:{write:!0}})],H.prototype,"lods",null),(0,x._)([(0,ie.Cb)({readOnly:!0})],H.prototype,"minScale",void 0),(0,x._)([(0,ie.Cb)({readOnly:!0})],H.prototype,"maxScale",void 0),(0,x._)([(0,ie.Cb)({readOnly:!0})],H.prototype,"scales",void 0),(0,x._)([(0,ie.Cb)({cast:q=>Array.isArray(q)?q:"number"==typeof q?[q,q]:[256,256]})],H.prototype,"size",void 0),(0,x._)([(0,B.r)("size",["rows","cols"])],H.prototype,"readSize",null),(0,x._)([(0,W.c)("size",{cols:{type:A.z8},rows:{type:A.z8}})],H.prototype,"writeSize",null),(0,x._)([(0,ie.Cb)({type:ae.Z,json:{write:!0}})],H.prototype,"spatialReference",void 0),H=Z=(0,x._)([(0,X.j)("esri.layers.support.TileInfo")],H);const de=H},62708:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>Y});var ae,x=C(17626),T=C(97478),re=C(20849),ne=C(86162),ee=C(58817),ie=C(62208),J=C(77712),A=(C(90912),C(68653)),B=C(76898),X=C(99433);C(85931),C(8314);let $=ae=class extends ne.wq{constructor(H){super(H),this.respectsDaylightSaving=!1,this.timezone=null}readRespectsDaylightSaving(H,de){return void 0!==de.respectsDaylightSaving?de.respectsDaylightSaving:void 0!==de.respectDaylightSaving&&de.respectDaylightSaving}clone(){const{respectsDaylightSaving:H,timezone:de}=this;return new ae({respectsDaylightSaving:H,timezone:de})}};(0,x._)([(0,J.Cb)({type:Boolean,json:{write:!0}})],$.prototype,"respectsDaylightSaving",void 0),(0,x._)([(0,A.r)("respectsDaylightSaving",["respectsDaylightSaving","respectDaylightSaving"])],$.prototype,"readRespectsDaylightSaving",null),(0,x._)([(0,J.Cb)({type:String,json:{read:{source:"timeZone"},write:{target:"timeZone"}}})],$.prototype,"timezone",void 0),$=ae=(0,x._)([(0,B.j)("esri.layers.support.TimeReference")],$);const V=$;var F,P=C(58926);let Z=F=class extends ne.wq{constructor(H){super(H),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeReference=null,this.trackIdField=null,this.useTime=!0}readFullTimeExtent(H,de){if(!de.timeExtent||!Array.isArray(de.timeExtent)||2!==de.timeExtent.length)return null;const q=new Date(de.timeExtent[0]),ge=new Date(de.timeExtent[1]);return new T.Z({start:q,end:ge})}writeFullTimeExtent(H,de){de.timeExtent=H&&(0,ie.pC)(H.start)&&(0,ie.pC)(H.end)?[H.start.getTime(),H.end.getTime()]:null}readInterval(H,de){return de.timeInterval&&de.timeIntervalUnits?new re.Z({value:de.timeInterval,unit:P.v.fromJSON(de.timeIntervalUnits)}):de.defaultTimeInterval&&de.defaultTimeIntervalUnits?new re.Z({value:de.defaultTimeInterval,unit:P.v.fromJSON(de.defaultTimeIntervalUnits)}):null}writeInterval(H,de){if(H){const q=H.toJSON();de.timeInterval=q.value,de.timeIntervalUnits=q.unit}else de.timeInterval=null,de.timeIntervalUnits=null}clone(){const{cumulative:H,endField:de,hasLiveData:q,interval:ge,startField:le,timeReference:ye,fullTimeExtent:oe,trackIdField:Q,useTime:pe}=this;return new F({cumulative:H,endField:de,hasLiveData:q,interval:ge,startField:le,timeReference:(0,ee.d9)(ye),fullTimeExtent:(0,ee.d9)(oe),trackIdField:Q,useTime:pe})}};(0,x._)([(0,J.Cb)({type:Boolean,json:{read:{source:"exportOptions.timeDataCumulative"},write:{target:"exportOptions.timeDataCumulative"}}})],Z.prototype,"cumulative",void 0),(0,x._)([(0,J.Cb)({type:String,json:{read:{source:"endTimeField"},write:{target:"endTimeField",allowNull:!0}}})],Z.prototype,"endField",void 0),(0,x._)([(0,J.Cb)({type:T.Z,json:{write:{enabled:!0,allowNull:!0}}})],Z.prototype,"fullTimeExtent",void 0),(0,x._)([(0,A.r)("fullTimeExtent",["timeExtent"])],Z.prototype,"readFullTimeExtent",null),(0,x._)([(0,X.c)("fullTimeExtent")],Z.prototype,"writeFullTimeExtent",null),(0,x._)([(0,J.Cb)({type:Boolean,json:{write:!0}})],Z.prototype,"hasLiveData",void 0),(0,x._)([(0,J.Cb)({type:re.Z,json:{write:{enabled:!0,allowNull:!0}}})],Z.prototype,"interval",void 0),(0,x._)([(0,A.r)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],Z.prototype,"readInterval",null),(0,x._)([(0,X.c)("interval")],Z.prototype,"writeInterval",null),(0,x._)([(0,J.Cb)({type:String,json:{read:{source:"startTimeField"},write:{target:"startTimeField",allowNull:!0}}})],Z.prototype,"startField",void 0),(0,x._)([(0,J.Cb)({type:V,json:{write:{enabled:!0,allowNull:!0}}})],Z.prototype,"timeReference",void 0),(0,x._)([(0,J.Cb)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],Z.prototype,"trackIdField",void 0),(0,x._)([(0,J.Cb)({type:Boolean,json:{read:{source:"exportOptions.useTime"},write:{target:"exportOptions.useTime"}}})],Z.prototype,"useTime",void 0),Z=F=(0,x._)([(0,B.j)("esri.layers.support.TimeInfo")],Z);const Y=Z},38305:(lt,Se,C)=>{"use strict";C.d(Se,{ld:()=>W,B5:()=>A,M8:()=>ae,h3:()=>Y,G:()=>Z,Qc:()=>B,DR:()=>X,Nm:()=>V,XG:()=>P,a7:()=>K,wH:()=>F});var x=C(62208),T=C(21726),re=C(29840);const ne={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},ee=Object.values(ne),ie=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${ee.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),J=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${ee.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),j=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function A(de){return!!ie.test(de)}function B(de){const q=(0,T.mN)(de),ge=q.path.match(ie)||q.path.match(J);if(!ge)return null;const[,le,ye,oe,Q]=ge,pe=ye.indexOf("/");return{title:W(-1!==pe?ye.slice(pe+1):ye),serverType:ne[oe.toLowerCase()],sublayer:null!=Q&&""!==Q?parseInt(Q,10):null,url:{path:le}}}function X(de){const q=(0,T.mN)(de).path.match(j);return q?{serviceUrl:q[1],sublayerId:Number(q[2])}:null}function W(de){return(de=de.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+de.slice(1)}function K(de,q){const ge=[];if(de){const le=B(de);(0,x.pC)(le)&&le.title&&ge.push(le.title)}if(q){const le=W(q);ge.push(le)}if(2===ge.length){if(-1!==ge[0].toLowerCase().indexOf(ge[1].toLowerCase()))return ge[0];if(-1!==ge[1].toLowerCase().indexOf(ge[0].toLowerCase()))return ge[1]}return ge.join(" - ")}function ae(de){if(!de)return!1;const oe=-1!==(de=de.toLowerCase()).indexOf(".arcgis.com/"),Q=-1!==de.indexOf("//services")||-1!==de.indexOf("//tiles")||-1!==de.indexOf("//features");return oe&&Q}function V(de,q){return de&&(0,T.Qj)((0,T.Hu)(de,q))}function P(de){let{url:q}=de;if(!q)return{url:q};q=(0,T.Hu)(q,de.logger);const ge=(0,T.mN)(q),le=B(ge.path);let ye;if((0,x.pC)(le))null!=le.sublayer&&null==de.layer.layerId&&(ye=le.sublayer),q=le.url.path;else if(de.nonStandardUrlAllowed){const oe=X(ge.path);(0,x.pC)(oe)&&(q=oe.serviceUrl,ye=oe.sublayerId)}return{url:(0,T.Qj)(q),layerId:ye}}function F(de,q,ge,le,ye){(0,re.w)(q,le,"url",ye),le.url&&null!=de.layerId&&(le.url=(0,T.v_)(le.url,ge,de.layerId.toString()))}function Z(de){if(!de)return!1;const q=de.toLowerCase(),ge=-1!==q.indexOf("/services/"),le=-1!==q.indexOf("/mapserver/wmsserver"),ye=-1!==q.indexOf("/imageserver/wmsserver"),oe=-1!==q.indexOf("/wmsserver");return ge&&(le||ye||oe)}function Y(de){if(!de)return!1;const q=new T.R9((0,T.hF)(de)).authority.toLowerCase();return"server.arcgisonline.com"===q||"services.arcgisonline.com"===q}},13812:(lt,Se,C)=>{"use strict";C.d(Se,{qG:()=>ye,PV:()=>de,id:()=>Q,iR:()=>Z,rn:()=>H,u1:()=>ue,rO:()=>pe,Oh:()=>ge,bT:()=>le,C_:()=>F,Lx:()=>q,vg:()=>oe,YI:()=>P,HQ:()=>Y});var x=C(97478),T=C(2004),re=C(65234),ne=C(29840),ee=C(62208),J=(C(10699),C(28170)),$=C(26540),V=C(92236);const P={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:!0}},F={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(me,ve)=>!ve.disablePopup},write:{enabled:!0,writer(me,ve,fe){ve[fe]=!me}}}},Z={type:Boolean,value:!0,json:{name:"showLabels",write:!0}},Y={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:ne.w}}},H={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}},de={value:null,type:$.Z,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:!0}};function q(me){return{type:me,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const ge={type:Number,json:{origins:{"web-document":{write:!0,read:!0},"portal-item":{write:!0}}}},le=Xr(Pt({},ge),{json:Xr(Pt({},ge.json),{origins:{"web-document":Xr(Pt({},ge.json.origins["web-document"]),{write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}})},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(me,ve,fe)=>fe&&"service"!==fe.origin||!ve.drawingInfo||void 0===ve.drawingInfo.transparency?ve.layerDefinition&&ve.layerDefinition.drawingInfo&&void 0!==ve.layerDefinition.drawingInfo.transparency?(0,V.b)(ve.layerDefinition.drawingInfo.transparency):void 0:(0,V.b)(ve.drawingInfo.transparency)}})}),ye={type:x.Z,readOnly:!0,get(){var me,ve;if(null==(me=this.layer)||!me.timeInfo)return null;const{datesInUnknownTimezone:fe,timeOffset:Ce,useViewTime:ce}=this.layer,he=null==(ve=this.view)?void 0:ve.timeExtent;let xe=this.layer.timeExtent;fe&&(xe=function ae(me){if(!me)return me;const{start:ve,end:fe}=me;return new x.Z({start:(0,ee.pC)(ve)?(0,J.Nm)(ve,ve.getTimezoneOffset(),"minutes"):ve,end:(0,ee.pC)(fe)?(0,J.Nm)(fe,fe.getTimezoneOffset(),"minutes"):fe})}(xe));let we=ce?he&&xe?he.intersection(xe):he||xe:xe;if(!we||we.isEmpty||we.isAllTime)return we;Ce&&(we=we.offset(-Ce.value,Ce.unit)),fe&&(we=function K(me){if(!me)return me;const{start:ve,end:fe}=me;return new x.Z({start:(0,ee.pC)(ve)?(0,J.Nm)(ve,-ve.getTimezoneOffset(),"minutes"):ve,end:(0,ee.pC)(fe)?(0,J.Nm)(fe,-fe.getTimezoneOffset(),"minutes"):fe})}(we));const Ae=this._get("timeExtent");return we.equals(Ae)?Ae:we}},oe={type:T.Z,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(me,ve)=>{const fe=T.Z.fromJSON(me);return null!=ve.spatialReference&&"object"==typeof ve.spatialReference&&(fe.spatialReference=re.Z.fromJSON(ve.spatialReference)),fe}}}},read:!1}},Q={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},pe={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}},ue={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}}},26141:(lt,Se,C)=>{"use strict";C.d(Se,{im:()=>pe,V5:()=>Q}),C(8314);var B,T=C(17626),re=C(58817),ne=C(77712),ie=(C(90912),C(55342)),J=C(76898),j=C(86162);C(85931);let X=B=class extends j.wq{constructor(ue){super(ue),this.name=null,this.code=null}clone(){return new B({name:this.name,code:this.code})}};(0,T._)([(0,ne.Cb)({type:String,json:{write:!0}})],X.prototype,"name",void 0),(0,T._)([(0,ne.Cb)({type:[String,Number],json:{write:!0}})],X.prototype,"code",void 0),X=B=(0,T._)([(0,J.j)("esri.layers.support.CodedValue")],X);const W=X,ae=new(C(2076).Xn)({inherited:"inherited",codedValue:"coded-value",range:"range"});let $=class extends j.wq{constructor(ue){super(ue),this.name=null,this.type=null}};(0,T._)([(0,ne.Cb)({type:String,json:{write:!0}})],$.prototype,"name",void 0),(0,T._)([(0,ie.J)(ae)],$.prototype,"type",void 0),$=(0,T._)([(0,J.j)("esri.layers.support.Domain")],$);const V=$;var P;let F=P=class extends V{constructor(ue){super(ue),this.codedValues=null,this.type="coded-value"}getName(ue){let me=null;if(this.codedValues){const ve=String(ue);this.codedValues.some(fe=>(String(fe.code)===ve&&(me=fe.name),!!me))}return me}clone(){return new P({codedValues:(0,re.d9)(this.codedValues),name:this.name})}};(0,T._)([(0,ne.Cb)({type:[W],json:{write:!0}})],F.prototype,"codedValues",void 0),(0,T._)([(0,ie.J)({codedValue:"coded-value"})],F.prototype,"type",void 0),F=P=(0,T._)([(0,J.j)("esri.layers.support.CodedValueDomain")],F);const Z=F;var de;C(63290),C(82255);let q=de=class extends V{constructor(ue){super(ue),this.type="inherited"}clone(){return new de}};(0,T._)([(0,ie.J)({inherited:"inherited"})],q.prototype,"type",void 0),q=de=(0,T._)([(0,J.j)("esri.layers.support.InheritedDomain")],q);const ge=q;var le;let ye=le=class extends V{constructor(ue){super(ue),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new le({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};(0,T._)([(0,ne.Cb)({type:Number,json:{type:[Number],read:{source:"range",reader:(ue,me)=>me.range&&me.range[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(ue,me,ve){me[ve]=[this.minValue||0,ue]}}}})],ye.prototype,"maxValue",void 0),(0,T._)([(0,ne.Cb)({type:Number,json:{type:[Number],read:{source:"range",reader:(ue,me)=>me.range&&me.range[0]},write:{target:"range",writer(ue,me,ve){me[ve]=[ue,this.maxValue||0]}}}})],ye.prototype,"minValue",void 0),(0,T._)([(0,ie.J)({range:"range"})],ye.prototype,"type",void 0),ye=le=(0,T._)([(0,J.j)("esri.layers.support.RangeDomain")],ye);const oe=ye,Q={key:"type",base:V,typeMap:{range:ye,"coded-value":Z,inherited:ge}};function pe(ue){if(!ue||!ue.type)return null;switch(ue.type){case"range":return oe.fromJSON(ue);case"codedValue":return Z.fromJSON(ue);case"inherited":return ge.fromJSON(ue)}return null}},2777:(lt,Se,C)=>{"use strict";C.d(Se,{d:()=>le});var K,x=C(83989),T=C(17626),re=C(73281),ne=C(65787),ee=C(86162),ie=C(58817),J=C(23841),j=C(77712),B=(C(90912),C(76898));C(85931),C(8314);let ae=K=class extends ee.wq{constructor(){super(...arguments),this.statisticType=null,this.onStatisticField=null,this.onStatisticValueExpression=null}clone(){return new K({statisticType:this.statisticType,onStatisticField:this.onStatisticField,onStatisticValueExpression:this.onStatisticValueExpression})}};(0,T._)([(0,j.Cb)({type:String,json:{write:!0}})],ae.prototype,"statisticType",void 0),(0,T._)([(0,j.Cb)({type:String,json:{write:!0}})],ae.prototype,"onStatisticField",void 0),(0,T._)([(0,j.Cb)({type:String,json:{write:!0}})],ae.prototype,"onStatisticValueExpression",void 0),ae=K=(0,T._)([(0,B.j)("esri.layers.support.OutStatistic")],ae);const $=ae;var V;let P=V=class extends ee.wq{constructor(){super(...arguments),this.name=null}clone(){return new V({name:this.name,outStatistic:this.outStatistic.clone()})}};(0,T._)([(0,j.Cb)({type:String,json:{write:!0}})],P.prototype,"name",void 0),(0,T._)([(0,j.Cb)({type:$,json:{write:!0}})],P.prototype,"outStatistic",void 0),P=V=(0,T._)([(0,B.j)("esri.layers.support.AggregateField")],P);const F=P;var H,Z=C(13812),Y=C(170);let de=H=class extends ee.wq{constructor(ye){super(ye),this.type="cluster",this.clusterRadius=(0,J.t_)("80px"),this.clusterMinSize=(0,J.t_)("12px"),this.clusterMaxSize=(0,J.t_)("50px"),this.popupEnabled=!0,this.popupTemplate=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=null}clone(){return new H({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:(0,ie.d9)(this.labelingInfo),labelsVisible:this.labelsVisible,fields:(0,ie.d9)(this.fields),popupEnabled:this.popupEnabled,popupTemplate:(0,ie.d9)(this.popupTemplate)})}};(0,T._)([(0,j.Cb)({type:["cluster"],readOnly:!0,json:{write:!0}})],de.prototype,"type",void 0),(0,T._)([(0,j.Cb)({type:Number,cast:ye=>"auto"===ye?ye:(0,J.t_)(ye),json:{write:!0}})],de.prototype,"clusterRadius",void 0),(0,T._)([(0,j.Cb)({type:Number,cast:J.t_,json:{write:!0}})],de.prototype,"clusterMinSize",void 0),(0,T._)([(0,j.Cb)({type:Number,cast:J.t_,json:{write:!0}})],de.prototype,"clusterMaxSize",void 0),(0,T._)([(0,j.Cb)(Z.C_)],de.prototype,"popupEnabled",void 0),(0,T._)([(0,j.Cb)({type:re.Z,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],de.prototype,"popupTemplate",void 0),(0,T._)([(0,j.Cb)({types:ne.AH})],de.prototype,"symbol",void 0),(0,T._)([(0,j.Cb)({type:[Y.Z],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],de.prototype,"labelingInfo",void 0),(0,T._)([(0,j.Cb)(Z.iR)],de.prototype,"labelsVisible",void 0),(0,T._)([(0,j.Cb)({type:[F],json:{write:!0}})],de.prototype,"fields",void 0),de=H=(0,T._)([(0,B.j)("esri.layers.support.FeatureReductionCluster")],de);const q=de;var ge=C(47058);const le={types:{key:"type",base:x.Z,typeMap:{selection:ge.Z,cluster:q}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:{key:"type",base:x.Z,typeMap:{selection:q}}},"web-scene":{types:{key:"type",base:x.Z,typeMap:{selection:ge.Z}}}}}}},55911:(lt,Se,C)=>{"use strict";C.d(Se,{v:()=>ie});var x=C(63290),T=C(36255),re=C(60466),ne=C(36630);const ee=x.Z.getLogger("esri.layers.support.fieldProperties");function ie(){return{fields:{type:[T.Z],value:null},fieldsIndex:{readOnly:!0,get(){return new re.Z(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(J){this._userOutFields=J,this.notifyChange("outFields")},get:function(){const J=this._userOutFields;if(!J||!J.length)return null;if(J.includes("*"))return["*"];if(!this.fields)return J;for(const j of J)this.fieldsIndex.has(j)||ee.error("field-attributes-layer:invalid-field",`Invalid field ${j} found in outFields`,{layer:this,outFields:J});return(0,ne.Q0)(this.fieldsIndex,J)}}}}},85:(lt,Se,C)=>{"use strict";C.d(Se,{v:()=>T});const T=new(C(2076).Xn)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},36630:(lt,Se,C)=>{"use strict";C.d(Se,{io:()=>H,vl:()=>ue,ZV:()=>Ce,AB:()=>F,gd:()=>P,Ll:()=>he,Mu:()=>Qe,Qj:()=>we,R9:()=>ot,Q0:()=>V,YN:()=>W,UF:()=>ae,O5:()=>le,CH:()=>Te,os:()=>Ze,H7:()=>er,qN:()=>gr,Pz:()=>Gt,Lk:()=>Z,Qc:()=>Qt,vP:()=>ke});var ee,Ue,x=C(15861),T=C(26584),re=C(62208),ne=C(94113);(Ue=ee||(ee={})).VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",Ue.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value";var A=C(46679);const B=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],X=["field","normalizationField"];function W(Ue,nt){if(null!=Ue&&null!=nt)for(const Mt of Array.isArray(Ue)?Ue:[Ue])if(K(B,Mt,nt),"visualVariables"in Mt&&Mt.visualVariables)for(const tr of Mt.visualVariables)K(X,tr,nt)}function K(Ue,nt,Mt){if(Ue)for(const tr of Ue){const br=(0,ne.hS)(tr,nt),xr=br&&"function"!=typeof br&&Mt.get(br);xr&&(0,ne.RB)(tr,xr.name,nt)}}function ae(Ue,nt){if(null!=Ue&&null!=nt&&nt.fields.length)if("startField"in Ue){const Mt=nt.get(Ue.startField),tr=nt.get(Ue.endField);Ue.startField=Mt&&Mt.name||null,Ue.endField=tr&&tr.name||null}else{const Mt=nt.get(Ue.startTimeField),tr=nt.get(Ue.endTimeField);Ue.startTimeField=Mt&&Mt.name||null,Ue.endTimeField=tr&&tr.name||null}}const $=new Set;function V(Ue,nt){return Ue&&nt?($.clear(),P($,Ue,nt),Array.from($).sort()):[]}function P(Ue,nt,Mt){var tr;if(Mt)if(null!=nt&&null!=(tr=nt.fields)&&tr.length)if(Mt.includes("*"))for(const{name:br}of nt.fields)Ue.add(br);else for(const br of Mt)F(Ue,nt,br);else{if(Mt.includes("*"))return Ue.clear(),void Ue.add("*");for(const br of Mt)Ue.add(br)}}function F(Ue,nt,Mt){if("string"==typeof Mt)if(nt){const tr=nt.get(Mt);tr&&Ue.add(tr.name)}else Ue.add(Mt)}function Z(Ue,nt){return(0,re.Wi)(nt)||(0,re.Wi)(Ue)?[]:nt.includes("*")?Ue.fields.map(Mt=>Mt.name):nt}function H(Ue,nt,Mt){return de.apply(this,arguments)}function de(){return de=(0,x.Z)(function*(Ue,nt,Mt){var tr;if(!Mt)return;const{arcadeUtils:br}=yield(0,A.LC)(),xr=br.extractFieldNames(Mt,null==nt||null==(tr=nt.fields)?void 0:tr.map(Ur=>Ur.name));for(const Ur of xr)F(Ue,nt,Ur)}),de.apply(this,arguments)}function q(Ue,nt,Mt){return ge.apply(this,arguments)}function ge(){return ge=(0,x.Z)(function*(Ue,nt,Mt){if(Mt&&"1=1"!==Mt){const tr=(yield C.e(410).then(C.bind(C,10410))).WhereClause.create(Mt,nt);if(!tr.isStandardized)throw new T.Z("fieldUtils:collectFilterFields","Where clause is not standardized");P(Ue,nt,tr.fieldNames)}}),ge.apply(this,arguments)}function le({displayField:Ue,fields:nt}){return Ue||(nt&&nt.length?oe(nt,"name-or-title")||oe(nt,"unique-identifier")||oe(nt,"type-or-category")||function ye(Ue){for(const nt of Ue){if(!nt||!nt.name)continue;const Mt=nt.name.toLowerCase();if(Mt.indexOf("name")>-1||Mt.indexOf("title")>-1)return nt.name}return null}(nt):null)}function oe(Ue,nt){for(const Mt of Ue)if(Mt&&Mt.valueType&&Mt.valueType===nt)return Mt.name;return null}function ue(Ue,nt){return me.apply(this,arguments)}function me(){return me=(0,x.Z)(function*(Ue,nt){if(!nt)return;const Mt=(0,ne.hS)("elevationInfo.featureExpressionInfo",nt);return Mt?Mt.collectRequiredFields(Ue,nt.fieldsIndex):void 0}),me.apply(this,arguments)}function ve(Ue,nt,Mt){return fe.apply(this,arguments)}function fe(){return fe=(0,x.Z)(function*(Ue,nt,Mt){Mt.outStatistic.onStatisticValueExpression?H(Ue,nt,Mt.outStatistic.onStatisticValueExpression):Ue.add(Mt.outStatistic.onStatisticField)}),fe.apply(this,arguments)}function Ce(Ue,nt,Mt){return ce.apply(this,arguments)}function ce(){return ce=(0,x.Z)(function*(Ue,nt,Mt){var tr,br;if(!nt||!Mt||"cluster"!==Mt.type)return;const xr=[];if(null!=(tr=Mt.popupTemplate)&&tr.expressionInfos&&xr.push(...Mt.popupTemplate.expressionInfos.map(Ur=>H(Ue,nt.fieldsIndex,Ur.expression))),Array.isArray(null==(br=Mt.popupTemplate)?void 0:br.content)){const Ur=Mt.popupTemplate.content;for(const Br of Ur)"expression"===Br.type&&Br.expressionInfo&&xr.push(H(Ue,nt.fieldsIndex,Br.expressionInfo.expression))}Mt.fields&&xr.push(...Mt.fields.map(Ur=>ve(Ue,nt.fieldsIndex,Ur))),yield Promise.all(xr)}),ce.apply(this,arguments)}function he(Ue,nt,Mt){return xe.apply(this,arguments)}function xe(){return xe=(0,x.Z)(function*(Ue,nt,Mt){nt&&(nt.timeInfo&&(0,re.pC)(Mt)&&Mt.timeExtent&&P(Ue,nt.fieldsIndex,[nt.timeInfo.startField,nt.timeInfo.endField]),nt.floorInfo&&P(Ue,nt.fieldsIndex,[nt.floorInfo.floorField]),(0,re.pC)(Mt)&&(0,re.pC)(Mt.where)&&(yield q(Ue,nt.fieldsIndex,Mt.where)))}),xe.apply(this,arguments)}function we(Ue,nt,Mt){return Ae.apply(this,arguments)}function Ae(){return Ae=(0,x.Z)(function*(Ue,nt,Mt){nt&&Mt&&(yield Promise.all(Mt.map(tr=>Fe(Ue,nt,tr))))}),Ae.apply(this,arguments)}function Fe(Ue,nt,Mt){return tt.apply(this,arguments)}function tt(){return tt=(0,x.Z)(function*(Ue,nt,Mt){nt&&Mt&&(Mt.valueExpression?yield H(Ue,nt.fieldsIndex,Mt.valueExpression):Mt.field&&F(Ue,nt.fieldsIndex,Mt.field))}),tt.apply(this,arguments)}function Te(Ue){if(!Ue)return[];const nt="editFieldsInfo"in Ue&&Ue.editFieldsInfo;return nt?V(Ue.fieldsIndex,[nt&&nt.creatorField,nt&&nt.creationDateField,nt&&nt.editorField,nt&&nt.editDateField]):[]}function Qe(Ue,nt){return Ye.apply(this,arguments)}function Ye(){return Ye=(0,x.Z)(function*(Ue,nt){const{labelingInfo:Mt,fieldsIndex:tr}=nt;Mt&&Mt.length&&(yield Promise.all(Mt.map(br=>te(Ue,tr,br))))}),Ye.apply(this,arguments)}function te(Ue,nt,Mt){return _e.apply(this,arguments)}function _e(){return _e=(0,x.Z)(function*(Ue,nt,Mt){if(!Mt)return;const tr=Mt.getLabelExpression(),br=Mt.where;if("arcade"===tr.type)yield H(Ue,nt,tr.expression);else{const xr=tr.expression.match(/{[^}]*}/g);xr&&xr.forEach(Ur=>{F(Ue,nt,Ur.slice(1,-1))})}yield q(Ue,nt,br)}),_e.apply(this,arguments)}function Ze(Ue){const nt=Ue.defaultValue;return void 0!==nt&&Tt(Ue,nt)?nt:Ue.nullable?null:void 0}function et(Ue){return"number"==typeof Ue&&!isNaN(Ue)&&isFinite(Ue)}function ht(Ue){return null===Ue||et(Ue)}const ft="isInteger"in Number?Number.isInteger:Ue=>"number"==typeof Ue&&isFinite(Ue)&&Math.floor(Ue)===Ue;function Et(Ue){return null===Ue||ft(Ue)}function mt(Ue){return null!=Ue&&"string"==typeof Ue}function at(Ue){return null===Ue||mt(Ue)}function wt(){return!0}function Tt(Ue,nt){let Mt;switch(Ue.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":Mt=Ue.nullable?Et:ft;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":Mt=Ue.nullable?ht:et;break;case"string":case"esriFieldTypeString":Mt=Ue.nullable?at:mt;break;default:Mt=wt}return 1===arguments.length?Mt:Mt(nt)}const Wt=new Set(["integer","small-integer","single","double","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function er(Ue){return null!=Ue&&Wt.has(Ue.type)}function gr(Ue){return null!=Ue&&("string"===Ue.type||"esriFieldTypeString"===Ue.type)}var gt,kt;function Gt(Ue){return null==Ue||"number"==typeof Ue&&isNaN(Ue)?null:Ue}function Qt(Ue,nt){return Ue.nullable&&null===nt?null:er(Ue)&&!function lr(Ue,nt){const Mt="string"==typeof Ue?ct(Ue):Ue;return!!Mt&&(Mt.isInteger?ft(nt)&&nt>=Mt.min&&nt<=Mt.max:nt>=Mt.min&&nt<=Mt.max)}(Ue.type,Number(nt))?gt.OUT_OF_RANGE:Tt(Ue,nt)?Ue.domain?function J(Ue,nt){switch(Ue.type){case"range":{const tr="range"in Ue?Ue.range[1]:Ue.maxValue;if(+nt<("range"in Ue?Ue.range[0]:Ue.minValue)||+nt>tr)return ee.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(null==Ue.codedValues||Ue.codedValues.every(Mt=>null==Mt||Mt.code!==nt))return ee.INVALID_CODED_VALUE}return null}(Ue.domain,nt):null:kt.INVALID_TYPE}function ct(Ue){switch(Ue){case"esriFieldTypeSmallInteger":case"small-integer":return Rt;case"esriFieldTypeInteger":case"integer":return Vt;case"esriFieldTypeSingle":case"single":return Yt;case"esriFieldTypeDouble":case"double":return Zt}}(function(Ue){Ue.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(gt||(gt={})),function(Ue){Ue.INVALID_TYPE="type-validation-error::invalid-type"}(kt||(kt={}));const Rt={min:-32768,max:32767,isInteger:!0},Vt={min:-2147483648,max:2147483647,isInteger:!0},Yt={min:-34e37,max:12e37,isInteger:!1},Zt={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function ke(Ue,nt,Mt){switch(Ue){case ee.INVALID_CODED_VALUE:return`Value ${Mt} is not in the coded domain - field: ${nt.name}, domain: ${JSON.stringify(nt.domain)}`;case ee.VALUE_OUT_OF_RANGE:return`Value ${Mt} is out of the range of valid values - field: ${nt.name}, domain: ${JSON.stringify(nt.domain)}`;case kt.INVALID_TYPE:return`Value ${Mt} is not a valid value for the field type - field: ${nt.name}, type: ${nt.type}, nullable: ${nt.nullable}`;case gt.OUT_OF_RANGE:{const{min:tr,max:br}=ct(nt.type);return`Value ${Mt} is out of range for the number type - field: ${nt.name}, type: ${nt.type}, value range is ${tr} to ${br}`}}}function ot(Ue,nt){return!function ze(Ue,nt,Mt){if(!nt||!nt.attributes||!Ue){if((0,re.pC)(Mt))for(const xr of Ue)Mt.add(xr);return!0}const tr=nt.attributes;let br=!1;for(const xr of Ue)if(!(xr in tr)){if(br=!0,!(0,re.pC)(Mt))break;Mt.add(xr)}return br}(Ue,nt,null)}},86793:(lt,Se,C)=>{"use strict";C.d(Se,{dI:()=>V,hV:()=>K,YI:()=>ae,UO:()=>$,el:()=>de,z7:()=>W});var x=C(77275);const T="__begin__",re="__end__",ne=new RegExp(T,"ig"),ee=new RegExp(re,"ig"),ie=new RegExp("^"+T,"i"),J=new RegExp(re+"$","i");function W(q){return q.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]")}function K(q){const ge={expression:"",type:"none"};return q.labelExpressionInfo?q.labelExpressionInfo.value?(ge.expression=q.labelExpressionInfo.value,ge.type="conventional"):q.labelExpressionInfo.expression&&(ge.expression=q.labelExpressionInfo.expression,ge.type="arcade"):null!=q.labelExpression&&(ge.expression=function X(q){return q.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}")}(q.labelExpression),ge.type="conventional"),ge}function ae(q){const ge=K(q);if(!ge)return null;switch(ge.type){case"conventional":return V(ge.expression);case"arcade":return ge.expression}return null}function $(q){const ge=K(q);if(!ge)return null;switch(ge.type){case"conventional":return function F(q){const ge=q.match(P);return ge&&ge[1].trim()||null}(ge.expression);case"arcade":return de(ge.expression)}return null}function V(q){let ge;return q?(ge=(0,x.gx)(q,le=>T+'$feature["'+le+'"]'+re),ge=ie.test(ge)?ge.replace(ie,""):'"'+ge,ge=J.test(ge)?ge.replace(J,""):ge+'"',ge=ge.replace(ne,'" + ').replace(ee,' + "')):ge='""',ge}const P=/^\s*\{([^}]+)\}\s*$/i,Z=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,Y=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,H=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function de(q){if(!q)return null;let ge=Z.exec(q)||Y.exec(q);return ge?ge[1]||ge[3]:(ge=H.exec(q),ge?ge[2]:null)}},62667:(lt,Se,C)=>{"use strict";C.d(Se,{r:()=>re});var x=C(170);const T=/\[([^\[\]]+)\]/gi;function re(ee,ie,J){return ee?ee.map(j=>{const A=new x.Z;if(A.read(j,J),A.labelExpression){const B=ie.fields||ie.layerDefinition&&ie.layerDefinition.fields||this.fields;A.labelExpression=A.labelExpression.replace(T,(X,W)=>`[${function ne(ee,ie){if(!ie)return ee;const J=ee.toLowerCase();for(let j=0;j<ie.length;j++){const A=ie[j].name;if(A.toLowerCase()===J)return A}return ee}(W,B)}]`)}return A}):null}},15283:(lt,Se,C)=>{"use strict";C.d(Se,{n:()=>fe});var F,x=C(17626),T=C(2076),re=C(86162),ne=C(77712),J=(C(85931),C(8314),C(66656)),j=C(55342),A=C(68653),B=C(76898),X=C(90912),W=C(383),K=C(36255),ae=C(48370),V=(C(29132),C(65234)),P=C(71774);let Z=F=class extends re.wq{constructor(Ce){super(Ce),this.type="query-table"}clone(){var Ce;const{workspaceId:ce,query:he,oidFields:xe,spatialReference:we,geometryType:Ae}=this,Fe={workspaceId:ce,query:he,oidFields:xe,spatialReference:null!=(Ce=null==we?void 0:we.clone())?Ce:void 0,geometryType:Ae};return new F(Fe)}};var Y;(0,x._)([(0,j.J)({queryTable:"query-table"})],Z.prototype,"type",void 0),(0,x._)([(0,ne.Cb)({type:String,json:{write:!0}})],Z.prototype,"workspaceId",void 0),(0,x._)([(0,ne.Cb)({type:String,json:{write:!0}})],Z.prototype,"query",void 0),(0,x._)([(0,ne.Cb)({type:String,json:{write:!0}})],Z.prototype,"oidFields",void 0),(0,x._)([(0,ne.Cb)({type:V.Z,json:{write:!0}})],Z.prototype,"spatialReference",void 0),(0,x._)([(0,j.J)(P.Mk)],Z.prototype,"geometryType",void 0),Z=F=(0,x._)([(0,B.j)("esri.layers.support.source.QueryTableDataSource")],Z);let H=Y=class extends re.wq{constructor(Ce){super(Ce),this.type="raster"}clone(){const{workspaceId:Ce,dataSourceName:ce}=this;return new Y({workspaceId:Ce,dataSourceName:ce})}};var de;(0,x._)([(0,j.J)({raster:"raster"})],H.prototype,"type",void 0),(0,x._)([(0,ne.Cb)({type:String,json:{write:!0}})],H.prototype,"dataSourceName",void 0),(0,x._)([(0,ne.Cb)({type:String,json:{write:!0}})],H.prototype,"workspaceId",void 0),H=Y=(0,x._)([(0,B.j)("esri.layers.support.source.RasterDataSource")],H);let q=de=class extends re.wq{constructor(Ce){super(Ce),this.type="table"}clone(){const{workspaceId:Ce,gdbVersion:ce,dataSourceName:he}=this;return new de({workspaceId:Ce,gdbVersion:ce,dataSourceName:he})}};var ge,le;(0,x._)([(0,j.J)({table:"table"})],q.prototype,"type",void 0),(0,x._)([(0,ne.Cb)({type:String,json:{write:!0}})],q.prototype,"workspaceId",void 0),(0,x._)([(0,ne.Cb)({type:String,json:{write:!0}})],q.prototype,"gdbVersion",void 0),(0,x._)([(0,ne.Cb)({type:String,json:{write:!0}})],q.prototype,"dataSourceName",void 0),q=de=(0,x._)([(0,B.j)("esri.layers.support.source.TableDataSource")],q);const ye=(0,T.wY)()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let oe=ge=class extends re.wq{constructor(Ce){super(Ce),this.type="join-table"}readLeftTableSource(Ce,ce,he){return pe()(Ce,ce,he)}castLeftTableSource(Ce){return(0,X.N7)(me(),Ce)}readRightTableSource(Ce,ce,he){return pe()(Ce,ce,he)}castRightTableSource(Ce){return(0,X.N7)(me(),Ce)}clone(){var Ce,ce;const{leftTableKey:he,rightTableKey:xe,leftTableSource:we,rightTableSource:Ae,joinType:Fe}=this,tt={leftTableKey:he,rightTableKey:xe,leftTableSource:null!=(Ce=null==we?void 0:we.clone())?Ce:void 0,rightTableSource:null!=(ce=null==Ae?void 0:Ae.clone())?ce:void 0,joinType:Fe};return new ge(tt)}};(0,x._)([(0,j.J)({joinTable:"join-table"})],oe.prototype,"type",void 0),(0,x._)([(0,ne.Cb)({type:String,json:{write:!0}})],oe.prototype,"leftTableKey",void 0),(0,x._)([(0,ne.Cb)({type:String,json:{write:!0}})],oe.prototype,"rightTableKey",void 0),(0,x._)([(0,ne.Cb)({json:{write:!0}})],oe.prototype,"leftTableSource",void 0),(0,x._)([(0,A.r)("leftTableSource")],oe.prototype,"readLeftTableSource",null),(0,x._)([(0,J.p)("leftTableSource")],oe.prototype,"castLeftTableSource",null),(0,x._)([(0,ne.Cb)({json:{write:!0}})],oe.prototype,"rightTableSource",void 0),(0,x._)([(0,A.r)("rightTableSource")],oe.prototype,"readRightTableSource",null),(0,x._)([(0,J.p)("rightTableSource")],oe.prototype,"castRightTableSource",null),(0,x._)([(0,j.J)(ye)],oe.prototype,"joinType",void 0),oe=ge=(0,x._)([(0,B.j)("esri.layers.support.source.JoinTableDataSource")],oe);let Q=null;function pe(){return Q||(Q=(0,W.d)({types:me()})),Q}let ue=null;function me(){return ue||(ue={key:"type",base:null,typeMap:{"data-layer":fe,"map-layer":ae.R}}),ue}const ve={key:"type",base:null,typeMap:{"join-table":oe,"query-table":Z,raster:H,table:q}};let fe=le=class extends re.wq{constructor(Ce){super(Ce),this.type="data-layer"}clone(){const{fields:Ce,dataSource:ce}=this;return new le({fields:Ce,dataSource:ce})}};(0,x._)([(0,j.J)({dataLayer:"data-layer"})],fe.prototype,"type",void 0),(0,x._)([(0,ne.Cb)({type:[K.Z],json:{write:!0}})],fe.prototype,"fields",void 0),(0,x._)([(0,ne.Cb)({types:ve,json:{write:!0}})],fe.prototype,"dataSource",void 0),fe=le=(0,x._)([(0,B.j)("esri.layers.support.source.DataLayerSource")],fe),fe.from=(0,X.se)(fe)},48370:(lt,Se,C)=>{"use strict";C.d(Se,{R:()=>B});var A,x=C(17626),T=C(86162),re=C(77712),ie=(C(85931),C(8314),C(90912)),J=C(55342),j=C(76898);let B=A=class extends T.wq{constructor(X){super(X),this.type="map-layer"}clone(){const{mapLayerId:X,gdbVersion:W}=this;return new A({mapLayerId:X,gdbVersion:W})}};(0,x._)([(0,J.J)({mapLayer:"map-layer"})],B.prototype,"type",void 0),(0,x._)([(0,re.Cb)({type:ie.z8,json:{write:!0}})],B.prototype,"mapLayerId",void 0),(0,x._)([(0,re.Cb)({type:String,json:{write:!0}})],B.prototype,"gdbVersion",void 0),B=A=(0,x._)([(0,j.j)("esri.layers.support.source.MapLayerSource")],B)},39605:(lt,Se,C)=>{"use strict";C.d(Se,{W:()=>re,v:()=>ne});var x=C(50645);const T={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(ee,ie,J)=>{"-"===ie.charAt(0)?ee.style.setProperty(ie,J):ee.style[ie]=J}};let re=ee=>(0,x.l7)(T,ee),ne={create:(ee,ie)=>(ie=re(ie),(0,x.WV)(ee,document.createElement("div"),void 0,ie),(0,x.UQ)(ee,ie)),append:(ee,ie,J)=>(J=re(J),(0,x.WV)(ie,ee,void 0,J),(0,x.UQ)(ie,J)),insertBefore:(ee,ie,J)=>(J=re(J),(0,x.WV)(ie,ee.parentNode,ee,J),(0,x.UQ)(ie,J)),merge:(ee,ie,J)=>(J=re(J),ie.domNode=ee,(0,x.Yj)(ee,ie,J),(0,x.UQ)(ie,J)),replace:(ee,ie,J)=>(J=re(J),(0,x.WV)(ie,ee.parentNode,ee,J),ee.parentNode.removeChild(ee),(0,x.UQ)(ie,J))}},50645:(lt,Se,C)=>{"use strict";C.d(Se,{WV:()=>de,UQ:()=>ye,l7:()=>J,Yj:()=>H});var x=C(38570);const T="http://www.w3.org/",re=`${T}2000/svg`,ne=`${T}1999/xlink`;let ee,ie=[],J=(oe,Q)=>{let pe={};return Object.keys(oe).forEach(ue=>{pe[ue]=oe[ue]}),Q&&Object.keys(Q).forEach(ue=>{pe[ue]=Q[ue]}),pe},j=(oe,Q)=>oe.vnodeSelector===Q.vnodeSelector&&(oe.properties&&Q.properties?oe.properties.key===Q.properties.key&&oe.properties.bind===Q.properties.bind:!oe.properties&&!Q.properties),A=oe=>{if("string"!=typeof oe)throw new Error("Style values must be strings")},B=(oe,Q,pe)=>{if(""!==Q.vnodeSelector)for(let ue=pe;ue<oe.length;ue++)if(j(oe[ue],Q))return ue;return-1},X=(oe,Q,pe,ue)=>{let me=oe[Q];if(""===me.vnodeSelector)return;let ve=me.properties;if(!(ve?void 0===ve.key?ve.bind:ve.key:void 0))for(let fe=0;fe<oe.length;fe++)if(fe!==Q&&j(oe[fe],me))throw new Error(`${pe.vnodeSelector} had a ${me.vnodeSelector} child ${"added"===ue?ue:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)},W=oe=>{if(oe.properties){let Q=oe.properties.enterAnimation;Q&&Q(oe.domNode,oe.properties)}},K=[],ae=!1,$=oe=>{(oe.children||[]).forEach($),oe.properties&&oe.properties.afterRemoved&&oe.properties.afterRemoved.apply(oe.properties.bind||oe.properties,[oe.domNode])},V=()=>{ae=!1,K.forEach($),K.length=0},P=oe=>{K.push(oe),ae||(ae=!0,"undefined"!=typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(V,{timeout:16}):setTimeout(V,16))},F=oe=>{let Q=oe.domNode;if(oe.properties){let pe=oe.properties.exitAnimation;if(pe)return Q.style.pointerEvents="none",void pe(Q,()=>{Q.parentNode&&(Q.parentNode.removeChild(Q),P(oe))},oe.properties)}Q.parentNode&&(Q.parentNode.removeChild(Q),P(oe))},Z=(oe,Q,pe)=>{if(!Q)return;let ue=pe.eventHandlerInterceptor,me=Object.keys(Q),ve=me.length;for(let fe=0;fe<ve;fe++){let Ce=me[fe],ce=Q[Ce];if("className"===Ce)throw new Error('Property "className" is not supported, use "class".');if("class"===Ce)q(oe,ce,!0);else if("classes"===Ce){let he=Object.keys(ce),xe=he.length;for(let we=0;we<xe;we++){let Ae=he[we];ce[Ae]&&oe.classList.add(Ae)}}else if("styles"===Ce){let he=Object.keys(ce),xe=he.length;for(let we=0;we<xe;we++){let Ae=he[we],Fe=ce[Ae];Fe&&(A(Fe),pe.styleApplyer(oe,Ae,Fe))}}else if("key"!==Ce&&null!=ce){let he=typeof ce;"function"===he?(0===Ce.lastIndexOf("on",0)&&(ue&&(ce=ue(Ce,ce,oe,Q)),"oninput"===Ce&&function(){let xe=ce;ce=function(we){xe.apply(this,[we]),we.target["oninput-value"]=we.target.value}}()),oe[Ce]=ce):pe.namespace===re?"href"===Ce?oe.setAttributeNS(ne,Ce,ce):oe.setAttribute(Ce,ce):"string"===he&&"value"!==Ce?"innerHTML"===Ce?oe[Ce]=x.w3.sanitize(ce):oe.setAttribute(Ce,ce):oe[Ce]=ce}}},H=(oe,Q,pe)=>{((oe,Q,pe)=>{if(Q)for(let ue of Q)de(ue,oe,void 0,pe)})(oe,Q.children,pe),Q.text&&(oe.textContent=Q.text),Z(oe,Q.properties,pe),Q.properties&&Q.properties.afterCreate&&Q.properties.afterCreate.apply(Q.properties.bind||Q.properties,[oe,pe,Q.vnodeSelector,Q.properties,Q.children])},de=(oe,Q,pe,ue)=>{let me,ve=0,fe=oe.vnodeSelector,Ce=Q.ownerDocument;if(""===fe)me=oe.domNode=Ce.createTextNode(oe.text),void 0!==pe?Q.insertBefore(me,pe):Q.appendChild(me);else{for(let ce=0;ce<=fe.length;++ce){let he=fe.charAt(ce);if(ce===fe.length||"."===he||"#"===he){let xe=fe.charAt(ve-1),we=fe.slice(ve,ce);"."===xe?me.classList.add(we):"#"===xe?me.id=we:("svg"===we&&(ue=J(ue,{namespace:re})),void 0!==ue.namespace?me=oe.domNode=Ce.createElementNS(ue.namespace,we):(me=oe.domNode=oe.domNode||Ce.createElement(we),"input"===we&&oe.properties&&void 0!==oe.properties.type&&me.setAttribute("type",oe.properties.type)),void 0!==pe?Q.insertBefore(me,pe):me.parentNode!==Q&&Q.appendChild(me)),ve=ce+1}}H(me,oe,ue)}},q=(oe,Q,pe)=>{Q&&Q.split(" ").forEach(ue=>{ue&&oe.classList.toggle(ue,pe)})};ee=(oe,Q,pe)=>{let ue=oe.domNode,me=!1;if(oe===Q)return!1;let ve=!1;if(""===Q.vnodeSelector){if(Q.text!==oe.text){let fe=ue.ownerDocument.createTextNode(Q.text);return ue.parentNode.replaceChild(fe,ue),Q.domNode=fe,me=!0,me}Q.domNode=ue}else 0===Q.vnodeSelector.lastIndexOf("svg",0)&&(pe=J(pe,{namespace:re})),oe.text!==Q.text&&(ve=!0,void 0===Q.text?ue.removeChild(ue.firstChild):ue.textContent=Q.text),Q.domNode=ue,ve=((oe,Q,pe,ue,me)=>{if(pe===ue)return!1;let ve,fe=(pe=pe||ie).length,Ce=(ue=ue||ie).length,ce=0,he=0,xe=!1;for(;he<Ce;){let we=ce<fe?pe[ce]:void 0,Ae=ue[he];if(void 0!==we&&j(we,Ae))xe=ee(we,Ae,me)||xe,ce++;else{let Fe=B(pe,Ae,ce+1);if(Fe>=0){for(ve=ce;ve<Fe;ve++)F(pe[ve]),X(pe,ve,oe,"removed");xe=ee(pe[Fe],Ae,me)||xe,ce=Fe+1}else de(Ae,Q,ce<fe?pe[ce].domNode:void 0,me),W(Ae),X(ue,he,oe,"added")}he++}if(fe>ce)for(ve=ce;ve<fe;ve++)F(pe[ve]),X(pe,ve,oe,"removed");return xe})(Q,ue,oe.children,Q.children,pe)||ve,ve=((oe,Q,pe,ue)=>{if(!pe)return;let me=!1,ve=Object.keys(pe),fe=ve.length;for(let Ce=0;Ce<fe;Ce++){let ce=ve[Ce],he=pe[ce],xe=Q[ce];if("class"===ce)xe!==he&&(q(oe,xe,!1),q(oe,he,!0));else if("classes"===ce){let we=oe.classList,Ae=Object.keys(he),Fe=Ae.length;for(let tt=0;tt<Fe;tt++){let Re=Ae[tt],be=!!he[Re];be!==!!xe[Re]&&(me=!0,be?we.add(Re):we.remove(Re))}}else if("styles"===ce){let we=Object.keys(he),Ae=we.length;for(let Fe=0;Fe<Ae;Fe++){let tt=we[Fe],Re=he[tt];Re!==xe[tt]&&(me=!0,Re?(A(Re),ue.styleApplyer(oe,tt,Re)):ue.styleApplyer(oe,tt,""))}}else if(he||"string"!=typeof xe||(he=""),"value"===ce){let we=oe[ce];we!==he&&(oe["oninput-value"]?we===oe["oninput-value"]:he!==xe)&&(oe[ce]=he,oe["oninput-value"]=void 0),he!==xe&&(me=!0)}else if(he!==xe){let we=typeof he;"function"===we&&ue.eventHandlerInterceptor||(ue.namespace===re?"href"===ce?oe.setAttributeNS(ne,ce,he):oe.setAttribute(ce,he):"string"===we?"innerHTML"===ce?oe[ce]=x.w3.sanitize(he):"role"===ce&&""===he?oe.removeAttribute(ce):oe.setAttribute(ce,he):oe[ce]!==he&&(oe[ce]=he),me=!0)}}return me})(ue,oe.properties,Q.properties,pe)||ve,Q.properties&&Q.properties.afterUpdate&&Q.properties.afterUpdate.apply(Q.properties.bind||Q.properties,[ue,pe,Q.vnodeSelector,Q.properties,Q.children]);return ve&&Q.properties&&Q.properties.updateAnimation&&Q.properties.updateAnimation(ue,Q.properties,oe.properties),me};let ye=(oe,Q)=>({getLastRender:()=>oe,update:pe=>{if(oe.vnodeSelector!==pe.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let ue=oe;oe=pe,ee(ue,pe,Q)},domNode:oe.domNode})},62996:(lt,Se,C)=>{"use strict";C.d(Se,{E:()=>ie});var x=C(39605);let T,re=(J,j)=>{let A=[];for(;J&&J!==j;)A.push(J),J=J.parentNode;return A};T=Array.prototype.find?(J,j)=>J.find(j):(J,j)=>J.filter(j)[0];let ne=(J,j)=>{let A=J;return j.forEach(B=>{A=A&&A.children?T(A.children,X=>X.domNode===B):void 0}),A},ee=(J,j,A)=>{let B=function(X){A("domEvent",X);let W=j(),K=re(X.currentTarget,W.domNode);K.reverse();let ae,$=ne(W.getLastRender(),K);return J.scheduleRender(),$&&(ae=$.properties[`on${X.type}`].apply($.properties.bind||this,arguments)),A("domEventProcessed",X),ae};return(X,W,K,ae)=>B},ie=J=>{let j,A,B=(0,x.W)(J),X=B.performanceLogger,W=!0,K=!1,ae=[],$=[],V=(F,Z,Y)=>{let H;B.eventHandlerInterceptor=ee(j,()=>H,X),H=F(Z,Y(),B),ae.push(H),$.push(Y)},P=()=>{if(A=void 0,W){W=!1,X("renderStart",void 0);for(let F=0;F<ae.length;F++){let Z=$[F]();X("rendered",void 0),ae[F].update(Z),X("patched",void 0)}X("renderDone",void 0),W=!0}};return j={renderNow:P,scheduleRender:()=>{A||K||(A=requestAnimationFrame(P))},stop:()=>{A&&(cancelAnimationFrame(A),A=void 0),K=!0},resume:()=>{K=!1,W=!0,j.scheduleRender()},append:(F,Z)=>{V(x.v.append,F,Z)},insertBefore:(F,Z)=>{V(x.v.insertBefore,F,Z)},merge:(F,Z)=>{V(x.v.merge,F,Z)},replace:(F,Z)=>{V(x.v.replace,F,Z)},detach:F=>{for(let Z=0;Z<$.length;Z++)if($[Z]===F)return $.splice(Z,1),ae.splice(Z,1)[0];throw new Error("renderFunction was not found")}},j}},38159:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>B});var j,x=C(17626),T=C(86162),re=C(77712),J=(C(85931),C(8314),C(90912),C(76898));let A=j=class extends T.wq{constructor(X){super(X),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new j({title:this.title,expression:this.expression})}};(0,x._)([(0,re.Cb)({type:String,json:{write:!0}})],A.prototype,"title",void 0),(0,x._)([(0,re.Cb)({type:String,json:{write:!0}})],A.prototype,"expression",void 0),(0,x._)([(0,re.Cb)({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],A.prototype,"returnType",void 0),A=j=(0,x._)([(0,J.j)("esri.popup.ElementExpressionInfo")],A);const B=A},38439:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>B});var j,x=C(17626),T=C(86162),re=C(77712),J=(C(85931),C(8314),C(90912),C(76898));let A=j=class extends T.wq{constructor(X){super(X),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new j({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};(0,x._)([(0,re.Cb)({type:String,json:{write:!0}})],A.prototype,"name",void 0),(0,x._)([(0,re.Cb)({type:String,json:{write:!0}})],A.prototype,"title",void 0),(0,x._)([(0,re.Cb)({type:String,json:{write:!0}})],A.prototype,"expression",void 0),(0,x._)([(0,re.Cb)({type:["string","number"],json:{write:!0}})],A.prototype,"returnType",void 0),A=j=(0,x._)([(0,J.j)("esri.popup.ExpressionInfo")],A);const B=A},25621:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>W});var B,x=C(17626),T=C(2076),re=C(86162),ne=C(58817),ee=C(77712),J=(C(90912),C(55342)),j=C(76898),A=C(66845);let X=B=class extends re.wq{constructor(K){super(K),this.fieldName=null,this.format=null,this.isEditable=!1,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new B({fieldName:this.fieldName,format:this.format?(0,ne.d9)(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};(0,x._)([(0,ee.Cb)({type:String,json:{write:!0}})],X.prototype,"fieldName",void 0),(0,x._)([(0,ee.Cb)({type:A.Z,json:{write:!0}})],X.prototype,"format",void 0),(0,x._)([(0,ee.Cb)({type:Boolean,json:{write:!0,default:!1}})],X.prototype,"isEditable",void 0),(0,x._)([(0,ee.Cb)({type:String,json:{write:!0}})],X.prototype,"label",void 0),(0,x._)([(0,J.J)(new T.Xn({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],X.prototype,"stringFieldOption",void 0),(0,x._)([(0,ee.Cb)({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],X.prototype,"statisticType",void 0),(0,x._)([(0,ee.Cb)({type:String,json:{write:!0}})],X.prototype,"tooltip",void 0),(0,x._)([(0,ee.Cb)({type:Boolean,json:{write:!0}})],X.prototype,"visible",void 0),X=B=(0,x._)([(0,j.j)("esri.popup.FieldInfo")],X);const W=X},55664:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>B});var j,x=C(17626),T=C(77712),ie=(C(85931),C(8314),C(90912),C(76898)),J=C(55013);let A=j=class extends J.Z{constructor(X){super(X),this.description=null,this.displayType=null,this.title=null,this.type="attachments"}clone(){return new j({description:this.description,displayType:this.displayType,title:this.title})}};(0,x._)([(0,T.Cb)({type:String,json:{write:!0}})],A.prototype,"description",void 0),(0,x._)([(0,T.Cb)({type:["auto","preview","list"],json:{write:!0}})],A.prototype,"displayType",void 0),(0,x._)([(0,T.Cb)({type:String,json:{write:!0}})],A.prototype,"title",void 0),(0,x._)([(0,T.Cb)({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],A.prototype,"type",void 0),A=j=(0,x._)([(0,ie.j)("esri.popup.content.AttachmentsContent")],A);const B=A},89594:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>X});var A,x=C(17626),T=C(77712),ie=(C(85931),C(8314),C(90912),C(76898)),J=C(85812),j=C(82657);let B=A=class extends J.Z{constructor(W){super(W),this.type="bar-chart"}clone(){return new A({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,x._)([(0,T.Cb)({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:j.l.write}})],B.prototype,"type",void 0),B=A=(0,x._)([(0,ie.j)("esri.popup.content.BarChartMediaInfo")],B);const X=B},81590:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>X});var A,x=C(17626),T=C(77712),ie=(C(85931),C(8314),C(90912),C(76898)),J=C(85812),j=C(82657);let B=A=class extends J.Z{constructor(W){super(W),this.type="column-chart"}clone(){return new A({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,x._)([(0,T.Cb)({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:j.l.write}})],B.prototype,"type",void 0),B=A=(0,x._)([(0,ie.j)("esri.popup.content.ColumnChartMediaInfo")],B);const X=B},55013:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>A});var x=C(17626),T=C(86162),re=C(77712),J=(C(85931),C(8314),C(90912),C(76898));let j=class extends T.wq{constructor(B){super(B),this.type=null}};(0,x._)([(0,re.Cb)({type:["attachments","custom","fields","media","text","expression"],readOnly:!0,json:{read:!1,write:!0}})],j.prototype,"type",void 0),j=(0,x._)([(0,J.j)("esri.popup.content.Content")],j);const A=j},16615:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>A});var J,x=C(17626),T=C(58817),re=C(77712),ee=(C(90912),C(76898)),ie=C(55013);let j=J=class extends ie.Z{constructor(B){super(B),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new J({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?(0,T.d9)(this.outFields):null})}};(0,x._)([(0,re.Cb)()],j.prototype,"creator",void 0),(0,x._)([(0,re.Cb)()],j.prototype,"destroyer",void 0),(0,x._)([(0,re.Cb)()],j.prototype,"outFields",void 0),(0,x._)([(0,re.Cb)({type:["custom"],readOnly:!0})],j.prototype,"type",void 0),j=J=(0,x._)([(0,ee.j)("esri.popup.content.CustomContent")],j);const A=j},82561:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>X});var A,x=C(17626),T=C(77712),ie=(C(85931),C(8314),C(90912),C(76898)),J=C(38159),j=C(55013);let B=A=class extends j.Z{constructor(W){super(W),this.expressionInfo=null,this.type="expression"}clone(){var W;return new A({expressionInfo:null==(W=this.expressionInfo)?void 0:W.clone()})}};(0,x._)([(0,T.Cb)({type:J.Z,json:{write:!0}})],B.prototype,"expressionInfo",void 0),(0,x._)([(0,T.Cb)({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],B.prototype,"type",void 0),B=A=(0,x._)([(0,ie.j)("esri.popup.content.ExpressionContent")],B);const X=B},75484:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>X});var A,x=C(17626),T=C(58817),re=C(77712),ee=(C(90912),C(76898)),ie=C(99433),J=C(25621),j=C(55013);let B=A=class extends j.Z{constructor(W){super(W),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(W,K){K.fieldInfos=W&&W.map(ae=>ae.toJSON())}clone(){return new A((0,T.d9)({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};(0,x._)([(0,re.Cb)({type:Object,json:{write:!0}})],B.prototype,"attributes",void 0),(0,x._)([(0,re.Cb)({type:String,json:{write:!0}})],B.prototype,"description",void 0),(0,x._)([(0,re.Cb)({type:[J.Z]})],B.prototype,"fieldInfos",void 0),(0,x._)([(0,ie.c)("fieldInfos")],B.prototype,"writeFieldInfos",null),(0,x._)([(0,re.Cb)({type:String,json:{write:!0}})],B.prototype,"title",void 0),(0,x._)([(0,re.Cb)({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],B.prototype,"type",void 0),B=A=(0,x._)([(0,ee.j)("esri.popup.content.FieldsContent")],B);const X=B},49455:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>ae});var A,x=C(17626),T=C(77712),ie=(C(85931),C(8314),C(90912),C(76898)),J=C(78297),j=C(86162);let B=A=class extends j.wq{constructor($){super($),this.linkURL=null,this.sourceURL=null}clone(){return new A({linkURL:this.linkURL,sourceURL:this.sourceURL})}};(0,x._)([(0,T.Cb)({type:String,json:{write:!0}})],B.prototype,"linkURL",void 0),(0,x._)([(0,T.Cb)({type:String,json:{write:!0}})],B.prototype,"sourceURL",void 0),B=A=(0,x._)([(0,ie.j)("esri.popup.content.support.ImageMediaInfoValue")],B);const X=B;var W;let K=W=class extends J.Z{constructor($){super($),this.refreshInterval=null,this.type="image",this.value=null}clone(){return new W({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}};(0,x._)([(0,T.Cb)({type:Number,json:{write:!0}})],K.prototype,"refreshInterval",void 0),(0,x._)([(0,T.Cb)({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],K.prototype,"type",void 0),(0,x._)([(0,T.Cb)({type:X,json:{write:!0}})],K.prototype,"value",void 0),K=W=(0,x._)([(0,ie.j)("esri.popup.content.ImageMediaInfo")],K);const ae=K},71981:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>X});var A,x=C(17626),T=C(77712),ie=(C(85931),C(8314),C(90912),C(76898)),J=C(85812),j=C(82657);let B=A=class extends J.Z{constructor(W){super(W),this.type="line-chart"}clone(){return new A({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,x._)([(0,T.Cb)({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:j.l.write}})],B.prototype,"type",void 0),B=A=(0,x._)([(0,ie.j)("esri.popup.content.LineChartMediaInfo")],B);const X=B},64531:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>P});var $,x=C(17626),T=C(58817),re=C(77712),ee=(C(90912),C(68653)),ie=C(76898),J=C(99433),j=C(89594),A=C(81590),B=C(55013),X=C(49455),W=C(71981),K=C(52023),ae=C(65560);let V=$=class extends B.Z{constructor(F){super(F),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(F){return F&&F.map(Z=>"image"===Z.type?X.Z.fromJSON(Z):"barchart"===Z.type?j.Z.fromJSON(Z):"columnchart"===Z.type?A.Z.fromJSON(Z):"linechart"===Z.type?W.Z.fromJSON(Z):"piechart"===Z.type?K.Z.fromJSON(Z):void 0).filter(Boolean)}writeMediaInfos(F,Z){Z.mediaInfos=F&&F.map(Y=>Y.toJSON())}clone(){return new $((0,T.d9)({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};(0,x._)([(0,re.Cb)()],V.prototype,"activeMediaInfoIndex",void 0),(0,x._)([(0,re.Cb)({type:Object,json:{write:!0}})],V.prototype,"attributes",void 0),(0,x._)([(0,re.Cb)({type:String,json:{write:!0}})],V.prototype,"description",void 0),(0,x._)([(0,re.Cb)({types:[ae.V]})],V.prototype,"mediaInfos",void 0),(0,x._)([(0,ee.r)("mediaInfos")],V.prototype,"readMediaInfos",null),(0,x._)([(0,J.c)("mediaInfos")],V.prototype,"writeMediaInfos",null),(0,x._)([(0,re.Cb)({type:String,json:{write:!0}})],V.prototype,"title",void 0),(0,x._)([(0,re.Cb)({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],V.prototype,"type",void 0),V=$=(0,x._)([(0,ie.j)("esri.popup.content.MediaContent")],V);const P=V},52023:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>X});var A,x=C(17626),T=C(77712),ie=(C(85931),C(8314),C(90912),C(76898)),J=C(85812),j=C(82657);let B=A=class extends J.Z{constructor(W){super(W),this.type="pie-chart"}clone(){return new A({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,x._)([(0,T.Cb)({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:j.l.write}})],B.prototype,"type",void 0),B=A=(0,x._)([(0,ie.j)("esri.popup.content.PieChartMediaInfo")],B);const X=B},501:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>B});var j,x=C(17626),T=C(77712),ie=(C(85931),C(8314),C(90912),C(76898)),J=C(55013);let A=j=class extends J.Z{constructor(X){super(X),this.text=null,this.type="text"}clone(){return new j({text:this.text})}};(0,x._)([(0,T.Cb)({type:String,json:{write:!0}})],A.prototype,"text",void 0),(0,x._)([(0,T.Cb)({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],A.prototype,"type",void 0),A=j=(0,x._)([(0,ie.j)("esri.popup.content.TextContent")],A);const B=A},85812:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>$});var X,x=C(17626),T=C(77712),ie=(C(85931),C(8314),C(90912),C(76898)),J=C(78297),j=C(86162),A=C(58817),B=C(77891);let W=X=class extends j.wq{constructor(V){super(V),this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new X({fields:(0,A.d9)(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}};(0,x._)([(0,T.Cb)({type:[String],json:{write:!0}})],W.prototype,"fields",void 0),(0,x._)([(0,T.Cb)({type:String,json:{write:!0}})],W.prototype,"normalizeField",void 0),(0,x._)([(0,T.Cb)({type:[B.Z],json:{read:!1}})],W.prototype,"series",void 0),(0,x._)([(0,T.Cb)({type:String,json:{write:!0}})],W.prototype,"tooltipField",void 0),W=X=(0,x._)([(0,ie.j)("esri.popup.content.support.ChartMediaInfoValue")],W);const K=W;let ae=class extends J.Z{constructor(V){super(V),this.type=null,this.value=null}};(0,x._)([(0,T.Cb)({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],ae.prototype,"type",void 0),(0,x._)([(0,T.Cb)({type:K,json:{write:!0}})],ae.prototype,"value",void 0),ae=(0,x._)([(0,ie.j)("esri.popup.content.mixins.ChartMediaInfo")],ae);const $=ae},78297:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>A});var x=C(17626),T=C(86162),re=C(77712),J=(C(85931),C(8314),C(90912),C(76898));let j=class extends T.wq{constructor(B){super(B),this.altText=null,this.caption="",this.title="",this.type=null}};(0,x._)([(0,re.Cb)({type:String,json:{write:!0}})],j.prototype,"altText",void 0),(0,x._)([(0,re.Cb)({type:String,json:{write:!0}})],j.prototype,"caption",void 0),(0,x._)([(0,re.Cb)({type:String,json:{write:!0}})],j.prototype,"title",void 0),(0,x._)([(0,re.Cb)({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],j.prototype,"type",void 0),j=(0,x._)([(0,J.j)("esri.popup.content.mixins.MediaInfo")],j);const A=j},77891:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>B});var j,x=C(17626),T=C(14517),re=C(77712),J=(C(85931),C(8314),C(90912),C(76898));let A=j=class extends T.Z{constructor(X){super(X),this.tooltip=null,this.value=null}clone(){return new j({tooltip:this.tooltip,value:this.value})}};(0,x._)([(0,re.Cb)()],A.prototype,"tooltip",void 0),(0,x._)([(0,re.Cb)()],A.prototype,"value",void 0),A=j=(0,x._)([(0,J.j)("esri.popup.content.support.ChartMediaInfoValueSeries")],A);const B=A},82657:(lt,Se,C)=>{"use strict";C.d(Se,{l:()=>T});const T=(0,C(2076).wY)()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"})},65560:(lt,Se,C)=>{"use strict";C.d(Se,{V:()=>J});var x=C(89594),T=C(81590),re=C(49455),ne=C(71981),ee=C(52023);const J={base:C(78297).Z,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":x.Z,"column-chart":T.Z,"line-chart":ne.Z,"pie-chart":ee.Z,image:re.Z}}},66845:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>Z});var x=C(17626);const ne=(0,C(2076).wY)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});ne.toJSON.bind(ne),ne.fromJSON.bind(ne);var P,j=C(86162),A=C(77712),W=(C(85931),C(8314),C(90912)),K=C(55342),ae=C(76898),$=C(88411),V=C(15348);let F=P=class extends j.wq{constructor(Y){super(Y),this.dateFormat=null,this.dateTimeFormatOptions=null,this.digitSeparator=!1,this.places=null}clone(){return new P({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})}format(Y){return this.dateFormat?(0,$.p6)(Y,Pt(Pt({},(0,$.Ze)(this.dateFormat)),this.dateTimeFormatOptions)):(0,V.uf)(Y,(0,V.sh)(this))}};(0,x._)([(0,K.J)(ne)],F.prototype,"dateFormat",void 0),(0,x._)([(0,A.Cb)({type:Object,json:{read:!1}})],F.prototype,"dateTimeFormatOptions",void 0),(0,x._)([(0,A.Cb)({type:Boolean,json:{write:!0}})],F.prototype,"digitSeparator",void 0),(0,x._)([(0,A.Cb)({type:W.z8,json:{write:!0}})],F.prototype,"places",void 0),F=P=(0,x._)([(0,ae.j)("esri.popup.support.FieldInfoFormat")],F);const Z=F},51686:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>B});var j,x=C(17626),T=C(86162),re=C(77712),J=(C(85931),C(8314),C(90912),C(76898));let A=j=class extends T.wq{constructor(X){super(X),this.field=null,this.order=null}clone(){return new j({field:this.field,order:this.order})}};(0,x._)([(0,re.Cb)({type:String,json:{write:!0}})],A.prototype,"field",void 0),(0,x._)([(0,re.Cb)({type:["asc","desc"],json:{write:!0}})],A.prototype,"order",void 0),A=j=(0,x._)([(0,J.j)("esri.popup.support.RelatedRecordsInfoFieldOrder")],A);const B=A},84687:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>me});var x=C(15861),T=C(17626),re=C(59318),ne=C(24263),ee=C(84792),ie=C(55538),J=C(26584),j=C(86162),A=C(47996),B=C(63290),X=C(62208),W=C(10699),K=C(77712),V=(C(85931),C(8314),C(90912)),P=C(68653),F=C(76898),Z=C(2004),Y=C(56683),H=C(6278),de=C(14517);let q=class extends de.Z{constructor(ve){super(ve),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};(0,T._)([(0,K.Cb)()],q.prototype,"nextQueryParams",void 0),(0,T._)([(0,K.Cb)()],q.prototype,"queryParams",void 0),(0,T._)([(0,K.Cb)()],q.prototype,"results",void 0),(0,T._)([(0,K.Cb)()],q.prototype,"total",void 0),q=(0,T._)([(0,F.j)("esri.portal.PortalQueryResult")],q);const ge=q;var oe,le=C(94508),ye=C(12680);let Q;const pe={PortalGroup:()=>Promise.resolve().then(C.bind(C,96245)),PortalItem:()=>Promise.resolve().then(C.bind(C,55463)),PortalUser:()=>Promise.resolve().then(C.bind(C,94508))};let ue=oe=class extends((0,j.eC)(A.Z)){constructor(ve){super(ve),this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=re.Z.portalUrl,this.urlKey=null,this.user=null,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(ve){return"string"==typeof ve?{url:ve}:ve}destroy(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)}readAuthorizedCrossOriginDomains(ve){if(ve)for(const fe of ve)-1===re.Z.request.trustedServers.indexOf(fe)&&re.Z.request.trustedServers.push(fe);return ve}readDefaultBasemap(ve){return this._readBasemap(ve)}readDefaultDevBasemap(ve){return this._readBasemap(ve)}readDefaultVectorBasemap(ve){return this._readBasemap(ve)}get extraQuery(){return this.id&&this.user&&this.user.orgId&&!this.canSearchPublic?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get restUrl(){let ve=this.url;if(ve){const fe=ve.indexOf("/sharing");ve=fe>0?ve.substring(0,fe):this.url.replace(/\/+$/,""),ve+="/sharing/rest"}return ve}get stylesGroupQuery(){return(0,ie.Mr)(B.Z.getLogger(this.declaredClass),"stylesGroupQuery",{replacement:"stylesGroupQuery3d",version:"4.21"}),this.stylesGroupQuery3d}get thumbnailUrl(){const ve=this.restUrl,fe=this.thumbnail;return ve&&fe?this._normalizeSSL(ve+"/portals/self/resources/"+fe):null}readUrlKey(ve){return ve&&ve.toLowerCase()}readUser(ve){let fe=null;return ve&&(fe=le.default.fromJSON(ve),fe.portal=this),fe}load(ve){const fe=Promise.resolve().then(C.bind(C,73386)).then(({default:Ce})=>{(0,W.k_)(ve),Q=Ce}).then(()=>this.sourceJSON?this.sourceJSON:this._fetchSelf(this.authMode,!1,ve)).then(Ce=>{if(ne.id){const ce=ne.id;this.credential=ce.findCredential(this.restUrl),this.credential||this.authMode!==oe.AUTH_MODE_AUTO||(this._esriId_credentialCreateHandle=ce.on("credential-create",()=>{ce.findCredential(this.restUrl)&&this._signIn()}))}this.sourceJSON=Ce,this.read(Ce)});return this.addResolvingPromise(fe),Promise.resolve(this)}createClosestFacilityTask(){var ve=this;return(0,x.Z)(function*(){(0,ie.XV)(B.Z.getLogger(ve.declaredClass),null,{replacement:"Use helperServices url with esri/rest/closestFacility",version:"4.21"}),yield ve.load();const fe=ve._getHelperServiceUrl("closestFacility");return new((yield Promise.all([C.e(8083),C.e(6359)]).then(C.bind(C,36359))).default)(fe)})()}createElevationLayers(){var ve=this;return(0,x.Z)(function*(){yield ve.load();const fe=ve._getHelperService("defaultElevationLayers"),Ce=(yield Promise.all([C.e(8592),C.e(5227)]).then(C.bind(C,25227))).default;return fe?fe.map(ce=>new Ce({id:ce.id,url:ce.url})):[]})()}createGeometryService(){var ve=this;return(0,x.Z)(function*(){(0,ie.XV)(B.Z.getLogger(ve.declaredClass),null,{replacement:"Use helperServices url with esri/rest/geometryService",version:"4.21"}),yield ve.load();const fe=ve._getHelperServiceUrl("geometry");return new((yield C.e(633).then(C.bind(C,20633))).default)({url:fe})})()}createPrintTask(){var ve=this;return(0,x.Z)(function*(){(0,ie.XV)(B.Z.getLogger(ve.declaredClass),null,{replacement:"Use helperServices url with esri/rest/print",version:"4.21"}),yield ve.load();const fe=ve._getHelperServiceUrl("printTask");return new((yield C.e(3436).then(C.bind(C,33436))).default)(fe)})()}createRouteTask(){var ve=this;return(0,x.Z)(function*(){(0,ie.XV)(B.Z.getLogger(ve.declaredClass),null,{replacement:"Use helperServices url with esri/rest/route",version:"4.21"}),yield ve.load();const fe=ve._getHelperServiceUrl("route");return new((yield Promise.all([C.e(8083),C.e(2394)]).then(C.bind(C,68773))).default)(fe)})()}createServiceAreaTask(){var ve=this;return(0,x.Z)(function*(){(0,ie.XV)(B.Z.getLogger(ve.declaredClass),null,{replacement:"Use helperServices url with esri/rest/serviceArea",version:"4.21"}),yield ve.load();const fe=ve._getHelperServiceUrl("serviceArea");return new((yield Promise.all([C.e(8083),C.e(5349)]).then(C.bind(C,65349))).default)(fe)})()}fetchBasemaps(ve,fe){const Ce=new H.Z;return Ce.query=ve||(re.Z.apiKey&&(0,ye.r)(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),Ce.disableExtraQuery=!0,this.queryGroups(Ce,fe).then(ce=>{if(Ce.num=100,Ce.query='type:"Web Map" -type:"Web Application"',ce.total){const he=ce.results[0];return Ce.sortField=he.sortField||"name",Ce.sortOrder=he.sortOrder||"desc",he.queryItems(Ce,fe)}return null}).then(ce=>{let he;return he=ce&&ce.total?ce.results.filter(xe=>"Web Map"===xe.type).map(xe=>new Q({portalItem:xe})):[],he})}fetchCategorySchema(ve){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",ve).then(fe=>fe.categorySchema):(0,W.Hc)(ve)?Promise.reject((0,W.zE)()):Promise.resolve([])}fetchFeaturedGroups(ve){const fe=this.featuredGroups,Ce=new H.Z;if(Ce.num=100,Ce.sortField="title",fe&&fe.length){const ce=[];for(const he of fe)ce.push(`(title:"${he.title}" AND owner:${he.owner})`);return Ce.query=ce.join(" OR "),this.queryGroups(Ce,ve).then(he=>he.results)}return(0,W.Hc)(ve)?Promise.reject((0,W.zE)()):Promise.resolve([])}fetchRegions(ve){const fe=this.user&&this.user.culture||this.culture||(0,Y.Kd)();return this._request(this.restUrl+"/portals/regions",Xr(Pt({},ve),{query:{culture:fe}}))}static getDefault(){return oe._default&&!oe._default.destroyed||(oe._default=new oe),oe._default}queryGroups(ve,fe){return this._queryPortal("/community/groups",ve,"PortalGroup",fe)}queryItems(ve,fe){return this._queryPortal("/search",ve,"PortalItem",fe)}queryUsers(ve,fe){return ve.sortField||(ve.sortField="username"),this._queryPortal("/community/users",ve,"PortalUser",fe)}toJSON(){throw new J.Z("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(ve){if(!ve)return null;if(ve.declaredClass)throw new Error("JSON object is already hydrated");return new oe({sourceJSON:ve})}_getHelperService(ve){const fe=this.helperServices&&this.helperServices[ve];if(!fe)throw new J.Z("portal:service-not-found",`The \`helperServices\` do not include an entry named "${ve}"`);return fe}_getHelperServiceUrl(ve){const fe=this._getHelperService(ve);if(!fe.url)throw new J.Z("portal:service-url-not-found",`The \`helperServices\` entry "${ve}" does not include a \`url\` value`);return fe.url}_fetchSelf(ve=this.authMode,fe=!1,Ce){const ce=this.restUrl+"/portals/self",he=Pt({authMode:ve,query:{culture:(0,Y.Kd)().toLowerCase()}},Ce);return"auto"===he.authMode&&(he.authMode="no-prompt"),fe&&(he.query.default=!0),this._request(ce,he)}_queryPortal(ve,fe,Ce,ce){const he=(0,V.se)(H.Z,fe),xe=we=>this._request(this.restUrl+ve,Pt(Pt({},he.toRequestOptions(this)),ce)).then(Ae=>{const Fe=he.clone();return Fe.start=Ae.nextStart,new ge({nextQueryParams:Fe,queryParams:he,total:Ae.total,results:oe._resultsToTypedArray(we,{portal:this},Ae,ce)})}).then(Ae=>Promise.all(Ae.results.map(Fe=>"function"==typeof Fe.when?Fe.when():Ae)).then(()=>Ae,Fe=>((0,W.r9)(Fe),Ae)));return Ce&&pe[Ce]?pe[Ce]().then(({default:we})=>((0,W.k_)(ce),xe(we))):xe()}_signIn(){if(this.authMode===oe.AUTH_MODE_ANONYMOUS)return Promise.reject(new J.Z("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const ve=fe=>Promise.resolve().then(()=>"not-loaded"===this.loadStatus?(fe||(this.authMode="immediate"),this.load().then(()=>null)):"loading"===this.loadStatus?this.load().then(()=>this.credential?null:(this.credential=fe,this._fetchSelf("immediate"))):this.user&&this.credential===fe?null:(this.credential=fe,this._fetchSelf("immediate"))).then(Ce=>{Ce&&(this.sourceJSON=Ce,this.read(Ce))});return ne.id?ne.id.getCredential(this.restUrl).then(fe=>ve(fe)):ve(this.credential)}_normalizeSSL(ve){return ve.replace(/^http:/i,"https:").replace(":7080",":7443")}_normalizeUrl(ve){const fe=this.credential&&this.credential.token;return this._normalizeSSL(fe?ve+(ve.indexOf("?")>-1?"&":"?")+"token="+fe:ve)}_requestToTypedArray(ve,fe,Ce){return this._request(ve,fe).then(ce=>{const he=oe._resultsToTypedArray(Ce,{portal:this},ce);return Promise.all(he.map(xe=>"function"==typeof xe.when?xe.when():ce)).then(()=>he,()=>he)})}_readBasemap(ve){if(ve){const fe=Q.fromJSON(ve);return fe.portalItem={portal:this},fe}return null}_request(ve,fe={}){const Ce=Pt({f:"json"},fe.query),{authMode:ce=(this.authMode===oe.AUTH_MODE_ANONYMOUS?"anonymous":"auto"),body:he=null,cacheBust:xe=!1,method:we="auto",responseType:Ae="json",signal:Fe}=fe,tt={authMode:ce,body:he,cacheBust:xe,method:we,query:Ce,responseType:Ae,timeout:0,signal:Fe};return(0,ee.default)(this._normalizeSSL(ve),tt).then(Re=>Re.data)}static _resultsToTypedArray(ve,fe,Ce,ce){let he;if(Ce){const xe=(0,X.pC)(ce)?ce.signal:null;he=Ce.listings||Ce.notifications||Ce.userInvitations||Ce.tags||Ce.items||Ce.groups||Ce.comments||Ce.provisions||Ce.results||Ce.relatedItems||Ce,(ve||fe)&&(he=he.map(we=>{const Ae=Object.assign(ve?ve.fromJSON(we):we,fe);return"function"==typeof Ae.load&&Ae.load(xe),Ae}))}else he=[];return he}};ue.AUTH_MODE_ANONYMOUS="anonymous",ue.AUTH_MODE_AUTO="auto",ue.AUTH_MODE_IMMEDIATE="immediate",(0,T._)([(0,K.Cb)()],ue.prototype,"access",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"allSSL",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"authMode",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"authorizedCrossOriginDomains",void 0),(0,T._)([(0,P.r)("authorizedCrossOriginDomains")],ue.prototype,"readAuthorizedCrossOriginDomains",null),(0,T._)([(0,K.Cb)()],ue.prototype,"basemapGalleryGroupQuery",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"bingKey",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"canListApps",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"canListData",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"canListPreProvisionedItems",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"canProvisionDirectPurchase",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"canSearchPublic",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"canShareBingPublic",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"canSharePublic",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"canSignInArcGIS",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"canSignInIDP",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"colorSetsGroupQuery",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"commentsEnabled",void 0),(0,T._)([(0,K.Cb)({type:Date})],ue.prototype,"created",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"credential",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"culture",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"currentVersion",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"customBaseUrl",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"defaultBasemap",void 0),(0,T._)([(0,P.r)("defaultBasemap")],ue.prototype,"readDefaultBasemap",null),(0,T._)([(0,K.Cb)()],ue.prototype,"defaultDevBasemap",void 0),(0,T._)([(0,P.r)("defaultDevBasemap")],ue.prototype,"readDefaultDevBasemap",null),(0,T._)([(0,K.Cb)({type:Z.Z})],ue.prototype,"defaultExtent",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"defaultVectorBasemap",void 0),(0,T._)([(0,P.r)("defaultVectorBasemap")],ue.prototype,"readDefaultVectorBasemap",null),(0,T._)([(0,K.Cb)()],ue.prototype,"description",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"devBasemapGalleryGroupQuery",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"eueiEnabled",void 0),(0,T._)([(0,K.Cb)({readOnly:!0})],ue.prototype,"extraQuery",null),(0,T._)([(0,K.Cb)()],ue.prototype,"featuredGroups",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"featuredItemsGroupQuery",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"galleryTemplatesGroupQuery",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"livingAtlasGroupQuery",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"hasCategorySchema",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"helpBase",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"helperServices",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"helpMap",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"homePageFeaturedContent",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"homePageFeaturedContentCount",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"httpPort",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"httpsPort",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"id",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"ipCntryCode",void 0),(0,T._)([(0,K.Cb)({readOnly:!0})],ue.prototype,"isOrganization",null),(0,T._)([(0,K.Cb)()],ue.prototype,"isPortal",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"isReadOnly",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"layerTemplatesGroupQuery",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"maxTokenExpirationMinutes",void 0),(0,T._)([(0,K.Cb)({type:Date})],ue.prototype,"modified",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"name",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"portalHostname",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"portalMode",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"portalProperties",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"region",void 0),(0,T._)([(0,K.Cb)({readOnly:!0})],ue.prototype,"restUrl",null),(0,T._)([(0,K.Cb)()],ue.prototype,"rotatorPanels",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"showHomePageDescription",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"sourceJSON",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"staticImagesUrl",void 0),(0,T._)([(0,K.Cb)({readOnly:!0,json:{read:!1}})],ue.prototype,"stylesGroupQuery",null),(0,T._)([(0,K.Cb)({json:{name:"2DStylesGroupQuery"}})],ue.prototype,"stylesGroupQuery2d",void 0),(0,T._)([(0,K.Cb)({json:{name:"stylesGroupQuery"}})],ue.prototype,"stylesGroupQuery3d",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"supportsHostedServices",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"symbolSetsGroupQuery",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"templatesGroupQuery",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"thumbnail",void 0),(0,T._)([(0,K.Cb)({readOnly:!0})],ue.prototype,"thumbnailUrl",null),(0,T._)([(0,K.Cb)()],ue.prototype,"units",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"url",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"urlKey",void 0),(0,T._)([(0,P.r)("urlKey")],ue.prototype,"readUrlKey",null),(0,T._)([(0,K.Cb)()],ue.prototype,"user",void 0),(0,T._)([(0,P.r)("user")],ue.prototype,"readUser",null),(0,T._)([(0,K.Cb)()],ue.prototype,"useStandardizedQuery",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"useVectorBasemaps",void 0),(0,T._)([(0,K.Cb)()],ue.prototype,"vectorBasemapGalleryGroupQuery",void 0),ue=oe=(0,T._)([(0,F.j)("esri.portal.Portal")],ue);const me=ue},96245:(lt,Se,C)=>{"use strict";C.r(Se),C.d(Se,{default:()=>X});var x=C(17626),T=C(26584),re=C(86162),ne=C(77712),J=(C(85931),C(8314),C(90912)),j=C(76898),A=C(6278);let B=class extends re.wq{constructor(W){super(W),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.tags=null,this.title=null}get thumbnailUrl(){const W=this.url,K=this.thumbnail;return W&&K?this.portal._normalizeUrl(`${W}/info/${K}?f=json`):null}get url(){const W=this.get("portal.restUrl");return W?W+"/community/groups/"+this.id:null}fetchCategorySchema(W){return this.portal._request(this.url+"/categorySchema",W).then(K=>{const ae=K.categorySchema||[];return ae.some($=>"contentCategorySetsGroupQuery.LivingAtlas"===$.source)?this._fetchCategorySchemaSet("LivingAtlas",W):ae})}fetchMembers(W){return this.portal._request(this.url+"/users",W)}getThumbnailUrl(W){let K=this.thumbnailUrl;return K&&W&&(K+=`&w=${W}`),K}toJSON(){throw new T.Z("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}queryItems(W,K){let ae=(0,J.se)(A.Z,W);return parseFloat(this.portal.currentVersion)>5?(ae=ae||new A.Z,this.portal._queryPortal(`/content/groups/${this.id}/search`,ae,"PortalItem",K)):(ae=ae?ae.clone():new A.Z,ae.query="group:"+this.id+(ae.query?" "+ae.query:""),this.portal.queryItems(ae,K))}_fetchCategorySchemaSet(W,K){return this.portal._fetchSelf(this.portal.authMode,!0,K).then(ae=>{const $=ae.contentCategorySetsGroupQuery;if($){const V=new A.Z;return V.disableExtraQuery=!0,V.num=1,V.query=$,this.portal.queryGroups(V,K)}throw new T.Z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(ae=>{if(ae.total){const $=ae.results[0],V=new A.Z;return V.num=1,V.query=`typekeywords:"${W}"`,$.queryItems(V,K)}throw new T.Z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(ae=>ae.total?ae.results[0].fetchData("json",K).then($=>{const V=$&&$.categorySchema;return V&&V.length?V:[]}):[])}};(0,x._)([(0,ne.Cb)()],B.prototype,"access",void 0),(0,x._)([(0,ne.Cb)({type:Date})],B.prototype,"created",void 0),(0,x._)([(0,ne.Cb)()],B.prototype,"description",void 0),(0,x._)([(0,ne.Cb)()],B.prototype,"id",void 0),(0,x._)([(0,ne.Cb)()],B.prototype,"isInvitationOnly",void 0),(0,x._)([(0,ne.Cb)({type:Date})],B.prototype,"modified",void 0),(0,x._)([(0,ne.Cb)()],B.prototype,"owner",void 0),(0,x._)([(0,ne.Cb)()],B.prototype,"portal",void 0),(0,x._)([(0,ne.Cb)()],B.prototype,"snippet",void 0),(0,x._)([(0,ne.Cb)()],B.prototype,"sortField",void 0),(0,x._)([(0,ne.Cb)()],B.prototype,"sortOrder",void 0),(0,x._)([(0,ne.Cb)()],B.prototype,"tags",void 0),(0,x._)([(0,ne.Cb)()],B.prototype,"thumbnail",void 0),(0,x._)([(0,ne.Cb)({readOnly:!0})],B.prototype,"thumbnailUrl",null),(0,x._)([(0,ne.Cb)()],B.prototype,"title",void 0),(0,x._)([(0,ne.Cb)({readOnly:!0})],B.prototype,"url",null),B=(0,x._)([(0,j.j)("esri.portal.PortalGroup")],B);const X=B},55463:(lt,Se,C)=>{"use strict";C.r(Se),C.d(Se,{default:()=>Q});var x=C(15861),T=C(17626),re=C(54346),ne=C(26584),ee=C(86162),ie=C(58817),J=C(47996),j=C(62208),A=C(21726),B=C(77712),X=C(90912),W=C(68653),K=C(76898),ae=C(2004),$=C(84687),V=C(14517),P=C(63290),Y=(C(85931),C(8314),C(66656));const H=P.Z.getLogger("esri.portal.PortalItemResource");let de=class extends V.Z{constructor(pe){super(pe),this.portalItem=null}normalizeCtorArgs(pe){return pe&&pe.portalItem&&pe.path?Xr(Pt({},pe),{path:this.normalizePath(pe.path,pe.portalItem)}):pe}set path(pe){(0,j.pC)(pe)&&(0,A.YP)(pe)?H.error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",pe)}_castPath(pe){return this.normalizePath(pe,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(pe="json",ue){const me=this.url;if((0,j.Wi)(me))throw new ne.Z("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal._request(me,{responseType:pe,query:{token:this.portalItem.apiKey},signal:(0,j.U2)(ue,"signal")})}update(pe,ue){var me=this;return(0,x.Z)(function*(){return(yield C.e(587).then(C.bind(C,10587))).addOrUpdateResource(me,"update",pe,ue)})()}hasPath(){return(0,j.pC)(this.path)}normalizePath(pe,ue){return(0,j.Wi)(pe)?pe:(pe=pe.replace(/^\/+/,""),(0,j.pC)(ue)&&(0,A.YP)(pe)&&(pe=(0,A.PF)(pe,ue.itemUrl)),pe.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}};(0,T._)([(0,B.Cb)()],de.prototype,"portalItem",void 0),(0,T._)([(0,B.Cb)({type:String,value:null})],de.prototype,"path",null),(0,T._)([(0,Y.p)("path")],de.prototype,"_castPath",null),(0,T._)([(0,B.Cb)({type:String,readOnly:!0})],de.prototype,"url",null),(0,T._)([(0,B.Cb)({type:String,readOnly:!0})],de.prototype,"itemRelativeUrl",null),de=(0,T._)([(0,K.j)("esri.portal.PortalItemResource")],de);const q=de;let ge=class extends V.Z{constructor(pe){super(pe),this.created=null,this.rating=null}};(0,T._)([(0,B.Cb)()],ge.prototype,"created",void 0),(0,T._)([(0,B.Cb)()],ge.prototype,"rating",void 0),ge=(0,T._)([(0,K.j)("esri.portal.PortalRating")],ge);const le=ge;var ye;let oe=ye=class extends((0,ee.eC)(J.Z)){constructor(pe){super(pe),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}static from(pe){return(0,X.TJ)(ye,pe)}destroy(){this.portal=null}get displayName(){const pe=this.type,ue=this.typeKeywords||[];let me=pe;return"Feature Service"===pe||"Feature Collection"===pe?me=ue.indexOf("Table")>-1?"Table":ue.indexOf("Route Layer")>-1?"Route Layer":ue.indexOf("Markup")>-1?"Markup":"Feature Layer":"Image Service"===pe?me=ue.indexOf("Elevation 3D Layer")>-1?"Elevation Layer":ue.indexOf("Tiled Imagery")>-1?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===pe?me="Scene Layer":"Scene Package"===pe?me="Scene Layer Package":"Stream Service"===pe?me="Feature Layer":"Geoprocessing Service"===pe&&this.portal&&this.portal.isPortal?me=ue.indexOf("Web Tool")>-1?"Tool":"Geoprocessing Service":"Geocoding Service"===pe?me="Locator":"Geoenrichment Service"===pe?me="GeoEnrichment Service":"Microsoft Powerpoint"===pe?me="Microsoft PowerPoint":"GeoJson"===pe?me="GeoJSON":"Globe Service"===pe?me="Globe Layer":"Vector Tile Service"===pe?me="Tile Layer":"netCDF"===pe?me="NetCDF":"Map Service"===pe?me=-1===ue.indexOf("Spatiotemporal")&&(ue.indexOf("Hosted Service")>-1||ue.indexOf("Tiled")>-1)&&-1===ue.indexOf("Relational")?"Tile Layer":"Map Image Layer":pe&&pe.toLowerCase().indexOf("add in")>-1?me=pe.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===pe?me="Big Data File Share":"Compact Tile Package"===pe?me="Tile Package (tpkx)":"OGCFeatureServer"===pe?me="OGC Feature Layer":"web mapping application"===pe&&ue.indexOf("configurableApp")>-1&&(me="Instant App"),me}readExtent(pe){return pe&&pe.length?new ae.Z(pe[0][0],pe[0][1],pe[1][0],pe[1][1]):null}get iconUrl(){const pe=this.type&&this.type.toLowerCase()||"",ue=this.typeKeywords||[];let fe,Ce=!1,ce=!1,he=!1,xe=!1,we=!1,Ae=!1;return pe.indexOf("service")>0||"feature collection"===pe||"kml"===pe||"wms"===pe||"wmts"===pe||"wfs"===pe?(Ce=ue.indexOf("Hosted Service")>-1,"feature service"===pe||"feature collection"===pe||"kml"===pe||"wfs"===pe?(ce=ue.indexOf("Table")>-1,he=ue.indexOf("Route Layer")>-1,xe=ue.indexOf("Markup")>-1,we=-1!==ue.indexOf("Spatiotemporal"),Ae=-1!==ue.indexOf("UtilityNetwork"),fe=we&&ce?"spatiotemporaltable":ce?"table":he?"routelayer":xe?"markup":we?"spatiotemporal":Ce?"featureshosted":Ae?"utilitynetwork":"features"):fe="map service"===pe||"wms"===pe||"wmts"===pe?Ce||ue.indexOf("Tiled")>-1||"wmts"===pe?"maptiles":"mapimages":"scene service"===pe?ue.indexOf("Line")>-1?"sceneweblayerline":ue.indexOf("3DObject")>-1?"sceneweblayermultipatch":ue.indexOf("Point")>-1?"sceneweblayerpoint":ue.indexOf("IntegratedMesh")>-1?"sceneweblayermesh":ue.indexOf("PointCloud")>-1?"sceneweblayerpointcloud":ue.indexOf("Polygon")>-1?"sceneweblayerpolygon":ue.indexOf("Building")>-1?"sceneweblayerbuilding":ue.indexOf("Voxel")>-1?"sceneweblayervoxel":"sceneweblayer":"image service"===pe?ue.indexOf("Elevation 3D Layer")>-1?"elevationlayer":ue.indexOf("Tiled Imagery")>-1?"tiledimagerylayer":"imagery":"stream service"===pe?"streamlayer":"vector tile service"===pe?"vectortile":"datastore catalog service"===pe?"datastorecollection":"geocoding service"===pe?"geocodeservice":"geoprocessing service"===pe&&ue.indexOf("Web Tool")>-1&&this.portal&&this.portal.isPortal?"tool":"layers"):fe="web map"===pe||"cityengine web scene"===pe?"maps":"web scene"===pe?ue.indexOf("ViewingMode-Local")>-1?"webscenelocal":"websceneglobal":"web mapping application"===pe&&ue.indexOf("configurableApp")>-1?"instantapps":"web mapping application"===pe||"mobile application"===pe||"application"===pe||"operation view"===pe||"desktop application"===pe?"apps":"map document"===pe||"map package"===pe||"published map"===pe||"scene document"===pe||"globe document"===pe||"basemap package"===pe||"mobile basemap package"===pe||"mobile map package"===pe||"project package"===pe||"project template"===pe||"pro map"===pe||"layout"===pe||"layer"===pe&&ue.indexOf("ArcGIS Pro")>-1||"explorer map"===pe&&ue.indexOf("Explorer Document")?"mapsgray":"service definition"===pe||"csv"===pe||"shapefile"===pe||"cad drawing"===pe||"geojson"===pe||"360 vr experience"===pe||"netcdf"===pe||"administrative report"===pe?"datafiles":"explorer add in"===pe||"desktop add in"===pe||"windows viewer add in"===pe||"windows viewer configuration"===pe?"appsgray":"arcgis pro add in"===pe||"arcgis pro configuration"===pe?"addindesktop":"rule package"===pe||"file geodatabase"===pe||"sqlite geodatabase"===pe||"csv collection"===pe||"kml collection"===pe||"windows mobile package"===pe||"map template"===pe||"desktop application template"===pe||"gml"===pe||"arcpad package"===pe||"code sample"===pe||"form"===pe||"document link"===pe||"earth configuration"===pe||"operations dashboard add in"===pe||"rules package"===pe||"image"===pe||"workflow manager package"===pe||"explorer map"===pe&&ue.indexOf("Explorer Mapping Application")>-1||ue.indexOf("Document")>-1?"datafilesgray":"network analysis service"===pe||"geoprocessing service"===pe||"geodata service"===pe||"geometry service"===pe||"geoprocessing package"===pe||"locator package"===pe||"geoprocessing sample"===pe||"workflow manager service"===pe?"toolsgray":"layer"===pe||"layer package"===pe||"explorer layer"===pe?"layersgray":"scene package"===pe?"scenepackage":"mobile scene package"===pe?"mobilescenepackage":"tile package"===pe||"compact tile package"===pe?"tilepackage":"task file"===pe?"taskfile":"report template"===pe?"report-template":"statistical data collection"===pe?"statisticaldatacollection":"insights workbook"===pe?"workbook":"insights model"===pe?"insightsmodel":"insights page"===pe?"insightspage":"insights theme"===pe?"insightstheme":"hub initiative"===pe?"hubinitiative":"hubpage"===pe?"hubpage":"hub event"===pe?"hubevent":"hub site application"===pe?"hubsite":"relational database connection"===pe?"relationaldatabaseconnection":"big data file share"===pe?"datastorecollection":"image collection"===pe?"imagecollection":"style"===pe?"style":"desktop style"===pe?"desktopstyle":"dashboard"===pe?"dashboard":"raster function template"===pe?"rasterprocessingtemplate":"vector tile package"===pe?"vectortilepackage":"ortho mapping project"===pe?"orthomappingproject":"ortho mapping template"===pe?"orthomappingtemplate":"solution"===pe?"solutions":"geopackage"===pe?"geopackage":"deep learning package"===pe?"deeplearningpackage":"real time analytic"===pe?"realtimeanalytics":"big data analytic"===pe?"bigdataanalytics":"feed"===pe?"feed":"excalibur imagery project"===pe?"excaliburimageryproject":"notebook"===pe?"notebook":"storymap"===pe?"storymap":"survey123 add in"===pe?"survey123addin":"mission"===pe?"mission":"mission report"===pe?"missionreport":"quickcapture project"===pe?"quickcaptureproject":"pro report"===pe?"proreport":"urban model"===pe?"urbanmodel":"web experience"===pe?"experiencebuilder":"web experience template"===pe?"webexperiencetemplate":"workflow"===pe?"workflow":"insights script"===pe?"insightsscript":"kernel gateway connection"===pe?"kernelgatewayconnection":"hub initiative template"===pe?"hubinitiativetemplate":"storymap theme"===pe?"storymaptheme":"knowledge graph"===pe?"knowledgegraph":"native application"===pe?"nativeapp":"native application installer"===pe?"nativeappinstaller":"link chart"===pe?"linkchart":"investigation"===pe?"investigation":"ogcfeatureserver"===pe?"features":"pro project"===pe?"proproject":"insights workbook package"===pe?"insightsworkbookpackage":"apache parquet"===pe?"apacheparquet":"maps",fe?(0,re.V)("esri/images/portal/"+fe+"16.png"):null}get isLayer(){return["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","WMTS","WMS"].indexOf(this.type)>-1}get itemUrl(){const pe=this.get("portal.restUrl");return pe?pe+"/content/items/"+this.id:null}get thumbnailUrl(){const pe=this.itemUrl,ue=this.thumbnail;return pe&&ue?this.portal._normalizeUrl(`${pe}/info/${ue}?f=json`):null}get userItemUrl(){const pe=this.get("portal.restUrl");if(!pe)return null;const ue=this.owner||this.get("portal.user.username");return ue?`${pe}/content/users/${this.ownerFolder?`${ue}/${this.ownerFolder}`:ue}/items/${this.id}`:null}load(pe){this.portal||(this.portal=$.Z.getDefault());const ue=this.portal.load(pe).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?this.portal._request(this.itemUrl,{signal:(0,j.pC)(pe)?pe.signal:null,query:{token:this.apiKey}}):{}).then(me=>{this.sourceJSON=me,this.read(me)});return this.addResolvingPromise(ue),Promise.resolve(this)}addRating(pe){const ue={method:"post",query:{}};return pe instanceof le&&(pe=pe.rating),isNaN(pe)||"number"!=typeof pe||(ue.query.rating=pe),this.portal._request(this.itemUrl+"/addRating",ue).then(()=>new le({rating:pe,created:new Date}))}clone(){const pe={access:this.access,accessInformation:this.accessInformation,applicationProxies:(0,ie.d9)(this.applicationProxies),avgRating:this.avgRating,categories:(0,ie.d9)(this.categories),created:(0,ie.d9)(this.created),culture:this.culture,description:this.description,extent:(0,ie.d9)(this.extent),groupCategories:(0,ie.d9)(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:(0,ie.d9)(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:(0,ie.d9)(this.screenshots),size:this.size,snippet:this.snippet,tags:(0,ie.d9)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,ie.d9)(this.typeKeywords),url:this.url};return this.loaded&&(pe.loadStatus="loaded"),new ye({sourceJSON:this.sourceJSON}).set(pe)}createPostQuery(){const pe=this.toJSON();for(const ue in pe)"tags"===ue&&null!==pe[ue]&&(pe[ue]=pe[ue].join(", ")),"typeKeywords"===ue&&null!==pe[ue]&&(pe[ue]=pe[ue].join(", ")),"extent"===ue&&pe[ue]&&(pe[ue]=JSON.stringify(pe[ue]));return pe}deleteRating(){return this.portal._request(this.itemUrl+"/deleteRating",{method:"post"}).then(()=>{})}fetchData(pe="json",ue){return this.portal._request(this.itemUrl+"/data",Xr(Pt({responseType:pe},ue),{query:{token:this.apiKey}}))}fetchRating(pe){return this.portal._request(this.itemUrl+"/rating",Pt({query:{token:this.apiKey}},pe)).then(ue=>null!=ue.rating?(ue.created=new Date(ue.created),new le(ue)):null)}fetchRelatedItems(pe,ue){return this.portal._requestToTypedArray(this.itemUrl+"/relatedItems",Pt({query:Xr(Pt({},pe),{token:this.apiKey})},ue),ye)}getThumbnailUrl(pe){let ue=this.thumbnailUrl;return ue&&pe&&(ue+=`&w=${pe}`),ue}reload(){return this.portal._request(this.itemUrl,{cacheBust:!0,query:{token:this.apiKey}}).then(pe=>(this.sourceJSON=pe,this.read(pe),this))}update(pe){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const ue=pe&&pe.data,me={method:"post"};me.query=this.createPostQuery();for(const ve in me.query)null===me.query[ve]&&(me.query[ve]="");return me.query.clearEmptyFields=!0,null!=ue&&("string"==typeof ue?me.query.text=ue:"object"==typeof ue&&(me.query.text=JSON.stringify(ue))),this.portal._request(`${this.userItemUrl}/update`,me).then(()=>this.reload())}):Promise.reject(new ne.Z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}updateThumbnail(pe){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const ue=pe.thumbnail,me=pe.filename,ve={method:"post"};if("string"==typeof ue)ve.query=(0,A.HK)(ue)?{data:ue}:{url:(0,A.hF)(ue)},(0,j.pC)(me)&&(ve.query.filename=me);else{const fe=new FormData;(0,j.pC)(me)?fe.append("file",ue,me):fe.append("file",ue),ve.body=fe}return this.portal._request(`${this.userItemUrl}/updateThumbnail`,ve).then(()=>this.reload())}):Promise.reject(new ne.Z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}fetchResources(pe={},ue){var me=this;return(0,x.Z)(function*(){return(yield C.e(587).then(C.bind(C,10587))).fetchResources(me,pe,ue)})()}addResource(pe,ue,me){var ve=this;return(0,x.Z)(function*(){const fe=yield C.e(587).then(C.bind(C,10587));return pe.portalItem=ve,fe.addOrUpdateResource(pe,"add",ue,me)})()}removeResource(pe,ue){var me=this;return(0,x.Z)(function*(){const ve=yield C.e(587).then(C.bind(C,10587));if(pe.portalItem&&pe.portalItem.itemUrl!==me.itemUrl)throw new ne.Z("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return ve.removeResource(me,pe,ue)})()}removeAllResources(pe){var ue=this;return(0,x.Z)(function*(){return(yield C.e(587).then(C.bind(C,10587))).removeAllResources(ue,pe)})()}resourceFromPath(pe){return new q({portalItem:this,path:pe})}toJSON(){const pe=this.extent,ue={created:this.created&&this.created.getTime(),description:this.description,extent:pe&&[[pe.xmin,pe.ymin],[pe.xmax,pe.ymax]],id:this.id,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,tags:this.tags,thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:this.typeKeywords,url:this.url};return(0,ie.yd)(ue)}static fromJSON(pe){if(!pe)return null;if(pe.declaredClass)throw new Error("JSON object is already hydrated");return new ye({sourceJSON:pe})}_getPostQuery(){const pe=this.toJSON();for(const ue in pe)"tags"===ue&&null!==pe[ue]&&(pe[ue]=pe[ue].join(", ")),"typeKeywords"===ue&&null!==pe[ue]&&(pe[ue]=pe[ue].join(", ")),"extent"===ue&&pe[ue]&&(pe[ue]=JSON.stringify(pe[ue]));return pe}};(0,T._)([(0,B.Cb)({type:["private","shared","org","public"]})],oe.prototype,"access",void 0),(0,T._)([(0,B.Cb)()],oe.prototype,"accessInformation",void 0),(0,T._)([(0,B.Cb)({type:String})],oe.prototype,"apiKey",void 0),(0,T._)([(0,B.Cb)({json:{read:{source:"appProxies"}}})],oe.prototype,"applicationProxies",void 0),(0,T._)([(0,B.Cb)()],oe.prototype,"avgRating",void 0),(0,T._)([(0,B.Cb)()],oe.prototype,"categories",void 0),(0,T._)([(0,B.Cb)({type:Date})],oe.prototype,"created",void 0),(0,T._)([(0,B.Cb)()],oe.prototype,"culture",void 0),(0,T._)([(0,B.Cb)()],oe.prototype,"description",void 0),(0,T._)([(0,B.Cb)({readOnly:!0})],oe.prototype,"displayName",null),(0,T._)([(0,B.Cb)({type:ae.Z})],oe.prototype,"extent",void 0),(0,T._)([(0,W.r)("extent")],oe.prototype,"readExtent",null),(0,T._)([(0,B.Cb)()],oe.prototype,"groupCategories",void 0),(0,T._)([(0,B.Cb)({readOnly:!0})],oe.prototype,"iconUrl",null),(0,T._)([(0,B.Cb)()],oe.prototype,"id",void 0),(0,T._)([(0,B.Cb)({readOnly:!0})],oe.prototype,"isLayer",null),(0,T._)([(0,B.Cb)()],oe.prototype,"itemControl",void 0),(0,T._)([(0,B.Cb)({readOnly:!0})],oe.prototype,"itemUrl",null),(0,T._)([(0,B.Cb)()],oe.prototype,"licenseInfo",void 0),(0,T._)([(0,B.Cb)({type:Date})],oe.prototype,"modified",void 0),(0,T._)([(0,B.Cb)()],oe.prototype,"name",void 0),(0,T._)([(0,B.Cb)()],oe.prototype,"numComments",void 0),(0,T._)([(0,B.Cb)()],oe.prototype,"numRatings",void 0),(0,T._)([(0,B.Cb)()],oe.prototype,"numViews",void 0),(0,T._)([(0,B.Cb)()],oe.prototype,"owner",void 0),(0,T._)([(0,B.Cb)()],oe.prototype,"ownerFolder",void 0),(0,T._)([(0,B.Cb)({type:$.Z})],oe.prototype,"portal",void 0),(0,T._)([(0,B.Cb)()],oe.prototype,"screenshots",void 0),(0,T._)([(0,B.Cb)()],oe.prototype,"size",void 0),(0,T._)([(0,B.Cb)()],oe.prototype,"snippet",void 0),(0,T._)([(0,B.Cb)()],oe.prototype,"sourceJSON",void 0),(0,T._)([(0,B.Cb)()],oe.prototype,"tags",void 0),(0,T._)([(0,B.Cb)()],oe.prototype,"thumbnail",void 0),(0,T._)([(0,B.Cb)({readOnly:!0})],oe.prototype,"thumbnailUrl",null),(0,T._)([(0,B.Cb)()],oe.prototype,"title",void 0),(0,T._)([(0,B.Cb)()],oe.prototype,"type",void 0),(0,T._)([(0,B.Cb)()],oe.prototype,"typeKeywords",void 0),(0,T._)([(0,B.Cb)()],oe.prototype,"url",void 0),(0,T._)([(0,B.Cb)({readOnly:!0})],oe.prototype,"userItemUrl",null),oe=ye=(0,T._)([(0,K.j)("esri.portal.PortalItem")],oe);const Q=oe},6278:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>$});var W,x=C(17626),T=C(14517),re=C(2076),ne=C(58817),ee=C(62208),ie=C(77712),j=(C(90912),C(76898)),A=C(2004),B=C(65234),X=C(46367);const K=new re.Xn({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let ae=W=class extends T.Z{constructor(V){super(V),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(V){"asc"!==V&&"desc"!==V||this._set("sortOrder",V)}clone(){return new W({categories:this.categories?(0,ne.d9)(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(V,P){let F,Z;if(this.categories&&(F=this.categories.map(de=>Array.isArray(de)?JSON.stringify(de):de)),this.extent){const de=(0,X.iV)(this.extent,B.Z.WGS84);(0,ee.pC)(de)&&(Z=`${de.xmin},${de.ymin},${de.xmax},${de.ymax}`)}let Y=this.query;!this.disableExtraQuery&&V.extraQuery&&(Y="("+Y+")"+V.extraQuery);const H={categories:F,bbox:Z,q:Y,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(H.sortField=this.sortField.split(",").map(de=>K.toJSON(de.trim())).join(","),H.sortOrder=this.sortOrder),{query:Pt(Pt({},P),H)}}};(0,x._)([(0,ie.Cb)()],ae.prototype,"categories",void 0),(0,x._)([(0,ie.Cb)()],ae.prototype,"disableExtraQuery",void 0),(0,x._)([(0,ie.Cb)({type:A.Z})],ae.prototype,"extent",void 0),(0,x._)([(0,ie.Cb)()],ae.prototype,"filter",void 0),(0,x._)([(0,ie.Cb)()],ae.prototype,"num",void 0),(0,x._)([(0,ie.Cb)()],ae.prototype,"query",void 0),(0,x._)([(0,ie.Cb)()],ae.prototype,"sortField",void 0),(0,x._)([(0,ie.Cb)()],ae.prototype,"sortOrder",null),(0,x._)([(0,ie.Cb)()],ae.prototype,"start",void 0),ae=W=(0,x._)([(0,j.j)("esri.portal.PortalQueryParams")],ae);const $=ae},94508:(lt,Se,C)=>{"use strict";C.r(Se),C.d(Se,{default:()=>ae});var x=C(17626),T=C(26584),re=C(86162),ne=C(77712),j=(C(85931),C(8314),C(90912),C(76898));let A=class extends re.wq{constructor($){super($),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const $=this.get("portal.restUrl");return $?`${$}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new T.Z("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};(0,x._)([(0,ne.Cb)({type:Date})],A.prototype,"created",void 0),(0,x._)([(0,ne.Cb)()],A.prototype,"id",void 0),(0,x._)([(0,ne.Cb)()],A.prototype,"portal",void 0),(0,x._)([(0,ne.Cb)()],A.prototype,"title",void 0),(0,x._)([(0,ne.Cb)({readOnly:!0})],A.prototype,"url",null),(0,x._)([(0,ne.Cb)()],A.prototype,"username",void 0),A=(0,x._)([(0,j.j)("esri.portal.PortalFolder")],A);const B=A;var W,X=C(96245);let K=W=class extends re.wq{constructor(...$){super(...$),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const $=this.url,V=this.thumbnail;return $&&V?this.portal._normalizeUrl(`${$}/info/${V}?f=json`):null}get userContentUrl(){const $=this.get("portal.restUrl");return $?`${$}/content/users/${this.username}`:null}get url(){const $=this.get("portal.restUrl");return $?`${$}/community/users/${this.username}`:null}addItem($){const V=$&&$.item,P=$&&$.data,F=$&&$.folder,Z={method:"post"};V&&(Z.query=V.createPostQuery(),null!=P&&("string"==typeof P?Z.query.text=P:"object"==typeof P&&(Z.query.text=JSON.stringify(P))));let Y=this.userContentUrl;return F&&(Y+="/"+("string"==typeof F?F:F.id)),this.portal._request(Y+"/addItem",Z).then(H=>(V.id=H.id,V.portal=this.portal,V.loaded?V.reload():V.load()))}deleteItem($){let V=this.userContentUrl;return $.ownerFolder&&(V+="/"+$.ownerFolder),this.portal._request(V+`/items/${$.id}/delete`,{method:"post"}).then(()=>{$.id=null,$.portal=null})}deleteItems($){const V=this.userContentUrl+"/deleteItems",P=$.map(F=>F.id);if(P.length){const F={method:"post",query:{items:P.join(",")}};return this.portal._request(V,F).then(()=>{$.forEach(Z=>{Z.id=null,Z.portal=null})})}return Promise.resolve(void 0)}fetchFolders(){return this.portal._request(this.userContentUrl,{query:{num:1}}).then(V=>{let P;return P=V&&V.folders?V.folders.map(F=>{const Z=B.fromJSON(F);return Z.portal=this.portal,Z}):[],P})}fetchGroups(){return this.portal._request(this.url).then($=>{let V;return V=$&&$.groups?$.groups.map(P=>{const F=X.default.fromJSON(P);return F.portal=this.portal,F}):[],V})}fetchItems($){$||($={});let V,P=this.userContentUrl;return $.folder&&(P+="/"+$.folder.id),Promise.resolve().then(C.bind(C,55463)).then(({default:F})=>(V=F,this.portal._request(P,{query:{folders:!1,num:$.num||10,start:$.start||1,sortField:$.sortField||"created",sortOrder:$.sortOrder||"asc"}}))).then(F=>{let Z;return F&&F.items?(Z=F.items.map(Y=>{const H=V.fromJSON(Y);return H.portal=this.portal,H}),Promise.all(Z.map(Y=>Y.load())).catch(Y=>Y).then(()=>({items:Z,nextStart:F.nextStart,total:F.total}))):{items:[],nextStart:-1,total:0}})}fetchTags(){return this.portal._request(this.url+"/tags").then($=>$.tags)}getThumbnailUrl($){let V=this.thumbnailUrl;return V&&$&&(V+=`&w=${$}`),V}queryFavorites($){return this.favGroupId?(this._favGroup||(this._favGroup=new X.default({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems($)):Promise.reject(new T.Z("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new T.Z("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON($){if(!$)return null;if($.declaredClass)throw new Error("JSON object is already hydrated");const V=new W;return V.sourceJSON=$,V.read($),V}};(0,x._)([(0,ne.Cb)()],K.prototype,"access",void 0),(0,x._)([(0,ne.Cb)({type:Date})],K.prototype,"created",void 0),(0,x._)([(0,ne.Cb)()],K.prototype,"culture",void 0),(0,x._)([(0,ne.Cb)()],K.prototype,"description",void 0),(0,x._)([(0,ne.Cb)()],K.prototype,"email",void 0),(0,x._)([(0,ne.Cb)()],K.prototype,"favGroupId",void 0),(0,x._)([(0,ne.Cb)()],K.prototype,"fullName",void 0),(0,x._)([(0,ne.Cb)({type:Date})],K.prototype,"modified",void 0),(0,x._)([(0,ne.Cb)()],K.prototype,"orgId",void 0),(0,x._)([(0,ne.Cb)()],K.prototype,"portal",void 0),(0,x._)([(0,ne.Cb)()],K.prototype,"preferredView",void 0),(0,x._)([(0,ne.Cb)()],K.prototype,"privileges",void 0),(0,x._)([(0,ne.Cb)()],K.prototype,"region",void 0),(0,x._)([(0,ne.Cb)()],K.prototype,"role",void 0),(0,x._)([(0,ne.Cb)()],K.prototype,"roleId",void 0),(0,x._)([(0,ne.Cb)()],K.prototype,"sourceJSON",void 0),(0,x._)([(0,ne.Cb)()],K.prototype,"thumbnail",void 0),(0,x._)([(0,ne.Cb)({readOnly:!0})],K.prototype,"thumbnailUrl",null),(0,x._)([(0,ne.Cb)()],K.prototype,"units",void 0),(0,x._)([(0,ne.Cb)({readOnly:!0})],K.prototype,"userContentUrl",null),(0,x._)([(0,ne.Cb)({readOnly:!0})],K.prototype,"url",null),(0,x._)([(0,ne.Cb)()],K.prototype,"username",void 0),(0,x._)([(0,ne.Cb)()],K.prototype,"userType",void 0),K=W=(0,x._)([(0,j.j)("esri.portal.PortalUser")],K);const ae=K},37281:(lt,Se,C)=>{"use strict";function x(ne,ee){if(!T(ne,ee)){const ie=ne.typeKeywords;ie?ie.push(ee):ne.typeKeywords=[ee]}}function T(ne,ee){return!!ne.typeKeywords&&ne.typeKeywords.indexOf(ee)>-1}function re(ne,ee){const ie=ne.typeKeywords;if(ie){const J=ie.indexOf(ee);J>-1&&ie.splice(J,1)}}C.d(Se,{qj:()=>x,_$:()=>T,ck:()=>re})},58926:(lt,Se,C)=>{"use strict";C.d(Se,{v:()=>T});const T=(0,C(2076).wY)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0})},4832:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>ue});var de,x=C(15861),T=C(17626),re=C(65787),ne=C(2076),ee=C(58817),ie=C(63290),J=C(62208),j=C(77712),A=C(66656),B=C(55342),X=C(68653),W=C(76898),K=C(99433),ae=C(90912),$=C(36630),V=C(69357),P=C(2432),F=C(74400),Z=C(76457),Y=C(10914),H=C(46679);const q=ie.Z.getLogger("esri.renderers.ClassBreaksRenderer"),le="percent-of-total",ye="field",oe=new ne.Xn({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:le,esriNormalizeByField:ye}),Q=(0,ae.se)(F.Z);let pe=de=class extends((0,P.W)(V.Z)){constructor(me){super(me),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(me,ve,fe){if(!Array.isArray(me))return;let Ce=ve.minValue;return me.map(ce=>{const he=new F.Z;return he.read(ce,fe),null==he.minValue&&(he.minValue=Ce),null==he.maxValue&&(he.maxValue=he.minValue),Ce=he.maxValue,he})}writeClassBreakInfos(me,ve,fe,Ce){const ce=me.map(he=>he.write({},Ce));this._areClassBreaksConsecutive()&&ce.forEach(he=>delete he.classMinValue),ve[fe]=ce}castField(me){return null==me?me:"function"==typeof me?(q.error(".field: field must be a string value"),null):(0,ae.Zs)(me)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let me=this._get("normalizationType");const ve=!!this.normalizationField,fe=null!=this.normalizationTotal;return ve||fe?(me=(ve?ye:fe&&le)||null,ve&&fe&&q.warn("warning: both normalizationField and normalizationTotal are set!")):me!==ye&&me!==le||(me=null),me}set normalizationType(me){this._set("normalizationType",me)}addClassBreakInfo(me,ve,fe){let Ce=null;Ce="number"==typeof me?new F.Z({minValue:me,maxValue:ve,symbol:(0,re.se)(fe)}):Q((0,ee.d9)(me)),this.classBreakInfos.push(Ce),1===this.classBreakInfos.length&&this.notifyChange("minValue")}removeClassBreakInfo(me,ve){const fe=this.classBreakInfos.length;for(let Ce=0;Ce<fe;Ce++){const ce=[this.classBreakInfos[Ce].minValue,this.classBreakInfos[Ce].maxValue];if(ce[0]===me&&ce[1]===ve){this.classBreakInfos.splice(Ce,1);break}}}getBreakIndex(me,ve){return this.valueExpression&&((0,J.Wi)(ve)||(0,J.Wi)(ve.arcade))&&q.warn(""),this.valueExpression?this._getBreakIndexForExpression(me,ve):this._getBreakIndexForField(me)}getClassBreakInfo(me,ve){var fe=this;return(0,x.Z)(function*(){let Ce=ve;fe.valueExpression&&((0,J.Wi)(ve)||(0,J.Wi)(ve.arcade))&&(Ce=Xr(Pt({},Ce),{arcade:yield(0,H.LC)()}));const ce=fe.getBreakIndex(me,Ce);return-1!==ce?fe.classBreakInfos[ce]:null})()}getSymbol(me,ve){if(this.valueExpression&&((0,J.Wi)(ve)||(0,J.Wi)(ve.arcade)))return void q.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const fe=this.getBreakIndex(me,ve);return fe>-1?this.classBreakInfos[fe].symbol:this.defaultSymbol}getSymbolAsync(me,ve){var fe=this;return(0,x.Z)(function*(){let Ce=ve;if(fe.valueExpression&&((0,J.Wi)(ve)||(0,J.Wi)(ve.arcade))){const he=yield(0,H.LC)(),{arcadeUtils:xe}=he;xe.hasGeometryOperations(fe.valueExpression)&&(yield xe.enableGeometryOperations()),Ce=Xr(Pt({},Ce),{arcade:he})}const ce=fe.getBreakIndex(me,Ce);return ce>-1?fe.classBreakInfos[ce].symbol:fe.defaultSymbol})()}getSymbols(){const me=[];return this.classBreakInfos.forEach(ve=>{ve.symbol&&me.push(ve.symbol)}),this.defaultSymbol&&me.push(this.defaultSymbol),me}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((me,ve)=>me+ve.getAttributeHash(),"")}getMeshHash(){const me=JSON.stringify(this.backgroundFillSymbol),ve=JSON.stringify(this.defaultSymbol),fe=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${me}.${ve}.${this.classBreakInfos.reduce((Ce,ce)=>Ce+ce.getMeshHash(),"")}.${fe}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new de({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:(0,ee.d9)(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:(0,ee.d9)(this.visualVariables),legendOptions:(0,ee.d9)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}collectRequiredFields(me,ve){var fe=this;return(0,x.Z)(function*(){const Ce=[fe.collectVVRequiredFields(me,ve),fe.collectSymbolFields(me,ve)];yield Promise.all(Ce)})()}collectSymbolFields(me,ve){var fe=this;return(0,x.Z)(function*(){const Ce=[...fe.getSymbols().map(ce=>ce.collectRequiredFields(me,ve)),(0,$.io)(me,ve,fe.valueExpression)];(0,$.AB)(me,ve,fe.field),(0,$.AB)(me,ve,fe.normalizationField),yield Promise.all(Ce)})()}_getBreakIndexForExpression(me,ve){const{viewingMode:fe,scale:Ce,spatialReference:ce,arcade:he}=(0,J.Pt)(ve,{});let xe=this._compiledValueExpression.valueExpression===this.valueExpression?this._compiledValueExpression.compiledFunction:null;const we=(0,J.Wg)(he).arcadeUtils;if(!xe){const Fe=we.createSyntaxTree(this.valueExpression);xe=we.createFunction(Fe),this._compiledValueExpression.compiledFunction=xe}this._compiledValueExpression.valueExpression=this.valueExpression;const Ae=we.executeFunction(xe,we.createExecContext(me,we.getViewInfo({viewingMode:fe,scale:Ce,spatialReference:ce})));return this._getBreakIndexfromInfos(Ae)}_getBreakIndexForField(me){const fe=me.attributes,Ce=this.normalizationType;let ce=parseFloat(fe[this.field]);if(Ce){const he=this.normalizationTotal,xe=parseFloat(fe[this.normalizationField]);if("log"===Ce)ce=Math.log(ce)*Math.LOG10E;else if(Ce!==le||isNaN(he)){if(Ce===ye&&!isNaN(xe)){if(isNaN(ce)||isNaN(xe))return-1;ce/=xe}}else ce=ce/he*100}return this._getBreakIndexfromInfos(ce)}_getBreakIndexfromInfos(me){const ve=this.isMaxInclusive;if(null!=me&&"number"==typeof me&&!isNaN(me))for(let fe=0;fe<this.classBreakInfos.length;fe++){const Ce=[this.classBreakInfos[fe].minValue,this.classBreakInfos[fe].maxValue];if(Ce[0]<=me&&(ve?me<=Ce[1]:me<Ce[1]))return fe}return-1}_areClassBreaksConsecutive(){const me=this.classBreakInfos,ve=me.length;for(let fe=1;fe<ve;fe++)if(me[fe-1].maxValue!==me[fe].minValue)return!1;return!0}};(0,T._)([(0,j.Cb)(Z.K)],pe.prototype,"backgroundFillSymbol",void 0),(0,T._)([(0,j.Cb)({type:[F.Z]})],pe.prototype,"classBreakInfos",void 0),(0,T._)([(0,X.r)("classBreakInfos")],pe.prototype,"readClassBreakInfos",null),(0,T._)([(0,K.c)("classBreakInfos")],pe.prototype,"writeClassBreakInfos",null),(0,T._)([(0,j.Cb)({type:String,json:{write:!0}})],pe.prototype,"defaultLabel",void 0),(0,T._)([(0,j.Cb)(Z.G)],pe.prototype,"defaultSymbol",void 0),(0,T._)([(0,j.Cb)({type:String,json:{write:!0}})],pe.prototype,"field",void 0),(0,T._)([(0,A.p)("field")],pe.prototype,"castField",null),(0,T._)([(0,j.Cb)({type:Boolean})],pe.prototype,"isMaxInclusive",void 0),(0,T._)([(0,j.Cb)({type:Y.Z,json:{write:!0}})],pe.prototype,"legendOptions",void 0),(0,T._)([(0,j.Cb)({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],pe.prototype,"minValue",null),(0,T._)([(0,j.Cb)({type:String,json:{write:!0}})],pe.prototype,"normalizationField",void 0),(0,T._)([(0,j.Cb)({type:Number,cast:me=>(0,ae.q9)(me),json:{write:!0}})],pe.prototype,"normalizationTotal",void 0),(0,T._)([(0,j.Cb)({type:oe.apiValues,value:null,json:{type:oe.jsonValues,read:oe.read,write:oe.write}})],pe.prototype,"normalizationType",null),(0,T._)([(0,B.J)({classBreaks:"class-breaks"})],pe.prototype,"type",void 0),(0,T._)([(0,j.Cb)({type:String,json:{write:!0}})],pe.prototype,"valueExpression",void 0),(0,T._)([(0,j.Cb)({type:String,json:{write:!0}})],pe.prototype,"valueExpressionTitle",void 0),pe=de=(0,T._)([(0,W.j)("esri.renderers.ClassBreaksRenderer")],pe);const ue=pe},49067:(lt,Se,C)=>{"use strict";C.r(Se),C.d(Se,{default:()=>le});var H,x=C(15861),T=C(17626),re=C(91558),ne=C(84792),ee=C(26584),ie=C(58817),J=C(63290),j=C(93961),A=C(62208),B=C(10699),X=C(77275),W=C(77712),ae=(C(90912),C(76898)),$=C(99433),V=C(36630),P=C(69357),F=C(2432),Z=C(46679),Y=C(94398);const de=J.Z.getLogger("esri.renderers.DictionaryRenderer"),q={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};let ge=H=class extends((0,F.W)(P.Z)){constructor(ye){super(ye),this._ongoingRequests=new Map,this._symbolCache=new j.Z(100),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}writeData(ye,oe){ye&&(oe.scalingExpressionInfo={expression:ye,returnType:"number"})}writeVisualVariables(ye,oe,Q,pe){null!=pe&&pe.origin||super.writeVisualVariables(ye,oe,Q,pe)}clone(){return new H({config:(0,ie.d9)(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:(0,ie.d9)(this.fieldMap),url:(0,ie.d9)(this.url),visualVariables:(0,ie.d9)(this.visualVariables)})}getSymbolAsync(ye,oe){var Q=this;return(0,x.Z)(function*(){let pe;Q._dictionaryPromise||(Q._dictionaryPromise=Q.fetchResources(oe));try{pe=yield Q._dictionaryPromise}catch(Ae){if((0,B.D_)(Ae))return Q._dictionaryPromise=null,null}const ue={};if(Q.fieldMap)for(const Ae of Q._symbolFields){const Fe=Q.fieldMap[Ae];ue[Ae]=Fe&&null!=ye.attributes[Fe]?""+ye.attributes[Fe]:""}const me=pe(ue,oe);if(!me||"string"!=typeof me)return null;const ve=(0,X.hP)(me).toString(),fe=Q._symbolCache.get(ve);if(fe)return fe.catch(()=>{Q._symbolCache.pop(ve)}),fe;const Ce=me.split(";"),ce=[],he=[];for(const Ae of Ce)if(Ae&&0!==Ae.length)if(-1===Ae.indexOf("po:"))if(-1!==Ae.indexOf("|")){for(const Fe of Ae.split("|"))if(Q._itemNames.has(Fe)){ce.push(Fe);break}}else Q._itemNames.has(Ae)&&ce.push(Ae);else{const Fe=Ae.substr(3).split("|");if(3===Fe.length){const tt=Fe[0],Re=Fe[1];let be=Fe[2];if("DashTemplate"===Re)be=be.split(" ").map(Te=>Number(Te));else if("Color"===Re){const Te=new re.Z(be).toRgba();be=[Te[0],Te[1],Te[2],255*Te[3]]}else be=Number(be);he.push({primitiveName:tt,propertyName:Re,value:be})}}const xe=!(0,A.pC)(ye.geometry)||!ye.geometry.hasZ&&"point"===ye.geometry.type,we=Q._cimPartsToCIMSymbol(ce,he,xe,oe);return Q._symbolCache.put(ve,we,1),we})()}collectRequiredFields(ye,oe){var Q=this;return(0,x.Z)(function*(){yield Q.collectVVRequiredFields(ye,oe),Q.scaleExpression&&(yield(0,V.io)(ye,oe,Q.scaleExpression));for(const pe in Q.fieldMap){const ue=Q.fieldMap[pe];oe.has(ue)&&ye.add(ue)}})()}get arcadeRequired(){return!0}fetchResources(ye){var oe=this;return(0,x.Z)(function*(){if(oe._dictionaryPromise)return oe._dictionaryPromise;if(!oe.url)return void de.error("no valid URL!");const Q=(0,A.pC)(ye)?ye.abortOptions:null,pe=(0,ne.default)(oe.url+"/resources/styles/dictionary-info.json",Pt({responseType:"json",query:{f:"json"}},Q)),[{data:ue}]=yield Promise.all([pe,(0,Z.LC)()]);if(!ue)throw oe._dictionaryPromise=null,new ee.Z("esri.renderers.DictionaryRenderer","Bad dictionary data!");const me=ue.expression,ve=ue.authoringInfo;oe._refSymbolUrlTemplate=oe.url+"/"+ue.cimRefTemplateUrl,oe._itemNames=new Set(ue.itemsNames),oe._symbolFields=ve.symbol;const fe={};if(oe.config){const ce=oe.config;for(const he in ce)fe[he]=ce[he]}if(ve.configuration)for(const ce of ve.configuration)fe.hasOwnProperty(ce.name)||(fe[ce.name]=ce.value);const Ce=[];if((0,A.pC)(ye)&&ye.fields&&oe.fieldMap)for(const ce of oe._symbolFields){const he=oe.fieldMap[ce],xe=ye.fields.filter(we=>we.name===he);xe.length>0&&Ce.push(Xr(Pt({},xe[0]),{name:ce}))}return oe._dictionaryPromise=(0,Z.pp)(me,(0,A.pC)(ye)?ye.spatialReference:null,Ce,fe).then(ce=>{const he={scale:0};return(xe,we)=>{const Ae=ce.repurposeFeature({geometry:null,attributes:xe});return he.scale=(0,A.pC)(we)?we.scale:void 0,ce.evaluate({$feature:Ae,$view:he})}}).catch(ce=>(de.error("Creating dictinoary expression failed:",ce),null)),oe._dictionaryPromise})()}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((ye,oe)=>ye+oe.getAttributeHash(),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._symbolFields}_getSymbolPart(ye,oe){var Q=this;return(0,x.Z)(function*(){if(Q._ongoingRequests.has(ye))return Q._ongoingRequests.get(ye).then(me=>me.data);const pe=Q._refSymbolUrlTemplate.replace(/\{itemName\}/gi,ye),ue=(0,ne.default)(pe,Pt({responseType:"json",query:{f:"json"}},oe));Q._ongoingRequests.set(ye,ue);try{return(yield ue).data}catch(me){return Q._ongoingRequests.delete(ye),Promise.reject(me)}})()}_combineSymbolParts(ye,oe,Q){if(!ye||0===ye.length)return null;const pe=Pt({},ye[0]);if(ye.length>1){pe.symbolLayers=[];for(const ue of ye)pe.symbolLayers.unshift(...ue.symbolLayers)}return Q&&(pe.callout=q),{type:"CIMSymbolReference",symbol:pe,primitiveOverrides:oe}}_cimPartsToCIMSymbol(ye,oe,Q,pe){var ue=this;return(0,x.Z)(function*(){const me=new Array(ye.length);for(let fe=0;fe<ye.length;fe++)me[fe]=ue._getSymbolPart(ye[fe],pe);const ve=yield Promise.all(me);return new Y.Z({data:ue._combineSymbolParts(ve,oe,Q)})})()}};(0,T._)([(0,W.Cb)({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],ge.prototype,"config",void 0),(0,T._)([(0,W.Cb)({type:Object,json:{write:!0}})],ge.prototype,"fieldMap",void 0),(0,T._)([(0,W.Cb)({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],ge.prototype,"scaleExpression",void 0),(0,T._)([(0,$.c)("scaleExpression")],ge.prototype,"writeData",null),(0,T._)([(0,W.Cb)({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(ye){return{enabled:!!ye&&!!this.scaleExpression}}}}})],ge.prototype,"scaleExpressionTitle",void 0),(0,T._)([(0,W.Cb)({type:String,json:{write:!0}})],ge.prototype,"url",void 0),(0,T._)([(0,$.c)("visualVariables")],ge.prototype,"writeVisualVariables",null),ge=H=(0,T._)([(0,ae.j)("esri.renderers.DictionaryRenderer")],ge);const le=ge},26284:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>pe});var F,x=C(15861),T=C(17626),re=C(91558),ne=C(58817),ee=C(83960),ie=C(90912),J=C(55342),j=C(77712),A=C(76898),B=C(36630),X=C(69357),W=C(2432),K=C(86162),ae=C(63290),P=(C(85931),C(8314),C(66656));const Z=ae.Z.getLogger("esri.renderers.support.AttributeColorInfo");let Y=F=class extends K.wq{constructor(ue){super(ue),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(ue){return null==ue?ue:"function"==typeof ue?(Z.error(".field: field must be a string value"),null):(0,ie.Zs)(ue)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new F({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};(0,T._)([(0,j.Cb)({type:re.Z,json:{type:[Number],write:!0}})],Y.prototype,"color",void 0),(0,T._)([(0,j.Cb)({type:String,json:{write:!0}})],Y.prototype,"field",void 0),(0,T._)([(0,P.p)("field")],Y.prototype,"castField",null),(0,T._)([(0,j.Cb)({type:String,json:{write:!0}})],Y.prototype,"label",void 0),(0,T._)([(0,j.Cb)({type:String,json:{write:!0}})],Y.prototype,"valueExpression",void 0),(0,T._)([(0,j.Cb)({type:String,json:{write:!0}})],Y.prototype,"valueExpressionTitle",void 0),Y=F=(0,T._)([(0,A.j)("esri.renderers.support.AttributeColorInfo")],Y);const H=Y;var de;let q=de=class extends K.wq{constructor(){super(...arguments),this.unit=null}clone(){return new de({unit:this.unit})}};(0,T._)([(0,j.Cb)({type:String,json:{write:!0}})],q.prototype,"unit",void 0),q=de=(0,T._)([(0,A.j)("esri.renderers.support.DotDensityLegendOptions")],q);const ge=q;var oe,le=C(88493),ye=C(52068);let Q=oe=class extends((0,W.W)(X.Z)){constructor(ue){super(ue),this.attributes=null,this.backgroundColor=new re.Z([0,0,0,0]),this.blendDots=!0,this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new ye.Z,this.dotValue=null,this.referenceDotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(ue){if(null==this.referenceScale)return this.dotValue;const me=ue/this.referenceScale*this.dotValue;return me<1?1:me}getSymbol(){return new le.Z({outline:this.outline})}getSymbolAsync(){var ue=this;return(0,x.Z)(function*(){return ue.getSymbol()})()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes&&this.attributes.reduce((ue,me)=>ue+me.getAttributeHash(),"")}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new oe({attributes:(0,ne.d9)(this.attributes),backgroundColor:(0,ne.d9)(this.backgroundColor),dotBlendingEnabled:(0,ne.d9)(this.dotBlendingEnabled),dotShape:(0,ne.d9)(this.dotShape),dotSize:(0,ne.d9)(this.dotSize),dotValue:(0,ne.d9)(this.dotValue),legendOptions:(0,ne.d9)(this.legendOptions),outline:(0,ne.d9)(this.outline),referenceScale:(0,ne.d9)(this.referenceScale),visualVariables:(0,ne.d9)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){return`${this.attributes.map(ue=>ue.field||ue.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}collectRequiredFields(ue,me){var ve=this;return(0,x.Z)(function*(){yield ve.collectVVRequiredFields(ue,me);for(const fe of ve.attributes)fe.valueExpression&&(yield(0,B.io)(ue,me,fe.valueExpression)),fe.field&&ue.add(fe.field)})()}};(0,T._)([(0,j.Cb)({type:[H],json:{write:!0}})],Q.prototype,"attributes",void 0),(0,T._)([(0,j.Cb)({type:re.Z,json:{write:!0}})],Q.prototype,"backgroundColor",void 0),(0,T._)([(0,j.Cb)({type:Boolean}),(0,ee.B)("dotBlendingEnabled")],Q.prototype,"blendDots",void 0),(0,T._)([(0,j.Cb)({type:Boolean,json:{write:!0}})],Q.prototype,"dotBlendingEnabled",void 0),(0,T._)([(0,j.Cb)({type:String,json:{write:!1}})],Q.prototype,"dotShape",void 0),(0,T._)([(0,j.Cb)({type:Number,json:{write:!1}})],Q.prototype,"dotSize",void 0),(0,T._)([(0,j.Cb)({type:ge,json:{write:!0}})],Q.prototype,"legendOptions",void 0),(0,T._)([(0,j.Cb)({type:ye.Z,json:{default:null,write:!0}})],Q.prototype,"outline",void 0),(0,T._)([(0,j.Cb)({type:Number,json:{write:!0}})],Q.prototype,"dotValue",void 0),(0,T._)([(0,j.Cb)({type:Number}),(0,ee.B)("dotValue")],Q.prototype,"referenceDotValue",void 0),(0,T._)([(0,j.Cb)({type:Number,json:{write:!0}})],Q.prototype,"referenceScale",void 0),(0,T._)([(0,j.Cb)({type:Number,json:{write:!0}})],Q.prototype,"seed",void 0),(0,T._)([(0,J.J)({dotDensity:"dot-density"})],Q.prototype,"type",void 0),Q=oe=(0,T._)([(0,A.j)("esri.renderers.DotDensityRenderer")],Q);const pe=Q},54928:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>Z});var ae,x=C(15861),T=C(17626),re=C(91558),ne=C(58817),ee=C(77712),J=(C(90912),C(55342)),j=C(76898),A=C(36630),B=C(69357),X=C(86162);C(85931),C(8314);let $=ae=class extends X.wq{constructor(Y){super(Y),this.color=null,this.ratio=null}clone(){return new ae({color:this.color,ratio:this.ratio})}};(0,T._)([(0,ee.Cb)({type:re.Z,json:{write:!0}})],$.prototype,"color",void 0),(0,T._)([(0,ee.Cb)({type:Number,json:{write:!0}})],$.prototype,"ratio",void 0),$=ae=(0,T._)([(0,j.j)("esri.renderers.support.HeatmapColorStop")],$);const V=$;var P;let F=P=class extends B.Z{constructor(Y){super(Y),this.blurRadius=10,this.colorStops=[new V({ratio:0,color:new re.Z("rgba(255, 140, 0, 0)")}),new V({ratio:.75,color:new re.Z("rgba(255, 140, 0, 1)")}),new V({ratio:.9,color:new re.Z("rgba(255, 0,   0, 1)")})],this.field=null,this.fieldOffset=0,this.maxPixelIntensity=100,this.minPixelIntensity=0,this.type="heatmap"}collectRequiredFields(Y,H){var de=this;return(0,x.Z)(function*(){const q=de.field;q&&"string"==typeof q&&(0,A.AB)(Y,H,q)})()}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new P({blurRadius:this.blurRadius,colorStops:(0,ne.d9)(this.colorStops),field:this.field,maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity})}};(0,T._)([(0,ee.Cb)({type:Number,json:{write:!0}})],F.prototype,"blurRadius",void 0),(0,T._)([(0,ee.Cb)({type:[V],json:{write:!0}})],F.prototype,"colorStops",void 0),(0,T._)([(0,ee.Cb)({type:String,json:{write:!0}})],F.prototype,"field",void 0),(0,T._)([(0,ee.Cb)({type:Number,json:{write:{overridePolicy:(Y,H,de)=>({enabled:null==de})}}})],F.prototype,"fieldOffset",void 0),(0,T._)([(0,ee.Cb)({type:Number,json:{write:!0}})],F.prototype,"maxPixelIntensity",void 0),(0,T._)([(0,ee.Cb)({type:Number,json:{write:!0}})],F.prototype,"minPixelIntensity",void 0),(0,T._)([(0,J.J)({heatmap:"heatmap"})],F.prototype,"type",void 0),F=P=(0,T._)([(0,j.j)("esri.renderers.HeatmapRenderer")],F);const Z=F},69357:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>K});var x=C(15861),T=C(17626),re=C(2076),ne=C(86162),ee=C(77712),A=(C(85931),C(8314),C(90912),C(76898)),B=C(15312);const X=new re.Xn({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary"},{ignoreUnknown:!0});let W=class extends ne.wq{constructor(ae){super(ae),this.authoringInfo=null,this.type=null}getRequiredFields(ae){var $=this;return(0,x.Z)(function*(){if(!$.collectRequiredFields)return[];const V=new Set;return yield $.collectRequiredFields(V,ae),Array.from(V).sort()})()}getSymbol(ae,$){}getSymbolAsync(ae,$){return(0,x.Z)(function*(){})()}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};(0,T._)([(0,ee.Cb)({type:B.Z,json:{write:!0}})],W.prototype,"authoringInfo",void 0),(0,T._)([(0,ee.Cb)({type:X.apiValues,readOnly:!0,json:{type:X.jsonValues,read:!1,write:{writer:X.write,ignoreOrigin:!0}}})],W.prototype,"type",void 0),W=(0,T._)([(0,A.j)("esri.renderers.Renderer")],W);const K=W},40342:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>K});var X,x=C(15861),T=C(17626),re=C(58817),ne=C(77712),ie=(C(90912),C(55342)),J=C(76898),j=C(69357),A=C(2432),B=C(76457);let W=X=class extends((0,A.W)(j.Z)){constructor(ae){super(ae),this.description=null,this.label=null,this.symbol=null,this.type="simple"}collectRequiredFields(ae,$){var V=this;return(0,x.Z)(function*(){yield Promise.all([V.collectSymbolFields(ae,$),V.collectVVRequiredFields(ae,$)])})()}collectSymbolFields(ae,$){var V=this;return(0,x.Z)(function*(){yield Promise.all(V.getSymbols().map(P=>P.collectRequiredFields(ae,$)))})()}getSymbol(ae,$){return this.symbol}getSymbolAsync(ae,$){var V=this;return(0,x.Z)(function*(){return V.symbol})()}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((ae,$)=>ae+$.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((ae,$)=>ae+JSON.stringify($),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new X({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:(0,re.d9)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};(0,T._)([(0,ne.Cb)({type:String,json:{write:!0}})],W.prototype,"description",void 0),(0,T._)([(0,ne.Cb)({type:String,json:{write:!0}})],W.prototype,"label",void 0),(0,T._)([(0,ne.Cb)(B.G)],W.prototype,"symbol",void 0),(0,T._)([(0,ie.J)({simple:"simple"})],W.prototype,"type",void 0),W=X=(0,T._)([(0,J.j)("esri.renderers.SimpleRenderer")],W);const K=W},14726:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>ve});var Q,x=C(15861),T=C(17626),re=C(65787),ne=C(26584),ee=C(58817),ie=C(63290),J=C(62208),j=C(94113),A=C(77712),B=C(66656),X=C(55342),W=C(68653),K=C(76898),ae=C(99433),$=C(84682),V=C(90912),P=C(36630),F=C(84687),Z=C(69357),Y=C(2432),H=C(76457),de=C(10914),q=C(87266),ge=C(46679),le=C(29840),ye=C(78241),oe=C(12874);const pe=ie.Z.getLogger("esri.renderers.UniqueValueRenderer"),ue=(0,V.se)(q.Z);let me=Q=class extends((0,Y.W)(Z.Z)){constructor(fe){super(fe),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this.type="unique-value",this.backgroundFillSymbol=null,this.field=null,this.field2=null,this.field3=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.fieldDelimiter=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(Ce,ce){if(!Ce&&!ce)return;if(!Ce||!ce)return{type:"complete",oldValue:Ce,newValue:ce};let he=!1;const xe={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let we=0;we<ce.length;we++){const Ae=Ce.find(Fe=>Fe.value===ce[we].value);Ae?(0,$.Hg)(Ae,ce[we])?(xe.changed.push({type:"complete",oldValue:Ae,newValue:ce[we]}),he=!0):xe.unchanged.push({oldValue:Ae,newValue:ce[we]}):(xe.added.push(ce[we]),he=!0)}for(let we=0;we<Ce.length;we++)ce.find(Ae=>Ae.value===Ce[we].value)||(xe.removed.push(Ce[we]),he=!0);return he?xe:void 0}},this._set("uniqueValueInfos",[])}get _cache(){return{compiledFunc:null}}castField(fe){return null==fe||"function"==typeof fe?fe:(0,V.Zs)(fe)}writeField(fe,Ce,ce,he){"string"==typeof fe?Ce[ce]=fe:he&&he.messages?he.messages.push(new ne.Z("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):pe.error(".field: cannot write field to JSON since it's not a string value")}set defaultSymbol(fe){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",fe)}readPortal(fe,Ce,ce){return ce.portal||F.Z.getDefault()}readStyleOrigin(fe,Ce,ce){if(Ce.styleName)return Object.freeze({styleName:Ce.styleName});if(Ce.styleUrl){const he=(0,le.f)(Ce.styleUrl,ce);return Object.freeze({styleUrl:he})}}writeStyleOrigin(fe,Ce,ce,he){fe.styleName?Ce.styleName=fe.styleName:fe.styleUrl&&(Ce.styleUrl=(0,le.t)(fe.styleUrl,he))}set uniqueValueInfos(fe){this.styleOrigin?pe.error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",fe),this._updateValueInfoMap())}addUniqueValueInfo(fe,Ce){if(this.styleOrigin)return void pe.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let ce;ce="object"==typeof fe?ue(fe):new q.Z({value:fe,symbol:(0,re.se)(Ce)}),this.uniqueValueInfos.push(ce),this._valueInfoMap[ce.value]=ce}removeUniqueValueInfo(fe){if(this.styleOrigin)pe.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else for(let Ce=0;Ce<this.uniqueValueInfos.length;Ce++)if(this.uniqueValueInfos[Ce].value===fe+""){delete this._valueInfoMap[fe],this.uniqueValueInfos.splice(Ce,1);break}}getUniqueValueInfo(fe,Ce){var ce=this;return(0,x.Z)(function*(){let he=Ce;return ce.valueExpression&&((0,J.Wi)(Ce)||(0,J.Wi)(Ce.arcade))&&(he=Xr(Pt({},he),{arcade:yield(0,ge.LC)()})),ce._getUniqueValueInfo(fe,he)})()}getSymbol(fe,Ce){if(this.valueExpression&&((0,J.Wi)(Ce)||(0,J.Wi)(Ce.arcade)))return void pe.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const ce=this._getUniqueValueInfo(fe,Ce);return ce&&ce.symbol||this.defaultSymbol}getSymbolAsync(fe,Ce){var ce=this;return(0,x.Z)(function*(){let he=Ce;if(ce.valueExpression&&((0,J.Wi)(he)||(0,J.Wi)(he.arcade))){const we=yield(0,ge.LC)(),{arcadeUtils:Ae}=we;Ae.hasGeometryOperations(ce.valueExpression)&&(yield Ae.enableGeometryOperations()),he=Xr(Pt({},he),{arcade:we})}const xe=ce._getUniqueValueInfo(fe,he);return xe&&xe.symbol||ce.defaultSymbol})()}getSymbols(){const fe=[];for(const Ce of this.uniqueValueInfos)Ce.symbol&&fe.push(Ce.symbol);return this.defaultSymbol&&fe.push(this.defaultSymbol),fe}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((fe,Ce)=>fe+Ce.getAttributeHash(),"")}getMeshHash(){return`${JSON.stringify(this.backgroundFillSymbol)}.${JSON.stringify(this.defaultSymbol)}.${this.uniqueValueInfos.reduce((fe,Ce)=>fe+Ce.getMeshHash(),"")}.${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}.${this.valueExpression}`}clone(){const fe=new Q({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:(0,ee.d9)(this.defaultSymbol),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:(0,ee.d9)(this.visualVariables),legendOptions:(0,ee.d9)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:(0,ee.d9)(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(fe._isDefaultSymbolDerived=!0),fe._set("portal",this.portal);const Ce=(0,ee.d9)(this.uniqueValueInfos);return this.styleOrigin&&(fe._set("styleOrigin",Object.freeze((0,ee.d9)(this.styleOrigin))),Object.freeze(Ce)),fe._set("uniqueValueInfos",Ce),fe._updateValueInfoMap(),fe}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}collectRequiredFields(fe,Ce){var ce=this;return(0,x.Z)(function*(){const he=[ce.collectVVRequiredFields(fe,Ce),ce.collectSymbolFields(fe,Ce)];yield Promise.all(he)})()}collectSymbolFields(fe,Ce){var ce=this;return(0,x.Z)(function*(){const he=[...ce.getSymbols().map(xe=>xe.collectRequiredFields(fe,Ce)),(0,P.io)(fe,Ce,ce.valueExpression)];(0,P.AB)(fe,Ce,ce.field),(0,P.AB)(fe,Ce,ce.field2),(0,P.AB)(fe,Ce,ce.field3),yield Promise.all(he)})()}populateFromStyle(){return(0,ye.n2)(this.styleOrigin,{portal:this.portal}).then(fe=>{const Ce=[];return this._valueInfoMap={},fe&&fe.data&&Array.isArray(fe.data.items)&&fe.data.items.forEach(ce=>{const he=new oe.Z({styleUrl:fe.styleUrl,styleName:fe.styleName,portal:this.portal,name:ce.name});this.defaultSymbol||ce.name!==fe.data.defaultItem||(this.defaultSymbol=he,this._isDefaultSymbolDerived=!0);const xe=new q.Z({value:ce.name,symbol:he});Ce.push(xe),this._valueInfoMap[ce.name]=xe}),this._set("uniqueValueInfos",Object.freeze(Ce)),!this.defaultSymbol&&this.uniqueValueInfos.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateValueInfoMap(){this._valueInfoMap={},this.uniqueValueInfos.forEach(fe=>this._valueInfoMap[fe.value+""]=fe)}_getUniqueValueInfo(fe,Ce){return this.valueExpression?this._getUnqiueValueInfoForExpression(fe,Ce):this._getUnqiueValueInfoForFields(fe)}_getUnqiueValueInfoForExpression(fe,Ce){const{viewingMode:ce,scale:he,spatialReference:xe,arcade:we}=(0,J.Pt)(Ce,{});let Ae=this._cache.compiledFunc;const Fe=(0,J.Wg)(we).arcadeUtils;if(!Ae){const Re=Fe.createSyntaxTree(this.valueExpression);Ae=Fe.createFunction(Re),this._cache.compiledFunc=Ae}const tt=Fe.executeFunction(Ae,Fe.createExecContext(fe,Fe.getViewInfo({viewingMode:ce,scale:he,spatialReference:xe})));return this._valueInfoMap[tt+""]}_getUnqiueValueInfoForFields(fe){const Ce=this.field,ce=fe.attributes;let he;if("function"!=typeof Ce&&this.field2){const xe=this.field2,we=this.field3,Ae=[];Ce&&Ae.push(ce[Ce]),xe&&Ae.push(ce[xe]),we&&Ae.push(ce[we]),he=Ae.join(this.fieldDelimiter||"")}else"function"==typeof Ce?he=Ce(fe):Ce&&(he=ce[Ce]);return this._valueInfoMap[he+""]}static fromPortalStyle(fe,Ce){const ce=new Q(Ce&&Ce.properties);ce._set("styleOrigin",Object.freeze({styleName:fe})),ce._set("portal",Ce&&Ce.portal||F.Z.getDefault());const he=ce.populateFromStyle();return he.catch(xe=>{pe.error(`#fromPortalStyle('${fe}'[, ...])`,"Failed to create unique value renderer from style name",xe)}),he}static fromStyleUrl(fe,Ce){const ce=new Q(Ce&&Ce.properties);ce._set("styleOrigin",Object.freeze({styleUrl:fe}));const he=ce.populateFromStyle();return he.catch(xe=>{pe.error(`#fromStyleUrl('${fe}'[, ...])`,"Failed to create unique value renderer from style URL",xe)}),he}};(0,T._)([(0,A.Cb)({readOnly:!0})],me.prototype,"_cache",null),(0,T._)([(0,X.J)({uniqueValue:"unique-value"})],me.prototype,"type",void 0),(0,T._)([(0,A.Cb)(H.K)],me.prototype,"backgroundFillSymbol",void 0),(0,T._)([(0,A.Cb)({json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],me.prototype,"field",void 0),(0,T._)([(0,B.p)("field")],me.prototype,"castField",null),(0,T._)([(0,ae.c)("field")],me.prototype,"writeField",null),(0,T._)([(0,A.Cb)({type:String,json:{write:!0}})],me.prototype,"field2",void 0),(0,T._)([(0,A.Cb)({type:String,json:{write:!0}})],me.prototype,"field3",void 0),(0,T._)([(0,A.Cb)({type:String,json:{write:!0}})],me.prototype,"valueExpression",void 0),(0,T._)([(0,A.Cb)({type:String,json:{write:!0}})],me.prototype,"valueExpressionTitle",void 0),(0,T._)([(0,A.Cb)({type:de.Z,json:{write:!0}})],me.prototype,"legendOptions",void 0),(0,T._)([(0,A.Cb)({type:String,json:{write:!0}})],me.prototype,"defaultLabel",void 0),(0,T._)([(0,A.Cb)((0,j.RH)(Pt({},H.G),{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],me.prototype,"defaultSymbol",null),(0,T._)([(0,A.Cb)({type:String,json:{write:!0}})],me.prototype,"fieldDelimiter",void 0),(0,T._)([(0,A.Cb)({type:F.Z,readOnly:!0})],me.prototype,"portal",void 0),(0,T._)([(0,W.r)("portal",["styleName"])],me.prototype,"readPortal",null),(0,T._)([(0,A.Cb)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],me.prototype,"styleOrigin",void 0),(0,T._)([(0,W.r)("styleOrigin",["styleName","styleUrl"])],me.prototype,"readStyleOrigin",null),(0,T._)([(0,ae.c)("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],me.prototype,"writeStyleOrigin",null),(0,T._)([(0,A.Cb)({type:[q.Z],json:{write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],me.prototype,"uniqueValueInfos",null),me=Q=(0,T._)([(0,K.j)("esri.renderers.UniqueValueRenderer")],me);const ve=me},2432:(lt,Se,C)=>{"use strict";C.d(Se,{W:()=>xe});var K,x=C(15861),T=C(17626),re=C(77712),ie=(C(85931),C(8314),C(90912)),J=C(68653),j=C(76898),A=C(99433),B=C(36630),X=C(17977),W=C(8029);let ae=K=class extends X.Z{constructor(we){super(we),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(we){we&&Array.isArray(we)&&(we=we.filter(Ae=>!!Ae)).sort((Ae,Fe)=>Ae.value-Fe.value),this._set("stops",we)}clone(){return new K({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(we=>we.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(we=>we.value||0)}};(0,T._)([(0,re.Cb)({readOnly:!0})],ae.prototype,"cache",null),(0,T._)([(0,re.Cb)({type:["color"],json:{type:["colorInfo"]}})],ae.prototype,"type",void 0),(0,T._)([(0,re.Cb)({type:String,json:{write:!0}})],ae.prototype,"normalizationField",void 0),(0,T._)([(0,re.Cb)({type:[W.Z],json:{write:!0}})],ae.prototype,"stops",null),ae=K=(0,T._)([(0,j.j)("esri.renderers.visualVariables.ColorVariable")],ae);const $=ae;var F,V=C(86162),P=C(92236);let Z=F=class extends V.wq{constructor(we){super(we),this.label=null,this.opacity=null,this.value=null}readOpacity(we,Ae){return(0,P.b)(Ae.transparency)}writeOpacity(we,Ae,Fe){Ae[Fe]=(0,P.a)(we)}clone(){return new F({label:this.label,opacity:this.opacity,value:this.value})}};(0,T._)([(0,re.Cb)({type:String,json:{write:!0}})],Z.prototype,"label",void 0),(0,T._)([(0,re.Cb)({type:Number,json:{type:ie.z8,write:{target:"transparency"}}})],Z.prototype,"opacity",void 0),(0,T._)([(0,J.r)("opacity",["transparency"])],Z.prototype,"readOpacity",null),(0,T._)([(0,A.c)("opacity")],Z.prototype,"writeOpacity",null),(0,T._)([(0,re.Cb)({type:Number,json:{write:!0}})],Z.prototype,"value",void 0),Z=F=(0,T._)([(0,j.j)("esri.renderers.visualVariables.support.OpacityStop")],Z);const Y=Z;var H;let de=H=class extends X.Z{constructor(we){super(we),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(we){we&&Array.isArray(we)&&(we=we.filter(Ae=>!!Ae)).sort((Ae,Fe)=>Ae.value-Fe.value),this._set("stops",we)}clone(){return new H({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(we=>we.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(we=>we.value||0)}};(0,T._)([(0,re.Cb)({readOnly:!0})],de.prototype,"cache",null),(0,T._)([(0,re.Cb)({type:["opacity"],json:{type:["transparencyInfo"]}})],de.prototype,"type",void 0),(0,T._)([(0,re.Cb)({type:String,json:{write:!0}})],de.prototype,"normalizationField",void 0),(0,T._)([(0,re.Cb)({type:[Y],json:{write:!0}})],de.prototype,"stops",null),de=H=(0,T._)([(0,j.j)("esri.renderers.visualVariables.OpacityVariable")],de);const q=de;var ge=C(13398),le=C(68598),ye=C(14517),oe=C(2076),Q=C(63290),pe=C(14889);const ue=Q.Z.getLogger("esri.renderers.visualVariables.VisualVariableFactory"),me={color:$,size:le.Z,opacity:q,rotation:ge.Z},ve=new oe.Xn({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),fe=/^\[([^\]]+)\]$/i;let Ce=class extends ye.Z{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(we){if(this._resetVariables(),(we=we&&we.filter(Ae=>!!Ae))&&we.length){for(const Ae of we)switch(Ae.type){case"color":this.colorVariables.push(Ae);break;case"opacity":this.opacityVariables.push(Ae);break;case"rotation":this.rotationVariables.push(Ae);break;case"size":this.sizeVariables.push(Ae)}this.sizeVariables.length&&this.sizeVariables.some(Ae=>!!Ae.target)&&we.sort((Ae,Fe)=>{let tt=null;return tt=Ae.target===Fe.target?0:Ae.target?1:-1,tt});for(let Ae=0;Ae<we.length;Ae++)we[Ae].index=Ae;this._set("visualVariables",we)}else this._set("visualVariables",we)}readVariables(we,Ae,Fe){const{rotationExpression:tt,rotationType:Re}=Ae,be=tt&&tt.match(fe),Te=be&&be[1];if(Te&&(we||(we=[]),we.push({type:"rotationInfo",rotationType:Re,field:Te})),we)return we.map(Je=>{const ut=ve.read(Je.type),Pe=me[ut];Pe||(ue.warn(`Unknown variable type: ${ut}`),Fe&&Fe.messages&&Fe.messages.push(new pe.Z("visual-variable:unsupported",`visualVariable of type '${ut}' is not supported`,{definition:Je,context:Fe})));const Qe=new Pe;return Qe.read(Je,Fe),Qe})}writeVariables(we,Ae){const Fe=[];for(const tt of we){const Re=tt.toJSON(Ae);Re&&Fe.push(Re)}return Fe}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};(0,T._)([(0,re.Cb)()],Ce.prototype,"visualVariables",null),Ce=(0,T._)([(0,j.j)("esri.renderers.visualVariables.VisualVariableFactory")],Ce);const ce=Ce,he={base:X.Z,key:"type",typeMap:{opacity:q,color:$,rotation:ge.Z,size:le.Z}},xe=we=>{let Ae=class extends we{constructor(){super(...arguments),this._vvFactory=new ce}set visualVariables(Fe){this._vvFactory.visualVariables=Fe,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(Fe,tt,Re){return this._vvFactory.readVariables(Fe,tt,Re)}writeVisualVariables(Fe,tt,Re,be){tt[Re]=this._vvFactory.writeVariables(Fe,be)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;for(const Fe of this.visualVariables)if(Fe.arcadeRequired)return!0;return!1}hasVisualVariables(Fe,tt){return Fe?this.getVisualVariablesForType(Fe,tt).length>0:this.getVisualVariablesForType("size",tt).length>0||this.getVisualVariablesForType("color",tt).length>0||this.getVisualVariablesForType("opacity",tt).length>0||this.getVisualVariablesForType("rotation",tt).length>0}getVisualVariablesForType(Fe,tt){const Re=this.visualVariables;return Re?Re.filter(be=>be.type===Fe&&("string"==typeof tt?be.target===tt:!1!==tt||!be.target)):[]}collectVVRequiredFields(Fe,tt){var Re=this;return(0,x.Z)(function*(){let be=[];Re.visualVariables&&(be=be.concat(Re.visualVariables));for(const Te of be)Te&&(Te.field&&(0,B.AB)(Fe,tt,Te.field),Te.normalizationField&&(0,B.AB)(Fe,tt,Te.normalizationField),Te.valueExpression&&(yield(0,B.io)(Fe,tt,Te.valueExpression)))})()}};return(0,T._)([(0,re.Cb)({types:[he],value:null,json:{write:!0}})],Ae.prototype,"visualVariables",null),(0,T._)([(0,J.r)("visualVariables",["visualVariables","rotationType","rotationExpression"])],Ae.prototype,"readVisualVariables",null),(0,T._)([(0,A.c)("visualVariables")],Ae.prototype,"writeVisualVariables",null),Ae=(0,T._)([(0,j.j)("esri.renderers.mixins.VisualVariablesMixin")],Ae),Ae}},15312:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>ce});var X,x=C(17626),T=C(2076),re=C(86162),ne=C(58817),ee=C(77712),ie=C(90912),J=C(68653),j=C(76898);C(85931),C(8314);let W=X=class extends re.wq{constructor(he){super(he),this.minValue=0,this.maxValue=0}clone(){return new X({minValue:this.minValue,maxValue:this.maxValue})}};(0,x._)([(0,ee.Cb)({type:Number,json:{write:!0}})],W.prototype,"minValue",void 0),(0,x._)([(0,ee.Cb)({type:Number,json:{write:!0}})],W.prototype,"maxValue",void 0),W=X=(0,x._)([(0,j.j)("esri.renderer.support.AuthoringInfoClassBreakInfo")],W);const K=W;var ae;let $=ae=class extends re.wq{constructor(he){super(he),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=[]}clone(){return new ae({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:(0,ne.d9)(this.classBreakInfos)})}};(0,x._)([(0,ee.Cb)({type:String,json:{write:!0}})],$.prototype,"field",void 0),(0,x._)([(0,ee.Cb)({type:String,json:{write:!0}})],$.prototype,"normalizationField",void 0),(0,x._)([(0,ee.Cb)({type:String,json:{write:!0}})],$.prototype,"label",void 0),(0,x._)([(0,ee.Cb)({type:[K],json:{write:!0}})],$.prototype,"classBreakInfos",void 0),$=ae=(0,x._)([(0,j.j)("esri.renderers.support.AuthoringInfoFieldInfo")],$);const V=$;var F,P=C(66656);const Z=new T.Xn({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),Y=new T.Xn({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),H={key:he=>"number"==typeof he?"number":"string",typeMap:{number:Number,string:String},base:null},de=["high-to-low","above-and-below","centered-on","extremes"],q=[...new Set(["high-to-low","above-and-below","centered-on","extremes","90-10","above","below","high-to-low","above-and-below","90-10","above","below"])],ge=["seconds","minutes","hours","days","months","years"];let le=F=class extends re.wq{constructor(he){super(he),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(he){return"string"==typeof he||"number"==typeof he?he:null}castStartTime(he){return"string"==typeof he||"number"==typeof he?he:null}get style(){return"color"===this.type?this._get("style"):null}set style(he){this._set("style",he)}get theme(){return"color"===this.type||"size"===this.type?this._get("theme")||"high-to-low":null}set theme(he){this._set("theme",he)}clone(){return new F({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};(0,x._)([(0,ee.Cb)({types:H,json:{write:!0}})],le.prototype,"endTime",void 0),(0,x._)([(0,P.p)("endTime")],le.prototype,"castEndTime",null),(0,x._)([(0,ee.Cb)({type:String,json:{write:!0}})],le.prototype,"field",void 0),(0,x._)([(0,ee.Cb)({type:Number,json:{write:!0}})],le.prototype,"maxSliderValue",void 0),(0,x._)([(0,ee.Cb)({type:Number,json:{write:!0}})],le.prototype,"minSliderValue",void 0),(0,x._)([(0,ee.Cb)({types:H,json:{write:!0}})],le.prototype,"startTime",void 0),(0,x._)([(0,P.p)("startTime")],le.prototype,"castStartTime",null),(0,x._)([(0,ee.Cb)({type:Z.apiValues,value:null,json:{type:Z.jsonValues,read:Z.read,write:Z.write}})],le.prototype,"style",null),(0,x._)([(0,ee.Cb)({type:q,value:null,json:{type:q,origins:{"web-scene":{type:de,write:{writer:(he,xe)=>{de.indexOf(he)>-1&&(xe.theme=he)}}}},write:!0}})],le.prototype,"theme",null),(0,x._)([(0,ee.Cb)({type:Y.apiValues,json:{type:Y.jsonValues,read:Y.read,write:Y.write}})],le.prototype,"type",void 0),(0,x._)([(0,ee.Cb)({type:ge,json:{type:ge,write:!0}})],le.prototype,"units",void 0),le=F=(0,x._)([(0,j.j)("esri.renderers.support.AuthoringInfoVisualVariable")],le);const ye=le;var Q,oe=C(79023);const pe=new T.Xn({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),ue=new T.Xn({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),me=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers","decimal-degrees"];let Ce=Q=class extends re.wq{constructor(he){super(he),this.colorRamp=null,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const he=this._get("classificationMethod"),xe=this.type;return xe&&"relationship"!==xe?"class-breaks-size"===xe||"class-breaks-color"===xe?he||"manual":null:he}set classificationMethod(he){this._set("classificationMethod",he)}readColorRamp(he){if(he)return(0,oe.i)(he)}get fields(){return this.type&&"predominance"!==this.type?null:this._get("fields")}set fields(he){this._set("fields",he)}get field1(){return this.type&&"relationship"!==this.type?null:this._get("field1")}set field1(he){this._set("field1",he)}get field2(){return this.type&&"relationship"!==this.type?null:this._get("field2")}set field2(he){this._set("field2",he)}get focus(){return this.type&&"relationship"!==this.type?null:this._get("focus")}set focus(he){this._set("focus",he)}get numClasses(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")}set numClasses(he){this._set("numClasses",he)}get statistics(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("statistics"):null}set statistics(he){this._set("statistics",he)}get standardDeviationInterval(){const he=this.type;return he&&"relationship"!==he&&"class-breaks-size"!==he&&"class-breaks-color"!==he||this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")}set standardDeviationInterval(he){this._set("standardDeviationInterval",he)}get type(){return this._get("type")}set type(he){let xe=he;"classed-size"===he?xe="class-breaks-size":"classed-color"===he&&(xe="class-breaks-color"),this._set("type",xe)}get univariateSymbolStyle(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(he){this._set("univariateSymbolStyle",he)}get univariateTheme(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null}set univariateTheme(he){this._set("univariateTheme",he)}clone(){return new Q({classificationMethod:this.classificationMethod,colorRamp:(0,ne.d9)(this.colorRamp),fields:this.fields&&this.fields.slice(0),field1:(0,ne.d9)(this.field1),field2:(0,ne.d9)(this.field2),focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(he=>he.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme})}};(0,x._)([(0,ee.Cb)({type:pe.apiValues,value:null,json:{type:pe.jsonValues,read:pe.read,write:pe.write,origins:{"web-document":{default:"manual",type:pe.jsonValues,read:pe.read,write:pe.write}}}})],Ce.prototype,"classificationMethod",null),(0,x._)([(0,ee.Cb)({types:oe.V,json:{write:!0}})],Ce.prototype,"colorRamp",void 0),(0,x._)([(0,J.r)("colorRamp")],Ce.prototype,"readColorRamp",null),(0,x._)([(0,ee.Cb)({type:[String],value:null,json:{write:!0}})],Ce.prototype,"fields",null),(0,x._)([(0,ee.Cb)({type:V,value:null,json:{write:!0}})],Ce.prototype,"field1",null),(0,x._)([(0,ee.Cb)({type:V,value:null,json:{write:!0}})],Ce.prototype,"field2",null),(0,x._)([(0,ee.Cb)({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],Ce.prototype,"focus",null),(0,x._)([(0,ee.Cb)({type:Number,value:null,json:{type:ie.z8,write:!0}})],Ce.prototype,"numClasses",null),(0,x._)([(0,ee.Cb)({type:me,json:{type:me,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],Ce.prototype,"lengthUnit",void 0),(0,x._)([(0,ee.Cb)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Ce.prototype,"maxSliderValue",void 0),(0,x._)([(0,ee.Cb)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Ce.prototype,"minSliderValue",void 0),(0,x._)([(0,ee.Cb)({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Ce.prototype,"statistics",null),(0,x._)([(0,ee.Cb)({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],Ce.prototype,"standardDeviationInterval",null),(0,x._)([(0,ee.Cb)({type:ue.apiValues,value:null,json:{type:ue.jsonValues,read:ue.read,write:ue.write}})],Ce.prototype,"type",null),(0,x._)([(0,ee.Cb)({type:[ye],json:{write:!0}})],Ce.prototype,"visualVariables",void 0),(0,x._)([(0,ee.Cb)({type:["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Ce.prototype,"univariateSymbolStyle",null),(0,x._)([(0,ee.Cb)({type:["high-to-low","above-and-below","above","below","90-10"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Ce.prototype,"univariateTheme",null),Ce=Q=(0,x._)([(0,j.j)("esri.renderers.support.AuthoringInfo")],Ce);const ce=Ce},74400:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>X});var A,x=C(17626),T=C(86162),re=C(77712),J=(C(85931),C(8314),C(90912),C(76898)),j=C(76457);let B=A=class extends T.wq{constructor(W){super(W),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new A({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const W=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${W}`}};(0,x._)([(0,re.Cb)({type:String,json:{write:!0}})],B.prototype,"description",void 0),(0,x._)([(0,re.Cb)({type:String,json:{write:!0}})],B.prototype,"label",void 0),(0,x._)([(0,re.Cb)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],B.prototype,"minValue",void 0),(0,x._)([(0,re.Cb)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],B.prototype,"maxValue",void 0),(0,x._)([(0,re.Cb)(j.G)],B.prototype,"symbol",void 0),B=A=(0,x._)([(0,J.j)("esri.renderers.support.ClassBreakInfo")],B);const X=B},10914:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>B});var j,x=C(17626),T=C(86162),re=C(77712),J=(C(85931),C(8314),C(90912),C(76898));let A=j=class extends T.wq{constructor(){super(...arguments),this.title=null}clone(){return new j({title:this.title})}};(0,x._)([(0,re.Cb)({type:String,json:{write:!0}})],A.prototype,"title",void 0),A=j=(0,x._)([(0,J.j)("esri.renderers.support.LegendOptions")],A);const B=A},87266:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>X});var A,x=C(17626),T=C(86162),re=C(77712),J=(C(85931),C(8314),C(90912),C(76898)),j=C(76457);let B=A=class extends T.wq{constructor(W){super(W),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new A({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const W=JSON.stringify(this.symbol&&this.symbol.toJSON());return`${this.value}.${W}`}};(0,x._)([(0,re.Cb)({type:String,json:{write:!0}})],B.prototype,"description",void 0),(0,x._)([(0,re.Cb)({type:String,json:{write:!0}})],B.prototype,"label",void 0),(0,x._)([(0,re.Cb)(j.G)],B.prototype,"symbol",void 0),(0,x._)([(0,re.Cb)({type:[String,Number],json:{type:String,write:{writer:(W,K)=>{K.value=null==W?void 0:W.toString()}}}})],B.prototype,"value",void 0),B=A=(0,x._)([(0,J.j)("esri.renderers.support.UniqueValueInfo")],B);const X=B},76457:(lt,Se,C)=>{"use strict";C.d(Se,{K:()=>J,G:()=>ie});var x=C(65787),T=C(383),re=C(65270),ne=C(10012),ee=C(89673);const ie={types:x.QT,json:{write:{writer:re.c},origins:{"web-scene":{types:x.f_,write:{writer:re.c},read:{reader:(0,T.d)({types:x.f_})}}}}},J={types:{base:ne.Z,key:"type",typeMap:{"simple-fill":x.LB.typeMap["simple-fill"],"picture-fill":x.LB.typeMap["picture-fill"],"polygon-3d":x.LB.typeMap["polygon-3d"]}},json:{write:{writer:re.c},origins:{"web-scene":{type:ee.Z,write:{writer:re.c}}}}}},33474:(lt,Se,C)=>{"use strict";C.d(Se,{i:()=>ne,a:()=>ie});var x=C(14889),T=C(383),re=C(32088);function ne(J,j){return ie(J,null,j)}const ee=(0,T.d)({types:re.A});function ie(J,j,A){return J?J&&(J.styleName||J.styleUrl)&&"uniqueValue"!==J.type?(A&&A.messages&&A.messages.push(new x.Z("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+J.type+"'",{definition:J,context:A})),null):ee(J,j,A):null}},21254:(lt,Se,C)=>{"use strict";C.d(Se,{a:()=>re});var x=C(16730),T=C(94425);const re={inches:(0,x.En)(1,"meters","inches"),feet:(0,x.En)(1,"meters","feet"),"us-feet":(0,x.En)(1,"meters","us-feet"),yards:(0,x.En)(1,"meters","yards"),miles:(0,x.En)(1,"meters","miles"),"nautical-miles":(0,x.En)(1,"meters","nautical-miles"),millimeters:(0,x.En)(1,"meters","millimeters"),centimeters:(0,x.En)(1,"meters","centimeters"),decimeters:(0,x.En)(1,"meters","decimeters"),meters:(0,x.En)(1,"meters","meters"),kilometers:(0,x.En)(1,"meters","kilometers"),"decimal-degrees":1/(0,x.ty)(1,"meters",T.sv.radius)}},39683:(lt,Se,C)=>{"use strict";C.d(Se,{y:()=>ee});var x=C(15861),T=C(59213),re=C(10699),ne=C(14889);function ee(J,j,A){return ie.apply(this,arguments)}function ie(){return(ie=(0,x.Z)(function*(J,j,A){const B=J&&J.getAtOrigin&&J.getAtOrigin("renderer",j.origin);if(B&&"unique-value"===B.type&&B.styleOrigin){const X=yield(0,T.q6)(B.populateFromStyle());if((0,re.k_)(A),!1===X.ok){const W=X.error;j&&j.messages&&j.messages.push(new ne.Z("renderer:style-reference",`Failed to create unique value renderer from style reference: ${W.message}`,{error:W,context:j})),J.clear("renderer",j.origin)}}})).apply(this,arguments)}},32088:(lt,Se,C)=>{"use strict";C.d(Se,{A:()=>j,o:()=>A});var x=C(4832),T=C(49067),re=C(26284),ne=C(54928),ee=C(69357),ie=C(40342),J=C(14726);const j={key:"type",base:ee.Z,typeMap:{heatmap:ne.Z,simple:ie.Z,"unique-value":J.Z,"class-breaks":x.Z,"dot-density":re.Z,dictionary:T.default},errorContext:"renderer"},A={key:"type",base:ee.Z,typeMap:{simple:ie.Z,"unique-value":J.Z,"class-breaks":x.Z},errorContext:"renderer"}},13398:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>W});var B,x=C(17626),T=C(26584),re=C(77712),J=(C(85931),C(8314),C(90912),C(76898)),j=C(99433),A=C(17977);let X=B=class extends A.Z{constructor(K){super(K),this.axis=null,this.type="rotation",this.rotationType="geographic",this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene(K,ae,$,V){V&&V.messages&&V.messages.push(new T.Z("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:`visualVariables[${this.index}].valueExpressionTitle`,context:V}))}clone(){return new B({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})}};(0,x._)([(0,re.Cb)({readOnly:!0})],X.prototype,"cache",null),(0,x._)([(0,re.Cb)({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],X.prototype,"axis",void 0),(0,x._)([(0,re.Cb)({type:["rotation"],json:{type:["rotationInfo"]}})],X.prototype,"type",void 0),(0,x._)([(0,re.Cb)({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],X.prototype,"rotationType",void 0),(0,x._)([(0,re.Cb)({type:String,json:{write:!0}})],X.prototype,"valueExpressionTitle",void 0),(0,x._)([(0,j.c)("web-scene","valueExpressionTitle")],X.prototype,"writeValueExpressionTitleWebScene",null),X=B=(0,x._)([(0,J.j)("esri.renderers.visualVariables.RotationVariable")],X);const W=X},68598:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>pe});var P,x=C(17626),T=C(26584),re=C(2076),ne=C(63290),ee=C(23841),ie=C(77712),A=(C(85931),C(8314),C(66656)),B=C(68653),X=C(76898),W=C(99433),K=C(17977),ae=C(64902),V=(C(90912),C(11333));let F=P=class extends V.Z{constructor(){super(...arguments),this.customValues=null}clone(){return new P({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})}};(0,x._)([(0,ie.Cb)({type:[Number],json:{write:!0}})],F.prototype,"customValues",void 0),F=P=(0,x._)([(0,X.j)("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],F);const Z=F;var de,Y=C(86971),H=C(81808);const q=ne.Z.getLogger("esri.renderers.visualVariables.SizeVariable"),ge=new re.Xn({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),le=new re.Xn({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});function ye(ue){if(null!=ue)return"string"==typeof ue||"number"==typeof ue?(0,ee.t_)(ue):"size"===ue.type?(0,Y.iY)(ue)?ue:(delete(ue=Pt({},ue)).type,new Q(ue)):void 0}function oe(ue,me,ve){if("object"!=typeof ue)return ue;const fe=new Q;return fe.read(ue,ve),fe}let Q=de=class extends K.Z{constructor(ue){super(ue),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:H.viewScaleRE.test(this.valueExpression)}}set expression(ue){q.warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'."),"view.scale"===ue?(this.valueExpression="$view.scale",this._set("expression",ue)):this._set("expression",null)}set index(ue){(0,Y.iY)(this.maxSize)&&(this.maxSize.index=`visualVariables[${ue}].maxSize`),(0,Y.iY)(this.minSize)&&(this.minSize.index=`visualVariables[${ue}].minSize`),this._set("index",ue)}get inputValueType(){return(0,Y.PS)(this)}set maxDataValue(ue){ue&&this.stops&&(q.warn("cannot set maxDataValue when stops is not null."),ue=null),this._set("maxDataValue",ue)}set maxSize(ue){ue&&this.stops&&(q.warn("cannot set maxSize when stops is not null."),ue=null),this._set("maxSize",ue)}castMaxSize(ue){return ye(ue)}readMaxSize(ue,me,ve){return oe(ue,0,ve)}set minDataValue(ue){ue&&this.stops&&(q.warn("cannot set minDataValue when stops is not null."),ue=null),this._set("minDataValue",ue)}set minSize(ue){ue&&this.stops&&(q.warn("cannot set minSize when stops is not null."),ue=null),this._set("minSize",ue)}castMinSize(ue){return ye(ue)}readMinSize(ue,me,ve){return oe(ue,0,ve)}get arcadeRequired(){return!!this.valueExpression||this.minSize&&"object"==typeof this.minSize&&this.minSize.arcadeRequired||this.maxSize&&"object"==typeof this.maxSize&&this.maxSize.arcadeRequired}set stops(ue){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?ue&&Array.isArray(ue)&&(ue=ue.filter(me=>!!me)).sort((me,ve)=>me.value-ve.value):ue&&(q.warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),ue=null),this._set("stops",ue)}get transformationType(){return(0,Y.QW)(this,this.inputValueType)}readValueExpression(ue,me){return ue||me.expression&&"$view.scale"}writeValueExpressionWebScene(ue,me,ve,fe){if("$view.scale"===ue){if(fe&&fe.messages){const Ce=this.index;fe.messages.push(new T.Z("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:("string"==typeof Ce?Ce:`visualVariables[${Ce}]`)+".valueExpression",context:fe}))}}else me[ve]=ue}readValueUnit(ue){return ue?le.read(ue):null}clone(){return new de({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:(0,Y.iY)(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:(0,Y.iY)(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(ue=>ue.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})}flipSizes(){if("clamped-linear"===this.transformationType){const{minSize:ue,maxSize:me}=this;return this.minSize=me,this.maxSize=ue,this}if("stops"===this.transformationType){const ue=this.stops,me=ue.map(fe=>fe.size).reverse(),ve=ue.length;for(let fe=0;fe<ve;fe++)ue[fe].size=me[fe];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(ue=>ue.value||0)}};(0,x._)([(0,ie.Cb)({readOnly:!0})],Q.prototype,"cache",null),(0,x._)([(0,ie.Cb)({type:ge.apiValues,json:{type:ge.jsonValues,origins:{"web-map":{read:!1}},read:ge.read,write:ge.write}})],Q.prototype,"axis",void 0),(0,x._)([(0,ie.Cb)({type:String,value:null,json:{read:!1}})],Q.prototype,"expression",null),(0,x._)([(0,ie.Cb)()],Q.prototype,"index",null),(0,x._)([(0,ie.Cb)({type:String,readOnly:!0})],Q.prototype,"inputValueType",null),(0,x._)([(0,ie.Cb)({type:Z,json:{write:!0}})],Q.prototype,"legendOptions",void 0),(0,x._)([(0,ie.Cb)({type:Number,value:null,json:{write:!0}})],Q.prototype,"maxDataValue",null),(0,x._)([(0,ie.Cb)({type:Number,value:null,json:{write:!0}})],Q.prototype,"maxSize",null),(0,x._)([(0,A.p)("maxSize")],Q.prototype,"castMaxSize",null),(0,x._)([(0,B.r)("maxSize")],Q.prototype,"readMaxSize",null),(0,x._)([(0,ie.Cb)({type:Number,value:null,json:{write:!0}})],Q.prototype,"minDataValue",null),(0,x._)([(0,ie.Cb)({type:Number,value:null,json:{write:!0}})],Q.prototype,"minSize",null),(0,x._)([(0,A.p)("minSize")],Q.prototype,"castMinSize",null),(0,x._)([(0,B.r)("minSize")],Q.prototype,"readMinSize",null),(0,x._)([(0,ie.Cb)({type:String,json:{write:!0}})],Q.prototype,"normalizationField",void 0),(0,x._)([(0,ie.Cb)({readOnly:!0})],Q.prototype,"arcadeRequired",null),(0,x._)([(0,ie.Cb)({type:String})],Q.prototype,"scaleBy",void 0),(0,x._)([(0,ie.Cb)({type:[ae.Z],value:null,json:{write:!0}})],Q.prototype,"stops",null),(0,x._)([(0,ie.Cb)({type:["outline"],json:{write:!0}})],Q.prototype,"target",void 0),(0,x._)([(0,ie.Cb)({type:String,readOnly:!0})],Q.prototype,"transformationType",null),(0,x._)([(0,ie.Cb)({type:["size"],json:{type:["sizeInfo"]}})],Q.prototype,"type",void 0),(0,x._)([(0,ie.Cb)({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],Q.prototype,"useSymbolValue",void 0),(0,x._)([(0,ie.Cb)({type:String,json:{write:!0}})],Q.prototype,"valueExpression",void 0),(0,x._)([(0,B.r)("valueExpression",["valueExpression","expression"])],Q.prototype,"readValueExpression",null),(0,x._)([(0,W.c)("web-scene","valueExpression")],Q.prototype,"writeValueExpressionWebScene",null),(0,x._)([(0,ie.Cb)({type:["radius","diameter","area","width","distance"],json:{write:!0}})],Q.prototype,"valueRepresentation",void 0),(0,x._)([(0,ie.Cb)({type:le.apiValues,json:{write:le.write,origins:{"web-map":{read:!1},"web-scene":{write:!0}}}})],Q.prototype,"valueUnit",void 0),(0,x._)([(0,B.r)("valueUnit")],Q.prototype,"readValueUnit",null),Q=de=(0,x._)([(0,X.j)("esri.renderers.visualVariables.SizeVariable")],Q);const pe=Q},17977:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>$});var x=C(17626),T=C(2076),re=C(86162),ne=C(63290),ee=C(77712),j=(C(85931),C(8314),C(66656)),A=C(76898),B=C(90912),X=C(11333);const W=ne.Z.getLogger("esri.renderers.visualVariables.VisualVariable"),K=new T.Xn({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let ae=class extends re.wq{constructor(V){super(V),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(V){return null==V?V:"function"==typeof V?(W.error(".field: field must be a string value"),null):(0,B.Zs)(V)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};(0,x._)([(0,ee.Cb)()],ae.prototype,"index",void 0),(0,x._)([(0,ee.Cb)({type:K.apiValues,readOnly:!0,json:{read:K.read,write:K.write}})],ae.prototype,"type",void 0),(0,x._)([(0,ee.Cb)({type:String,json:{write:!0}})],ae.prototype,"field",void 0),(0,x._)([(0,j.p)("field")],ae.prototype,"castField",null),(0,x._)([(0,ee.Cb)({type:String,json:{write:!0}})],ae.prototype,"valueExpression",void 0),(0,x._)([(0,ee.Cb)({type:String,json:{write:!0}})],ae.prototype,"valueExpressionTitle",void 0),(0,x._)([(0,ee.Cb)({readOnly:!0})],ae.prototype,"arcadeRequired",null),(0,x._)([(0,ee.Cb)({type:X.Z,json:{write:!0}})],ae.prototype,"legendOptions",void 0),ae=(0,x._)([(0,A.j)("esri.renderers.visualVariables.VisualVariable")],ae);const $=ae},8029:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>W});var B,x=C(17626),T=C(91558),re=C(86162),ne=C(77712),J=(C(85931),C(8314),C(90912)),j=C(76898),A=C(99433);let X=B=class extends re.wq{constructor(K){super(K),this.color=null,this.label=null,this.value=null}writeValue(K,ae,$){ae[$]=null==K?0:K}clone(){return new B({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};(0,x._)([(0,ne.Cb)({type:T.Z,json:{type:[J.z8],write:!0}})],X.prototype,"color",void 0),(0,x._)([(0,ne.Cb)({type:String,json:{write:!0}})],X.prototype,"label",void 0),(0,x._)([(0,ne.Cb)({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],X.prototype,"value",void 0),(0,x._)([(0,A.c)("value")],X.prototype,"writeValue",null),X=B=(0,x._)([(0,j.j)("esri.renderers.visualVariables.support.ColorStop")],X);const W=X},64902:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>X});var A,x=C(17626),T=C(86162),re=C(23841),ne=C(77712),j=(C(85931),C(8314),C(90912),C(76898));let B=A=class extends T.wq{constructor(W){super(W),this.label=null,this.size=null,this.value=null}clone(){return new A({label:this.label,size:this.size,value:this.value})}};(0,x._)([(0,ne.Cb)({type:String,json:{write:!0}})],B.prototype,"label",void 0),(0,x._)([(0,ne.Cb)({type:Number,cast:re.t_,json:{write:!0}})],B.prototype,"size",void 0),(0,x._)([(0,ne.Cb)({type:Number,json:{write:!0}})],B.prototype,"value",void 0),B=A=(0,x._)([(0,j.j)("esri.renderers.visualVariables.support.SizeStop")],B);const X=B},11333:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>B});var j,x=C(17626),T=C(77712),ie=(C(85931),C(8314),C(90912),C(76898)),J=C(10914);let A=j=class extends J.Z{constructor(){super(...arguments),this.showLegend=null}clone(){return new j({title:this.title,showLegend:this.showLegend})}};(0,x._)([(0,T.Cb)({type:Boolean,json:{write:!0}})],A.prototype,"showLegend",void 0),A=j=(0,x._)([(0,ie.j)("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],A);const B=A},86971:(lt,Se,C)=>{"use strict";function x(ee){return ee&&"esri.renderers.visualVariables.SizeVariable"===ee.declaredClass}function T(ee){return null!=ee&&!isNaN(ee)&&isFinite(ee)}function re(ee){return ee.valueExpression?"expression":ee.field&&"string"==typeof ee.field?"field":"unknown"}function ne(ee,ie){return"unknown"===(ie||re(ee))?"constant":ee.stops?"stops":null!=ee.minSize&&null!=ee.maxSize&&null!=ee.minDataValue&&null!=ee.maxDataValue?"clamped-linear":"unknown"===(ee.valueUnit||"unknown")?null!=ee.minSize&&null!=ee.minDataValue?ee.minSize&&ee.minDataValue?"proportional":"additive":"identity":"real-world-size"}C.d(Se,{PS:()=>re,QW:()=>ne,iY:()=>x,qh:()=>T})},81808:(lt,Se,C)=>{"use strict";C.r(Se),C.d(Se,{getAllSizes:()=>me,getColor:()=>W,getOpacity:()=>K,getRotationAngle:()=>ae,getSize:()=>P,getSizeForValue:()=>oe,getSizeFromNumberOrVariable:()=>F,getSizeRangeAtScale:()=>Q,getVisualVariableValues:()=>pe,viewScaleRE:()=>X});var x=C(91558),T=C(88879),re=C(94573),ne=C(63290),ee=C(62208),ie=C(21254),J=C(86971);const j=ne.Z.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),A=new T.Z,B=Math.PI,X=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function W(ve,fe,Ce){const ce="visualVariables"in ve&&ve.visualVariables?ve.visualVariables.filter(ut=>"color"===ut.type)[0]:ve;if(!ce)return;if("esri.renderers.visualVariables.ColorVariable"!==ce.declaredClass)return void j.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const he="number"==typeof fe,xe=he?null:fe,we=xe&&xe.attributes;let Ae=he?fe:null;const Fe=ce.field,{ipData:tt,hasExpression:Re}=ce.cache;let be=ce.cache.compiledFunc;if(!Fe&&!Re){const ut=ce.stops;return ut&&ut[0]&&ut[0].color}if("number"!=typeof Ae)if(Re){if(!(0,ee.pC)(Ce)||!(0,ee.pC)(Ce.arcade))return void j.error("Use of arcade expressions requires an arcade context");const Pe=Ce.arcade.arcadeUtils,Qe=Pe.getViewInfo({viewingMode:Ce.viewingMode,scale:Ce.scale,spatialReference:Ce.spatialReference}),Ye=Pe.createExecContext(xe,Qe);if(!be){const te=Pe.createSyntaxTree(ce.valueExpression);be=Pe.createFunction(te),ce.cache.compiledFunc=be}Ae=Pe.executeFunction(be,Ye)}else we&&(Ae=we[Fe]);const Te=ce.normalizationField,Je=we?parseFloat(we[Te]):void 0;if(null!=Ae&&(!Te||he||!isNaN(Je)&&0!==Je)){isNaN(Je)||he||(Ae/=Je);const ut=ue(Ae,tt);if(ut){const Pe=ut[0],Qe=ut[1],Ye=Pe===Qe?ce.stops[Pe].color:x.Z.blendColors(ce.stops[Pe].color,ce.stops[Qe].color,ut[2],(0,ee.pC)(Ce)?Ce.color:void 0);return new x.Z(Ye)}}}function K(ve,fe,Ce){const ce="visualVariables"in ve&&ve.visualVariables?ve.visualVariables.filter(ut=>"opacity"===ut.type)[0]:ve;if(!ce)return;if("esri.renderers.visualVariables.OpacityVariable"!==ce.declaredClass)return void j.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const he="number"==typeof fe,xe=he?null:fe,we=xe&&xe.attributes;let Ae=he?fe:null;const Fe=ce.field,{ipData:tt,hasExpression:Re}=ce.cache;let be=ce.cache.compiledFunc;if(!Fe&&!Re){const ut=ce.stops;return ut&&ut[0]&&ut[0].opacity}if("number"!=typeof Ae)if(Re){if((0,ee.Wi)(Ce)||(0,ee.Wi)(Ce.arcade))return void j.error("Use of arcade expressions requires an arcade context");const Pe=Ce.arcade.arcadeUtils,Qe=Pe.getViewInfo({viewingMode:Ce.viewingMode,scale:Ce.scale,spatialReference:Ce.spatialReference}),Ye=Pe.createExecContext(xe,Qe);if(!be){const te=Pe.createSyntaxTree(ce.valueExpression);be=Pe.createFunction(te),ce.cache.compiledFunc=be}Ae=Pe.executeFunction(be,Ye)}else we&&(Ae=we[Fe]);const Te=ce.normalizationField,Je=we?parseFloat(we[Te]):void 0;if(null!=Ae&&(!Te||he||!isNaN(Je)&&0!==Je)){isNaN(Je)||he||(Ae/=Je);const ut=ue(Ae,tt);if(ut){const Pe=ut[0],Qe=ut[1];if(Pe===Qe)return ce.stops[Pe].opacity;{const Ye=ce.stops[Pe].opacity;return Ye+(ce.stops[Qe].opacity-Ye)*ut[2]}}}}function ae(ve,fe,Ce){const ce="visualVariables"in ve&&ve.visualVariables?ve.visualVariables.filter(Je=>"rotation"===Je.type)[0]:ve;if(!ce)return;if("esri.renderers.visualVariables.RotationVariable"!==ce.declaredClass)return void j.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const he=ce.axis||"heading",xe="heading"===he&&"arithmetic"===ce.rotationType?90:0,we="heading"===he&&"arithmetic"===ce.rotationType?-1:1,Ae="number"==typeof fe?null:fe,Fe=Ae&&Ae.attributes,tt=ce.field,{hasExpression:Re}=ce.cache;let be=ce.cache.compiledFunc,Te=0;if(!tt&&!Re)return Te;if(Re){if((0,ee.Wi)(Ce)||(0,ee.Wi)(Ce.arcade))return void j.error("Use of arcade expressions requires an arcade context");const ut=Ce.arcade.arcadeUtils,Pe=ut.getViewInfo({viewingMode:Ce.viewingMode,scale:Ce.scale,spatialReference:Ce.spatialReference}),Qe=ut.createExecContext(Ae,Pe);if(!be){const Ye=ut.createSyntaxTree(ce.valueExpression);be=ut.createFunction(Ye),ce.cache.compiledFunc=be}Te=ut.executeFunction(be,Qe)}else Fe&&(Te=Fe[tt]||0);return Te="number"!=typeof Te||isNaN(Te)?null:xe+we*Te,Te}function P(ve,fe,Ce){const ce="visualVariables"in ve&&ve.visualVariables?ve.visualVariables.filter(xe=>"size"===xe.type)[0]:ve;if(!ce)return;if("esri.renderers.visualVariables.SizeVariable"!==ce.declaredClass)return void j.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const he=oe(function $(ve,fe,Ce){const ce="number"==typeof fe,he=ce?null:fe,xe=he&&he.attributes;let we=ce?fe:null;const{isScaleDriven:Ae}=ve.cache;let Fe=ve.cache.compiledFunc;if(Ae){const Re=(0,ee.pC)(Ce)?Ce.scale:void 0,be=(0,ee.pC)(Ce)?Ce.view:void 0;we=null==Re||"3d"===be?function V(ve){let fe=null,Ce=null;const ce=ve.stops;return ce?(fe=ce[0].value,Ce=ce[ce.length-1].value):(fe=ve.minDataValue||0,Ce=ve.maxDataValue||0),(fe+Ce)/2}(ve):Re}else if(!ce)switch(ve.inputValueType){case"expression":{if((0,ee.Wi)(Ce)||(0,ee.Wi)(Ce.arcade))return void j.error("Use of arcade expressions requires an arcade context");const be=Ce.arcade.arcadeUtils,Te=be.getViewInfo({viewingMode:Ce.viewingMode,scale:Ce.scale,spatialReference:Ce.spatialReference}),Je=be.createExecContext(he,Te);if(!Fe){const ut=be.createSyntaxTree(ve.valueExpression);Fe=be.createFunction(ut),ve.cache.compiledFunc=Fe}we=be.executeFunction(Fe,Je);break}case"field":xe&&(we=xe[ve.field]);break;case"unknown":we=null}if(!(0,J.qh)(we))return null;if(ce||!ve.normalizationField)return we;const tt=xe?parseFloat(xe[ve.normalizationField]):null;return(0,J.qh)(tt)&&0!==tt?we/tt:null}(ce,fe,Ce),ce,fe,Ce,ce.cache.ipData);return null==he||isNaN(he)?0:he}function F(ve,fe,Ce){return null==ve?null:(0,J.iY)(ve)?P(ve,fe,Ce):(0,J.qh)(ve)?ve:null}function Z(ve,fe,Ce){return(0,J.qh)(Ce)&&ve>Ce?Ce:(0,J.qh)(fe)&&ve<fe?fe:ve}function oe(ve,fe,Ce,ce,he){switch(fe.transformationType){case"additive":return function Y(ve,fe,Ce,ce){return ve+(F(fe.minSize,Ce,ce)||fe.minDataValue)}(ve,fe,Ce,ce);case"constant":return function H(ve,fe,Ce){const ce=ve.stops;let he=ce&&ce.length&&ce[0].size;return null==he&&(he=ve.minSize),F(he,fe,Ce)}(fe,Ce,ce);case"clamped-linear":return function de(ve,fe,Ce,ce){const he=(ve-fe.minDataValue)/(fe.maxDataValue-fe.minDataValue),xe=F(fe.minSize,Ce,ce),we=F(fe.maxSize,Ce,ce),Ae=(0,ee.pC)(ce)?ce.shape:void 0;if(ve<=fe.minDataValue)return xe;if(ve>=fe.maxDataValue)return we;if("area"===fe.scaleBy&&Ae){const Fe="circle"===Ae,tt=Fe?B*(xe/2)**2:xe*xe,Re=tt+he*((Fe?B*(we/2)**2:we*we)-tt);return Fe?2*Math.sqrt(Re/B):Math.sqrt(Re)}return xe+he*(we-xe)}(ve,fe,Ce,ce);case"proportional":return function q(ve,fe,Ce,ce){const he=(0,ee.pC)(ce)?ce.shape:void 0,xe=ve/fe.minDataValue,we=F(fe.minSize,Ce,ce),Ae=F(fe.maxSize,Ce,ce);let Fe=null;return Fe="circle"===he?2*Math.sqrt(xe*(we/2)**2):"square"===he||"diamond"===he||"image"===he?Math.sqrt(xe*we**2):xe*we,Z(Fe,we,Ae)}(ve,fe,Ce,ce);case"stops":return function ge(ve,fe,Ce,ce,he){const[xe,we,Ae]=ue(ve,he);if(xe===we)return F(fe.stops[xe].size,Ce,ce);{const Fe=F(fe.stops[xe].size,Ce,ce);return Fe+(F(fe.stops[we].size,Ce,ce)-Fe)*Ae}}(ve,fe,Ce,ce,he);case"real-world-size":return function le(ve,fe,Ce,ce){const he=((0,ee.pC)(ce)&&ce.resolution?ce.resolution:1)*ie.a[fe.valueUnit],xe=F(fe.minSize,Ce,ce),we=F(fe.maxSize,Ce,ce),{valueRepresentation:Ae}=fe;let Fe=null;return Fe="area"===Ae?2*Math.sqrt(ve/B)/he:"radius"===Ae||"distance"===Ae?2*ve/he:ve/he,Z(Fe,xe,we)}(ve,fe,Ce,ce);case"identity":return ve;case"unknown":return null}}function Q(ve,fe,Ce){const{isScaleDriven:ce}=ve.cache;if(!(ce&&"3d"===Ce||fe))return null;const he={scale:fe,view:Ce};let xe=F(ve.minSize,A,he),we=F(ve.maxSize,A,he);if(null!=xe||null!=we){if(xe>we){const Ae=we;we=xe,xe=Ae}return{minSize:xe,maxSize:we}}}function pe(ve,fe,Ce){if(!ve.visualVariables)return;const ce=[],he=[],xe=[],we=[],Ae=[];for(const Fe of ve.visualVariables)switch(Fe.type){case"color":he.push(Fe);break;case"opacity":xe.push(Fe);break;case"rotation":Ae.push(Fe);break;case"size":we.push(Fe)}return he.forEach(Fe=>{const tt=W(Fe,fe,Ce);ce.push({variable:Fe,value:tt})}),xe.forEach(Fe=>{const tt=K(Fe,fe,Ce);ce.push({variable:Fe,value:tt})}),Ae.forEach(Fe=>{const tt=ae(Fe,fe,Ce);ce.push({variable:Fe,value:tt})}),we.forEach(Fe=>{const tt=P(Fe,fe,Ce);ce.push({variable:Fe,value:tt})}),ce.filter(Fe=>null!=Fe.value)}function ue(ve,fe){if(!fe)return;let Ce=0,ce=fe.length-1;return fe.some((he,xe)=>ve<he?(ce=xe,!0):(Ce=xe,!1)),[Ce,ce,(ve-fe[Ce])/(fe[ce]-fe[Ce])]}function me(ve,fe,Ce){const ce=["proportional","proportional","proportional"];for(const he of ve){const xe=he.useSymbolValue?"symbol-value":P(he,fe,Ce);switch(he.axis){case"width":ce[0]=xe;break;case"depth":ce[1]=xe;break;case"height":ce[2]=xe;break;case"width-and-depth":ce[0]=xe,ce[1]=xe;break;case"all":case void 0:case null:ce[0]=xe,ce[1]=xe,ce[2]=xe;break;default:(0,re.Bg)(he.axis)}}return ce}},84792:(lt,Se,C)=>{"use strict";C.r(Se),C.d(Se,{default:()=>W});var x=C(15861),T=C(59318),re=C(24263),ne=C(26584),ee=C(8314),ie=C(58817),J=C(62208),j=C(10699),A=C(21726),B=C(12680),X=C(33899);function W(be,Te){return K.apply(this,arguments)}function K(){return(K=(0,x.Z)(function*(be,Te){var Je;const ut=(0,A.HK)(be),Pe=(0,A.jc)(be);Pe||ut||(be=(0,A.Fv)(be));const Qe={url:be,requestOptions:Pt({},(0,J.Wg)(Te))};let Ye=(0,A.oh)(be);if(Ye){const et=yield Ce(Ye,Qe);if(null!=et)return{data:et,getHeader:Y,requestOptions:Qe.requestOptions,url:Qe.url};Ye.after||Ye.error||(Ye=null)}if(be=Qe.url,"image"===(Te=Qe.requestOptions).responseType){if((0,ee.Z)("host-webworker")||(0,ee.Z)("host-node"))throw ge("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),Qe)}else if(ut)throw ge("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+Te.responseType),Qe);if("head"===Te.method){if(Te.body)throw ge("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),Qe);if(ut||Pe)throw ge("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),Qe)}if(yield le(),ae)return ae.execute(be,Te);const te=new AbortController;(0,j.fu)(Te,()=>te.abort());const _e={controller:te,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:Ye,params:Qe,redoRequest:!1,useIdentity:$.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},Ze=yield we(_e);return null==(Je=Ye)||null==Je.after||Je.after(Ze),Ze})).apply(this,arguments)}let ae;const $=T.Z.request,V="FormData"in globalThis,P=[499,498,403,401],F=["COM_0056","COM_0057","SB_0008"],Z=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],Y=()=>null,H=Symbol();function de(be){const Te=(0,A.P$)(be);Te&&!W._corsServers.includes(Te)&&W._corsServers.push(Te)}function q(be){const Te=(0,A.P$)(be);return!Te||Te.endsWith(".arcgis.com")||W._corsServers.includes(Te)||(0,A.kl)(Te)}function ge(be,Te,Je,ut){let Pe="Error";const Qe={url:Je.url,requestOptions:Je.requestOptions,getHeader:Y,ssl:!1};if(Te instanceof ne.Z)return Te.details?(Te.details=(0,ie.d9)(Te.details),Te.details.url=Je.url,Te.details.requestOptions=Je.requestOptions):Te.details=Qe,Te;if(Te){const Ye=ut&&(Ze=>ut.headers.get(Ze)),te=ut&&ut.status,_e=Te.message;_e&&(Pe=_e),Ye&&(Qe.getHeader=Ye),Qe.httpStatus=(null!=Te.httpCode?Te.httpCode:Te.code)||te||0,Qe.subCode=Te.subcode,Qe.messageCode=Te.messageCode,Qe.messages="string"==typeof Te.details?[Te.details]:Te.details,Qe.raw=H in Te?Te[H]:Te}return(0,j.D_)(Te)?(0,j.zE)():new ne.Z(be,Pe,Qe)}function le(){return ye.apply(this,arguments)}function ye(){return(ye=(0,x.Z)(function*(){(0,ee.Z)("host-webworker")?ae||(ae=yield C.e(3358).then(C.bind(C,23358))):W._abortableFetch||(W._abortableFetch=globalThis.fetch.bind(globalThis))})).apply(this,arguments)}function oe(){return Q.apply(this,arguments)}function Q(){return(Q=(0,x.Z)(function*(){re.id||(yield C.e(9058).then(C.bind(C,59058)))})).apply(this,arguments)}function pe(be){return ue.apply(this,arguments)}function ue(){return(ue=(0,x.Z)(function*(be){const Te=be.params.url,Je=be.params.requestOptions,ut=be.controller.signal,Pe=Je.body;let Qe=null,Ye=null,te=null;if(V&&"HTMLFormElement"in globalThis&&(Pe instanceof FormData?Qe=Pe:Pe instanceof HTMLFormElement&&(Ye=Pe,Qe=new FormData(Ye))),"string"==typeof Pe&&(te=Pe),be.fetchOptions={cache:Je.cacheBust&&!W._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:Je.headers||{},method:"head"===Je.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:ut},(Qe||te)&&(be.fetchOptions.body=Qe||te),"anonymous"===Je.authMode&&(be.useIdentity=!1),be.hasToken=!!(/token=/i.test(Te)||Je.query&&Je.query.token||Qe&&Qe.get&&Qe.get("token")||Ye&&Ye.elements.token),!be.hasToken&&T.Z.apiKey&&(0,B.r)(Te)&&(Je.query||(Je.query={}),Je.query.token=T.Z.apiKey,be.hasToken=!0),be.useIdentity&&!be.hasToken&&!be.credentialToken&&!me(Te)&&!(0,j.Hc)(ut)){let _e;"immediate"===Je.authMode?(yield oe(),_e=yield re.id.getCredential(Te,{signal:ut}),be.credential=_e):"no-prompt"===Je.authMode?(yield oe(),_e=yield re.id.getCredential(Te,{prompt:!1,signal:ut}).catch(()=>{}),be.credential=_e):re.id&&(_e=re.id.findCredential(Te)),_e&&(be.credentialToken=_e.token,be.useSSL=!!_e.ssl)}})).apply(this,arguments)}function me(be){return Z.some(Te=>Te.test(be))}function ve(be){return fe.apply(this,arguments)}function fe(){return(fe=(0,x.Z)(function*(be){let Te=be.params.url;const Je=be.params.requestOptions,ut=be.fetchOptions,Pe=(0,A.jc)(Te)||(0,A.HK)(Te),Qe=Je.responseType||"json",Ye=Pe?0:null!=Je.timeout?Je.timeout:$.timeout;let te=!1;if(!Pe){be.useSSL&&(Te=(0,A.hO)(Te)),Je.cacheBust&&"default"===ut.cache&&(Te=(0,A.ZN)(Te,"request.preventCache",Date.now()));let ft=Pt({},Je.query);be.credentialToken&&(ft.token=be.credentialToken);let Et=(0,A.B7)(ft);(0,ee.Z)("esri-url-encodes-apostrophe")&&(Et=Et.replace(/'/g,"%27"));const mt=Te.length+1+Et.length;let at;te="delete"===Je.method||"post"===Je.method||"put"===Je.method||!!Je.body||mt>$.maxUrlLength;const wt=Je.useProxy||!!(0,A.ed)(Te);if(wt){const Tt=(0,A.b7)(Te);at=Tt.path,!te&&at.length+1+mt>$.maxUrlLength&&(te=!0),Tt.query&&(ft=Pt(Pt({},Tt.query),ft))}if("HEAD"===ut.method&&(te||wt)){if(te)throw ge("request:invalid-parameters",mt>$.maxUrlLength?new Error("URL exceeds maximum length"):new Error("cannot use POST request when method is 'head'"),be.params);if(wt)throw ge("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),be.params)}if(te?(ut.method="delete"===Je.method?"DELETE":"put"===Je.method?"PUT":"POST",Je.body?Te=(0,A.fl)(Te,ft):(ut.body=(0,A.B7)(ft),ut.headers["Content-Type"]="application/x-www-form-urlencoded")):Te=(0,A.fl)(Te,ft),wt&&(be.useProxy=!0,Te=`${at}?${Te}`),ft.token&&V&&ut.body instanceof FormData){const Tt=ut.body;Tt.set?Tt.set("token",ft.token):Tt.append("token",ft.token)}if(Je.hasOwnProperty("withCredentials"))be.withCredentials=Je.withCredentials;else if(!(0,A.D6)(Te,A.Gd))if((0,A.kl)(Te))be.withCredentials=!0;else if(re.id){const Tt=re.id.findServerInfo(Te);Tt&&Tt.webTierAuth&&(be.withCredentials=!0)}be.withCredentials&&(ut.credentials="include")}let _e,Ze,et=0,ht=!1;Ye>0&&(et=setTimeout(()=>{ht=!0,be.controller.abort()},Ye));try{if("native-request-init"===Je.responseType)Ze=ut,Ze.url=Te;else if("image"!==Je.responseType||"default"!==ut.cache||"GET"!==ut.method||te||he(Je.headers)||!Pe&&!be.useProxy&&$.proxyUrl&&!q(Te)){if(_e=yield W._abortableFetch(Te,ut),be.useProxy||de(Te),"native"===Je.responseType)Ze=_e;else if("HEAD"!==ut.method)if(_e.ok){switch(Qe){case"array-buffer":Ze=yield _e.arrayBuffer();break;case"blob":case"image":Ze=yield _e.blob();break;default:Ze=yield _e.text()}if(et&&(clearTimeout(et),et=0),"json"===Qe||"xml"===Qe||"document"===Qe)if(Ze)switch(Qe){case"json":Ze=JSON.parse(Ze);break;case"xml":Ze=xe(Ze,"application/xml");break;case"document":Ze=xe(Ze,"text/html")}else Ze=null;if(Ze){if("array-buffer"===Qe||"blob"===Qe){const ft=_e.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(ft)&&Ze["blob"===Qe?"size":"byteLength"]<=750)try{const Et=yield new Response(Ze).json();Et.error&&(Ze=Et)}catch(Et){}}"image"===Qe&&Ze instanceof Blob&&(Ze=yield Re(URL.createObjectURL(Ze),be,!0))}}else Ze=yield _e.text()}else Ze=yield Re(Te,be)}catch(ft){if("AbortError"===ft.name)throw ht?new Error("Timeout exceeded"):(0,j.zE)("Request canceled");if(!(!_e&&ft instanceof TypeError&&$.proxyUrl)||Je.body||"delete"===Je.method||"head"===Je.method||"post"===Je.method||"put"===Je.method||be.useProxy||q(Te))throw ft;be.redoRequest=!0,(0,A.tD)({proxyUrl:$.proxyUrl,urlPrefix:(0,A.P$)(Te)})}finally{et&&clearTimeout(et)}return[_e,Ze]})).apply(this,arguments)}function Ce(be,Te){return ce.apply(this,arguments)}function ce(){return(ce=(0,x.Z)(function*(be,Te){if(null!=be.responseData)return be.responseData;if(be.headers&&(Te.requestOptions.headers=Pt(Pt({},Te.requestOptions.headers),be.headers)),be.query&&(Te.requestOptions.query=Pt(Pt({},Te.requestOptions.query),be.query)),be.before){let Je,ut;try{ut=yield be.before(Te)}catch(Pe){Je=ge("request:interceptor",Pe,Te)}if((ut instanceof Error||ut instanceof ne.Z)&&(Je=ge("request:interceptor",ut,Te)),Je)throw be.error&&be.error(Je),Je;return ut}})).apply(this,arguments)}function he(be){if(be)for(const Te of Object.getOwnPropertyNames(be))if(be[Te])return!0;return!1}function xe(be,Te){let Je;try{Je=(new DOMParser).parseFromString(be,Te)}catch(ut){}if(!Je||Je.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return Je}function we(be){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,x.Z)(function*(be){var Te,Je;let ut,Pe;yield pe(be);try{do{[ut,Pe]=yield ve(be)}while(!(yield Fe(be,ut,Pe)))}catch(te){const _e=ge("request:server",te,be.params,ut);throw _e.details.ssl=be.useSSL,be.interceptor&&be.interceptor.error&&be.interceptor.error(_e),_e}const Qe=be.params.url;if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(Qe)&&!be.hasToken&&!be.credentialToken&&null!=(Te=Pe)&&null!=(Je=Te.user)&&Je.username&&!(0,A.kl)(Qe)){const te=(0,A.P$)(Qe,!0);te&&$.trustedServers.push(te)}const Ye=be.credential;if(Ye&&re.id){const te=re.id.findServerInfo(Ye.server);let _e=te&&te.owningSystemUrl;if(_e){_e=_e.replace(/\/?$/,"/sharing");const Ze=re.id.findCredential(_e,Ye.userId);Ze&&-1===re.id._getIdenticalSvcIdx(_e,Ze)&&Ze.resources.unshift(_e)}}return{data:Pe,getHeader:ut?te=>ut.headers.get(te):Y,requestOptions:be.params.requestOptions,ssl:be.useSSL,url:be.params.url}})).apply(this,arguments)}function Fe(be,Te,Je){return tt.apply(this,arguments)}function tt(){return(tt=(0,x.Z)(function*(be,Te,Je){if(be.redoRequest)return be.redoRequest=!1,!1;const ut=be.params.requestOptions;if(!Te||"native"===ut.responseType||"native-request-init"===ut.responseType)return!0;let Pe,Qe,Ye,te;if(!Te.ok)throw Pe=new Error(`Unable to load ${Te.url} status: ${Te.status}`),Pe[H]=Je,Pe;null!=Je&&Je.error&&(Pe=Je.error),Pe&&(Qe=Number(Pe.code),Ye=Pe.hasOwnProperty("subcode")?Number(Pe.subcode):null,te=Pe.messageCode,te=te&&te.toUpperCase());const _e=ut.authMode;if(403===Qe&&(4===Ye||Pe.message&&Pe.message.toLowerCase().indexOf("ssl")>-1&&-1===Pe.message.toLowerCase().indexOf("permission"))){if(!be.useSSL)return be.useSSL=!0,!1}else if(!be.hasToken&&be.useIdentity&&("no-prompt"!==_e||498===Qe)&&-1!==P.indexOf(Qe)&&!me(be.params.url)&&(403!==Qe||-1===F.indexOf(te)&&(null==Ye||2===Ye&&be.credentialToken))){yield oe();try{const Ze=yield re.id.getCredential(be.params.url,{error:ge("request:server",Pe,be.params),prompt:"no-prompt"!==_e,signal:be.controller.signal,token:be.credentialToken});return be.credential=Ze,be.credentialToken=Ze.token,be.useSSL=be.useSSL||Ze.ssl,!1}catch(Ze){if("no-prompt"===_e)return be.credential=null,be.credentialToken=null,!1;Pe=Ze}}if(Pe)throw Pe;return!0})).apply(this,arguments)}function Re(be,Te,Je=!1){const ut=Te.controller.signal,Pe=new Image;return Pe.crossOrigin=Te.withCredentials?"use-credentials":"anonymous",Pe.alt="",Pe.src=be,(0,X.f)(Pe,be,Je,ut)}W._abortableFetch=null,W._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"]},39636:(lt,Se,C)=>{"use strict";C.d(Se,{i:()=>A});var x=C(15861),T=C(84792),re=C(90912),ne=C(91179),ee=C(2618),ie=C(10920),J=C(77294);const j=(0,re.se)(J.Z);function A(X,W,K){return B.apply(this,arguments)}function B(){return(B=(0,x.Z)(function*(X,W,K){W=j(W);const ae=(0,ee.en)(X),$=Pt(Xr(Pt({},ae.query),{f:"json"}),W.toJSON()),V=W.outSpatialReference,P=(0,ne.Ji)(W.geometries[0]),F=(0,ee.lA)($,K);return(0,T.default)(ae.path+"/project",F).then(({data:{geometries:Z}})=>(0,ie.o)(Z,P,V))})).apply(this,arguments)}},10920:(lt,Se,C)=>{"use strict";C.d(Se,{o:()=>re,F:()=>T});var x=C(91179);function T(ne){return{geometryType:(0,x.Ji)(ne[0]),geometries:ne.map(ee=>ee.toJSON())}}function re(ne,ee,ie){const J=(0,x.q9)(ee);return ne.map(j=>{const A=J.fromJSON(j);return A.spatialReference=ie,A})}},90463:(lt,Se,C)=>{"use strict";C.d(Se,{P:()=>ee});var x=C(15861),T=C(2618),re=C(20477),ne=C(84952);function ee(J,j,A){return ie.apply(this,arguments)}function ie(){return(ie=(0,x.Z)(function*(J,j,A){const B=(0,T.en)(J);return(0,re.executeQueryForCount)(B,ne.Z.from(j),Pt({},A)).then(X=>X.data.count)})).apply(this,arguments)}},24865:(lt,Se,C)=>{"use strict";C.d(Se,{G:()=>ee});var x=C(15861),T=C(2618),re=C(20477),ne=C(84952);function ee(J,j,A){return ie.apply(this,arguments)}function ie(){return(ie=(0,x.Z)(function*(J,j,A){const B=(0,T.en)(J);return(0,re.executeQueryForIds)(B,ne.Z.from(j),Pt({},A)).then(X=>X.data.objectIds)})).apply(this,arguments)}},2865:(lt,Se,C)=>{"use strict";C.d(Se,{e:()=>ie,F:()=>j});var x=C(15861),T=C(2618),re=C(20477),ne=C(17253),ee=C(84952);function ie(B,X,W){return J.apply(this,arguments)}function J(){return(J=(0,x.Z)(function*(B,X,W){const K=yield j(B,X,W);return ne.default.fromJSON(K)})).apply(this,arguments)}function j(B,X,W){return A.apply(this,arguments)}function A(){return(A=(0,x.Z)(function*(B,X,W){const K=(0,T.en)(B),ae=Pt({},W),$=ee.Z.from(X),{data:V}=yield(0,re.executeQuery)(K,$,$.sourceSpatialReference,ae);return V})).apply(this,arguments)}},20514:(lt,Se,C)=>{"use strict";C.d(Se,{P:()=>ee});var x=C(62208),T=C(16730),re=C(37053);function ne(j,A,B){if(null==j.hasM||j.hasZ)for(const X of A)for(const W of X)W.length>2&&(W[2]*=B)}function ee(j,A,B){if(!j&&!A||!B)return;const X=(0,T._R)(B);ie(j,B,X),ie(A,B,X)}function ie(j,A,B){if(j)for(const X of j)J(X.geometry,A,B)}function J(j,A,B){if((0,x.Wi)(j)||!j.spatialReference||(0,re.fS)(j.spatialReference,A))return;const X=(0,T._R)(j.spatialReference)/B;if(1!==X)if("x"in j)null!=j.z&&(j.z*=X);else if("rings"in j)ne(j,j.rings,X);else if("paths"in j)ne(j,j.paths,X);else if("points"in j&&(null==j.hasM||j.hasZ))for(const W of j.points)W.length>2&&(W[2]*=X)}},71260:(lt,Se,C)=>{"use strict";C.d(Se,{K9:()=>oe,O7:()=>A,G$:()=>de});var x=C(26584),T=C(62208),re=C(24192),ne=C(88071),ee=C(98558);const ie=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML"],J=["sqlTypeBigInt","sqlTypeBinary","sqlTypeBit","sqlTypeChar","sqlTypeDate","sqlTypeDecimal","sqlTypeDouble","sqlTypeFloat","sqlTypeGeometry","sqlTypeGUID","sqlTypeInteger","sqlTypeLongNVarchar","sqlTypeLongVarbinary","sqlTypeLongVarchar","sqlTypeNChar","sqlTypeNVarchar","sqlTypeOther","sqlTypeReal","sqlTypeSmallInt","sqlTypeSqlXml","sqlTypeTime","sqlTypeTimestamp","sqlTypeTimestamp2","sqlTypeTinyInt","sqlTypeVarbinary","sqlTypeVarchar"],j=["upperLeft","lowerLeft"];function A(Q){return Q>=ie.length?null:ie[Q]}function B(Q){return Q>=J.length?null:J[Q]}function X(Q){return Q>=j.length?null:j[Q]}function W(Q,pe){return pe>=Q.geometryTypes.length?null:Q.geometryTypes[pe]}function K(Q,pe,ue){const ve=pe.createPointGeometry(ue);for(;Q.next();)switch(Q.tag()){case 3:{const fe=Q.getUInt32(),Ce=Q.pos()+fe;let ce=0;for(;Q.pos()<Ce;)pe.addCoordinatePoint(ve,Q.getSInt64(),ce++);break}default:Q.skip()}return ve}function ae(Q,pe,ue){const fe=pe.createGeometry(ue),Ce=2+(ue.hasZ?1:0)+(ue.hasM?1:0);for(;Q.next();)switch(Q.tag()){case 2:{const ce=Q.getUInt32(),he=Q.pos()+ce;let xe=0;for(;Q.pos()<he;)pe.addLength(fe,Q.getUInt32(),xe++);break}case 3:{const ce=Q.getUInt32(),he=Q.pos()+ce;let xe=0;for(pe.allocateCoordinates(fe);Q.pos()<he;)pe.addCoordinate(fe,Q.getSInt64(),xe),xe++,xe===Ce&&(xe=0);break}default:Q.skip()}return fe}function $(Q){const ve=new ne.Z;let fe="esriGeometryPoint";for(;Q.next();)switch(Q.tag()){case 2:{const Ce=Q.getUInt32(),ce=Q.pos()+Ce;for(;Q.pos()<ce;)ve.lengths.push(Q.getUInt32());break}case 3:{const Ce=Q.getUInt32(),ce=Q.pos()+Ce;for(;Q.pos()<ce;)ve.coords.push(Q.getSInt64());break}case 1:fe=ee.A[Q.getEnum()];break;default:Q.skip()}return{queryGeometry:ve,queryGeometryType:fe}}function V(Q){for(;Q.next();)switch(Q.tag()){case 1:return Q.getString();case 2:return Q.getFloat();case 3:return Q.getDouble();case 4:return Q.getSInt32();case 5:return Q.getUInt32();case 6:return Q.getInt64();case 7:return Q.getUInt64();case 8:return Q.getSInt64();case 9:return Q.getBool();default:return Q.skip(),null}return null}function P(Q){const ce={type:A(0)};for(;Q.next();)switch(Q.tag()){case 1:ce.name=Q.getString();break;case 2:ce.type=A(Q.getEnum());break;case 3:ce.alias=Q.getString();break;case 4:ce.sqlType=B(Q.getEnum());break;case 5:default:Q.skip();break;case 6:ce.defaultValue=Q.getString()}return ce}function F(Q){const me={};for(;Q.next();)switch(Q.tag()){case 1:me.name=Q.getString();break;case 2:me.isSystemMaintained=Q.getBool();break;default:Q.skip()}return me}function Z(Q,pe,ue,me){const ce=pe.createFeature(ue);let he=0;for(;Q.next();)switch(Q.tag()){case 1:{const xe=me[he++].name;ce.attributes[xe]=Q.processMessage(V);break}case 2:ce.geometry=Q.processMessageWithArgs(ae,pe,ue);break;case 4:ce.centroid=Q.processMessageWithArgs(K,pe,ue);break;default:Q.skip()}return ce}function Y(Q){const fe=[1,1,1,1];for(;Q.next();)switch(Q.tag()){case 1:fe[0]=Q.getDouble();break;case 2:fe[1]=Q.getDouble();break;case 4:fe[2]=Q.getDouble();break;case 3:fe[3]=Q.getDouble();break;default:Q.skip()}return fe}function H(Q){const fe=[0,0,0,0];for(;Q.next();)switch(Q.tag()){case 1:fe[0]=Q.getDouble();break;case 2:fe[1]=Q.getDouble();break;case 4:fe[2]=Q.getDouble();break;case 3:fe[3]=Q.getDouble();break;default:Q.skip()}return fe}function de(Q){const ve={originPosition:X(0)};for(;Q.next();)switch(Q.tag()){case 1:ve.originPosition=X(Q.getEnum());break;case 2:ve.scale=Q.processMessage(Y);break;case 3:ve.translate=Q.processMessage(H);break;default:Q.skip()}return ve}function q(Q){const ve={};for(;Q.next();)switch(Q.tag()){case 1:ve.shapeAreaFieldName=Q.getString();break;case 2:ve.shapeLengthFieldName=Q.getString();break;case 3:ve.units=Q.getString();break;default:Q.skip()}return ve}function ge(Q,pe){const ce=pe.createSpatialReference();for(;Q.next();)switch(Q.tag()){case 1:ce.wkid=Q.getUInt32();break;case 5:ce.wkt=Q.getString();break;case 2:ce.latestWkid=Q.getUInt32();break;case 3:ce.vcsWkid=Q.getUInt32();break;case 4:ce.latestVcsWkid=Q.getUInt32();break;default:Q.skip()}return ce}function le(Q,pe){const be=pe.createFeatureResult();be.geometryType=W(pe,0);let Te=!1;for(;Q.next();)switch(Q.tag()){case 1:be.objectIdFieldName=Q.getString();break;case 3:be.globalIdFieldName=Q.getString();break;case 4:be.geohashFieldName=Q.getString();break;case 5:be.geometryProperties=Q.processMessage(q);break;case 7:be.geometryType=W(pe,Q.getEnum());break;case 8:be.spatialReference=Q.processMessageWithArgs(ge,pe);break;case 10:be.hasZ=Q.getBool();break;case 11:be.hasM=Q.getBool();break;case 12:be.transform=Q.processMessage(de);break;case 9:{const Je=Q.getBool();be.exceededTransferLimit=Je;break}case 13:pe.addField(be,Q.processMessage(P));break;case 15:Te||(pe.prepareFeatures(be),Te=!0),pe.addFeature(be,Q.processMessageWithArgs(Z,pe,be,be.fields));break;case 2:be.uniqueIdField=Q.processMessage(F);break;default:Q.skip()}return pe.finishFeatureResult(be),be}function ye(Q,pe){const ve={};let fe=null;for(;Q.next();)switch(Q.tag()){case 4:fe=Q.processMessageWithArgs($);break;case 1:ve.featureResult=Q.processMessageWithArgs(le,pe);break;default:Q.skip()}return(0,T.pC)(fe)&&ve.featureResult&&pe.addQueryGeometry(ve,fe),ve}function oe(Q,pe){try{const me=new re.Z(new Uint8Array(Q),new DataView(Q)),ve={};for(;me.next();)2===me.tag()?ve.queryResult=me.processMessageWithArgs(ye,pe):me.skip();return ve}catch(ue){throw new x.Z("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:ue})}}},98558:(lt,Se,C)=>{"use strict";C.d(Se,{A:()=>ie,J:()=>J});var x=C(16730),T=C(37053),re=C(66385),ne=C(95786),ee=C(88071);const ie=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];class J{constructor(A){this.options=A,this.geometryTypes=ie,this._coordinatePtr=0,this._vertexDimension=0}createFeatureResult(){return new ne.Z}prepareFeatures(A){this._vertexDimension=2,A.hasZ&&this._vertexDimension++,A.hasM&&this._vertexDimension++}finishFeatureResult(A){if(!A||!A.features||!A.hasZ||!this.options.sourceSpatialReference||!A.spatialReference||(0,T.fS)(A.spatialReference,this.options.sourceSpatialReference)||A.spatialReference.vcsWkid)return;const B=(0,x._R)(this.options.sourceSpatialReference)/(0,x._R)(A.spatialReference);if(1!==B)for(const X of A.features){if(!(0,re.S6)(X))continue;const W=X.geometry.coords;for(let K=2;K<W.length;K+=3)W[K]*=B}}addFeature(A,B){A.features.push(B)}createFeature(){return new re.ZP}createSpatialReference(){return{wkid:0}}createGeometry(){return new ee.Z}addField(A,B){A.fields.push(B)}allocateCoordinates(A){A.coords.length=A.lengths.reduce((B,X)=>B+X,0)*this._vertexDimension,this._coordinatePtr=0}addCoordinate(A,B){A.coords[this._coordinatePtr++]=B}addCoordinatePoint(A,B){A.coords.push(B)}addLength(A,B){A.lengths.push(B)}addQueryGeometry(A,B){A.queryGeometry=B.queryGeometry,A.queryGeometryType=B.queryGeometryType}createPointGeometry(){return new ee.Z}}},85262:(lt,Se,C)=>{"use strict";C.d(Se,{C:()=>T});var x=C(71260);function T(re,ne){const ee=(0,x.K9)(re,ne),ie=ee.queryResult.featureResult,J=ee.queryResult.queryGeometry,j=ee.queryResult.queryGeometryType;if(ie&&ie.features&&ie.features.length&&ie.objectIdFieldName){const A=ie.objectIdFieldName;for(const B of ie.features)B.attributes&&(B.objectId=B.attributes[A])}return ie&&(ie.queryGeometry=J,ie.queryGeometryType=j),ie}},20477:(lt,Se,C)=>{"use strict";C.r(Se),C.d(Se,{executeQuery:()=>K,executeQueryForCount:()=>Z,executeQueryForExtent:()=>Y,executeQueryForIds:()=>F,executeQueryPBF:()=>$,executeQueryPBFBuffer:()=>P,queryToQueryStringParameters:()=>W,runQuery:()=>H});var x=C(15861),T=C(84792),re=C(62208),ne=C(21726),ee=C(91179),ie=C(62825),J=C(38305),j=C(85262),A=C(61515),B=C(33022);const X="Layer does not support extent calculation.";function W(de,q,ge=!1){const le=de.geometry,ye=de.toJSON(),oe=ye,Q=de.outSpatialReference;let pe,ue;if((0,re.pC)(le)){if(pe=le.spatialReference,ue=le.spatialReference.wkid||JSON.stringify(le.spatialReference),oe.geometryType=(0,ee.Ji)(le),ge&&"extent"===le.type)oe.geometry=`${le.xmin},${le.ymin},${le.xmax},${le.ymax}`;else if(ge&&"point"===le.type)oe.geometry=`${le.x},${le.y}`;else{const me=le.toJSON();delete me.spatialReference,oe.geometry=JSON.stringify(me)}oe.inSR=ue}if(pe||(pe=Q),ye.groupByFieldsForStatistics&&(oe.groupByFieldsForStatistics=ye.groupByFieldsForStatistics.join(",")),ye.objectIds&&(oe.objectIds=ye.objectIds.join(",")),ye.orderByFields&&(oe.orderByFields=ye.orderByFields.join(",")),!ye.outFields||!ye.returnDistinctValues&&(null!=q&&q.returnCountOnly||null!=q&&q.returnExtentOnly||null!=q&&q.returnIdsOnly)?delete oe.outFields:oe.outFields=-1!==ye.outFields.indexOf("*")?"*":ye.outFields.join(","),ye.outSR?oe.outSR=ye.outSR.wkid||JSON.stringify(ye.outSR):le&&(ye.returnGeometry||ye.returnCentroid)&&(oe.outSR=oe.inSR),ye.returnGeometry&&delete ye.returnGeometry,ye.outStatistics&&(oe.outStatistics=JSON.stringify(ye.outStatistics)),ye.pixelSize&&(oe.pixelSize=JSON.stringify(ye.pixelSize)),ye.quantizationParameters&&(ge&&(0,re.pC)(pe)&&(0,re.pC)(de.quantizationParameters)&&(0,re.pC)(de.quantizationParameters.extent)&&pe.equals(de.quantizationParameters.extent.spatialReference)&&delete ye.quantizationParameters.extent.spatialReference,oe.quantizationParameters=JSON.stringify(ye.quantizationParameters)),ye.parameterValues&&(oe.parameterValues=JSON.stringify(ye.parameterValues)),ye.rangeValues&&(oe.rangeValues=JSON.stringify(ye.rangeValues)),ye.dynamicDataSource&&(oe.layer=JSON.stringify({source:ye.dynamicDataSource}),delete ye.dynamicDataSource),ye.timeExtent){const me=ye.timeExtent,{start:ve,end:fe}=me;null==ve&&null==fe||(oe.time=ve===fe?ve:`${null==ve?"null":ve},${null==fe?"null":fe}`),delete ye.timeExtent}return oe}function K(de,q,ge,le){return ae.apply(this,arguments)}function ae(){return(ae=(0,x.Z)(function*(de,q,ge,le){const ye=(0,re.pC)(q.timeExtent)&&q.timeExtent.isEmpty?{data:{features:[]}}:yield H(de,q,"json",le);return(0,A.p)(q,ge,ye.data),ye})).apply(this,arguments)}function $(de,q,ge,le){return V.apply(this,arguments)}function V(){return(V=(0,x.Z)(function*(de,q,ge,le){if((0,re.pC)(q.timeExtent)&&q.timeExtent.isEmpty)return Promise.resolve({data:ge.createFeatureResult()});const ye=yield P(de,q,le),oe=ye;return oe.data=(0,j.C)(ye.data,ge),oe})).apply(this,arguments)}function P(de,q,ge){return H(de,q,"pbf",ge)}function F(de,q,ge){return(0,re.pC)(q.timeExtent)&&q.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):H(de,q,"json",ge,{returnIdsOnly:!0})}function Z(de,q,ge){return(0,re.pC)(q.timeExtent)&&q.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):H(de,q,"json",ge,{returnIdsOnly:!0,returnCountOnly:!0})}function Y(de,q,ge){return(0,re.pC)(q.timeExtent)&&q.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):H(de,q,"json",ge,{returnExtentOnly:!0,returnCountOnly:!0}).then(le=>{const ye=le.data;if(ye.hasOwnProperty("extent"))return le;if(ye.features)throw new Error(X);if(ye.hasOwnProperty("count"))throw new Error(X);return le})}function H(de,q,ge,le={},ye={}){const oe="string"==typeof de?(0,ne.mN)(de):de,Q=q.geometry?[q.geometry]:[];return le.responseType="pbf"===ge?"array-buffer":"json",(0,ie.aX)(Q,null,le).then(pe=>{const ue=pe&&pe[0];(0,re.pC)(ue)&&((q=q.clone()).geometry=ue);const me=(0,J.M8)(oe.path),ve=(0,B.A)(Pt(Pt(Xr(Pt({},oe.query),{f:ge}),ye),W(q,ye,me)));return(0,T.default)((0,ne.v_)(oe.path,"query"),Xr(Pt({},le),{query:Pt(Pt({},ve),le.query)}))})}},85531:(lt,Se,C)=>{"use strict";C.d(Se,{X:()=>j,O:()=>J});var x=C(24263),T=C(84792),re=C(21726),ne=C(87183),ee=C(33022);function ie(A){const B=A.toJSON();return B.attachmentTypes&&(B.attachmentTypes=B.attachmentTypes.join(",")),B.keywords&&(B.keywords=B.keywords.join(",")),B.globalIds&&(B.globalIds=B.globalIds.join(",")),B.objectIds&&(B.objectIds=B.objectIds.join(",")),B.size&&(B.size=B.size.join(",")),B}function J(A,B){const X={};for(const W of A){const{parentObjectId:K,parentGlobalId:ae,attachmentInfos:$}=W;for(const V of $){const{id:P}=V,F=(0,re.qg)((0,x.Dp)(`${B}/${K}/attachments/${P}`)),Z=ne.Z.fromJSON(V);Z.set({url:F,parentObjectId:K,parentGlobalId:ae}),X[K]?X[K].push(Z):X[K]=[Z]}}return X}function j(A,B,X){let W={query:(0,ee.A)(Pt(Xr(Pt({},A.query),{f:"json"}),ie(B)))};return X&&(W=Xr(Pt(Pt({},X),W),{query:Pt(Pt({},X.query),W.query)})),(0,T.default)(A.path+"/queryAttachments",W)}},61515:(lt,Se,C)=>{"use strict";C.d(Se,{p:()=>re});var x=C(62208),T=C(33696);function re(ne,ee,ie){if(!ie||!ie.features||!ie.hasZ)return;const J=(0,T.k)(ie.geometryType,ee,ne.outSpatialReference);if(!(0,x.Wi)(J))for(const j of ie.features)J(j.geometry)}},87183:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>K});var B,x=C(17626),T=C(86162),re=C(77712),ie=(C(85931),C(8314),C(90912)),J=C(76898);const X={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};let W=B=class extends T.wq{constructor(ae){super(ae),this.contentType=null,this.exifInfo=null,this.id=null,this.globalId=null,this.keywords=null,this.name=null,this.parentGlobalId=null,this.parentObjectId=null,this.size=null,this.url=null}get orientationInfo(){const{exifInfo:ae}=this,$=function j(ae){const{exifInfo:$,exifName:V,tagName:P}=ae;if(!$||!V||!P)return null;const F=$.find(Z=>Z.name===V);return F?function A(ae){const{tagName:$,tags:V}=ae;if(!V||!$)return null;const P=V.find(F=>F.name===$);return P&&P.value||null}({tagName:P,tags:F.tags}):null}({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:ae});return X[$]||null}clone(){return new B({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})}};(0,x._)([(0,re.Cb)({type:String})],W.prototype,"contentType",void 0),(0,x._)([(0,re.Cb)()],W.prototype,"exifInfo",void 0),(0,x._)([(0,re.Cb)({readOnly:!0})],W.prototype,"orientationInfo",null),(0,x._)([(0,re.Cb)({type:ie.z8})],W.prototype,"id",void 0),(0,x._)([(0,re.Cb)({type:String})],W.prototype,"globalId",void 0),(0,x._)([(0,re.Cb)({type:String})],W.prototype,"keywords",void 0),(0,x._)([(0,re.Cb)({type:String})],W.prototype,"name",void 0),(0,x._)([(0,re.Cb)({json:{read:!1}})],W.prototype,"parentGlobalId",void 0),(0,x._)([(0,re.Cb)({json:{read:!1}})],W.prototype,"parentObjectId",void 0),(0,x._)([(0,re.Cb)({type:ie.z8})],W.prototype,"size",void 0),(0,x._)([(0,re.Cb)({json:{read:!1}})],W.prototype,"url",void 0),W=B=(0,x._)([(0,J.j)("esri.layers.support.AttachmentInfo")],W);const K=W},40251:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>X});var A,x=C(17626),T=C(91558),re=C(58817),ne=C(77712),ee=C(90912),ie=C(55342),J=C(76898),j=C(61661);let B=A=class extends j.Z{constructor(W){super(W),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new A({fromColor:(0,re.d9)(this.fromColor),toColor:(0,re.d9)(this.toColor),algorithm:this.algorithm})}};(0,x._)([(0,ie.J)({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],B.prototype,"algorithm",void 0),(0,x._)([(0,ne.Cb)({type:T.Z,json:{type:[ee.z8],write:!0}})],B.prototype,"fromColor",void 0),(0,x._)([(0,ne.Cb)({type:T.Z,json:{type:[ee.z8],write:!0}})],B.prototype,"toColor",void 0),(0,x._)([(0,ne.Cb)({type:["algorithmic"]})],B.prototype,"type",void 0),B=A=(0,x._)([(0,J.j)("esri.rest.support.AlgorithmicColorRamp")],B);const X=B},67736:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>B});var j,x=C(17626),T=C(86162),re=C(58817),ne=C(77712),ee=C(90912),ie=C(76898),J=C(99433);let A=j=class extends T.wq{constructor(X){super(X),this.attachmentTypes=null,this.attachmentsWhere=null,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(X,W){W.resultOffset=this.start,W.resultRecordCount=this.num||10}clone(){return new j((0,re.d9)({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};(0,x._)([(0,ne.Cb)({type:[String],json:{write:!0}})],A.prototype,"attachmentTypes",void 0),(0,x._)([(0,ne.Cb)({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],A.prototype,"attachmentsWhere",void 0),(0,x._)([(0,ne.Cb)({type:[String],json:{write:!0}})],A.prototype,"keywords",void 0),(0,x._)([(0,ne.Cb)({type:[Number],json:{write:!0}})],A.prototype,"globalIds",void 0),(0,x._)([(0,ne.Cb)({json:{write:!0}})],A.prototype,"name",void 0),(0,x._)([(0,ne.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],A.prototype,"num",void 0),(0,x._)([(0,ne.Cb)({type:[Number],json:{write:!0}})],A.prototype,"objectIds",void 0),(0,x._)([(0,ne.Cb)({type:Boolean,json:{default:!1,write:!0}})],A.prototype,"returnMetadata",void 0),(0,x._)([(0,ne.Cb)({type:[Number],json:{write:!0}})],A.prototype,"size",void 0),(0,x._)([(0,ne.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],A.prototype,"start",void 0),(0,x._)([(0,J.c)("start"),(0,J.c)("num")],A.prototype,"writeStart",null),(0,x._)([(0,ne.Cb)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],A.prototype,"where",void 0),A=j=(0,x._)([(0,ie.j)("esri.rest.support.AttachmentQuery")],A),A.from=(0,ee.se)(A);const B=A},61661:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>A});var x=C(17626),T=C(86162),re=C(77712),J=(C(85931),C(8314),C(90912),C(76898));let j=class extends T.wq{constructor(B){super(B),this.type=null}};(0,x._)([(0,re.Cb)({readOnly:!0,json:{read:!1,write:!0}})],j.prototype,"type",void 0),j=(0,x._)([(0,J.j)("esri.rest.support.ColorRamp")],j);const A=j},17253:(lt,Se,C)=>{"use strict";C.r(Se),C.d(Se,{default:()=>Z});var x=C(17626),T=C(29132),re=C(88879),ne=C(2076),ee=C(86162),ie=C(62208),J=C(77712),X=(C(85931),C(8314),C(90912),C(68653)),W=C(76898),K=C(99433),ae=C(65234),$=C(91179),V=C(36255);const P=new ne.Xn({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let F=class extends ee.wq{constructor(Y){super(Y),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(Y,H){const de=ae.Z.fromJSON(H.spatialReference),q=[];for(let ge=0;ge<Y.length;ge++){const le=Y[ge],ye=re.Z.fromJSON(le),oe=le.geometry&&le.geometry.spatialReference;(0,ie.pC)(ye.geometry)&&!oe&&(ye.geometry.spatialReference=de),q.push(ye)}return q}writeGeometryType(Y,H,de,q){if(Y)return void P.write(Y,H,de,q);const{features:ge}=this;if(ge)for(const le of ge)if(le&&(0,ie.pC)(le.geometry))return void P.write(le.geometry.type,H,de,q)}readQueryGeometry(Y,H){if(!Y)return null;const de=!!Y.spatialReference,q=(0,$.im)(Y);return!de&&H.spatialReference&&(q.spatialReference=ae.Z.fromJSON(H.spatialReference)),q}writeSpatialReference(Y,H){if(Y)return void(H.spatialReference=Y.toJSON());const{features:de}=this;if(de)for(const q of de)if(q&&(0,ie.pC)(q.geometry)&&q.geometry.spatialReference)return void(H.spatialReference=q.geometry.spatialReference.toJSON())}toJSON(Y){const H=this.write();if(H.features&&Array.isArray(Y)&&Y.length>0)for(let de=0;de<H.features.length;de++){const q=H.features[de];if(q.geometry){const ge=Y&&Y[de];q.geometry=ge&&ge.toJSON()||q.geometry}}return H}quantize(Y){const{scale:[H,de],translate:[q,ge]}=Y,oe=this.features,Q=this._getQuantizationFunction(this.geometryType,pe=>Math.round((pe-q)/H),pe=>Math.round((ge-pe)/de));for(let pe=0,ue=oe.length;pe<ue;pe++)Q((0,ie.Wg)(oe[pe].geometry))||(oe.splice(pe,1),pe--,ue--);return this.transform=Y,this}unquantize(){const{geometryType:Y,features:H,transform:de}=this;if(!de)return this;const{translate:[q,ge],scale:[le,ye]}=de,pe=this._getHydrationFunction(Y,ue=>ue*le+q,ue=>ge-ue*ye);for(const{geometry:ue}of H)(0,ie.pC)(ue)&&pe(ue);return this.transform=null,this}_quantizePoints(Y,H,de){let q,ge;const le=[];for(let ye=0,oe=Y.length;ye<oe;ye++){const Q=Y[ye];if(ye>0){const pe=H(Q[0]),ue=de(Q[1]);pe===q&&ue===ge||(le.push([pe-q,ue-ge]),q=pe,ge=ue)}else q=H(Q[0]),ge=de(Q[1]),le.push([q,ge])}return le.length>0?le:null}_getQuantizationFunction(Y,H,de){return"point"===Y?q=>(q.x=H(q.x),q.y=de(q.y),q):"polyline"===Y||"polygon"===Y?q=>{const ge=(0,$.oU)(q)?q.rings:q.paths,le=[];for(let ye=0,oe=ge.length;ye<oe;ye++){const pe=this._quantizePoints(ge[ye],H,de);pe&&le.push(pe)}return le.length>0?((0,$.oU)(q)?q.rings=le:q.paths=le,q):null}:"multipoint"===Y?q=>{const ge=this._quantizePoints(q.points,H,de);return ge.length>0?(q.points=ge,q):null}:"extent"===Y?q=>q:null}_getHydrationFunction(Y,H,de){return"point"===Y?q=>{q.x=H(q.x),q.y=de(q.y)}:"polyline"===Y||"polygon"===Y?q=>{const ge=(0,$.oU)(q)?q.rings:q.paths;let le,ye;for(let oe=0,Q=ge.length;oe<Q;oe++){const pe=ge[oe];for(let ue=0,me=pe.length;ue<me;ue++){const ve=pe[ue];ue>0?(le+=ve[0],ye+=ve[1]):(le=ve[0],ye=ve[1]),ve[0]=H(le),ve[1]=de(ye)}}}:"extent"===Y?q=>{q.xmin=H(q.xmin),q.ymin=de(q.ymin),q.xmax=H(q.xmax),q.ymax=de(q.ymax)}:"multipoint"===Y?q=>{const ge=q.points;let le,ye;for(let oe=0,Q=ge.length;oe<Q;oe++){const pe=ge[oe];oe>0?(le+=pe[0],ye+=pe[1]):(le=pe[0],ye=pe[1]),pe[0]=H(le),pe[1]=de(ye)}}:void 0}};(0,x._)([(0,J.Cb)({type:String,json:{write:!0}})],F.prototype,"displayFieldName",void 0),(0,x._)([(0,J.Cb)({type:Boolean,json:{write:{overridePolicy:Y=>({enabled:Y})}}})],F.prototype,"exceededTransferLimit",void 0),(0,x._)([(0,J.Cb)({type:[re.Z],json:{write:!0}})],F.prototype,"features",void 0),(0,x._)([(0,X.r)("features")],F.prototype,"readFeatures",null),(0,x._)([(0,J.Cb)({type:[V.Z],json:{write:!0}})],F.prototype,"fields",void 0),(0,x._)([(0,J.Cb)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:P.read}}})],F.prototype,"geometryType",void 0),(0,x._)([(0,K.c)("geometryType")],F.prototype,"writeGeometryType",null),(0,x._)([(0,J.Cb)({type:Boolean,json:{write:{overridePolicy:Y=>({enabled:Y})}}})],F.prototype,"hasM",void 0),(0,x._)([(0,J.Cb)({type:Boolean,json:{write:{overridePolicy:Y=>({enabled:Y})}}})],F.prototype,"hasZ",void 0),(0,x._)([(0,J.Cb)({types:T.qM,json:{write:!0}})],F.prototype,"queryGeometry",void 0),(0,x._)([(0,X.r)("queryGeometry")],F.prototype,"readQueryGeometry",null),(0,x._)([(0,J.Cb)({type:ae.Z,json:{write:!0}})],F.prototype,"spatialReference",void 0),(0,x._)([(0,K.c)("spatialReference")],F.prototype,"writeSpatialReference",null),(0,x._)([(0,J.Cb)({json:{write:!0}})],F.prototype,"transform",void 0),F=(0,x._)([(0,W.j)("esri.rest.support.FeatureSet")],F),F.prototype.toJSON.isDefaultToJSON=!0;const Z=F},75414:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>B});var j,x=C(17626),T=C(58817),re=C(77712),ee=(C(90912),C(76898)),ie=C(40251),J=C(61661);let A=j=class extends J.Z{constructor(X){super(X),this.colorRamps=null,this.type="multipart"}clone(){return new j({colorRamps:(0,T.d9)(this.colorRamps)})}};(0,x._)([(0,re.Cb)({type:[ie.Z],json:{write:!0}})],A.prototype,"colorRamps",void 0),(0,x._)([(0,re.Cb)({type:["multipart"]})],A.prototype,"type",void 0),A=j=(0,x._)([(0,ee.j)("esri.rest.support.MultipartColorRamp")],A);const B=A},77294:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>B});var x=C(17626),T=C(86162),re=C(77712),J=(C(85931),C(8314),C(90912),C(76898)),j=C(91179);let A=class extends T.wq{constructor(X){super(X),this.geometries=null,this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const X=this.geometries.map(function(ae){return ae.toJSON()}),W=this.geometries[0],K={};return K.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),K.inSR=W.spatialReference.wkid||JSON.stringify(W.spatialReference.toJSON()),K.geometries=JSON.stringify({geometryType:(0,j.Ji)(W),geometries:X}),this.transformation&&(K.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(K.transformForward=this.transformForward),K}};(0,x._)([(0,re.Cb)()],A.prototype,"geometries",void 0),(0,x._)([(0,re.Cb)({json:{read:{source:"outSR"}}})],A.prototype,"outSpatialReference",void 0),(0,x._)([(0,re.Cb)()],A.prototype,"transformation",void 0),(0,x._)([(0,re.Cb)()],A.prototype,"transformForward",void 0),A=(0,x._)([(0,J.j)("esri.rest.support.ProjectParameters")],A);const B=A},89621:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>K});var B,x=C(17626),re=(C(29132),C(2076)),ne=C(86162),ee=C(58817),ie=C(77712),j=(C(90912),C(76898)),A=C(2004);const X=new re.Xn({upperLeft:"upper-left",lowerLeft:"lower-left"});let W=B=class extends ne.wq{constructor(ae){super(ae),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new B((0,ee.d9)({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};(0,x._)([(0,ie.Cb)({type:A.Z,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],W.prototype,"extent",void 0),(0,x._)([(0,ie.Cb)({type:["view","edit"],json:{write:!0}})],W.prototype,"mode",void 0),(0,x._)([(0,ie.Cb)({type:String,json:{read:X.read,write:X.write}})],W.prototype,"originPosition",void 0),(0,x._)([(0,ie.Cb)({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],W.prototype,"tolerance",void 0),W=B=(0,x._)([(0,j.j)("esri.rest.support.QuantizationParameters")],W);const K=W},84952:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>ge});var Y,x=C(17626),T=C(29132),re=C(97478),ne=C(2076),ee=C(86162),ie=C(58817),J=C(62208),j=C(77712),A=C(66656),B=C(55342),X=C(76898),W=C(99433),K=C(90912),ae=C(91179),$=C(15283),V=C(89621),P=C(60776),F=C(65234),Z=C(49672);const H=new ne.Xn({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),de=new ne.Xn({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let q=Y=class extends ee.wq{constructor(le){super(le),this.aggregateIds=null,this.cacheHint=void 0,this.datumTransformation=null,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}static from(le){return(0,K.TJ)(Y,le)}castDatumTransformation(le){return"number"==typeof le||"object"==typeof le?le:null}writeHistoricMoment(le,ye){ye.historicMoment=le&&le.getTime()}writeParameterValues(le,ye){if(le){const oe={};for(const Q in le){const pe=le[Q];oe[Q]=Array.isArray(pe)?pe.map(ue=>ue instanceof Date?ue.getTime():ue):pe instanceof Date?pe.getTime():pe}ye.parameterValues=oe}}writeStart(le,ye){ye.resultOffset=this.start,ye.resultRecordCount=this.num||10,ye.where="1=1"}writeWhere(le,ye){ye.where=le||"1=1"}clone(){return new Y((0,ie.d9)({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,datumTransformation:this.datumTransformation,distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:(0,J.pC)(this.historicMoment)?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};q.MAX_MAX_RECORD_COUNT_FACTOR=5,(0,x._)([(0,j.Cb)({json:{write:!0}})],q.prototype,"aggregateIds",void 0),(0,x._)([(0,j.Cb)({type:Boolean,json:{write:!0}})],q.prototype,"cacheHint",void 0),(0,x._)([(0,j.Cb)({json:{write:!0}})],q.prototype,"datumTransformation",void 0),(0,x._)([(0,A.p)("datumTransformation")],q.prototype,"castDatumTransformation",null),(0,x._)([(0,j.Cb)({type:Number,json:{write:{overridePolicy:le=>({enabled:le>0})}}})],q.prototype,"distance",void 0),(0,x._)([(0,j.Cb)({type:$.n,json:{write:!0}})],q.prototype,"dynamicDataSource",void 0),(0,x._)([(0,j.Cb)({type:String,json:{write:!0}})],q.prototype,"formatOf3DObjects",void 0),(0,x._)([(0,j.Cb)({type:String,json:{write:!0}})],q.prototype,"gdbVersion",void 0),(0,x._)([(0,j.Cb)({types:T.qM,json:{read:ae.im,write:!0}})],q.prototype,"geometry",void 0),(0,x._)([(0,j.Cb)({type:Number,json:{write:!0}})],q.prototype,"geometryPrecision",void 0),(0,x._)([(0,j.Cb)({type:[String],json:{write:!0}})],q.prototype,"groupByFieldsForStatistics",void 0),(0,x._)([(0,j.Cb)({type:String,json:{write:!0}})],q.prototype,"having",void 0),(0,x._)([(0,j.Cb)({type:Date})],q.prototype,"historicMoment",void 0),(0,x._)([(0,W.c)("historicMoment")],q.prototype,"writeHistoricMoment",null),(0,x._)([(0,j.Cb)({type:Number,json:{write:!0}})],q.prototype,"maxAllowableOffset",void 0),(0,x._)([(0,j.Cb)({type:Number,cast:le=>le<1?1:le>Y.MAX_MAX_RECORD_COUNT_FACTOR?Y.MAX_MAX_RECORD_COUNT_FACTOR:le,json:{write:{overridePolicy:le=>({enabled:le>1})}}})],q.prototype,"maxRecordCountFactor",void 0),(0,x._)([(0,j.Cb)({type:["xyFootprint"],json:{write:!0}})],q.prototype,"multipatchOption",void 0),(0,x._)([(0,j.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],q.prototype,"num",void 0),(0,x._)([(0,j.Cb)({json:{write:!0}})],q.prototype,"objectIds",void 0),(0,x._)([(0,j.Cb)({type:[String],json:{write:!0}})],q.prototype,"orderByFields",void 0),(0,x._)([(0,j.Cb)({type:[String],json:{write:!0}})],q.prototype,"outFields",void 0),(0,x._)([(0,j.Cb)({type:F.Z,json:{name:"outSR",write:!0}})],q.prototype,"outSpatialReference",void 0),(0,x._)([(0,j.Cb)({type:[P.Z],json:{write:{enabled:!0,overridePolicy(){return{enabled:(0,J.pC)(this.outStatistics)&&this.outStatistics.length>0}}}}})],q.prototype,"outStatistics",void 0),(0,x._)([(0,j.Cb)({json:{write:!0}})],q.prototype,"parameterValues",void 0),(0,x._)([(0,W.c)("parameterValues")],q.prototype,"writeParameterValues",null),(0,x._)([(0,j.Cb)({type:Z.Z,json:{write:!0}})],q.prototype,"pixelSize",void 0),(0,x._)([(0,j.Cb)({type:V.Z,json:{write:!0}})],q.prototype,"quantizationParameters",void 0),(0,x._)([(0,j.Cb)({type:[Object],json:{write:!0}})],q.prototype,"rangeValues",void 0),(0,x._)([(0,j.Cb)({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],q.prototype,"relationParameter",void 0),(0,x._)([(0,j.Cb)({type:String,json:{write:!0}})],q.prototype,"resultType",void 0),(0,x._)([(0,j.Cb)({type:Boolean,json:{default:!1,write:!0}})],q.prototype,"returnCentroid",void 0),(0,x._)([(0,j.Cb)({type:Boolean,json:{default:!1,write:!0}})],q.prototype,"returnDistinctValues",void 0),(0,x._)([(0,j.Cb)({type:Boolean,json:{default:!0,write:!0}})],q.prototype,"returnExceededLimitFeatures",void 0),(0,x._)([(0,j.Cb)({type:Boolean,json:{write:!0}})],q.prototype,"returnGeometry",void 0),(0,x._)([(0,j.Cb)({type:Boolean,json:{default:!1,write:!0}})],q.prototype,"returnQueryGeometry",void 0),(0,x._)([(0,j.Cb)({type:Boolean,json:{default:!1,write:!0}})],q.prototype,"returnM",void 0),(0,x._)([(0,j.Cb)({type:Boolean,json:{write:{overridePolicy:le=>({enabled:le})}}})],q.prototype,"returnZ",void 0),(0,x._)([(0,j.Cb)({type:F.Z,json:{write:!0}})],q.prototype,"sourceSpatialReference",void 0),(0,x._)([(0,B.J)(H,{ignoreUnknown:!1,name:"spatialRel"})],q.prototype,"spatialRelationship",void 0),(0,x._)([(0,j.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],q.prototype,"start",void 0),(0,x._)([(0,W.c)("start"),(0,W.c)("num")],q.prototype,"writeStart",null),(0,x._)([(0,j.Cb)({type:String,json:{write:!0}})],q.prototype,"sqlFormat",void 0),(0,x._)([(0,j.Cb)({type:String,json:{write:!0}})],q.prototype,"text",void 0),(0,x._)([(0,j.Cb)({type:re.Z,json:{write:!0}})],q.prototype,"timeExtent",void 0),(0,x._)([(0,j.Cb)({type:Boolean,json:{default:!1,write:!0}})],q.prototype,"timeReferenceUnknownClient",void 0),(0,x._)([(0,B.J)(de,{ignoreUnknown:!1}),(0,j.Cb)({json:{write:{overridePolicy(le){return{enabled:le&&this.distance>0}}}}})],q.prototype,"units",void 0),(0,x._)([(0,j.Cb)({type:String,json:{write:{overridePolicy(le){return{enabled:null!=le||this.start>0}}}}})],q.prototype,"where",void 0),(0,x._)([(0,W.c)("where")],q.prototype,"writeWhere",null),q=Y=(0,x._)([(0,X.j)("esri.rest.support.Query")],q);const ge=q},67010:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>K});var X,x=C(17626),re=(C(29132),C(86162)),ne=C(58817),ee=C(77712),ie=C(90912),J=C(76898),j=C(99433),A=C(15283),B=C(65234);let W=X=class extends re.wq{constructor(ae){super(ae),this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(ae,$){$.historicMoment=ae&&ae.getTime()}writeStart(ae,$){$.resultOffset=this.start,$.resultRecordCount=this.num||10,this.start>0&&null==this.where&&($.definitionExpression="1=1")}clone(){return new X((0,ne.d9)({dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};(0,x._)([(0,ee.Cb)({type:A.n,json:{write:!0}})],W.prototype,"dynamicDataSource",void 0),(0,x._)([(0,ee.Cb)({type:String,json:{write:!0}})],W.prototype,"gdbVersion",void 0),(0,x._)([(0,ee.Cb)({type:Number,json:{write:!0}})],W.prototype,"geometryPrecision",void 0),(0,x._)([(0,ee.Cb)({type:Date})],W.prototype,"historicMoment",void 0),(0,x._)([(0,j.c)("historicMoment")],W.prototype,"_writeHistoricMoment",null),(0,x._)([(0,ee.Cb)({type:Number,json:{write:!0}})],W.prototype,"maxAllowableOffset",void 0),(0,x._)([(0,ee.Cb)({type:[Number],json:{write:!0}})],W.prototype,"objectIds",void 0),(0,x._)([(0,ee.Cb)({type:[String],json:{write:!0}})],W.prototype,"orderByFields",void 0),(0,x._)([(0,ee.Cb)({type:[String],json:{write:!0}})],W.prototype,"outFields",void 0),(0,x._)([(0,ee.Cb)({type:B.Z,json:{read:{source:"outSR"},write:{target:"outSR"}}})],W.prototype,"outSpatialReference",void 0),(0,x._)([(0,ee.Cb)({json:{write:!0}})],W.prototype,"relationshipId",void 0),(0,x._)([(0,ee.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],W.prototype,"start",void 0),(0,x._)([(0,j.c)("start"),(0,j.c)("num")],W.prototype,"writeStart",null),(0,x._)([(0,ee.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],W.prototype,"num",void 0),(0,x._)([(0,ee.Cb)({json:{write:!0}})],W.prototype,"returnGeometry",void 0),(0,x._)([(0,ee.Cb)({type:Boolean,json:{write:{overridePolicy:ae=>({enabled:ae})}}})],W.prototype,"returnM",void 0),(0,x._)([(0,ee.Cb)({type:Boolean,json:{write:{overridePolicy:ae=>({enabled:ae})}}})],W.prototype,"returnZ",void 0),(0,x._)([(0,ee.Cb)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],W.prototype,"where",void 0),W=X=(0,x._)([(0,J.j)("esri.rest.support.RelationshipQuery")],W),W.from=(0,ie.se)(W);const K=W},60776:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>W});var A,x=C(17626),T=C(2076),re=C(86162),ne=C(58817),ee=C(77712),J=(C(90912),C(76898)),j=C(99433);const B=new T.Xn({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete"});let X=A=class extends re.wq{constructor(K){super(K),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(K,ae){"percentile-continuous"!==this.statisticType&&"percentile-discrete"!==this.statisticType||(ae.statisticParameters=(0,ne.d9)(K))}clone(){return new A({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:(0,ne.d9)(this.statisticParameters)})}};(0,x._)([(0,ee.Cb)({type:Number,json:{write:!0}})],X.prototype,"maxPointCount",void 0),(0,x._)([(0,ee.Cb)({type:Number,json:{write:!0}})],X.prototype,"maxRecordCount",void 0),(0,x._)([(0,ee.Cb)({type:Number,json:{write:!0}})],X.prototype,"maxVertexCount",void 0),(0,x._)([(0,ee.Cb)({type:String,json:{write:!0}})],X.prototype,"onStatisticField",void 0),(0,x._)([(0,ee.Cb)({type:String,json:{write:!0}})],X.prototype,"outStatisticFieldName",void 0),(0,x._)([(0,ee.Cb)({type:String,json:{read:{source:"statisticType",reader:B.read},write:{target:"statisticType",writer:B.write}}})],X.prototype,"statisticType",void 0),(0,x._)([(0,ee.Cb)({type:Object})],X.prototype,"statisticParameters",void 0),(0,x._)([(0,j.c)("statisticParameters")],X.prototype,"writeStatisticParameters",null),X=A=(0,x._)([(0,J.j)("esri.rest.support.StatisticDefinition")],X);const W=X},6871:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>de});var ae,x=C(17626),T=C(29132),re=C(97478),ne=C(2076),ee=C(86162),ie=C(58817),J=C(77712),j=C(90912),A=C(76898),B=C(99433),X=C(91179);C(85931),C(8314);let $=ae=class extends ee.wq{constructor(q){super(q),this.groupByFields=void 0,this.topCount=void 0,this.orderByFields=void 0}clone(){return new ae({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})}};(0,x._)([(0,J.Cb)({type:[String],json:{write:!0}})],$.prototype,"groupByFields",void 0),(0,x._)([(0,J.Cb)({type:Number,json:{write:!0}})],$.prototype,"topCount",void 0),(0,x._)([(0,J.Cb)({type:[String],json:{write:!0}})],$.prototype,"orderByFields",void 0),$=ae=(0,x._)([(0,A.j)("esri.rest.support.TopFilter")],$);const V=$;var F,P=C(65234);const Z=new ne.Xn({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),Y=new ne.Xn({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let H=F=class extends ee.wq{constructor(q){super(q),this.cacheHint=void 0,this.distance=void 0,this.geometry=null,this.geometryPrecision=void 0,this.maxAllowableOffset=void 0,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.resultType=null,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.start=void 0,this.spatialRelationship="intersects",this.timeExtent=null,this.topFilter=void 0,this.units=null,this.where="1=1"}writeStart(q,ge){ge.resultOffset=this.start,ge.resultRecordCount=this.num||10}clone(){return new F((0,ie.d9)({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))}};(0,x._)([(0,J.Cb)({type:Boolean,json:{write:!0}})],H.prototype,"cacheHint",void 0),(0,x._)([(0,J.Cb)({type:Number,json:{write:{overridePolicy:q=>({enabled:q>0})}}})],H.prototype,"distance",void 0),(0,x._)([(0,J.Cb)({types:T.qM,json:{read:X.im,write:!0}})],H.prototype,"geometry",void 0),(0,x._)([(0,J.Cb)({type:Number,json:{write:!0}})],H.prototype,"geometryPrecision",void 0),(0,x._)([(0,J.Cb)({type:Number,json:{write:!0}})],H.prototype,"maxAllowableOffset",void 0),(0,x._)([(0,J.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],H.prototype,"num",void 0),(0,x._)([(0,J.Cb)({json:{write:!0}})],H.prototype,"objectIds",void 0),(0,x._)([(0,J.Cb)({type:[String],json:{write:!0}})],H.prototype,"orderByFields",void 0),(0,x._)([(0,J.Cb)({type:[String],json:{write:!0}})],H.prototype,"outFields",void 0),(0,x._)([(0,J.Cb)({type:P.Z,json:{read:{source:"outSR"},write:{target:"outSR"}}})],H.prototype,"outSpatialReference",void 0),(0,x._)([(0,J.Cb)({type:String,json:{write:!0}})],H.prototype,"resultType",void 0),(0,x._)([(0,J.Cb)({json:{write:!0}})],H.prototype,"returnGeometry",void 0),(0,x._)([(0,J.Cb)({type:Boolean,json:{write:{overridePolicy:q=>({enabled:q})}}})],H.prototype,"returnM",void 0),(0,x._)([(0,J.Cb)({type:Boolean,json:{write:{overridePolicy:q=>({enabled:q})}}})],H.prototype,"returnZ",void 0),(0,x._)([(0,J.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],H.prototype,"start",void 0),(0,x._)([(0,B.c)("start"),(0,B.c)("num")],H.prototype,"writeStart",null),(0,x._)([(0,J.Cb)({type:String,json:{read:{source:"spatialRel",reader:Z.read},write:{target:"spatialRel",writer:Z.write}}})],H.prototype,"spatialRelationship",void 0),(0,x._)([(0,J.Cb)({type:re.Z,json:{write:!0}})],H.prototype,"timeExtent",void 0),(0,x._)([(0,J.Cb)({type:V,json:{write:!0}})],H.prototype,"topFilter",void 0),(0,x._)([(0,J.Cb)({type:String,json:{read:Y.read,write:{writer:Y.write,overridePolicy(q){return{enabled:q&&this.distance>0}}}}})],H.prototype,"units",void 0),(0,x._)([(0,J.Cb)({type:String,json:{write:!0}})],H.prototype,"where",void 0),H=F=(0,x._)([(0,A.j)("esri.rest.support.TopFeaturesQuery")],H),H.from=(0,j.se)(H);const de=H},79023:(lt,Se,C)=>{"use strict";C.d(Se,{i:()=>ee,V:()=>ne});var x=C(40251),T=C(61661),re=C(75414);const ne={key:"type",base:T.Z,typeMap:{algorithmic:x.Z,multipart:re.Z}};function ee(ie){return ie&&ie.type?"algorithmic"===ie.type?x.Z.fromJSON(ie):"multipart"===ie.type?re.Z.fromJSON(ie):null:null}},2618:(lt,Se,C)=>{"use strict";C.d(Se,{lA:()=>re,cv:()=>ee,en:()=>ne});var x=C(21726);function re(j,A){return A?Xr(Pt({},A),{query:Pt(Pt({},j),A.query)}):{query:j}}function ne(j){return"string"==typeof j?(0,x.mN)(j):j}function ee(j,A,B){const X={};for(const W in j){if("declaredClass"===W)continue;const K=j[W];if(null!=K&&"function"!=typeof K)if(Array.isArray(K)){X[W]=[];for(let ae=0;ae<K.length;ae++)X[W][ae]=ee(K[ae])}else if("object"==typeof K)if(K.toJSON){const ae=K.toJSON(B&&B[W]);X[W]=A?ae:JSON.stringify(ae)}else X[W]=A?K:JSON.stringify(K);else X[W]=K}return X}C(83137)},51815:(lt,Se,C)=>{"use strict";C.d(Se,{J:()=>X});var x=C(17626),T=C(88879),ne=(C(63290),C(90912)),j=(C(85931),C(8314),C(82255),C(61039)),A=C(76898),B=C(28705);let X=class extends B.a{_own(W){W.layer&&"remove"in W.layer&&W.layer!==this.owner&&W.layer.remove(W),W.layer=this.owner}_release(W){W.layer===this.owner&&(W.layer=null)}};(0,x._)([(0,j.c)({Type:T.Z,ensureType:(0,ne.se)(T.Z)})],X.prototype,"itemType",void 0),X=(0,x._)([(0,A.j)("esri.support.GraphicsCollection")],X)},6432:(lt,Se,C)=>{"use strict";C.d(Se,{K:()=>$});var x=C(17626),T=C(7093),re=C(89726),ne=C(63290),ee=C(10699),ie=C(77712),B=(C(85931),C(8314),C(90912),C(76898)),X=C(63602);function W(V){return V&&"group"===V.type}function K(V,P,F){let Z,Y;if(V)for(let H=0,de=V.length;H<de;H++){if(Z=V.getItemAt(H),Z[P]===F)return Z;if(W(Z)&&(Y=K(Z.layers,P,F),Y))return Y}}const ae=ne.Z.getLogger("esri.support.LayersMixin"),$=V=>{let P=class extends V{constructor(...F){super(...F),this.layers=new T.Z;const Y=de=>{de.parent=this,this.layerAdded(de),"elevation"!==de.type&&"base-elevation"!==de.type||ae.error(`Layer 'title:${de.title}, id:${de.id}' of type '${de.type}' is not supported as an operational layer and will therefore be ignored.`)},H=de=>{de.parent=null,this.layerRemoved(de)};this.layers.on("before-add",de=>(de=>{de.parent&&"remove"in de.parent&&de.parent.remove(de)})(de.item)),this.layers.on("after-add",de=>Y(de.item)),this.layers.on("after-remove",de=>H(de.item))}destroy(){const F=this.layers.removeAll();for(const Z of F)this.layerRemoved(Z),Z.destroy();this.layers.destroy()}set layers(F){this._set("layers",(0,re.Z)(F,this._get("layers")))}add(F,Z){const Y=this.layers;if(Z=Y.getNextIndex(Z),F instanceof X.Z){const H=F;H.parent===this?this.reorder(H,Z):Y.add(H,Z)}else(0,ee.y8)(F)?F.then(H=>{this.destroyed||this.add(H,Z)}):ae.error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(F,Z){const Y=this.layers;Z=Y.getNextIndex(Z),F.slice().forEach(H=>{H.parent!==this?(Y.add(H,Z),Z+=1):this.reorder(H,Z)})}findLayerById(F){return K(this.layers,"id",F)}findLayerByUid(F){return K(this.layers,"uid",F)}remove(F){return this.layers.remove(F)}removeMany(F){return this.layers.removeMany(F)}removeAll(){return this.layers.removeAll()}reorder(F,Z){return this.layers.reorder(F,Z)}layerAdded(F){}layerRemoved(F){}};return(0,x._)([(0,ie.Cb)()],P.prototype,"layers",null),P=(0,x._)([(0,B.j)("esri.support.LayersMixin")],P),P}},6119:(lt,Se,C)=>{"use strict";C.d(Se,{Q:()=>ae});var x=C(17626),T=C(7093),re=C(89726),ne=C(63290),ee=C(77712),A=(C(85931),C(8314),C(90912),C(76898));const B="esri.support.TablesMixin",X=ne.Z.getLogger(B);function W($){return $&&"group"===$.type}function K($,V,P){if($)for(let F=0,Z=$.length;F<Z;F++){const Y=$.getItemAt(F);if(Y[V]===P)return Y;if(W(Y)){const H=K(Y.tables,V,P);if(H)return H}}}const ae=$=>{let V=class extends ${constructor(...P){super(...P),this.tables=new T.Z,this.tables.on("after-add",F=>{const Z=F.item;Z.parent&&Z.parent!==this&&"tables"in Z.parent&&Z.parent.tables.remove(Z),Z.parent=this,"feature"!==Z.type&&X.error(`Layer 'title:${Z.title}, id:${Z.id}' of type '${Z.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",F=>{F.item.parent=null})}destroy(){const P=this.tables.removeAll();for(const F of P)F.destroy();this.tables.destroy()}set tables(P){this._set("tables",(0,re.Z)(P,this._get("tables")))}findTableById(P){return K(this.tables,"id",P)}findTableByUid(P){return K(this.tables,"uid",P)}};return(0,x._)([(0,ee.Cb)()],V.prototype,"tables",null),V=(0,x._)([(0,A.j)(B)],V),V}},59397:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>X});var A,x=C(17626),T=C(14517),re=C(61996),ne=C(77712),j=(C(85931),C(8314),C(90912),C(76898));let B=A=class extends((0,re.I)(T.Z)){constructor(W){super(W),this.active=!1,this.className=null,this.disabled=!1,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new A({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};(0,x._)([(0,ne.Cb)()],B.prototype,"active",void 0),(0,x._)([(0,ne.Cb)()],B.prototype,"className",void 0),(0,x._)([(0,ne.Cb)()],B.prototype,"disabled",void 0),(0,x._)([(0,ne.Cb)()],B.prototype,"id",void 0),(0,x._)([(0,ne.Cb)()],B.prototype,"indicator",void 0),(0,x._)([(0,ne.Cb)()],B.prototype,"title",void 0),(0,x._)([(0,ne.Cb)()],B.prototype,"type",void 0),(0,x._)([(0,ne.Cb)()],B.prototype,"visible",void 0),B=A=(0,x._)([(0,j.j)("esri.support.actions.ActionBase")],B);const X=B},48753:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>B});var j,x=C(17626),T=C(77712),ie=(C(85931),C(8314),C(90912),C(76898)),J=C(59397);let A=j=class extends J.Z{constructor(X){super(X),this.image=null,this.type="button"}clone(){return new j({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};(0,x._)([(0,T.Cb)()],A.prototype,"image",void 0),A=j=(0,x._)([(0,ie.j)("esri.support.Action.ActionButton")],A);const B=A},10671:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>B});var j,x=C(17626),T=C(77712),ie=(C(85931),C(8314),C(90912),C(76898)),J=C(59397);let A=j=class extends J.Z{constructor(X){super(X),this.image=null,this.type="toggle",this.value=!1}clone(){return new j({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};(0,x._)([(0,T.Cb)()],A.prototype,"image",void 0),(0,x._)([(0,T.Cb)()],A.prototype,"value",void 0),A=j=(0,x._)([(0,ie.j)("esri.support.Action.ActionToggle")],A);const B=A},12680:(lt,Se,C)=>{"use strict";C.d(Se,{r:()=>ne});var x=C(21726);const T=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function ne(ee){const ie=(0,x.P$)(ee,!0);return ie&&ie.endsWith(".arcgis.com")&&!T.includes(ie)&&!ee.endsWith("/sharing/rest/generateToken")}},46679:(lt,Se,C)=>{"use strict";C.d(Se,{mz:()=>X,pp:()=>B,WW:()=>J,Yi:()=>j,LC:()=>ie});var x=C(15861),re=(C(29132),C(62208)),ne=C(65234);let ee;function ie(){return ee||(ee=(0,x.Z)(function*(){const W=yield C.e(5068).then(C.bind(C,75068));return{arcade:W.arcade,arcadeUtils:W,Dictionary:W.Dictionary,Feature:W.arcadeFeature}})()),ee}const J=(W,K,ae)=>X.create(W,K,ae,null,["$feature"]),j=(W,K,ae)=>X.create(W,K,ae,null,["$feature","$view"]),B=(W,K,ae,$)=>X.create(W,K,ae,$,["$feature","$view"]);class X{constructor(K,ae,$,V,P,F,Z,Y){this.script=K,this.evaluate=P;const H=Array.isArray(Z)?Z:Z.fields;this.fields=H,this._syntaxTree=V,this._arcade=ae,this._arcadeDictionary=$,this._arcadeFeature=F,this._spatialReference=Y,this._referencesGeometry=ae.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static create(K,ae,$,V,P,F){return(0,x.Z)(function*(){const{arcade:Z,Feature:Y,Dictionary:H}=yield ie(),de=ne.Z.fromJSON(ae),q=Z.parseScript(K,F),ge=P.reduce((fe,Ce)=>Xr(Pt({},fe),{[Ce]:null}),{});let le=null;(0,re.pC)(V)&&(le=new H(V),le.immutable=!0,ge.$config=null);const ye=Z.scriptUsesGeometryEngine(q)&&Z.enableGeometrySupport(),oe=Z.scriptUsesFeatureSet(q)&&Z.enableFeatureSetSupport(),Q=Z.scriptIsAsync(q)&&Z.enableAsyncSupport(),pe={vars:ge,spatialReference:de,useAsync:!!Q},ue=new H;ue.immutable=!1,ue.setField("scale",0);const me=Z.compileScript(q,pe);return yield Promise.all([ye,oe,Q]),new X(K,Z,H,q,fe=>("$view"in fe&&fe.$view&&(ue.setField("scale",fe.$view.scale),fe.$view=ue),le&&(fe.$config=le),me({vars:fe,spatialReference:de})),new Y,$,de)})()}repurposeFeature(K){return K.geometry&&!K.geometry.spatialReference&&(K.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(K.geometry,K.attributes,{fields:this.fields}),this._arcadeFeature}repurposeAdapter(K){return this._arcadeFeature.repurposeFromAdapter(K,{fields:this.fields}),this._arcadeFeature}createDictionary(){return new this._arcadeDictionary}referencesMember(K){return this._arcade.referencesMember(this._syntaxTree,K)}referencesFunction(K){return this._arcade.referencesFunction(this._syntaxTree,K)}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}extractFieldLiterals(){return this._arcade.extractExpectedFieldLiterals(this._syntaxTree)}}},33954:(lt,Se,C)=>{"use strict";C.d(Se,{s:()=>ie,g:()=>ne});var x=C(15861),T=C(54346),re=C(41840);function ne(J){return ee.apply(this,arguments)}function ee(){return(ee=(0,x.Z)(function*(J){if(!J)return;const j=J.indexOf("-vector")>-1?J.slice(0,J.indexOf("-vector")):J,A=yield(0,re.ME)("esri/t9n/basemaps");return A[J]||A[j]})).apply(this,arguments)}const ie={streets:{id:"streets",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,T.V)("esri/images/basemap/streets.jpg")},baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,visibility:!0,opacity:1}]},satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return(0,T.V)("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return(0,T.V)("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Boundaries and Places",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return(0,T.V)("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,T.V)("esri/images/basemap/topo.jpg")},baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,T.V)("esri/images/basemap/gray.jpg")},baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,T.V)("esri/images/basemap/dark-gray.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return(0,T.V)("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,T.V)("esri/images/basemap/national-geographic.jpg")},baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return(0,T.V)("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return(0,T.V)("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return(0,T.V)("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return(0,T.V)("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return(0,T.V)("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return(0,T.V)("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return(0,T.V)("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return(0,T.V)("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"arcgis-imagery":{get thumbnailUrl(){return(0,T.V)("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return(0,T.V)("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return(0,T.V)("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return(0,T.V)("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return(0,T.V)("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return(0,T.V)("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return(0,T.V)("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return(0,T.V)("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return(0,T.V)("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return(0,T.V)("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]}}},49430:(lt,Se,C)=>{"use strict";C.d(Se,{eZ:()=>ae});var x=C(73281),T=C(36630),re=C(55664),J=(C(55013),C(16615),C(82561),C(75484)),B=(C(64531),C(501),C(25621)),X=C(66845);const W=["oid","global-id"],K=["oid","global-id","guid"];function ae({displayField:Q,editFieldsInfo:pe,fields:ue,objectIdField:me,title:ve},fe){if(!ue)return null;const Ce=function de({editFieldsInfo:Q,fields:pe,objectIdField:ue},me){return function P(Q,pe){const ue=Q;return pe&&(Q=Q.filter(me=>-1===pe.indexOf(me.type))),Q===ue&&(Q=Q.slice()),Q.sort(F),Q}(pe,(null==me?void 0:me.ignoreFieldTypes)||oe).map(ve=>new B.Z({fieldName:ve.name,isEditable:Y(ve,Q),label:ve.alias,format:q(ve),visible:V(ve,{editFieldsInfo:Q,objectIdField:ue,visibleFieldNames:null==me?void 0:me.visibleFieldNames})}))}({editFieldsInfo:pe,fields:ue,objectIdField:me},fe);if(!Ce.length)return null;const ce=function le(Q){const pe=(0,T.O5)(Q),{titleBase:ue}=Q;return pe?`${ue}: {${pe.trim()}}`:ue}({titleBase:ve,fields:ue,displayField:Q}),he=function ge(){return[new J.Z,new re.Z]}();return new x.Z({title:ce,content:he,fieldInfos:Ce})}const $=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],V=(Q,{editFieldsInfo:pe,objectIdField:ue,visibleFieldNames:me})=>me?me.has(Q.name):!(Z(Q.name,pe)||ue&&Q.name===ue||W.indexOf(Q.type)>-1||$.some(ve=>ve.test(Q.name)));function F(Q,pe){return"oid"===Q.type?-1:"oid"===pe.type?1:ye(Q)?-1:ye(pe)?1:(Q.alias||Q.name).toLocaleLowerCase().localeCompare((pe.alias||pe.name).toLocaleLowerCase())}function Z(Q,pe){if(!Q||!pe)return!1;const{creationDateField:ue,creatorField:me,editDateField:ve,editorField:fe}=pe;return-1!==[ue&&ue.toLowerCase(),me&&me.toLowerCase(),ve&&ve.toLowerCase(),fe&&fe.toLowerCase()].indexOf(Q.toLowerCase())}function Y(Q,pe){return Q.editable&&-1===K.indexOf(Q.type)&&!Z(Q.name,pe)}function q(Q){switch(Q.type){case"small-integer":case"integer":case"single":return new X.Z({digitSeparator:!0,places:0});case"double":return new X.Z({digitSeparator:!0,places:2});case"date":return new X.Z({dateFormat:"long-month-day-year"});default:return null}}function ye(Q){return"name"===(Q.name&&Q.name.toLowerCase())||"name"===(Q.alias&&Q.alias.toLowerCase())||void 0}const oe=["geometry","blob","raster","guid","xml"]},33899:(lt,Se,C)=>{"use strict";C.d(Se,{f:()=>ne});var x=C(8314),T=C(62208),re=C(10699);function ne(ie,J,j=!1,A){return new Promise((B,X)=>{if((0,re.Hc)(A))return void X(ee());let W=()=>{$(),X(new Error(`Unable to load ${J}`))},K=()=>{const V=ie;$(),B(V)},ae=()=>{if(!ie)return;const V=ie;$(),V.src="",X(ee())};const $=()=>{(0,x.Z)("esri-image-decode")||(ie.removeEventListener("error",W),ie.removeEventListener("load",K)),W=null,K=null,ie=null,(0,T.pC)(A)&&A.removeEventListener("abort",ae),ae=null,j&&URL.revokeObjectURL(J)};(0,T.pC)(A)&&A.addEventListener("abort",ae),(0,x.Z)("esri-image-decode")?ie.decode().then(K,W):(ie.addEventListener("error",W),ie.addEventListener("load",K))})}function ee(){try{return new DOMException("Aborted","AbortError")}catch(ie){const J=new Error;return J.name="AbortError",J}}},38365:(lt,Se,C)=>{"use strict";C.d(Se,{r:()=>x,$:()=>T});const x="20211215",T="ad43611b413b1d0a625293a3ce87543dde5c1fa2"},65787:(lt,Se,C)=>{"use strict";C.d(Se,{se:()=>mt,cT:()=>Pe,dU:()=>Qe,S9:()=>_e,LB:()=>Ye,AH:()=>te,yK:()=>et,S6:()=>Et,QT:()=>Ze,f_:()=>ft});var Y,x=C(90912),T=C(383),re=C(94398),ee=(C(65499),C(48575)),ie=C(9260),A=(C(11472),C(26531),C(22490)),B=C(40445),K=(C(12236),C(46735),C(17626)),ae=C(7093),$=C(58817),V=C(77712),P=C(55342),F=C(76898),Z=C(39368);const H=ae.Z.ofType({base:null,key:"type",typeMap:{fill:ie.Z}});let de=Y=class extends Z.Z{constructor(at){super(at),this.symbolLayers=new H,this.type="mesh-3d"}clone(){return new Y({styleOrigin:(0,$.d9)(this.styleOrigin),symbolLayers:(0,$.d9)(this.symbolLayers),thumbnail:(0,$.d9)(this.thumbnail)})}};(0,K._)([(0,V.Cb)({type:H})],de.prototype,"symbolLayers",void 0),(0,K._)([(0,P.J)({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],de.prototype,"type",void 0),de=Y=(0,K._)([(0,F.j)("esri.symbols.MeshSymbol3D")],de);const q=de;C(2066),C(69147);var Q,ye=C(23841),oe=C(69738);let pe=Q=class extends ee.Z{constructor(...at){super(...at),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(at,wt,Tt,Ut){if(at&&"string"!=typeof at&&null==at.imageData)return at;const Wt={};return at&&(Wt.url=at),wt&&(Wt.outline=wt),null!=Tt&&(Wt.width=(0,ye.t_)(Tt)),null!=Ut&&(Wt.height=(0,ye.t_)(Ut)),Wt}clone(){const at=new Q({color:(0,$.d9)(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return at._set("source",(0,$.d9)(this.source)),at}hash(){var at;return`${super.hash()}.${null==(at=this.color)?void 0:at.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};(0,K._)([(0,P.J)({esriPFS:"picture-fill"},{readOnly:!0})],pe.prototype,"type",void 0),(0,K._)([(0,V.Cb)(oe.KA)],pe.prototype,"url",void 0),(0,K._)([(0,V.Cb)({type:Number,json:{write:!0}})],pe.prototype,"xscale",void 0),(0,K._)([(0,V.Cb)({type:Number,json:{write:!0}})],pe.prototype,"yscale",void 0),(0,K._)([(0,V.Cb)({type:Number,cast:ye.t_,json:{write:!0}})],pe.prototype,"width",void 0),(0,K._)([(0,V.Cb)({type:Number,cast:ye.t_,json:{write:!0}})],pe.prototype,"height",void 0),(0,K._)([(0,V.Cb)({type:Number,cast:ye.t_,json:{write:!0}})],pe.prototype,"xoffset",void 0),(0,K._)([(0,V.Cb)({type:Number,cast:ye.t_,json:{write:!0}})],pe.prototype,"yoffset",void 0),(0,K._)([(0,V.Cb)(oe.Ds)],pe.prototype,"source",void 0),pe=Q=(0,K._)([(0,F.j)("esri.symbols.PictureFillSymbol")],pe);const ue=pe;var me=C(13546),ve=C(69852),fe=C(89673),Ce=C(88493),ce=C(52068),he=C(57213),xe=C(10012),Ae=(C(97665),C(35540)),Re=(C(37771),C(72622),C(12874));function Pe(at){if(!at)return!1;switch(at.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function Qe(at){if(!at)return!1;switch(at.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}C(17497),C(71530),C(97595);const Ye={base:xe.Z,key:"type",typeMap:{"simple-fill":Ce.Z,"picture-fill":ue,"picture-marker":me.Z,"simple-line":ce.Z,"simple-marker":he.Z,text:Ae.Z,"label-3d":A.Z,"line-3d":B.Z,"mesh-3d":q,"point-3d":ve.Z,"polygon-3d":fe.Z,"web-style":Re.Z,cim:re.Z},errorContext:"symbol"},te={base:xe.Z,key:"type",typeMap:{"picture-marker":me.Z,"simple-marker":he.Z,text:Ae.Z,"web-style":Re.Z,cim:re.Z},errorContext:"symbol"},_e=(0,T.d)({types:Ye}),Ze={base:xe.Z,key:"type",typeMap:{"simple-fill":Ce.Z,"picture-fill":ue,"picture-marker":me.Z,"simple-line":ce.Z,"simple-marker":he.Z,text:Ae.Z,"line-3d":B.Z,"mesh-3d":q,"point-3d":ve.Z,"polygon-3d":fe.Z,"web-style":Re.Z,cim:re.Z},errorContext:"symbol"},et={base:xe.Z,key:"type",typeMap:{text:Ae.Z,"label-3d":A.Z},errorContext:"symbol"},ft={base:xe.Z,key:"type",typeMap:{"line-3d":B.Z,"mesh-3d":q,"point-3d":ve.Z,"polygon-3d":fe.Z,"web-style":Re.Z,cim:re.Z},errorContext:"symbol"},Et={base:xe.Z,key:"type",typeMap:{"label-3d":A.Z},errorContext:"symbol"},mt=(0,x.N7)(Ye)},94398:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>$});var K,x=C(15861),T=C(17626),re=C(58817),ne=C(77275),ee=C(77712),J=(C(90912),C(55342)),j=C(68653),A=C(76898),B=C(99433),X=C(36630),W=C(10012);let ae=K=class extends W.Z{constructor(V){super(V),this.data=null,this.type="cim"}readData(V,P){return P}writeData(V,P){if(V)for(const F in V)P[F]=V[F]}collectRequiredFields(V,P){var F=this;return(0,x.Z)(function*(){if("CIMSymbolReference"===F.data.type){const Z=F.data.primitiveOverrides;if(Z){const Y=Z.map(H=>(0,X.io)(V,P,H.valueExpressionInfo.expression));yield Promise.all(Y)}}})()}clone(){return new K({data:(0,re.d9)(this.data)})}hash(){return(0,ne.hP)(JSON.stringify(this.data)).toString()}};(0,T._)([(0,ee.Cb)({json:{write:!1}})],ae.prototype,"color",void 0),(0,T._)([(0,ee.Cb)({json:{write:!0}})],ae.prototype,"data",void 0),(0,T._)([(0,j.r)("data",["symbol"])],ae.prototype,"readData",null),(0,T._)([(0,B.c)("data",{})],ae.prototype,"writeData",null),(0,T._)([(0,J.J)({CIMSymbolReference:"cim"},{readOnly:!0})],ae.prototype,"type",void 0),ae=K=(0,T._)([(0,A.j)("esri.symbols.CIMSymbol")],ae);const $=ae},65499:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>ae});var W,x=C(17626),T=C(62208),re=C(77712),J=(C(85931),C(8314),C(90912),C(55342)),j=C(76898),A=C(97665),B=C(89441),X=C(64830);let K=W=class extends A.Z{constructor($){super($),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new W({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:(0,T.pC)(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})}};(0,x._)([(0,J.J)({Extrude:"extrude"},{readOnly:!0})],K.prototype,"type",void 0),(0,x._)([(0,re.Cb)({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],K.prototype,"size",void 0),(0,x._)([(0,re.Cb)({type:X.Z,json:{write:!0}})],K.prototype,"material",void 0),(0,x._)([(0,re.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],K.prototype,"castShadows",void 0),(0,x._)([(0,re.Cb)(B.Z)],K.prototype,"edges",void 0),K=W=(0,x._)([(0,j.j)("esri.symbols.ExtrudeSymbol3DLayer")],K);const ae=K},48575:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>B});var x=C(17626),T=C(77712),ie=(C(85931),C(8314),C(90912),C(76898)),J=C(52068),j=C(10012);let A=class extends j.Z{constructor(X){super(X),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline&&this.outline.hash()}`}};(0,x._)([(0,T.Cb)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":J.Z}},json:{default:null,write:!0}})],A.prototype,"outline",void 0),(0,x._)([(0,T.Cb)({type:["simple-fill","picture-fill"],readOnly:!0})],A.prototype,"type",void 0),A=(0,x._)([(0,ie.j)("esri.symbols.FillSymbol")],A);const B=A},9260:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>me});var F,x=C(17626),T=C(62208),re=C(77712),J=(C(85931),C(8314),C(90912),C(55342)),j=C(76898),A=C(97665),B=C(89441),X=C(63743),W=C(153),K=C(99255),ae=C(12948),P=(C(63290),C(82255),C(64830));let Z=F=class extends P.b{constructor(ve){super(ve),this.colorMixMode=null}clone(){const ve={color:(0,T.pC)(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode};return new F(ve)}};(0,x._)([(0,J.J)({multiply:"multiply",replace:"replace",tint:"tint"})],Z.prototype,"colorMixMode",void 0),Z=F=(0,x._)([(0,j.j)("esri.symbols.support.Symbol3DFillMaterial")],Z);var ye,H=C(91558),de=C(86162),q=C(23841),ge=C(60958),le=C(43652);let oe=ye=class extends de.wq{constructor(ve){super(ve),this.color=new H.Z([0,0,0,1]),this.size=(0,q.Wz)(1),this.pattern=null,this.patternCap="butt"}clone(){const ve={color:(0,T.pC)(this.color)?this.color.clone():null,size:this.size,pattern:(0,T.pC)(this.pattern)?this.pattern.clone():null,patternCap:this.patternCap};return new ye(ve)}};(0,x._)([(0,re.Cb)(ge.a)],oe.prototype,"color",void 0),(0,x._)([(0,re.Cb)(ge.y)],oe.prototype,"size",void 0),(0,x._)([(0,re.Cb)(K.D)],oe.prototype,"pattern",void 0),(0,x._)([(0,re.Cb)({type:le.Hc,json:{default:"butt",write:{overridePolicy(){return{enabled:(0,T.pC)(this.pattern)}}}}})],oe.prototype,"patternCap",void 0),oe=ye=(0,x._)([(0,j.j)("esri.symbols.support.Symbol3DOutline")],oe);const Q=oe;var pe;let ue=pe=class extends A.Z{constructor(ve){super(ve),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const ve={edges:(0,T.pC)(this.edges)?this.edges.clone():null,enabled:this.enabled,material:(0,T.pC)(this.material)?this.material.clone():null,pattern:(0,T.pC)(this.pattern)?this.pattern.clone():null,castShadows:this.castShadows,outline:(0,T.pC)(this.outline)?this.outline.clone():null};return new pe(ve)}static fromSimpleFillSymbol(ve){var fe,Ce,ce,he,xe,we;const Ae=ve.outline&&ve.outline.style&&"inside-frame"!==ve.outline.style&&"solid"!==ve.outline.style?new X.Z({style:ve.outline.style}):null,Fe={size:null!=(fe=null==(Ce=ve.outline)?void 0:Ce.width)?fe:0,color:(null!=(ce=null==(he=ve.outline)?void 0:he.color)?ce:ae.ix).clone(),pattern:Ae};return Ae&&null!=(xe=ve.outline)&&xe.cap&&(Fe.patternCap=ve.outline.cap),new pe({material:new Z({color:(null!=(we=ve.color)?we:ae.l9).clone()}),pattern:ve.style&&"solid"!==ve.style?new W.Z({style:ve.style}):null,outline:Fe})}};(0,x._)([(0,J.J)({Fill:"fill"},{readOnly:!0})],ue.prototype,"type",void 0),(0,x._)([(0,re.Cb)({type:Z,json:{write:!0}})],ue.prototype,"material",void 0),(0,x._)([(0,re.Cb)(K.q)],ue.prototype,"pattern",void 0),(0,x._)([(0,re.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],ue.prototype,"castShadows",void 0),(0,x._)([(0,re.Cb)({type:Q,json:{write:!0}})],ue.prototype,"outline",void 0),(0,x._)([(0,re.Cb)(B.Z)],ue.prototype,"edges",void 0),ue=pe=(0,x._)([(0,j.j)("esri.symbols.FillSymbol3DLayer")],ue);const me=ue},11472:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>X});var A,x=C(17626),T=C(86162),re=C(23841),ne=C(77712),J=(C(85931),C(8314),C(66656)),j=C(76898);let B=A=class extends T.wq{constructor(W){super(W),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(W){return(0,re.t_)(W)}clone(){return new A({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};(0,x._)([(0,ne.Cb)({type:["underline","line-through","none"],json:{default:"none",write:!0}})],B.prototype,"decoration",void 0),(0,x._)([(0,ne.Cb)({type:String,json:{write:!0}})],B.prototype,"family",void 0),(0,x._)([(0,ne.Cb)({type:Number,json:{write:{overridePolicy:(W,K,ae)=>({enabled:!ae||!ae.textSymbol3D})}}})],B.prototype,"size",void 0),(0,x._)([(0,J.p)("size")],B.prototype,"castSize",null),(0,x._)([(0,ne.Cb)({type:["normal","italic","oblique"],json:{default:"normal",write:!0}})],B.prototype,"style",void 0),(0,x._)([(0,ne.Cb)({type:["normal","bold","bolder","lighter"],json:{default:"normal",write:!0}})],B.prototype,"weight",void 0),B=A=(0,x._)([(0,j.j)("esri.symbols.Font")],B);const X=B},26531:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>ue});var Z,x=C(17626),T=C(63290),re=C(62208),ne=C(21726),ee=C(77712),A=(C(85931),C(8314),C(90912),C(55342)),B=C(76898),X=C(97665),W=C(12948),K=C(33215),ae=C(60958),$=C(37519),V=C(91558),P=C(86162),F=C(23841);let Y=Z=class extends P.wq{constructor(me){super(me),this.color=new V.Z([0,0,0,1]),this.size=(0,F.Wz)(1)}clone(){const me={color:(0,re.pC)(this.color)?this.color.clone():null,size:this.size};return new Z(me)}};(0,x._)([(0,ee.Cb)(ae.a)],Y.prototype,"color",void 0),(0,x._)([(0,ee.Cb)(ae.y)],Y.prototype,"size",void 0),Y=Z=(0,x._)([(0,B.j)("esri.symbols.support.Symbol3DIconOutline")],Y);const H=Y;var q,de=C(64830);const ge=T.Z.getLogger("esri.symbols.IconSymbol3DLayer");let le=q=class extends X.Z{constructor(me){super(me),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=void 0,this.outline=void 0}clone(){return new q({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:(0,re.pC)(this.material)?this.material.clone():null,outline:(0,re.pC)(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}static fromSimpleMarkerSymbol(me){const ve=me.color||W.ix,fe=ye(me),Ce=me.outline&&me.outline.width>0?{size:me.outline.width,color:(me.outline.color||W.ix).clone()}:null;return new q({size:me.size,resource:{primitive:pe(me.style)},material:{color:ve},outline:Ce,anchor:fe?"relative":void 0,anchorPosition:fe})}static fromPictureMarkerSymbol(me){const ve=!me.color||(0,W.rx)(me.color)?W.ix:me.color,fe=ye(me);return new q({size:me.width<=me.height?me.height:me.width,resource:{href:me.url},material:{color:ve.clone()},anchor:fe?"relative":void 0,anchorPosition:fe})}static fromCIMSymbol(me){return new q({resource:{href:(0,ne._l)({mediaType:"application/json",data:JSON.stringify(me.data)})}})}};function ye(me){const ve="width"in me?me.width:me.size,fe="height"in me?me.height:me.size,Ce=oe(me.xoffset),ce=oe(me.yoffset);return(Ce||ce)&&ve&&fe?{x:-Ce/ve,y:ce/fe}:null}function oe(me){return isFinite(me)?me:0}(0,x._)([(0,ee.Cb)({type:de.Z,json:{write:!0}})],le.prototype,"material",void 0),(0,x._)([(0,ee.Cb)({type:K.ZP,json:{write:!0}})],le.prototype,"resource",void 0),(0,x._)([(0,A.J)({Icon:"icon"},{readOnly:!0})],le.prototype,"type",void 0),(0,x._)([(0,ee.Cb)(ae.y)],le.prototype,"size",void 0),(0,x._)([(0,A.J)({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),(0,ee.Cb)({json:{default:"center"}})],le.prototype,"anchor",void 0),(0,x._)([(0,ee.Cb)({type:$.e,json:{type:[Number],read:{reader:me=>new $.e({x:me[0],y:me[1]})},write:{writer:(me,ve)=>{ve.anchorPosition=[me.x,me.y]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],le.prototype,"anchorPosition",void 0),(0,x._)([(0,ee.Cb)({type:H,json:{write:!0}})],le.prototype,"outline",void 0),le=q=(0,x._)([(0,B.j)("esri.symbols.IconSymbol3DLayer")],le);const Q={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function pe(me){return Q[me]||(ge.warn(`${me} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const ue=le},22490:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>$});var W,x=C(17626),T=C(7093),re=C(58817),ne=C(77712),ie=(C(90912),C(55342)),J=C(76898),j=C(39368),A=C(37771),B=C(9824),X=C(97595);const K=T.Z.ofType({base:null,key:"type",typeMap:{text:A.Z}});let ae=W=class extends j.Z{constructor(V){super(V),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new K,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return(0,B.gv)(this)}hasVisibleVerticalOffset(){return(0,B.Uy)(this)}clone(){return new W({styleOrigin:(0,re.d9)(this.styleOrigin),symbolLayers:(0,re.d9)(this.symbolLayers),thumbnail:(0,re.d9)(this.thumbnail),callout:(0,re.d9)(this.callout),verticalOffset:(0,re.d9)(this.verticalOffset)})}static fromTextSymbol(V){return new W({symbolLayers:[A.Z.fromTextSymbol(V)]})}};(0,x._)([(0,ne.Cb)({type:X.Z,json:{write:!0}})],ae.prototype,"verticalOffset",void 0),(0,x._)([(0,ne.Cb)(B.Y2)],ae.prototype,"callout",void 0),(0,x._)([(0,ne.Cb)({json:{read:!1,write:!1}})],ae.prototype,"styleOrigin",void 0),(0,x._)([(0,ne.Cb)({type:K})],ae.prototype,"symbolLayers",void 0),(0,x._)([(0,ie.J)({LabelSymbol3D:"label-3d"},{readOnly:!0})],ae.prototype,"type",void 0),ae=W=(0,x._)([(0,J.j)("esri.symbols.LabelSymbol3D")],ae);const $=ae},40445:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>$});var X,x=C(17626),T=C(7093),re=C(58817),ne=C(77712),ie=(C(90912),C(55342)),J=C(76898),j=C(12236),A=C(69147),B=C(39368);const W=T.Z.ofType({base:null,key:"type",typeMap:{line:j.Z,path:A.Z}}),K=T.Z.ofType({base:null,key:"type",typeMap:{line:j.Z,path:A.Z}});let ae=X=class extends B.Z{constructor(V){super(V),this.symbolLayers=new W,this.type="line-3d"}clone(){return new X({styleOrigin:(0,re.d9)(this.styleOrigin),symbolLayers:(0,re.d9)(this.symbolLayers),thumbnail:(0,re.d9)(this.thumbnail)})}static fromSimpleLineSymbol(V){return new X({symbolLayers:[j.Z.fromSimpleLineSymbol(V)]})}};(0,x._)([(0,ne.Cb)({type:W,json:{type:K}})],ae.prototype,"symbolLayers",void 0),(0,x._)([(0,ie.J)({LineSymbol3D:"line-3d"},{readOnly:!0})],ae.prototype,"type",void 0),ae=X=(0,x._)([(0,J.j)("esri.symbols.LineSymbol3D")],ae);const $=ae},12236:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>Z});var P,x=C(17626),T=C(62208),re=C(23841),ne=C(77712),j=(C(85931),C(8314),C(90912),C(55342)),A=C(76898),B=C(97665),X=C(63743),W=C(99255),K=C(12948),ae=C(60958),$=C(64830),V=C(43652);let F=P=class extends B.Z{constructor(Y){super(Y),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=(0,re.Wz)(1),this.pattern=null}clone(){const Y={enabled:this.enabled,material:(0,T.pC)(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:(0,T.pC)(this.pattern)?this.pattern.clone():null};return new P(Y)}static fromSimpleLineSymbol(Y){const H={enabled:!0,size:Y.width||1,cap:Y.cap||"butt",join:Y.join||"miter",pattern:Y.style&&"inside-frame"!==Y.style?new X.Z({style:Y.style}):null,material:new $.b({color:(Y.color||K.ix).clone()})};return new P(H)}};(0,x._)([(0,ne.Cb)({type:$.b,json:{write:!0}})],F.prototype,"material",void 0),(0,x._)([(0,j.J)({Line:"line"},{readOnly:!0})],F.prototype,"type",void 0),(0,x._)([(0,ne.Cb)({type:V.w2,json:{write:!0,default:"miter"}})],F.prototype,"join",void 0),(0,x._)([(0,ne.Cb)({type:V.Hc,json:{write:!0,default:"butt"}})],F.prototype,"cap",void 0),(0,x._)([(0,ne.Cb)(ae.y)],F.prototype,"size",void 0),(0,x._)([(0,ne.Cb)(W.D)],F.prototype,"pattern",void 0),F=P=(0,x._)([(0,A.j)("esri.symbols.LineSymbol3DLayer")],F);const Z=F},46735:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>B});var x=C(17626),T=C(23841),re=C(77712),J=(C(85931),C(8314),C(90912),C(76898)),j=C(10012);let A=class extends j.Z{constructor(X){super(X),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};(0,x._)([(0,re.Cb)({type:Number,json:{read:X=>X&&-1*X,write:(X,W)=>W.angle=X&&-1*X}})],A.prototype,"angle",void 0),(0,x._)([(0,re.Cb)({type:["simple-marker","picture-marker"],readOnly:!0})],A.prototype,"type",void 0),(0,x._)([(0,re.Cb)({type:Number,cast:T.t_,json:{write:!0}})],A.prototype,"xoffset",void 0),(0,x._)([(0,re.Cb)({type:Number,cast:T.t_,json:{write:!0}})],A.prototype,"yoffset",void 0),(0,x._)([(0,re.Cb)({type:Number,cast:X=>"auto"===X?X:(0,T.t_)(X),json:{write:!0}})],A.prototype,"size",void 0),A=(0,x._)([(0,J.j)("esri.symbols.MarkerSymbol")],A);const B=A},2066:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>F});var W,x=C(17626),T=C(62208),re=C(77712),J=(C(85931),C(8314),C(90912),C(55342)),j=C(76898),A=C(97665),B=C(48521),X=C(14517);let K=W=class extends X.Z{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new W({x:this.x,y:this.y,z:this.z})}};(0,x._)([(0,re.Cb)({type:Number})],K.prototype,"x",void 0),(0,x._)([(0,re.Cb)({type:Number})],K.prototype,"y",void 0),(0,x._)([(0,re.Cb)({type:Number})],K.prototype,"z",void 0),K=W=(0,x._)([(0,j.j)("esri.symbols.support.Symbol3DAnchorPosition3D")],K);var V,$=C(64830);let P=V=class extends A.Z{constructor(Z){super(Z),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new V({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:(0,T.pC)(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})}get isPrimitive(){return!this.resource||"string"!=typeof this.resource.href}};(0,x._)([(0,re.Cb)({type:$.Z,json:{write:!0}})],P.prototype,"material",void 0),(0,x._)([(0,re.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],P.prototype,"castShadows",void 0),(0,x._)([(0,re.Cb)({type:B.ZP,json:{write:!0}})],P.prototype,"resource",void 0),(0,x._)([(0,J.J)({Object:"object"},{readOnly:!0})],P.prototype,"type",void 0),(0,x._)([(0,re.Cb)({type:Number,json:{write:!0}})],P.prototype,"width",void 0),(0,x._)([(0,re.Cb)({type:Number,json:{write:!0}})],P.prototype,"height",void 0),(0,x._)([(0,re.Cb)({type:Number,json:{write:!0}})],P.prototype,"depth",void 0),(0,x._)([(0,J.J)({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),(0,re.Cb)({json:{default:"origin"}})],P.prototype,"anchor",void 0),(0,x._)([(0,re.Cb)({type:K,json:{type:[Number],read:{reader:Z=>new K({x:Z[0],y:Z[1],z:Z[2]})},write:{writer:(Z,Y)=>{Y.anchorPosition=[Z.x,Z.y,Z.z]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],P.prototype,"anchorPosition",void 0),(0,x._)([(0,re.Cb)({type:Number,json:{write:!0}})],P.prototype,"heading",void 0),(0,x._)([(0,re.Cb)({type:Number,json:{write:!0}})],P.prototype,"tilt",void 0),(0,x._)([(0,re.Cb)({type:Number,json:{write:!0}})],P.prototype,"roll",void 0),(0,x._)([(0,re.Cb)({readOnly:!0})],P.prototype,"isPrimitive",null),P=V=(0,x._)([(0,j.j)("esri.symbols.ObjectSymbol3DLayer")],P);const F=P},69147:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>$});var K,x=C(17626),T=C(62208),re=C(77712),J=(C(85931),C(8314),C(90912),C(55342)),j=C(68653),A=C(76898),B=C(97665),X=C(64830),W=C(43652);let ae=K=class extends B.Z{constructor(V){super(V),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(V,P){return null!=V?V:null==P.height&&null!=P.size?P.size:void 0}readHeight(V,P){return null!=V?V:null==P.width&&null!=P.size?P.size:void 0}clone(){return new K({enabled:this.enabled,material:(0,T.pC)(this.material)?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};(0,x._)([(0,re.Cb)({type:X.Z,json:{write:!0}})],ae.prototype,"material",void 0),(0,x._)([(0,re.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],ae.prototype,"castShadows",void 0),(0,x._)([(0,J.J)({Path:"path"},{readOnly:!0})],ae.prototype,"type",void 0),(0,x._)([(0,re.Cb)({type:["circle","quad"],json:{write:!0,default:"circle"}})],ae.prototype,"profile",void 0),(0,x._)([(0,re.Cb)({type:W.w2,json:{write:!0,default:"miter"}})],ae.prototype,"join",void 0),(0,x._)([(0,re.Cb)({type:W.KW,json:{write:!0,default:"butt"}})],ae.prototype,"cap",void 0),(0,x._)([(0,re.Cb)({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],ae.prototype,"width",void 0),(0,x._)([(0,j.r)("width",["width","size","height"])],ae.prototype,"readWidth",null),(0,x._)([(0,re.Cb)({type:Number,json:{write:!0}})],ae.prototype,"height",void 0),(0,x._)([(0,j.r)("height",["height","size","width"])],ae.prototype,"readHeight",null),(0,x._)([(0,re.Cb)({type:["center","bottom","top"],json:{write:!0,default:"center"}})],ae.prototype,"anchor",void 0),(0,x._)([(0,re.Cb)({type:["heading","all"],json:{write:!0,default:"all"}})],ae.prototype,"profileRotation",void 0),ae=K=(0,x._)([(0,A.j)("esri.symbols.PathSymbol3DLayer")],ae);const $=ae},13546:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>K});var X,x=C(17626),T=C(58817),re=C(23841),ne=C(77712),ie=(C(90912),C(55342)),J=C(68653),j=C(76898),A=C(46735),B=C(69738);let W=X=class extends A.Z{constructor(...ae){super(...ae),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(ae,$,V){if(ae&&"string"!=typeof ae&&null==ae.imageData)return ae;const P={};return ae&&(P.url=ae),null!=$&&(P.width=(0,re.t_)($)),null!=V&&(P.height=(0,re.t_)(V)),P}readHeight(ae,$){return $.size||ae}readWidth(ae,$){return $.size||ae}clone(){const ae=new X({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return ae._set("source",(0,T.d9)(this.source)),ae}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};(0,x._)([(0,ne.Cb)({json:{write:!1}})],W.prototype,"color",void 0),(0,x._)([(0,ie.J)({esriPMS:"picture-marker"},{readOnly:!0})],W.prototype,"type",void 0),(0,x._)([(0,ne.Cb)(B.KA)],W.prototype,"url",void 0),(0,x._)([(0,ne.Cb)(B.Ds)],W.prototype,"source",void 0),(0,x._)([(0,ne.Cb)({type:Number,cast:re.t_,json:{write:!0}})],W.prototype,"height",void 0),(0,x._)([(0,J.r)("height",["height","size"])],W.prototype,"readHeight",null),(0,x._)([(0,ne.Cb)({type:Number,cast:re.t_,json:{write:!0}})],W.prototype,"width",void 0),(0,x._)([(0,ne.Cb)({json:{write:!1}})],W.prototype,"size",void 0),W=X=(0,x._)([(0,j.j)("esri.symbols.PictureMarkerSymbol")],W);const K=W},69852:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>Y});var V,x=C(17626),T=C(7093),re=C(26584),ne=C(58817),ee=C(77712),J=(C(90912),C(55342)),j=C(76898),A=C(99433),B=C(26531),X=C(2066),W=C(39368),K=C(37771),ae=C(9824),$=C(97595);const P=T.Z.ofType({base:null,key:"type",typeMap:{icon:B.Z,object:X.Z,text:K.Z}}),F=T.Z.ofType({base:null,key:"type",typeMap:{icon:B.Z,object:X.Z}});let Z=V=class extends W.Z{constructor(H){super(H),this.verticalOffset=null,this.callout=null,this.symbolLayers=new P,this.type="point-3d"}writeSymbolLayers(H,de,q,ge){const le=H.filter(ye=>"text"!==ye.type);if(ge&&ge.messages&&le.length<H.length){const ye=H.find(oe=>"text"===oe.type);ge.messages.push(new re.Z("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PointSymbol3D",{symbolLayer:ye}))}de[q]=le.map(ye=>ye.write({},ge)).toArray()}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const H of this.symbolLayers.items)switch(H.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return(0,ae.gv)(this)}hasVisibleVerticalOffset(){return(0,ae.Uy)(this)}clone(){return new V({verticalOffset:(0,ne.d9)(this.verticalOffset),callout:(0,ne.d9)(this.callout),styleOrigin:(0,ne.d9)(this.styleOrigin),symbolLayers:(0,ne.d9)(this.symbolLayers),thumbnail:(0,ne.d9)(this.thumbnail)})}static fromSimpleMarkerSymbol(H){return new V({symbolLayers:[B.Z.fromSimpleMarkerSymbol(H)]})}static fromPictureMarkerSymbol(H){return new V({symbolLayers:[B.Z.fromPictureMarkerSymbol(H)]})}static fromCIMSymbol(H){var de,q;return"CIMPointSymbol"!==(null==(de=H.data)||null==(q=de.symbol)?void 0:q.type)?null:new V(H.data.symbol.callout?{symbolLayers:[B.Z.fromCIMSymbol(H)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}}:{symbolLayers:[B.Z.fromCIMSymbol(H)]})}static fromTextSymbol(H){return new V({symbolLayers:[K.Z.fromTextSymbol(H)]})}};(0,x._)([(0,ee.Cb)({type:$.Z,json:{write:!0}})],Z.prototype,"verticalOffset",void 0),(0,x._)([(0,ee.Cb)(ae.Y2)],Z.prototype,"callout",void 0),(0,x._)([(0,ee.Cb)({type:P,json:{type:F,origins:{"web-scene":{type:F}}}})],Z.prototype,"symbolLayers",void 0),(0,x._)([(0,A.c)("web-scene","symbolLayers")],Z.prototype,"writeSymbolLayers",null),(0,x._)([(0,J.J)({PointSymbol3D:"point-3d"},{readOnly:!0})],Z.prototype,"type",void 0),Z=V=(0,x._)([(0,j.j)("esri.symbols.PointSymbol3D")],Z);const Y=Z},89673:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>q});var Z,x=C(17626),T=C(7093),re=C(26584),ne=C(58817),ee=C(62208),ie=C(77712),j=(C(90912),C(55342)),A=C(76898),B=C(99433),X=C(65499),W=C(9260),K=C(26531),ae=C(12236),$=C(2066),V=C(39368),P=C(37771),F=C(72622);const Y=T.Z.ofType({base:null,key:"type",typeMap:{extrude:X.Z,fill:W.Z,icon:K.Z,line:ae.Z,object:$.Z,text:P.Z,water:F.Z}}),H=T.Z.ofType({base:null,key:"type",typeMap:{extrude:X.Z,fill:W.Z,icon:K.Z,line:ae.Z,object:$.Z,water:F.Z}});let de=Z=class extends V.Z{constructor(ge){super(ge),this.symbolLayers=new Y,this.type="polygon-3d"}writeSymbolLayers(ge,le,ye,oe){const Q=ge.filter(pe=>"text"!==pe.type);if(oe&&oe.messages&&Q.length<ge.length){const pe=ge.find(ue=>"text"===ue.type);oe.messages.push(new re.Z("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:pe}))}le[ye]=Q.map(pe=>pe.write({},oe)).toArray()}clone(){return new Z({styleOrigin:(0,ne.d9)(this.styleOrigin),symbolLayers:(0,ne.d9)(this.symbolLayers),thumbnail:(0,ne.d9)(this.thumbnail)})}static fromJSON(ge){const le=new Z;if(le.read(ge),2===le.symbolLayers.length&&"fill"===le.symbolLayers.getItemAt(0).type&&"line"===le.symbolLayers.getItemAt(1).type){const ye=le.symbolLayers.getItemAt(0),oe=le.symbolLayers.getItemAt(1);!oe.enabled||ge.symbolLayers&&ge.symbolLayers[1]&&!1===ge.symbolLayers[1].enable||(ye.outline={size:oe.size,color:(0,ee.pC)(oe.material)?oe.material.color:null}),le.symbolLayers.removeAt(1)}return le}static fromSimpleFillSymbol(ge){return new Z({symbolLayers:[W.Z.fromSimpleFillSymbol(ge)]})}};(0,x._)([(0,ie.Cb)({type:Y,json:{type:H}})],de.prototype,"symbolLayers",void 0),(0,x._)([(0,B.c)("web-scene","symbolLayers")],de.prototype,"writeSymbolLayers",null),(0,x._)([(0,j.J)({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],de.prototype,"type",void 0),de=Z=(0,x._)([(0,A.j)("esri.symbols.PolygonSymbol3D")],de);const q=de},88493:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>ae});var X,x=C(17626),T=C(91558),re=C(2076),ne=C(58817),ee=C(77712),J=(C(90912),C(55342)),j=C(76898),A=C(48575),B=C(52068);const W=new re.Xn({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let K=X=class extends A.Z{constructor(...$){super(...$),this.color=new T.Z([0,0,0,.25]),this.outline=new B.Z,this.type="simple-fill",this.style="solid"}normalizeCtorArgs($,V,P){if($&&"string"!=typeof $)return $;const F={};return $&&(F.style=$),V&&(F.outline=V),P&&(F.color=P),F}clone(){return new X({color:(0,ne.d9)(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};(0,x._)([(0,ee.Cb)()],K.prototype,"color",void 0),(0,x._)([(0,ee.Cb)()],K.prototype,"outline",void 0),(0,x._)([(0,J.J)({esriSFS:"simple-fill"},{readOnly:!0})],K.prototype,"type",void 0),(0,x._)([(0,ee.Cb)({type:W.apiValues,json:{read:W.read,write:W.write}})],K.prototype,"style",void 0),K=X=(0,x._)([(0,j.j)("esri.symbols.SimpleFillSymbol")],K);const ae=K},52068:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>ge});var x=C(17626),T=C(2076),re=C(58817),ne=C(23841),ee=C(77712),J=(C(90912),C(55342)),j=C(76898),X=(C(85931),C(8314),C(10012));let W=class extends X.Z{constructor(le){super(le),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};(0,x._)([(0,J.J)({esriSLS:"simple-line"},{readOnly:!0})],W.prototype,"type",void 0),(0,x._)([(0,ee.Cb)({type:Number,cast:ne.t_,json:{write:!0}})],W.prototype,"width",void 0),W=(0,x._)([(0,j.j)("esri.symbols.LineSymbol")],W);const K=W;var F,ae=C(91558),$=C(86162),V=C(68653),P=C(99433);let Z=F=class extends $.wq{constructor(le){super(le),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(le,ye,oe,Q){ye[oe]="web-map"===(null==Q?void 0:Q.origin)?"arrow":le}set color(le){this._set("color",le)}readColor(le){return le&&null!=le[0]?[le[0],le[1],le[2],le[3]/255]:le}writeColor(le,ye,oe,Q){"web-map"===(null==Q?void 0:Q.origin)||(ye[oe]=le)}clone(){return new F({color:(0,re.d9)(this.color),placement:this.placement,style:this.style})}hash(){var le;return`${this.placement}.${null==(le=this.color)?void 0:le.hash()}.${this.style}`}};(0,x._)([(0,ee.Cb)({type:["begin","end","begin-end"],json:{write:!0}})],Z.prototype,"placement",void 0),(0,x._)([(0,J.J)({"line-marker":"line-marker"},{readOnly:!0}),(0,ee.Cb)({json:{origins:{"web-map":{write:!1}}}})],Z.prototype,"type",void 0),(0,x._)([(0,ee.Cb)({type:["arrow","circle","square","diamond","cross","x"]})],Z.prototype,"style",void 0),(0,x._)([(0,P.c)("style")],Z.prototype,"writeStyle",null),(0,x._)([(0,ee.Cb)({type:ae.Z,value:null,json:{write:{allowNull:!0}}})],Z.prototype,"color",null),(0,x._)([(0,V.r)("color")],Z.prototype,"readColor",null),(0,x._)([(0,P.c)("color")],Z.prototype,"writeColor",null),Z=F=(0,x._)([(0,j.j)("esri.symbols.LineSymbolMarker")],Z);const Y=Z;var H;const de=new T.Xn({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let q=H=class extends K{constructor(...le){super(...le),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(le,ye,oe,Q,pe,ue){if(le&&"string"!=typeof le)return le;const me={};return null!=le&&(me.style=le),null!=ye&&(me.color=ye),null!=oe&&(me.width=(0,ne.t_)(oe)),null!=Q&&(me.cap=Q),null!=pe&&(me.join=pe),null!=ue&&(me.miterLimit=(0,ne.t_)(ue)),me}clone(){var le;return new H({color:(0,re.d9)(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:null==(le=this.marker)?void 0:le.clone()})}hash(){var le,ye;return`${super.hash()}.${null==(le=this.color)?void 0:le.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${null==(ye=this.marker)?void 0:ye.hash()}`}};(0,x._)([(0,J.J)({esriSLS:"simple-line"},{readOnly:!0})],q.prototype,"type",void 0),(0,x._)([(0,ee.Cb)({type:de.apiValues,json:{read:de.read,write:de.write}})],q.prototype,"style",void 0),(0,x._)([(0,ee.Cb)({type:["butt","round","square"],json:{write:{overridePolicy:(le,ye,oe)=>({enabled:"round"!==le&&(null==oe||null==oe.origin)})}}})],q.prototype,"cap",void 0),(0,x._)([(0,ee.Cb)({type:["miter","round","bevel"],json:{write:{overridePolicy:(le,ye,oe)=>({enabled:"round"!==le&&(null==oe||null==oe.origin)})}}})],q.prototype,"join",void 0),(0,x._)([(0,ee.Cb)({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":Y}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],q.prototype,"marker",void 0),(0,x._)([(0,ee.Cb)({type:Number,json:{read:!1,write:!1}})],q.prototype,"miterLimit",void 0),q=H=(0,x._)([(0,j.j)("esri.symbols.SimpleLineSymbol")],q);const ge=q},57213:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>V});var K,x=C(17626),T=C(91558),re=C(2076),ne=C(58817),ee=C(23841),ie=C(77712),j=(C(90912),C(55342)),A=C(76898),B=C(99433),X=C(46735),W=C(52068);const ae=new re.Xn({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let $=K=class extends X.Z{constructor(...P){super(...P),this.color=new T.Z([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new W.Z}normalizeCtorArgs(P,F,Z,Y){if(P&&"string"!=typeof P)return P;const H={};return P&&(H.style=P),null!=F&&(H.size=(0,ee.t_)(F)),Z&&(H.outline=Z),Y&&(H.color=Y),H}writeColor(P,F){P&&"x"!==this.style&&"cross"!==this.style&&(F.color=P.toJSON()),null===P&&(F.color=null)}set path(P){this.style="path",this._set("path",P)}clone(){return new K({angle:this.angle,color:(0,ne.d9)(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var P;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${null==(P=this.outline)?void 0:P.hash()}`}};(0,x._)([(0,ie.Cb)()],$.prototype,"color",void 0),(0,x._)([(0,B.c)("color")],$.prototype,"writeColor",null),(0,x._)([(0,j.J)({esriSMS:"simple-marker"},{readOnly:!0})],$.prototype,"type",void 0),(0,x._)([(0,ie.Cb)()],$.prototype,"size",void 0),(0,x._)([(0,ie.Cb)({type:ae.apiValues,json:{read:ae.read,write:ae.write}})],$.prototype,"style",void 0),(0,x._)([(0,ie.Cb)({type:String,json:{write:!0}})],$.prototype,"path",null),(0,x._)([(0,ie.Cb)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":W.Z}},json:{default:null,write:!0}})],$.prototype,"outline",void 0),$=K=(0,x._)([(0,A.j)("esri.symbols.SimpleMarkerSymbol")],$);const V=$},10012:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>$});var x=C(15861),T=C(17626),re=C(91558),ne=C(2076),ee=C(86162),ie=C(77712),B=(C(85931),C(8314),C(90912),C(68653)),X=C(76898);const W=new ne.Xn({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let K=0,ae=class extends ee.wq{constructor(V){super(V),this.id="sym"+K++,this.type=null}set color(V){this._set("color",V)}readColor(V){return V&&null!=V[0]?[V[0],V[1],V[2],V[3]/255]:V}collectRequiredFields(V,P){return(0,x.Z)(function*(){})()}hash(){return JSON.stringify(this.toJSON())}clone(){}};(0,T._)([(0,ie.Cb)({type:W.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:W.write}}})],ae.prototype,"type",void 0),(0,T._)([(0,ie.Cb)({type:re.Z,value:new re.Z([0,0,0,1]),json:{write:{allowNull:!0}}})],ae.prototype,"color",null),(0,T._)([(0,B.r)("color")],ae.prototype,"readColor",null),ae=(0,T._)([(0,X.j)("esri.symbols.Symbol")],ae);const $=ae},39368:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>ve});var x=C(17626),T=C(7093),re=C(89726),ne=C(63290),ee=C(21726),ie=C(14889),J=C(77712),B=(C(85931),C(8314),C(66656)),X=C(68653),W=C(76898),K=C(99433),ae=C(84687),$=C(29840),V=C(65499),P=C(9260),F=C(26531),Z=C(12236),Y=C(2066),H=C(69147),de=C(10012),q=C(97665),ge=C(37771),le=C(72622),ye=C(77345),oe=C(96296);const Q={icon:F.Z,object:Y.Z,line:Z.Z,path:H.Z,fill:P.Z,extrude:V.Z,text:ge.Z,water:le.Z},pe=T.Z.ofType({base:q.Z,key:"type",typeMap:Q,errorContext:"symbol-layer"}),ue=ne.Z.getLogger("esri.symbols.Symbol3D");let me=class extends de.Z{constructor(fe){super(fe),this.styleOrigin=null,this.thumbnail=null,this.type=null;const Ce=this.__accessor__&&this.__accessor__.metadatas&&this.__accessor__.metadatas.symbolLayers;this._set("symbolLayers",new(Ce&&Ce.type||T.Z))}get color(){return null}set color(fe){ue.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(fe){(0,re.Z)(fe,this._get("symbolLayers"))}readStyleOrigin(fe,Ce,ce){if(fe.styleUrl&&fe.name){const he=(0,$.f)(fe.styleUrl,ce);return new ye.Z({styleUrl:he,name:fe.name})}if(fe.styleName&&fe.name)return new ye.Z({portal:ce&&ce.portal||ae.Z.getDefault(),styleName:fe.styleName,name:fe.name});ce&&ce.messages&&ce.messages.push(new ie.Z("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:ce,definition:fe}))}writeStyleOrigin(fe,Ce,ce,he){if(fe.styleUrl&&fe.name){let xe=(0,$.t)(fe.styleUrl,he);(0,ee.YP)(xe)&&(xe=(0,ee.Fv)(xe)),Ce.styleOrigin={styleUrl:xe,name:fe.name}}else fe.styleName&&fe.name&&(fe.portal&&he&&he.portal&&!(0,ee.tm)(fe.portal.restUrl,he.portal.restUrl)?he&&he.messages&&he.messages.push(new ie.Z("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):Ce.styleOrigin={styleName:fe.styleName,name:fe.name})}normalizeCtorArgs(fe){return fe instanceof q.Z||fe&&Q[fe.type]?{symbolLayers:[fe]}:Array.isArray(fe)?{symbolLayers:fe}:fe}};(0,x._)([(0,J.Cb)({json:{read:!1,write:!1}})],me.prototype,"color",null),(0,x._)([(0,J.Cb)({type:pe,nonNullable:!0,json:{write:!0}}),(0,B.p)(re.R)],me.prototype,"symbolLayers",null),(0,x._)([(0,J.Cb)({type:ye.Z})],me.prototype,"styleOrigin",void 0),(0,x._)([(0,X.r)("styleOrigin")],me.prototype,"readStyleOrigin",null),(0,x._)([(0,K.c)("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],me.prototype,"writeStyleOrigin",null),(0,x._)([(0,J.Cb)({type:oe.Z,json:{read:!1}})],me.prototype,"thumbnail",void 0),(0,x._)([(0,J.Cb)({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],me.prototype,"type",void 0),me=(0,x._)([(0,W.j)("esri.symbols.Symbol3D")],me);const ve=me},97665:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>B});var x=C(17626),T=C(86162),re=C(77712),J=(C(85931),C(8314),C(90912),C(76898)),j=C(99433);let A=class extends T.wq{constructor(X){super(X),this.enabled=!0,this.type=null}writeEnabled(X,W,K){X||(W[K]=X)}};(0,x._)([(0,re.Cb)({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],A.prototype,"enabled",void 0),(0,x._)([(0,j.c)("enabled")],A.prototype,"writeEnabled",null),(0,x._)([(0,re.Cb)({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],A.prototype,"type",void 0),A=(0,x._)([(0,J.j)("esri.symbols.Symbol3DLayer")],A);const B=A},35540:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>ae});var W,x=C(17626),T=C(91558),re=C(58817),ne=C(23841),ee=C(77712),ie=C(66656),J=C(55342),j=C(76898),A=C(99433),B=C(11472),X=C(10012);let K=W=class extends X.Z{constructor(...$){super(...$),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new B.Z,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment=null,this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs($,V,P){if($&&"string"!=typeof $)return $;const F={};return $&&(F.text=$),V&&(F.font=V),P&&(F.color=P),F}writeLineWidth($,V,P,F){F&&"string"!=typeof F||(V[P]=$)}castLineWidth($){return(0,ne.t_)($)}writeLineHeight($,V,P,F){F&&"string"!=typeof F||(V[P]=$)}clone(){return new W({angle:this.angle,backgroundColor:(0,re.d9)(this.backgroundColor),borderLineColor:(0,re.d9)(this.borderLineColor),borderLineSize:this.borderLineSize,color:(0,re.d9)(this.color),font:this.font&&this.font.clone(),haloColor:(0,re.d9)(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor&&this.backgroundColor.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color.hash()}.${this.font&&this.font.hash()}.${this.haloColor&&this.haloColor.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};(0,x._)([(0,ee.Cb)({type:T.Z,json:{write:!0}})],K.prototype,"backgroundColor",void 0),(0,x._)([(0,ee.Cb)({type:T.Z,json:{write:!0}})],K.prototype,"borderLineColor",void 0),(0,x._)([(0,ee.Cb)({type:Number,json:{write:!0}})],K.prototype,"borderLineSize",void 0),(0,x._)([(0,ee.Cb)({type:B.Z,json:{write:!0}})],K.prototype,"font",void 0),(0,x._)([(0,ee.Cb)({type:["left","right","center","justify"],json:{write:!0}})],K.prototype,"horizontalAlignment",void 0),(0,x._)([(0,ee.Cb)({type:Boolean,json:{write:!0}})],K.prototype,"kerning",void 0),(0,x._)([(0,ee.Cb)({type:T.Z,json:{write:!0}})],K.prototype,"haloColor",void 0),(0,x._)([(0,ee.Cb)({type:Number,cast:ne.t_,json:{write:!0}})],K.prototype,"haloSize",void 0),(0,x._)([(0,ee.Cb)({type:Boolean,json:{write:!0}})],K.prototype,"rightToLeft",void 0),(0,x._)([(0,ee.Cb)({type:Boolean,json:{write:!0}})],K.prototype,"rotated",void 0),(0,x._)([(0,ee.Cb)({type:String,json:{write:!0}})],K.prototype,"text",void 0),(0,x._)([(0,J.J)({esriTS:"text"},{readOnly:!0})],K.prototype,"type",void 0),(0,x._)([(0,ee.Cb)({type:["baseline","top","middle","bottom"],json:{write:!0}})],K.prototype,"verticalAlignment",void 0),(0,x._)([(0,ee.Cb)({type:Number,cast:ne.t_,json:{write:!0}})],K.prototype,"xoffset",void 0),(0,x._)([(0,ee.Cb)({type:Number,cast:ne.t_,json:{write:!0}})],K.prototype,"yoffset",void 0),(0,x._)([(0,ee.Cb)({type:Number,json:{read:$=>$&&-1*$,write:($,V)=>V.angle=$&&-1*$}})],K.prototype,"angle",void 0),(0,x._)([(0,ee.Cb)({type:Number,json:{write:!0}})],K.prototype,"width",void 0),(0,x._)([(0,ee.Cb)({type:Number})],K.prototype,"lineWidth",void 0),(0,x._)([(0,A.c)("lineWidth")],K.prototype,"writeLineWidth",null),(0,x._)([(0,ie.p)("lineWidth")],K.prototype,"castLineWidth",null),(0,x._)([(0,ee.Cb)({type:Number})],K.prototype,"lineHeight",void 0),(0,x._)([(0,A.c)("lineHeight")],K.prototype,"writeLineHeight",null),K=W=(0,x._)([(0,j.j)("esri.symbols.TextSymbol")],K);const ae=K},37771:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>H});var ae,x=C(17626),T=C(58817),re=C(62208),ne=C(77712),ie=(C(90912),C(55342)),J=C(76898),j=C(99433),A=C(11472),B=C(97665),X=C(60958),W=C(91558),K=C(86162);let $=ae=class extends K.wq{constructor(){super(...arguments),this.color=new W.Z([0,0,0,1]),this.size=0}clone(){return new ae({color:(0,T.d9)(this.color),size:this.size})}};(0,x._)([(0,ne.Cb)(X.a)],$.prototype,"color",void 0),(0,x._)([(0,ne.Cb)(X.y)],$.prototype,"size",void 0),$=ae=(0,x._)([(0,J.j)("esri.symbols.support.Symbol3DHalo")],$);const V=$;var F,P=C(64830);let Z=F=class extends B.Z{constructor(de){super(de),this._userSize=void 0,this.halo=null,this.material=null,this.text=void 0,this.type="text"}get font(){return this._get("font")||null}set font(de){de&&this._userSize&&(de.size=this._userSize),this._set("font",de)}writeFont(de,q,ge,le){const ye=Xr(Pt({},le),{textSymbol3D:!0});q.font=de.write({},ye),delete q.font.size}get size(){return null!=this._userSize?this._userSize:this.font&&null!=this.font.size?this.font.size:9}set size(de){this._userSize=de,this.font&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){return new F({enabled:this.enabled,font:this.font&&(0,T.d9)(this.font),halo:this.halo&&(0,T.d9)(this.halo),material:(0,re.pC)(this.material)?this.material.clone():null,size:this.size,text:this.text})}static fromTextSymbol(de){const q=function Y(de,q){return de&&q>0?{color:(0,T.d9)(de),size:q}:null}(de.haloColor,de.haloSize),ge=de.font?de.font.clone():new A.Z;return new F({size:ge.size,font:ge,halo:q,material:de.color?{color:de.color.clone()}:null,text:de.text})}};(0,x._)([(0,ne.Cb)({type:A.Z,json:{write:!0}})],Z.prototype,"font",null),(0,x._)([(0,j.c)("font")],Z.prototype,"writeFont",null),(0,x._)([(0,ne.Cb)({type:V,json:{write:!0}})],Z.prototype,"halo",void 0),(0,x._)([(0,ne.Cb)({type:P.Z,json:{write:!0}})],Z.prototype,"material",void 0),(0,x._)([(0,ne.Cb)(X.y),(0,ne.Cb)()],Z.prototype,"size",null),(0,x._)([(0,ne.Cb)({type:String,json:{write:!0}})],Z.prototype,"text",void 0),(0,x._)([(0,ie.J)({Text:"text"},{readOnly:!0})],Z.prototype,"type",void 0),Z=F=(0,x._)([(0,J.j)("esri.symbols.TextSymbol3DLayer")],Z);const H=Z},72622:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>W});var A,x=C(17626),T=C(91558),re=C(58817),ne=C(77712),ee=C(90912),ie=C(55342),J=C(76898),j=C(97665);let B=A=class extends j.Z{constructor(K){super(K),this.color=X.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new A({color:(0,re.d9)(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};(0,x._)([(0,ne.Cb)({type:T.Z,nonNullable:!0,json:{type:[ee.z8],write:(K,ae,$)=>ae[$]=K.toArray(1),default:()=>X.clone(),defaultEquals:K=>K.toCss(!0)===X.toCss(!0)}})],B.prototype,"color",void 0),(0,x._)([(0,ie.J)({Water:"water"},{readOnly:!0})],B.prototype,"type",void 0),(0,x._)([(0,ne.Cb)({type:["small","medium","large"],json:{write:!0,default:"medium"}})],B.prototype,"waterbodySize",void 0),(0,x._)([(0,ne.Cb)({type:Number,json:{write:!0,default:null}})],B.prototype,"waveDirection",void 0),(0,x._)([(0,ne.Cb)({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],B.prototype,"waveStrength",void 0),B=A=(0,x._)([(0,J.j)("esri.symbols.WaterSymbol3DLayer")],B);const X=new T.Z([0,119,190]),W=B},12874:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>Z});var $,x=C(15861),T=C(17626),re=C(63290),ne=C(10699),ee=C(77712),A=(C(85931),C(8314),C(90912),C(55342)),B=C(76898),X=C(84687),W=C(29840),K=C(10012),ae=C(96296);const V=re.Z.getLogger("esri.symbols.WebStyleSymbol");let P=$=class extends K.Z{constructor(Y){super(Y),this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}read(Y,H){this.portal=H?H.portal:void 0,super.read(Y,H)}clone(){return new $({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(Y){return this._fetchSymbol("webRef",Y)}fetchCIMSymbol(Y){return this._fetchSymbol("cimRef",Y)}_fetchSymbol(Y,H){var de=this;return(0,x.Z)(function*(){const q=yield function F(){return Promise.all([C.e(8592),C.e(3100)]).then(C.bind(C,50998))}();(0,ne.k_)(H);const ge=q.resolveWebStyleSymbol(de,{portal:de.portal},Y,H);return ge.catch(le=>{V.error("#fetchSymbol()","Failed to create symbol from style",le)}),ge})()}};(0,T._)([(0,ee.Cb)({json:{write:!1}})],P.prototype,"color",void 0),(0,T._)([(0,ee.Cb)({type:String,json:{write:!0}})],P.prototype,"styleName",void 0),(0,T._)([(0,ee.Cb)({type:X.Z,json:{write:!1}})],P.prototype,"portal",void 0),(0,T._)([(0,ee.Cb)({type:String,json:{read:W.r,write:W.w}})],P.prototype,"styleUrl",void 0),(0,T._)([(0,ee.Cb)({type:ae.Z,json:{read:!1}})],P.prototype,"thumbnail",void 0),(0,T._)([(0,ee.Cb)({type:String,json:{write:!0}})],P.prototype,"name",void 0),(0,T._)([(0,A.J)({styleSymbolReference:"web-style"},{readOnly:!0})],P.prototype,"type",void 0),P=$=(0,T._)([(0,B.j)("esri.symbols.WebStyleSymbol")],P);const Z=P},21779:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>A});var x=C(17626),T=C(86162),re=C(77712),J=(C(85931),C(8314),C(90912),C(76898));let j=class extends T.wq{constructor(B){super(B),this.visible=!0}clone(){}};(0,x._)([(0,re.Cb)({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],j.prototype,"type",void 0),(0,x._)([(0,re.Cb)({readOnly:!0})],j.prototype,"visible",void 0),j=(0,x._)([(0,J.j)("esri.symbols.callouts.Callout3D")],j);const A=j},17497:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>$});var K,x=C(17626),T=C(91558),re=C(58817),ne=C(62208),ee=C(23841),ie=C(77712),j=(C(90912),C(55342)),A=C(76898),B=C(21779),X=C(71530),W=C(60958);let ae=K=class extends B.Z{constructor(V){super(V),this.type="line",this.color=new T.Z([0,0,0,1]),this.size=(0,ee.Wz)(1),this.border=null}get visible(){return this.size>0&&(0,ne.pC)(this.color)&&this.color.a>0}clone(){return new K({color:(0,re.d9)(this.color),size:this.size,border:(0,re.d9)(this.border)})}};(0,x._)([(0,j.J)({line:"line"},{readOnly:!0})],ae.prototype,"type",void 0),(0,x._)([(0,ie.Cb)(W.a)],ae.prototype,"color",void 0),(0,x._)([(0,ie.Cb)(W.y)],ae.prototype,"size",void 0),(0,x._)([(0,ie.Cb)({type:X.a,json:{write:!0}})],ae.prototype,"border",void 0),(0,x._)([(0,ie.Cb)({readOnly:!0})],ae.prototype,"visible",null),ae=K=(0,x._)([(0,A.j)("esri.symbols.callouts.LineCallout3D")],ae);const $=ae},9824:(lt,Se,C)=>{"use strict";C.d(Se,{Y2:()=>ie,gv:()=>ne,Uy:()=>re});var x=C(21779),T=C(17497);function re(J){if(!J)return!1;const j=J.verticalOffset;return!!j&&!(j.screenLength<=0||j.maxWorldLength<=0)}function ne(J){if(!J||!J.supportsCallout||!J.supportsCallout())return!1;const j=J.callout;return!!j&&!!j.visible&&!!re(J)}const ie={types:{key:"type",base:x.Z,typeMap:{line:T.Z}},json:{write:!0}}},80991:(lt,Se,C)=>{"use strict";function T($,V,P,F){return function x($){return"function"==typeof $}($)?$(V,P,F):$}function re($){return[$.r,$.g,$.b,$.a]}function ne($,V,P){const Z=q=>{let ge=q.length;for(;ge--;)if(-1===" /-,\n".indexOf(q.charAt(ge)))return!1;return!0},Y=[];let H=0,de=-1;do{if(de=V.indexOf("[",H),de>=H){if(de>H){const q=V.substr(H,de-H);Y.push([q,null,Z(q)])}if(H=de+1,de=V.indexOf("]",H),de>=H){if(de>H){const q=$[V.substr(H,de-H)];q&&Y.push([null,q,!1])}H=de+1}}}while(-1!==de);if(H<V.length-1){const q=V.substr(H);Y.push([q,null,Z(q)])}return q=>{let ge="",le=null;for(const ye of Y){const[oe,Q,pe]=ye;if(oe)pe?le=oe:(le&&(ge+=le,le=null),ge+=oe);else{const ue=q.attributes[Q];ue&&(le&&(ge+=le,le=null),ge+=ue)}}return ee(ge,P)}}function ee($,V){switch("string"!=typeof $&&($=String($)),V){case"LowerCase":return $.toLowerCase();case"Allcaps":return $.toUpperCase();default:return $}}function ie($,V,P,F,Z,Y,H=!0){const de=V/Z,q=P/Y,ge=Math.ceil(de/2),le=Math.ceil(q/2);for(let ye=0;ye<Y;ye++)for(let oe=0;oe<Z;oe++){const Q=4*(oe+(H?Y-ye-1:ye)*Z);let pe=0,ue=0,me=0,ve=0,fe=0,Ce=0,ce=0;const he=(ye+.5)*q;for(let xe=Math.floor(ye*q);xe<(ye+1)*q;xe++){const we=Math.abs(he-(xe+.5))/le,Ae=(oe+.5)*de,Fe=we*we;for(let tt=Math.floor(oe*de);tt<(oe+1)*de;tt++){let Re=Math.abs(Ae-(tt+.5))/ge;const be=Math.sqrt(Fe+Re*Re);be>=-1&&be<=1&&(pe=2*be*be*be-3*be*be+1,pe>0&&(Re=4*(tt+xe*V),ce+=pe*$[Re+3],me+=pe,$[Re+3]<255&&(pe=pe*$[Re+3]/250),ve+=pe*$[Re],fe+=pe*$[Re+1],Ce+=pe*$[Re+2],ue+=pe))}}F[Q]=ve/ue,F[Q+1]=fe/ue,F[Q+2]=Ce/ue,F[Q+3]=ce/me}}function J($){return $?{r:$[0],g:$[1],b:$[2],a:$[3]/255}:{r:0,g:0,b:0,a:0}}function j($){var V;return null==(V=$.data)?void 0:V.symbol}function A($){return"CIMVectorMarker"===$.type||"CIMPictureMarker"===$.type||"CIMBarChartMarker"===$.type||"CIMCharacterMarker"===$.type||"CIMPieChartMarker"===$.type||"CIMStackedBarChartMarker"===$.type}function B($){return"CIMGradientStroke"===$.type||"CIMPictureStroke"===$.type||"CIMSolidStroke"===$.type}function X($){return"CIMGradientFill"===$.type||"CIMHatchFill"===$.type||"CIMPictureFill"===$.type||"CIMSolidFill"===$.type||"CIMWaterFill"===$.type}function W($){return"CIMMarkerPlacementAlongLineRandomSize"===$.type||"CIMMarkerPlacementAlongLineSameSize"===$.type||"CIMMarkerPlacementAlongLineVariableSize"===$.type||"CIMMarkerPlacementAtExtremities"===$.type||"CIMMarkerPlacementAtMeasuredUnits"===$.type||"CIMMarkerPlacementAtRatioPositions"===$.type||"CIMMarkerPlacementOnLine"===$.type||"CIMMarkerPlacementOnVertices"===$.type}C.d(Se,{X3:()=>ee,nn:()=>re,Qs:()=>ne,hf:()=>T,NO:()=>J,NA:()=>ae,k5:()=>X,zL:()=>A,gJ:()=>W,yL:()=>B,TT:()=>ie,be:()=>j,mA:()=>K});const K=$=>$&&$.toLowerCase().replace(/\s+/g,"-"),ae=$=>isNaN($)||!$?0:$},89441:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>q});var x=C(17626),T=C(91558),re=C(86162),ne=C(58817),ee=C(23841),ie=C(77712),j=(C(90912),C(76898)),A=C(60958);let B=class extends re.wq{constructor(ge){super(ge),this.color=new T.Z([0,0,0,1]),this.extensionLength=0,this.size=(0,ee.Wz)(1)}clone(){}cloneProperties(){return{color:(0,ne.d9)(this.color),size:this.size,extensionLength:this.extensionLength}}};(0,x._)([(0,ie.Cb)({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],B.prototype,"type",void 0),(0,x._)([(0,ie.Cb)(A.a)],B.prototype,"color",void 0),(0,x._)([(0,ie.Cb)(Xr(Pt({},A.y),{json:{write:{overridePolicy:ge=>({enabled:!!ge})}}}))],B.prototype,"extensionLength",void 0),(0,x._)([(0,ie.Cb)(A.y)],B.prototype,"size",void 0),B=(0,x._)([(0,j.j)("esri.symbols.edges.Edges3D")],B);const X=B;C(63290),C(85931),C(8314),C(82255);var P,V=C(55342);let F=P=class extends X{constructor(ge){super(ge),this.type="sketch"}clone(){return new P(this.cloneProperties())}};(0,x._)([(0,V.J)({sketch:"sketch"},{readOnly:!0})],F.prototype,"type",void 0),F=P=(0,x._)([(0,j.j)("esri.symbols.edges.SketchEdges3D")],F);const Z=F;var Y;let H=Y=class extends X{constructor(ge){super(ge),this.type="solid"}clone(){return new Y(this.cloneProperties())}};(0,x._)([(0,V.J)({solid:"solid"},{readOnly:!0})],H.prototype,"type",void 0),H=Y=(0,x._)([(0,j.j)("esri.symbols.support.SolidEdges3D")],H);const q={types:{key:"type",base:X,typeMap:{solid:H,sketch:Z}},json:{write:!0}}},38861:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>A});var x=C(17626),T=C(86162),re=C(77712),J=(C(85931),C(8314),C(90912),C(76898));let j=class extends T.wq{constructor(B){super(B)}clone(){}};(0,x._)([(0,re.Cb)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],j.prototype,"type",void 0),j=(0,x._)([(0,J.j)("esri.symbols.patterns.LinePattern3D")],j);const A=j},63743:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>ae});var X,x=C(17626),T=C(2076),re=C(77712),J=(C(85931),C(8314),C(90912),C(55342)),j=C(76898),A=C(38861);const W=(0,T.wY)()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let K=X=class extends A.Z{constructor($){super($),this.type="style",this.style="solid"}clone(){return new X({style:this.style})}};(0,x._)([(0,re.Cb)({type:["style"]})],K.prototype,"type",void 0),(0,x._)([(0,J.J)(W),(0,re.Cb)({type:["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"]})],K.prototype,"style",void 0),K=X=(0,x._)([(0,j.j)("esri.symbols.patterns.LineStylePattern3D")],K);const ae=K},40249:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>A});var x=C(17626),T=C(86162),re=C(77712),J=(C(85931),C(8314),C(90912),C(76898));let j=class extends T.wq{constructor(B){super(B)}clone(){}};(0,x._)([(0,re.Cb)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],j.prototype,"type",void 0),j=(0,x._)([(0,J.j)("esri.symbols.patterns.Pattern3D")],j);const A=j},153:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>X});var A,x=C(17626),T=C(77712),ie=(C(85931),C(8314),C(90912),C(76898)),J=C(40249);let B=A=class extends J.Z{constructor(W){super(W),this.type="style",this.style="solid"}clone(){return new A({style:this.style})}};(0,x._)([(0,T.Cb)({type:["style"]})],B.prototype,"type",void 0),(0,x._)([(0,T.Cb)({type:["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"],json:{read:!0,write:!0}})],B.prototype,"style",void 0),B=A=(0,x._)([(0,ie.j)("esri.symbols.patterns.StylePattern3D")],B);const X=B},99255:(lt,Se,C)=>{"use strict";C.d(Se,{D:()=>ie,q:()=>ee});var x=C(38861),T=C(63743),re=C(40249),ne=C(153);const ee={types:{key:"type",base:re.Z,typeMap:{style:ne.Z}},json:{write:!0}},ie={types:{key:"type",base:x.Z,typeMap:{style:T.Z}},json:{write:!0}}},26540:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>ye});var ae,x=C(17626),T=C(2076),re=C(86162),ne=C(62208),ee=C(77712),A=(C(85931),C(8314),C(90912),C(68653)),B=C(76898),X=C(99433),W=C(15861),K=C(36630);let $=ae=class extends re.wq{collectRequiredFields(oe,Q){var pe=this;return(0,W.Z)(function*(){return(0,K.io)(oe,Q,pe.expression)})()}clone(){return new ae({expression:this.expression,title:this.title})}};(0,x._)([(0,ee.Cb)({type:String,json:{write:!0}})],$.prototype,"expression",void 0),(0,x._)([(0,ee.Cb)({type:String,json:{write:!0}})],$.prototype,"title",void 0),$=ae=(0,x._)([(0,B.j)("esri.layers.support.FeatureExpressionInfo")],$);const V=$;var P=C(21254);const H=function Y(){const oe=Object.keys(P.a);return oe.sort(),oe}();var de;const q=(0,T.wY)()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),ge=new T.Xn({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let le=de=class extends re.wq{constructor(){super(...arguments),this.offset=null}readFeatureExpressionInfo(oe,Q){return null!=oe?oe:Q.featureExpression&&0===Q.featureExpression.value?{expression:"0"}:void 0}writeFeatureExpressionInfo(oe,Q,pe,ue){Q[pe]=oe.write({},ue),"0"===oe.expression&&(Q.featureExpression={value:0})}get mode(){const{offset:oe,featureExpressionInfo:Q}=this;return this._isOverridden("mode")?this._get("mode"):(0,ne.pC)(oe)||Q?"relative-to-ground":"on-the-ground"}set mode(oe){this._override("mode",oe)}set unit(oe){this._set("unit",oe)}write(oe,Q){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(oe,Q):null}clone(){return new de({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}};(0,x._)([(0,ee.Cb)({type:V,json:{write:!0}})],le.prototype,"featureExpressionInfo",void 0),(0,x._)([(0,A.r)("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],le.prototype,"readFeatureExpressionInfo",null),(0,x._)([(0,X.c)("featureExpressionInfo",{featureExpressionInfo:{type:V},"featureExpression.value":{type:[0]}})],le.prototype,"writeFeatureExpressionInfo",null),(0,x._)([(0,ee.Cb)({type:q.apiValues,nonNullable:!0,json:{type:q.jsonValues,read:q.read,write:{writer:q.write,isRequired:!0}}})],le.prototype,"mode",null),(0,x._)([(0,ee.Cb)({type:Number,json:{write:!0}})],le.prototype,"offset",void 0),(0,x._)([(0,ee.Cb)({type:H,json:{type:String,read:ge.read,write:ge.write}})],le.prototype,"unit",null),le=de=(0,x._)([(0,B.j)("esri.layers.support.ElevationInfo")],le);const ye=le},33215:(lt,Se,C)=>{"use strict";C.d(Se,{ZP:()=>F,SI:()=>P});var ae,x=C(17626),T=C(2076),re=C(86162),ne=C(21726),ee=C(77712),A=(C(85931),C(8314),C(90912),C(55342)),B=C(68653),X=C(76898),W=C(99433),K=C(29840);const $=(0,T.wY)()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let V=ae=class extends re.wq{constructor(Z){super(Z)}readHref(Z,Y,H){return Z?(0,K.f)(Z,H):Y.dataURI}writeHref(Z,Y,H,de){Z&&((0,ne.HK)(Z)?Y.dataURI=Z:(Y.href=(0,K.t)(Z,de),(0,ne.YP)(Y.href)&&(Y.href=(0,ne.Fv)(Y.href))))}clone(){return new ae({href:this.href,primitive:this.primitive})}};(0,x._)([(0,ee.Cb)({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],V.prototype,"href",void 0),(0,x._)([(0,B.r)("href")],V.prototype,"readHref",null),(0,x._)([(0,W.c)("href",{href:{type:String},dataURI:{type:String}})],V.prototype,"writeHref",null),(0,x._)([(0,A.J)($)],V.prototype,"primitive",void 0),V=ae=(0,x._)([(0,X.j)("esri.symbols.support.IconSymbol3DLayerResource")],V);const P="circle",F=V},48521:(lt,Se,C)=>{"use strict";C.d(Se,{ZP:()=>$,SI:()=>ae});var X,x=C(17626),T=C(2076),re=C(86162),ne=C(77712),j=(C(85931),C(8314),C(90912),C(55342)),A=C(76898),B=C(29840);const W=(0,T.wY)()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let K=X=class extends re.wq{clone(){return new X({href:this.href,primitive:this.primitive})}};(0,x._)([(0,ne.Cb)({type:String,json:{read:B.r,write:B.w}})],K.prototype,"href",void 0),(0,x._)([(0,j.J)(W)],K.prototype,"primitive",void 0),K=X=(0,x._)([(0,A.j)("esri.symbols.support.ObjectSymbol3DLayerResource")],K);const ae="sphere",$=K},77345:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>X});var A,x=C(17626),T=C(14517),re=C(77712),J=(C(85931),C(8314),C(90912),C(76898)),j=C(84687);let B=A=class extends T.Z{constructor(){super(...arguments),this.portal=null}clone(){return new A({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};(0,x._)([(0,re.Cb)({type:String})],B.prototype,"name",void 0),(0,x._)([(0,re.Cb)({type:String})],B.prototype,"styleUrl",void 0),(0,x._)([(0,re.Cb)({type:String})],B.prototype,"styleName",void 0),(0,x._)([(0,re.Cb)({type:j.Z})],B.prototype,"portal",void 0),B=A=(0,x._)([(0,J.j)("esri.symbols.support.StyleOrigin")],B);const X=B},37519:(lt,Se,C)=>{"use strict";C.d(Se,{e:()=>A,Z:()=>B});var j,x=C(17626),T=C(14517),re=C(77712),J=(C(85931),C(8314),C(90912),C(76898));let A=j=class extends T.Z{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new j({x:this.x,y:this.y})}};(0,x._)([(0,re.Cb)({type:Number})],A.prototype,"x",void 0),(0,x._)([(0,re.Cb)({type:Number})],A.prototype,"y",void 0),A=j=(0,x._)([(0,J.j)("esri.symbols.support.Symbol3DAnchorPosition2D")],A);const B=A},64830:(lt,Se,C)=>{"use strict";C.d(Se,{b:()=>X,Z:()=>W});var B,x=C(17626),T=C(86162),re=C(62208),ne=C(77712),j=(C(85931),C(8314),C(90912),C(76898)),A=C(60958);let X=B=class extends T.wq{constructor(K){super(K),this.color=null}clone(){const K={color:(0,re.pC)(this.color)?this.color.clone():null};return new B(K)}};(0,x._)([(0,ne.Cb)(A.a)],X.prototype,"color",void 0),X=B=(0,x._)([(0,j.j)("esri.symbols.support.Symbol3DMaterial")],X);const W=X},97595:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>X});var A,x=C(17626),T=C(86162),re=C(77712),J=(C(85931),C(8314),C(90912),C(76898)),j=C(60958);let B=A=class extends T.wq{constructor(){super(...arguments),this.screenLength=0,this.minWorldLength=0}clone(){return new A({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};(0,x._)([(0,re.Cb)(j.y)],B.prototype,"screenLength",void 0),(0,x._)([(0,re.Cb)({type:Number,json:{write:!0,default:0}})],B.prototype,"minWorldLength",void 0),(0,x._)([(0,re.Cb)({type:Number,json:{write:!0}})],B.prototype,"maxWorldLength",void 0),B=A=(0,x._)([(0,J.j)("esri.symbols.support.Symbol3DVerticalOffset")],B);const X=B},96296:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>B});var j,x=C(17626),T=C(14517),re=C(77712),J=(C(85931),C(8314),C(90912),C(76898));let A=j=class extends T.Z{clone(){return new j({url:this.url})}};(0,x._)([(0,re.Cb)({type:String})],A.prototype,"url",void 0),A=j=(0,x._)([(0,J.j)("esri.symbols.support.Thumbnail")],A);const B=A},56445:(lt,Se,C)=>{"use strict";C.d(Se,{iW:()=>B,kW:()=>re,FW:()=>J,PI:()=>ne});var x=C(91558),T=C(80991);function re(P){const F=(0,T.be)(P);if("CIMTextSymbol"===F.type)return F.height;let Z=0;if(F.symbolLayers)for(const Y of F.symbolLayers)(0,T.zL)(Y)&&Y.size>Z?Z=Y.size:(0,T.yL)(Y)&&Y.width>Z?Z=Y.width:(0,T.k5)(Y);return Z}function ne(P,F,Z){const Y=(0,T.be)(P),H=re(P);0!==H?ie(Y,F/H,!1,Z):function ee(P,F){if("CIMTextSymbol"!==P.type){if(P.symbolLayers)for(const Z of P.symbolLayers)switch(Z.type){case"CIMPictureMarker":case"CIMVectorMarker":Z.size=F;break;case"CIMPictureStroke":case"CIMSolidStroke":Z.width=F}}else P.height=F}(Y,F)}function ie(P,F,Z,Y){if("CIMTextSymbol"!==P.type){if(Z&&P.effects)for(const H of P.effects)A(H,F);if(P.symbolLayers)for(const H of P.symbolLayers)switch(H.type){case"CIMPictureMarker":case"CIMVectorMarker":J(H,F,Y);break;case"CIMPictureStroke":case"CIMSolidStroke":null!=Y&&Y.preserveOutlineWidth||(H.width*=F);break;case"CIMPictureFill":H.height*=F,H.offsetX*=F,H.offsetY*=F;break;case"CIMHatchFill":ie(H.lineSymbol,F,!0,Xr(Pt({},Y),{preserveOutlineWidth:!1})),H.offsetX*=F,H.offsetY*=F,H.separation*=F}}else P.height*=F}function J(P,F,Z){if(P.markerPlacement&&function j(P,F){switch((0,T.gJ)(P)&&(P.offset*=F),P.type){case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineSameSize":if(P.customEndingOffset*=F,P.offsetAlongLine*=F,P.placementTemplate&&P.placementTemplate.length){const Z=P.placementTemplate.map(Y=>Y*F);P.placementTemplate=Z}break;case"CIMMarkerPlacementAlongLineVariableSize":if(P.maxRandomOffset*=F,P.placementTemplate&&P.placementTemplate.length){const Z=P.placementTemplate.map(Y=>Y*F);P.placementTemplate=Z}break;case"CIMMarkerPlacementOnLine":P.startPointOffset*=F;break;case"CIMMarkerPlacementAtExtremities":P.offsetAlongLine*=F;break;case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementOnVertices":break;case"CIMMarkerPlacementAtRatioPositions":P.beginPosition*=F,P.endPosition*=F;break;case"CIMMarkerPlacementPolygonCenter":P.offsetX*=F,P.offsetY*=F;break;case"CIMMarkerPlacementInsidePolygon":P.offsetX*=F,P.offsetY*=F,P.stepX*=F,P.stepY*=F}}(P.markerPlacement,F),P.offsetX*=F,P.offsetY*=F,P.anchorPoint&&"Absolute"===P.anchorPointUnits&&(P.anchorPoint={x:P.anchorPoint.x*F,y:P.anchorPoint.y*F}),P.size*=F,"CIMVectorMarker"===P.type&&P.markerGraphics)for(const Y of P.markerGraphics)P.scaleSymbolsProportionally||ie(Y.symbol,F,!0,Z)}function A(P,F){switch(P.type){case"CIMGeometricEffectArrow":case"CIMGeometricEffectDonut":P.width*=F;break;case"CIMGeometricEffectBuffer":P.size*=F;break;case"CIMGeometricEffectCut":P.beginCut*=F,P.endCut*=F,P.middleCut*=F;break;case"CIMGeometricEffectDashes":if(P.customEndingOffset*=F,P.offsetAlongLine*=F,P.dashTemplate&&P.dashTemplate.length){const Z=P.dashTemplate.map(Y=>Y*F);P.dashTemplate=Z}break;case"CIMGeometricEffectExtension":case"CIMGeometricEffectJog":case"CIMGeometricEffectRadial":P.length*=F;break;case"CIMGeometricEffectMove":P.offsetX*=F,P.offsetY*=F;break;case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":P.offset*=F;break;case"CIMGeometricEffectRegularPolygon":P.radius*=F;break;case"CIMGeometricEffectTaperedPolygon":P.fromWidth*=F,P.length*=F,P.toWidth*=F;break;case"CIMGeometricEffectWave":P.amplitude*=F,P.period*=F}}function B(P){const F=[];return X((0,T.be)(P),F),F.length?new x.Z((0,T.NO)(F[0])):null}function X(P,F){let Z;Z="CIMTextSymbol"===P.type?P.symbol:P;const Y="CIMPolygonSymbol"===P.type;if(Z.symbolLayers)for(const H of Z.symbolLayers)if(!(H.colorLocked||Y&&((0,T.yL)(H)||(0,T.zL)(H)&&H.markerPlacement&&(0,T.gJ)(H.markerPlacement))))switch(H.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":break;case"CIMVectorMarker":H.markerGraphics.forEach(de=>{X(de.symbol,F)});break;case"CIMSolidStroke":case"CIMSolidFill":W(F,H.color);break;case"CIMHatchFill":X(H.lineSymbol,F)}}function W(P,F){for(const Z of P)if(Z.join(".")===F.join("."))return;P.push(F)}},12948:(lt,Se,C)=>{"use strict";C.d(Se,{rx:()=>ee,l9:()=>ne,ix:()=>T});var x=C(91558);const T=new x.Z("white"),ne=(new x.Z("black"),new x.Z([255,255,255,0]));function ee(ie){return 0===ie.r&&0===ie.g&&0===ie.b}},8080:(lt,Se,C)=>{"use strict";C.d(Se,{Rz:()=>B,G:()=>W,kD:()=>ae,mW:()=>K}),C(8314);var T=C(88493),re=C(52068),ne=C(57213),ee=C(35540),ie=C(24837);ne.Z.fromJSON(ie.I4),re.Z.fromJSON(ie.ET),T.Z.fromJSON(ie.lF);const B=ee.Z.fromJSON(ie.qP),W=ne.Z.fromJSON(ie.eG),K=re.Z.fromJSON(ie.wW),ae=T.Z.fromJSON(ie.lj)},24837:(lt,Se,C)=>{"use strict";C.d(Se,{I4:()=>re,lF:()=>ee,ET:()=>ne,qP:()=>ie,eG:()=>J,lj:()=>A,wW:()=>j});const x=[252,146,31,255],re={type:"esriSMS",style:"esriSMSCircle",size:6,color:x,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},ne={type:"esriSLS",style:"esriSLSSolid",width:.75,color:x},ee={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},ie={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},J={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},j={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},A={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},74741:(lt,Se,C)=>{"use strict";C.d(Se,{Ne:()=>q,Sp:()=>de,_M:()=>Z,Od:()=>Y,mx:()=>H});var x=C(54346),T=C(91558),re=C(84792),ne=C(78498),ee=C(23841),ie=C(56445);const J="picture-fill",j="simple-fill",B="simple-marker",$=new ne.Z(1e3);function Z(ge){const le=ge.style;let ye=null;if(ge)switch(ge.type){case B:"cross"!==le&&"x"!==le&&(ye=ge.color);break;case j:"solid"===le?ye=ge.color:"none"!==le&&(ye={type:"pattern",x:0,y:0,src:(0,x.V)(`esri/symbols/patterns/${le}.png`),width:5,height:5});break;case J:ye={type:"pattern",src:ge.url,width:(0,ee.F2)(ge.width)*ge.xscale,height:(0,ee.F2)(ge.height)*ge.yscale,x:(0,ee.F2)(ge.xoffset),y:(0,ee.F2)(ge.yoffset)};break;case"text":ye=ge.color;break;case"cim":ye=(0,ie.iW)(ge)}return ye}function Y(ge,le){const ye=ge+"-"+le;return void 0!==$.get(ye)?Promise.resolve($.get(ye)):(0,re.default)(ge,{responseType:"image"}).then(oe=>{const Q=oe.data,pe=Q.naturalWidth,ue=Q.naturalHeight,me=document.createElement("canvas");me.width=pe,me.height=ue;const ve=me.getContext("2d");ve.fillStyle=le,ve.fillRect(0,0,pe,ue),ve.globalCompositeOperation="destination-in",ve.drawImage(Q,0,0);const fe=me.toDataURL();return $.put(ye,fe),fe})}function H(ge){if(!ge)return null;let le;switch(ge.type){case j:case J:case B:le=H(ge.outline);break;case"simple-line":{const ye=(0,ee.F2)(ge.width);"none"!==ge.style&&0!==ye&&(le={color:ge.color,style:de(ge.style),width:ye,cap:ge.cap,join:"miter"===ge.join?(0,ee.F2)(ge.miterLimit):ge.join});break}default:le=null}return le}const de=function(){const ge={};return function(le){if(ge[le])return ge[le];const ye=le.replace(/-/g,"");return ge[le]=ye,ye}}(),q=new T.Z([128,128,128])},65270:(lt,Se,C)=>{"use strict";C.d(Se,{i:()=>Z,c:()=>P});var x=C(65787),T=C(26584),re=C(62208),ne=C(39368),ee=C(12874),ie=C(69852),J=C(52068),j=C(40445),A=C(57213),B=C(13546),X=C(88493),W=C(89673),K=C(35540),ae=C(22490);const $={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function P(Y,H,de,q){const ge=function F(Y,H,de){if(!Y)return null;if(de&&"web-scene"===de.origin&&!(Y instanceof ne.Z)&&!(Y instanceof ee.Z)){const q=function V(Y,H=$){if(!Y)return{symbol:null};const{retainId:de=$.retainId,ignoreDrivers:q=$.ignoreDrivers,hasLabelingContext:ge=$.hasLabelingContext,retainCIM:le=$.retainCIM}=H;let ye;if((0,x.dU)(Y)||Y instanceof ee.Z)ye=Y.clone();else if("cim"===Y.type){var oe,Q;const pe=null==(oe=Y.data)||null==(Q=oe.symbol)?void 0:Q.type;if("CIMPointSymbol"!==pe)return{error:new T.Z("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${pe||"unknown"}' is unsupported in 3D`,{symbol:Y})};ye=le?Y.clone():ie.Z.fromCIMSymbol(Y)}else if(Y instanceof J.Z)ye=j.Z.fromSimpleLineSymbol(Y);else if(Y instanceof A.Z)ye=ie.Z.fromSimpleMarkerSymbol(Y);else if(Y instanceof B.Z)ye=ie.Z.fromPictureMarkerSymbol(Y);else if(Y instanceof X.Z)ye=W.Z.fromSimpleFillSymbol(Y);else{if(!(Y instanceof K.Z))return{error:new T.Z("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${Y.type||Y.declaredClass}' is unsupported in 3D`,{symbol:Y})};ye=ge?ae.Z.fromTextSymbol(Y):ie.Z.fromTextSymbol(Y)}if(de&&"cim"!==ye.type&&(ye.id=Y.id),q&&(0,x.dU)(ye))for(let pe=0;pe<ye.symbolLayers.length;++pe)ye.symbolLayers.getItemAt(pe)._ignoreDrivers=!0;return{symbol:ye}}(Y,{retainCIM:!0});return(0,re.pC)(q.symbol)?q.symbol.write(H,de):(de.messages&&de.messages.push(new T.Z("symbol:unsupported",`Symbols of type '${Y.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:Y,context:de,error:q.error})),null)}return de&&"web-map"===de.origin&&"web-style"===Y.type?(de.messages&&de.messages.push(new T.Z("symbol:unsupported",`Symbols of type '${Y.declaredClass}' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView.`,{symbol:Y,context:de})),null):Y.write(H,de)}(Y,{},q);ge&&(H[de]=ge)}function Z(Y,H){return(0,x.S9)(Y,null,H)}},60958:(lt,Se,C)=>{"use strict";C.d(Se,{a:()=>J,y:()=>j});var x=C(91558),T=C(23841),re=C(90912),ne=C(92236);const J={type:x.Z,json:{type:[re.z8],default:null,read:{source:["color","transparency"],reader:function ee(A,B){const X=null!=B.transparency?(0,ne.b)(B.transparency):1,W=B.color;return W&&Array.isArray(W)?new x.Z([W[0]||0,W[1]||0,W[2]||0,X]):null}},write:{target:{color:{type:[re.z8]},transparency:{type:re.z8}},writer:function ie(A,B){B.color=A.toJSON().slice(0,3);const X=(0,ne.a)(A.a);0!==X&&(B.transparency=X)}}}},j={type:Number,cast:T.t_,json:{write:!0}}},78241:(lt,Se,C)=>{"use strict";C.d(Se,{wm:()=>ge,n2:()=>P,KV:()=>F,EJ:()=>H,v9:()=>Z});var x=C(15861),T=C(84792),re=C(26584),ne=C(10699),ee=C(21726),ie=C(84687),J=C(6278),j=C(8314);const W={};function ae(){return(ae=(0,x.Z)(function*(le,ye){try{return{data:(yield H(le,ye)).data,baseUrl:(0,ee.Yd)(le),styleUrl:le}}catch(oe){return(0,ne.r9)(oe),null}})).apply(this,arguments)}function P(le,ye,oe){return le.styleUrl?function K(le,ye){return ae.apply(this,arguments)}(le.styleUrl,oe):le.styleName?function $(le,ye,oe){const Q=ye&&ye.portal||ie.Z.getDefault();let pe;const ue=`${Q.url} - ${Q.user&&Q.user.username} - ${le}`;return W[ue]||(W[ue]=function V(le,ye,oe){return ye.load(oe).then(()=>{const Q=new J.Z({disableExtraQuery:!0,query:`owner:${de} AND type:${q} AND typekeywords:"${le}"`});return ye.queryItems(Q,oe)}).then(({results:Q})=>{let pe=null;const ue=le.toLowerCase();if(Q&&Array.isArray(Q))for(const me of Q)if(me.typeKeywords.some(ve=>ve.toLowerCase()===ue)&&me.type===q&&me.owner===de){pe=me;break}if(!pe)throw new re.Z("symbolstyleutils:style-not-found",`The style '${le}' could not be found`,{styleName:le});return pe.load(oe)})}(le,Q,oe).then(me=>(pe=me,me.fetchData())).then(me=>({data:me,baseUrl:pe.itemUrl,styleName:le}))),W[ue]}(le.styleName,ye,oe):Promise.reject(new re.Z("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function F(le){return null===le||"CIMSymbolReference"===le.type?le:{type:"CIMSymbolReference",symbol:le}}function Z(le,ye){if("cimRef"===ye)return le.cimRef;if(le.formatInfos&&!(0,j.Z)("enable-feature:force-wosr"))for(const oe of le.formatInfos)if("gltf"===oe.type)return oe.href;return le.webRef}function H(le,ye){const oe=Pt({responseType:"json",query:{f:"json"}},ye);return(0,T.default)((0,ee.Fv)(le),oe)}const de="esri_en",q="Style",ge="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json"},43652:(lt,Se,C)=>{"use strict";C.d(Se,{Hc:()=>A,w2:()=>X,Uz:()=>j,$K:()=>ne,KW:()=>B}),C(8314);var T=C(28093),re=C(5548);function ne(W,{isPrimitive:K,width:ae,depth:$,height:V}){const P=K?10:1;if(null==ae&&null==V&&null==$)return[P*W[0],P*W[1],P*W[2]];const F=(0,T.f)(ae,$,V);let Z;for(let Y=0;Y<3;Y++){const H=F[Y];if(null!=H){Z=H/W[Y];break}}for(let Y=0;Y<3;Y++)null==F[Y]&&(F[Y]=W[Y]*Z);return F}const ee=(0,re.al)(-.5,-.5,-.5,.5,.5,.5),ie=(0,re.al)(-.5,-.5,0,.5,.5,1),J=(0,re.al)(-.5,-.5,0,.5,.5,.5);function j(W){switch(W){case"sphere":case"cube":case"diamond":return ee;case"cylinder":case"cone":case"inverted-cone":return ie;case"tetrahedron":return J;default:return}}const A=["butt","square","round"],B=[...A,"none"],X=["miter","bevel","round"]},69738:(lt,Se,C)=>{"use strict";C.d(Se,{Ds:()=>J,KA:()=>ie});var x=C(21726),T=C(29840);function ne(A,B){return function j(A){return A&&("service"===A.origin||"portal-item"===A.origin)&&A.layer&&("feature"===A.layer.type||"stream"===A.layer.type)}(B)&&!(0,x.YP)(A)&&B.layer.parsedUrl?(0,x.v_)(B.layer.parsedUrl.path,"images",A):(0,T.f)(A,B)}const ie={json:{read:{source:["imageData","url"],reader:function re(A,B,X){return B.imageData?(0,x._l)({mediaType:B.contentType||"image/png",isBase64:!0,data:B.imageData}):ne(B.url,X)}},write:{writer(A,B,X,W){!function ee(A,B,X,W){if((0,x.HK)(A)){const K=(0,x.sJ)(A);B.contentType=K.mediaType,B.imageData=K.data,X&&X.imageData===B.imageData&&X.url&&(0,T.w)(X.url,B,"url",W)}else(0,T.w)(A,B,"url",W)}(A,B,this.source,W)}}}},J={readOnly:!0,json:{read:{source:["imageData","url"],reader(A,B,X){const W={};return B.imageData&&(W.imageData=B.imageData),B.contentType&&(W.contentType=B.contentType),B.url&&(W.url=ne(B.url,X)),W}}}}},86606:(lt,Se,C)=>{"use strict";C.d(Se,{tb:()=>de,BR:()=>Fe,e3:()=>we,wJ:()=>tt,nf:()=>V,YW:()=>$});var x=C(15861),T=C(91558),re=C(65787),ne=C(59213),ee=C(8314),ie=C(62208),J=C(28093),j=C(71149),B=(C(74741),C(64830));const X=/\/resource\/(.*?)\.svg$/,W=new T.Z("white");function $(Re){if((0,ie.Wi)(Re)||!("symbolLayers"in Re)||(0,ie.Wi)(Re.symbolLayers))return!1;switch(Re.type){case"point-3d":return Re.symbolLayers.some(be=>"object"===be.type);case"line-3d":return Re.symbolLayers.some(be=>"path"===be.type);case"polygon-3d":return Re.symbolLayers.some(be=>"object"===be.type||"extrude"===be.type);default:return!1}}function V(Re,be){const Te=be.resource.href;return!(0,ee.Z)("esri-canvas-svg-support")&&Re.styleOrigin&&X.test(Te)?Te.replace(X,"/resource/png/$1.png"):Te}function Z(Re,be){if(null==be)return Re;const Te=Re.toRgba();return Te[3]=Te[3]*be,new T.Z(Te)}function de(Re,be,Te){Re&&(be||null!=Te)&&(be&&(be=new T.Z(be)),(0,re.dU)(Re)?function Y(Re,be,Te){const Je=Re.symbolLayers;if(!Je)return;const ut=Pe=>{const Qe=(0,ie.pC)(Pe)?Pe:null;return Z(be=be||Qe||null!=Te&&W,Te)};Je.forEach(Pe=>{if("object"!==Pe.type||null==Pe.resource.href||be)if("water"===Pe.type)Pe.color=ut(Pe.color);else{const Qe=(0,ie.pC)(Pe.material)?Pe.material.color:null,Ye=ut(Qe);(0,ie.Wi)(Pe.material)?Pe.material=new B.Z({color:Ye}):Pe.material.color=Ye,null!=Te&&"outline"in Pe&&(0,ie.pC)(Pe.outline)&&(0,ie.pC)(Pe.outline.color)&&(Pe.outline.color=Z(Pe.outline.color,Te))}})}(Re,be,Te):(0,re.cT)(Re)&&function H(Re,be,Te){(be=be||Re.color)&&(Re.color=Z(be,Te)),null!=Te&&"outline"in Re&&Re.outline&&Re.outline.color&&(Re.outline.color=Z(Re.outline.color,Te))}(Re,be,Te))}function q(Re,be){return ge.apply(this,arguments)}function ge(){return ge=(0,x.Z)(function*(Re,be){const Te=Re.symbolLayers;Te&&(yield(0,ne.Ed)(Te,function(){var Je=(0,x.Z)(function*(ut){return le(ut,be)});return function(ut){return Je.apply(this,arguments)}}()))}),ge.apply(this,arguments)}function le(Re,be){return ye.apply(this,arguments)}function ye(){return(ye=(0,x.Z)(function*(Re,be){switch(Re.type){case"extrude":pe(Re,be);break;case"icon":case"line":case"text":oe(Re,be);break;case"path":ve(Re,be);break;case"object":yield ue(Re,be)}})).apply(this,arguments)}function oe(Re,be){const Te=Q(be);(0,ie.pC)(Te)&&(Re.size=Te)}function Q(Re){for(const be of Re)if("number"==typeof be)return be;return null}function pe(Re,be){Re.size="number"==typeof be[2]?be[2]:0}function ue(Re,be){return me.apply(this,arguments)}function me(){return(me=(0,x.Z)(function*(Re,be){const{resourceSize:Te,symbolSize:Je}=yield Ce(Re),ut=fe(be,Te,Je);Re.width=he(be[0],Je[0],Te[0],ut),Re.depth=he(be[1],Je[1],Te[1],ut),Re.height=he(be[2],Je[2],Te[2],ut)})).apply(this,arguments)}function ve(Re,be){const Te=fe(be,J.O,[Re.width,void 0,Re.height]);Re.width=he(be[0],Re.width,1,Te),Re.height=he(be[2],Re.height,1,Te)}function fe(Re,be,Te){for(let Je=0;Je<3;Je++){const ut=Re[Je];switch(ut){case"symbol-value":return null!=Te[Je]?Te[Je]/be[Je]:1;case"proportional":break;default:if(ut&&be[Je])return ut/be[Je]}}return 1}function Ce(Re){return ce.apply(this,arguments)}function ce(){return(ce=(0,x.Z)(function*(Re){const be=yield C.e(1831).then(C.bind(C,91831)),Te=yield be.computeObjectLayerResourceSize(Re,10),{width:Je,height:ut,depth:Pe}=Re,Qe=[Je,Pe,ut];let Ye=1;for(let te=0;te<3;te++)if(null!=Qe[te]){Ye=Qe[te]/Te[te];break}for(let te=0;te<3;te++)null==Qe[te]&&(Qe[te]=Te[te]*Ye);return{resourceSize:Te,symbolSize:Qe}})).apply(this,arguments)}function he(Re,be,Te,Je){switch(Re){case"proportional":return Te*Je;case"symbol-value":return null!=be?be:Te;default:return Re}}function xe(Re,be){const Te=Q(be);if(!(0,ie.Wi)(Te))switch(Re.type){case"simple-marker":Re.size=Te;break;case"picture-marker":{const Je=Re.width/Re.height;Je>1?(Re.width=Te,Re.height=Te*Je):(Re.width=Te*Je,Re.height=Te);break}case"simple-line":Re.width=Te;break;case"text":Re.font.size=Te}}function we(Re,be){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,x.Z)(function*(Re,be){if(Re&&be)return(0,re.dU)(Re)?q(Re,be):void((0,re.cT)(Re)&&xe(Re,be))})).apply(this,arguments)}function Fe(Re,be,Te){if(Re&&null!=be)if((0,re.dU)(Re)){const Je=Re.symbolLayers;Je&&Je.forEach(ut=>{if(ut&&"object"===ut.type)switch(Te){case"tilt":ut.tilt=be;break;case"roll":ut.roll=be;break;default:ut.heading=be}})}else(0,re.cT)(Re)&&("simple-marker"!==Re.type&&"picture-marker"!==Re.type&&"text"!==Re.type||(Re.angle=be))}function tt(Re){if(!Re)return null;const be=Re.effects.filter(Te=>"bloom"!==Te.type).map(Te=>Te.toJSON());return(0,j.rM)(be)}},4728:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>ze});var x=C(15861),T=C(17626),re=C(26584),ne=C(8314),ee=C(62208),ie=C(10699),J=C(77712),B=(C(85931),C(90912),C(76898)),X=C(15283),W=C(2618),K=C(85531),ae=C(67736);function V(){return(V=(0,x.Z)(function*(Xe,He,Ue){const nt=(0,W.en)(Xe);return(0,K.X)(nt,ae.Z.from(He),Pt({},Ue)).then(Mt=>(0,K.O)(Mt.data.attachmentGroups,nt.path))})).apply(this,arguments)}var P=C(90463),Z=(C(29132),C(20477)),Y=C(84952),H=C(2004);function q(){return(q=(0,x.Z)(function*(Xe,He,Ue){const nt=(0,W.en)(Xe);return(0,Z.executeQueryForExtent)(nt,Y.Z.from(He),Pt({},Ue)).then(Mt=>({count:Mt.data.count,extent:H.Z.fromJSON(Mt.data.extent)}))})).apply(this,arguments)}var ge=C(24865),le=C(2865),ye=C(94573),oe=C(33696),Q=C(82054);function pe(Xe,He){return He}function ue(Xe,He,Ue,nt){switch(Ue){case 0:return Ce(Xe,He+nt,0);case 1:return"lowerLeft"===Xe.originPosition?Ce(Xe,He+nt,1):function ce({translate:Xe,scale:He},Ue,nt){return Xe[nt]-Ue*He[nt]}(Xe,He+nt,1)}}function me(Xe,He,Ue,nt){return 2===Ue?Ce(Xe,He,2):ue(Xe,He,Ue,nt)}function ve(Xe,He,Ue,nt){return 2===Ue?Ce(Xe,He,3):ue(Xe,He,Ue,nt)}function fe(Xe,He,Ue,nt){return 3===Ue?Ce(Xe,He,3):me(Xe,He,Ue,nt)}function Ce({translate:Xe,scale:He},Ue,nt){return Xe[nt]+Ue*He[nt]}class he{constructor(He){this.options=He,this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"],this.previousCoordinate=[0,0],this.transform=null,this.applyTransform=pe,this.lengths=[],this.currentLengthIndex=0,this.toAddInCurrentPath=0,this.vertexDimension=0,this.coordinateBuffer=null,this.coordinateBufferPtr=0,this.AttributesConstructor=function(){}}createFeatureResult(){return{fields:[],features:[]}}finishFeatureResult(He){if(this.options.applyTransform&&(He.transform=null),this.AttributesConstructor=function(){},this.coordinateBuffer=null,this.lengths.length=0,!He.hasZ)return;const Ue=(0,oe.k)(He.geometryType,this.options.sourceSpatialReference,He.spatialReference);if(!(0,ee.Wi)(Ue))for(const nt of He.features)Ue(nt.geometry)}createSpatialReference(){return{}}addField(He,Ue){He.fields.push(Ue);const nt=He.fields.map(Mt=>Mt.name);this.AttributesConstructor=function(){for(const Mt of nt)this[Mt]=null}}addFeature(He,Ue){He.features.push(Ue)}prepareFeatures(He){switch(this.transform=He.transform,this.options.applyTransform&&He.transform&&(this.applyTransform=this.deriveApplyTransform(He)),this.vertexDimension=2,He.hasZ&&this.vertexDimension++,He.hasM&&this.vertexDimension++,He.geometryType){case"esriGeometryPoint":this.addCoordinate=(Ue,nt,Mt)=>this.addCoordinatePoint(Ue,nt,Mt),this.createGeometry=Ue=>this.createPointGeometry(Ue);break;case"esriGeometryPolygon":this.addCoordinate=(Ue,nt,Mt)=>this.addCoordinatePolygon(Ue,nt,Mt),this.createGeometry=Ue=>this.createPolygonGeometry(Ue);break;case"esriGeometryPolyline":this.addCoordinate=(Ue,nt,Mt)=>this.addCoordinatePolyline(Ue,nt,Mt),this.createGeometry=Ue=>this.createPolylineGeometry(Ue);break;case"esriGeometryMultipoint":this.addCoordinate=(Ue,nt,Mt)=>this.addCoordinateMultipoint(Ue,nt,Mt),this.createGeometry=Ue=>this.createMultipointGeometry(Ue);break;default:(0,ye.Bg)(He.geometryType)}}createFeature(){return this.lengths.length=0,this.currentLengthIndex=0,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0,this.coordinateBuffer=null,this.coordinateBufferPtr=0,{attributes:new this.AttributesConstructor}}allocateCoordinates(){}addLength(He,Ue,nt){0===this.lengths.length&&(this.toAddInCurrentPath=Ue),this.lengths.push(Ue)}addQueryGeometry(He,Ue){const{queryGeometry:nt,queryGeometryType:Mt}=Ue,tr=(0,Q.$g)(nt.clone(),nt,!1,!1,this.transform),br=(0,Q.di)(tr,Mt,!1,!1);He.queryGeometryType=Mt,He.queryGeometry=Pt({},br)}createPointGeometry(He){const Ue={x:0,y:0,spatialReference:He.spatialReference};return He.hasZ&&(Ue.z=0),He.hasM&&(Ue.m=0),Ue}addCoordinatePoint(He,Ue,nt){switch(Ue=this.applyTransform(this.transform,Ue,nt,0),nt){case 0:He.x=Ue;break;case 1:He.y=Ue;break;case 2:"z"in He?He.z=Ue:He.m=Ue;break;case 3:He.m=Ue}}transformPathLikeValue(He,Ue){let nt=0;return Ue<=1&&(nt=this.previousCoordinate[Ue],this.previousCoordinate[Ue]+=He),this.applyTransform(this.transform,He,Ue,nt)}addCoordinatePolyline(He,Ue,nt){this.dehydratedAddPointsCoordinate(He.paths,Ue,nt)}addCoordinatePolygon(He,Ue,nt){this.dehydratedAddPointsCoordinate(He.rings,Ue,nt)}addCoordinateMultipoint(He,Ue,nt){0===nt&&He.points.push([]);const Mt=this.transformPathLikeValue(Ue,nt);He.points[He.points.length-1].push(Mt)}createPolygonGeometry(He){return{rings:[[]],spatialReference:He.spatialReference,hasZ:!!He.hasZ,hasM:!!He.hasM}}createPolylineGeometry(He){return{paths:[[]],spatialReference:He.spatialReference,hasZ:!!He.hasZ,hasM:!!He.hasM}}createMultipointGeometry(He){return{points:[],spatialReference:He.spatialReference,hasZ:!!He.hasZ,hasM:!!He.hasM}}dehydratedAddPointsCoordinate(He,Ue,nt){0===nt&&0==this.toAddInCurrentPath--&&(He.push([]),this.toAddInCurrentPath=this.lengths[++this.currentLengthIndex]-1,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0);const Mt=this.transformPathLikeValue(Ue,nt),tr=He[He.length-1];0===nt&&(this.coordinateBufferPtr=0,this.coordinateBuffer=new Array(this.vertexDimension),tr.push(this.coordinateBuffer)),this.coordinateBuffer[this.coordinateBufferPtr++]=Mt}deriveApplyTransform(He){const{hasZ:Ue,hasM:nt}=He;return Ue&&nt?fe:Ue?me:nt?ve:ue}}var xe=C(17253);function tt(){return(tt=(0,x.Z)(function*(Xe,He,Ue){const nt=(0,W.en)(Xe),Mt=Pt({},Ue),tr=Y.Z.from(He),br=!tr.quantizationParameters,{data:xr}=yield(0,Z.executeQueryPBF)(nt,tr,new he({sourceSpatialReference:tr.sourceSpatialReference,applyTransform:br}),Mt);return xr})).apply(this,arguments)}var Re=C(84792),be=C(33022);function Te(Xe,He){const Ue=Xe.toJSON();return Ue.objectIds&&(Ue.objectIds=Ue.objectIds.join(",")),Ue.orderByFields&&(Ue.orderByFields=Ue.orderByFields.join(",")),!Ue.outFields||null!=He&&He.returnCountOnly?delete Ue.outFields:Ue.outFields=-1!==Ue.outFields.indexOf("*")?"*":Ue.outFields.join(","),Ue.outSpatialReference&&(Ue.outSR=Ue.outSR.wkid||JSON.stringify(Ue.outSR.toJSON()),delete Ue.outSpatialReference),Ue.dynamicDataSource&&(Ue.layer=JSON.stringify({source:Ue.dynamicDataSource}),delete Ue.dynamicDataSource),Ue}function Je(Xe,He,Ue){return ut.apply(this,arguments)}function ut(){return(ut=(0,x.Z)(function*(Xe,He,Ue){const nt=yield Ye(Xe,He,Ue),Mt=nt.data,tr=Mt.geometryType,br=Mt.spatialReference,xr={};for(const Ur of Mt.relatedRecordGroups){const Br={fields:void 0,objectIdFieldName:void 0,geometryType:tr,spatialReference:br,hasZ:!!Mt.hasZ,hasM:!!Mt.hasM,features:Ur.relatedRecords};if(null!=Ur.objectId)xr[Ur.objectId]=Br;else for(const nn in Ur)Ur.hasOwnProperty(nn)&&"relatedRecords"!==nn&&(xr[Ur[nn]]=Br)}return Xr(Pt({},nt),{data:xr})})).apply(this,arguments)}function Pe(Xe,He,Ue){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,x.Z)(function*(Xe,He,Ue){const nt=yield Ye(Xe,He,Ue,{returnCountOnly:!0}),Mt=nt.data,tr={};for(const br of Mt.relatedRecordGroups)null!=br.objectId&&(tr[br.objectId]=br.count);return Xr(Pt({},nt),{data:tr})})).apply(this,arguments)}function Ye(Xe,He){return te.apply(this,arguments)}function te(){return(te=(0,x.Z)(function*(Xe,He,Ue={},nt){const Mt=(0,be.A)(Pt(Pt(Xr(Pt({},Xe.query),{f:"json"}),nt),Te(He,nt)));return(0,Re.default)(Xe.path+"/queryRelatedRecords",Xr(Pt({},Ue),{query:Pt(Pt({},Ue.query),Mt)}))})).apply(this,arguments)}var _e=C(67010);function et(){return(et=(0,x.Z)(function*(Xe,He,Ue){return He=_e.Z.from(He),Je((0,W.en)(Xe),He,Ue).then(Mt=>{const tr=Mt.data,br={};return Object.keys(tr).forEach(xr=>br[xr]=xe.default.fromJSON(tr[xr])),br})})).apply(this,arguments)}function ft(){return(ft=(0,x.Z)(function*(Xe,He,Ue){return He=_e.Z.from(He),Pe((0,W.en)(Xe),He,Pt({},Ue)).then(Mt=>Mt.data)})).apply(this,arguments)}var Et=C(21726),mt=C(91179),at=C(62825),wt=C(61515);const Tt="Layer does not support extent calculation.";function Wt(Xe,He,Ue,nt){return er.apply(this,arguments)}function er(){return(er=(0,x.Z)(function*(Xe,He,Ue,nt){const Mt=yield Gt(Xe,He,"json",nt);return(0,wt.p)(He,Ue,Mt.data),Mt})).apply(this,arguments)}function gr(Xe,He,Ue){return yr.apply(this,arguments)}function yr(){return(yr=(0,x.Z)(function*(Xe,He,Ue){return(0,ee.pC)(He.timeExtent)&&He.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):Gt(Xe,He,"json",Ue,{returnIdsOnly:!0})})).apply(this,arguments)}function mr(Xe,He,Ue){return gt.apply(this,arguments)}function gt(){return(gt=(0,x.Z)(function*(Xe,He,Ue){return(0,ee.pC)(He.timeExtent)&&He.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):Gt(Xe,He,"json",Ue,{returnExtentOnly:!0,returnCountOnly:!0}).then(nt=>{const Mt=nt.data;if(Mt.hasOwnProperty("extent"))return nt;if(Mt.features)throw new Error(Tt);if(Mt.hasOwnProperty("count"))throw new Error(Tt);return nt})})).apply(this,arguments)}function kt(Xe,He,Ue){return(0,ee.pC)(He.timeExtent)&&He.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):Gt(Xe,He,"json",Ue,{returnIdsOnly:!0,returnCountOnly:!0})}function Gt(Xe,He,Ue,nt={},Mt={}){const tr="string"==typeof Xe?(0,Et.mN)(Xe):Xe,br=He.geometry?[He.geometry]:[];return nt.responseType="pbf"===Ue?"array-buffer":"json",(0,at.aX)(br,null,nt).then(xr=>{const Ur=xr&&xr[0];(0,ee.pC)(Ur)&&((He=He.clone()).geometry=Ur);const Br=(0,be.A)(Pt(Pt(Xr(Pt({},tr.query),{f:Ue}),Mt),function Ut(Xe,He){var Ue,nt;const Mt=Xe.geometry,tr=Xe.toJSON(),br=tr;if((0,ee.pC)(Mt)&&(br.geometry=JSON.stringify(Mt),br.geometryType=(0,mt.Ji)(Mt),br.inSR=Mt.spatialReference.wkid||JSON.stringify(Mt.spatialReference)),null!=(Ue=tr.topFilter)&&Ue.groupByFields&&(br.topFilter.groupByFields=tr.topFilter.groupByFields.join(",")),null!=(nt=tr.topFilter)&&nt.orderByFields&&(br.topFilter.orderByFields=tr.topFilter.orderByFields.join(",")),tr.topFilter&&(br.topFilter=JSON.stringify(br.topFilter)),tr.objectIds&&(br.objectIds=tr.objectIds.join(",")),tr.orderByFields&&(br.orderByFields=tr.orderByFields.join(",")),tr.outFields&&!(null!=He&&He.returnCountOnly||null!=He&&He.returnExtentOnly||null!=He&&He.returnIdsOnly)?br.outFields=-1!==tr.outFields.indexOf("*")?"*":tr.outFields.join(","):delete br.outFields,tr.outSR?br.outSR=tr.outSR.wkid||JSON.stringify(tr.outSR):Mt&&tr.returnGeometry&&(br.outSR=br.inSR),tr.returnGeometry&&delete tr.returnGeometry,tr.timeExtent){const xr=tr.timeExtent,{start:Ur,end:Br}=xr;null==Ur&&null==Br||(br.time=Ur===Br?Ur:`${null==Ur?"null":Ur},${null==Br?"null":Br}`),delete tr.timeExtent}return br}(He,Mt)));return(0,Re.default)((0,Et.v_)(tr.path,"queryTopFeatures"),Xr(Pt({},nt),{query:Pt(Pt({},Br),nt.query)}))})}var Qt=C(6871);function dr(){return(dr=(0,x.Z)(function*(Xe,He,Ue,nt){const Mt=(0,W.en)(Xe),tr=Pt({},nt),{data:br}=yield Wt(Mt,Qt.Z.from(He),Ue,tr);return xe.default.fromJSON(br)})).apply(this,arguments)}function Ot(){return(Ot=(0,x.Z)(function*(Xe,He,Ue){const nt=(0,W.en)(Xe);return(yield gr(nt,Qt.Z.from(He),Pt({},Ue))).data.objectIds})).apply(this,arguments)}function Vt(){return(Vt=(0,x.Z)(function*(Xe,He,Ue){const nt=(0,W.en)(Xe),Mt=yield mr(nt,Qt.Z.from(He),Pt({},Ue));return{count:Mt.data.count,extent:H.Z.fromJSON(Mt.data.extent)}})).apply(this,arguments)}function Zt(){return(Zt=(0,x.Z)(function*(Xe,He,Ue){const nt=(0,W.en)(Xe);return(yield kt(nt,Qt.Z.from(He),Pt({},Ue))).data.count})).apply(this,arguments)}var ke=C(79308);let ot=class extends ke.Z{constructor(Xe){super(Xe),this.dynamicDataSource=null,this.fieldsIndex=null,this.format="json",this.gdbVersion=null,this.infoFor3D=null,this.sourceSpatialReference=null}execute(Xe,He){return this.executeJSON(Xe,He).then(Ue=>this.featureSetFromJSON(Xe,Ue,He))}executeJSON(Xe,He){var Ue=this;return(0,x.Z)(function*(){var nt;const Mt=Pt(Pt({},Ue.requestOptions),He),tr=Ue._normalizeQuery(Xe),br=null!=(null==(nt=Xe.outStatistics)?void 0:nt[0]),xr=(0,ne.Z)("featurelayer-pbf-statistics"),Ur=!br||xr;let Br;if("pbf"===Ue.format&&Ur)try{Br=yield function Fe(Xe,He,Ue){return tt.apply(this,arguments)}(Ue.url,tr,Mt)}catch(nn){if("query:parsing-pbf"!==nn.name)throw nn;Ue.format="json"}return"json"!==Ue.format&&Ur||(Br=yield(0,le.F)(Ue.url,tr,Mt)),Ue._normalizeFields(Br.fields),Br})()}featureSetFromJSON(Xe,He,Ue){var nt=this;return(0,x.Z)(function*(){if(!(nt._queryIs3DObjectFormat(Xe)&&(0,ee.pC)(nt.infoFor3D)&&He.features&&He.features.length))return xe.default.fromJSON(He);const{meshFeatureSetFromJSON:Mt}=yield(0,ie.Hl)(Promise.all([C.e(479),C.e(853),C.e(8592),C.e(582)]).then(C.bind(C,10582)),Ue);return Mt(Xe,nt.infoFor3D,He)})()}executeForCount(Xe,He){const Ue=Pt(Pt({},this.requestOptions),He),nt=this._normalizeQuery(Xe);return(0,P.P)(this.url,nt,Ue)}executeForExtent(Xe,He){const Ue=Pt(Pt({},this.requestOptions),He),nt=this._normalizeQuery(Xe);return function de(Xe,He,Ue){return q.apply(this,arguments)}(this.url,nt,Ue)}executeForIds(Xe,He){const Ue=Pt(Pt({},this.requestOptions),He),nt=this._normalizeQuery(Xe);return(0,ge.G)(this.url,nt,Ue)}executeRelationshipQuery(Xe,He){Xe=_e.Z.from(Xe);const Ue=Pt(Pt({},this.requestOptions),He);return(this.gdbVersion||this.dynamicDataSource)&&((Xe=Xe.clone()).gdbVersion=Xe.gdbVersion||this.gdbVersion,Xe.dynamicDataSource=Xe.dynamicDataSource||this.dynamicDataSource),function Ze(Xe,He,Ue){return et.apply(this,arguments)}(this.url,Xe,Ue)}executeRelationshipQueryForCount(Xe,He){Xe=_e.Z.from(Xe);const Ue=Pt(Pt({},this.requestOptions),He);return(this.gdbVersion||this.dynamicDataSource)&&((Xe=Xe.clone()).gdbVersion=Xe.gdbVersion||this.gdbVersion,Xe.dynamicDataSource=Xe.dynamicDataSource||this.dynamicDataSource),function ht(Xe,He,Ue){return ft.apply(this,arguments)}(this.url,Xe,Ue)}executeAttachmentQuery(Xe,He){const Ue=Pt(Pt({},this.requestOptions),He);return function $(Xe,He,Ue){return V.apply(this,arguments)}(this.url,Xe,Ue)}executeTopFeaturesQuery(Xe,He){const Ue=Pt(Pt({},this.requestOptions),He);return function lr(Xe,He,Ue,nt){return dr.apply(this,arguments)}(this.parsedUrl,Xe,this.sourceSpatialReference,Ue)}executeForTopIds(Xe,He){const Ue=Pt(Pt({},this.requestOptions),He);return function ct(Xe,He,Ue){return Ot.apply(this,arguments)}(this.parsedUrl,Xe,Ue)}executeForTopExtents(Xe,He){const Ue=Pt(Pt({},this.requestOptions),He);return function Rt(Xe,He,Ue){return Vt.apply(this,arguments)}(this.parsedUrl,Xe,Ue)}executeForTopCount(Xe,He){const Ue=Pt(Pt({},this.requestOptions),He);return function Yt(Xe,He,Ue){return Zt.apply(this,arguments)}(this.parsedUrl,Xe,Ue)}_normalizeQuery(Xe){let He=Y.Z.from(Xe);if(He.sourceSpatialReference=He.sourceSpatialReference||this.sourceSpatialReference,(this.gdbVersion||this.dynamicDataSource)&&(He=He===Xe?He.clone():He,He.gdbVersion=Xe.gdbVersion||this.gdbVersion,He.dynamicDataSource=Xe.dynamicDataSource?X.n.from(Xe.dynamicDataSource):this.dynamicDataSource),(0,ee.pC)(this.infoFor3D)&&this._queryIs3DObjectFormat(Xe)){He=He===Xe?He.clone():He,He.formatOf3DObjects=null;for(const Ue of this.infoFor3D.queryFormats){if("3D_glb"===Ue.id){He.formatOf3DObjects=Ue.id;break}"3D_gltf"!==Ue.id||He.formatOf3DObjects||(He.formatOf3DObjects=Ue.id)}if(!He.formatOf3DObjects)throw new re.Z("query:unsupported-3d-query-formats","Could not find any supported 3D object query format. Only supported formats are 3D_glb and 3D_gltf");if((0,ee.Wi)(He.outFields)||!He.outFields.includes("*")){He=He===Xe?He.clone():He,(0,ee.Wi)(He.outFields)&&(He.outFields=[]);const{originX:Ue,originY:nt,originZ:Mt,translationX:tr,translationY:br,translationZ:xr,scaleX:Ur,scaleY:Br,scaleZ:nn,rotationX:jn,rotationY:Ai,rotationZ:Yn,rotationDeg:Hi}=this.infoFor3D.transformFieldRoles;He.outFields.push(Ue,nt,Mt,tr,br,xr,Ur,Br,nn,jn,Ai,Yn,Hi)}}return He}_normalizeFields(Xe){if((0,ee.pC)(this.fieldsIndex)&&(0,ee.pC)(Xe))for(const He of Xe){const Ue=this.fieldsIndex.get(He.name);Ue&&Object.assign(He,Ue.toJSON())}}_queryIs3DObjectFormat(Xe){return(0,ee.pC)(this.infoFor3D)&&Xe.returnGeometry&&"xyFootprint"!==Xe.multipatchOption&&!Xe.outStatistics}};(0,T._)([(0,J.Cb)({type:X.n})],ot.prototype,"dynamicDataSource",void 0),(0,T._)([(0,J.Cb)()],ot.prototype,"fieldsIndex",void 0),(0,T._)([(0,J.Cb)()],ot.prototype,"format",void 0),(0,T._)([(0,J.Cb)()],ot.prototype,"gdbVersion",void 0),(0,T._)([(0,J.Cb)()],ot.prototype,"infoFor3D",void 0),(0,T._)([(0,J.Cb)()],ot.prototype,"sourceSpatialReference",void 0),ot=(0,T._)([(0,B.j)("esri.tasks.QueryTask")],ot);const ze=ot},79308:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>B});var x=C(17626),T=C(14517),re=C(21726),ne=C(77712),j=(C(85931),C(8314),C(90912),C(76898));let A=class extends T.Z{constructor(...X){super(...X),this.requestOptions=null,this.url=null}normalizeCtorArgs(X,W){return"string"!=typeof X?X:Pt({url:X},W)}get parsedUrl(){return this._parseUrl(this.url)}_parseUrl(X){return X?(0,re.mN)(X):null}_encode(X,W,K){const ae={};for(const $ in X){if("declaredClass"===$)continue;const V=X[$];if(null!=V&&"function"!=typeof V)if(Array.isArray(V)){ae[$]=[];for(let P=0;P<V.length;P++)ae[$][P]=this._encode(V[P])}else if("object"==typeof V)if(V.toJSON){const P=V.toJSON(K&&K[$]);ae[$]=W?P:JSON.stringify(P)}else ae[$]=W?V:JSON.stringify(V);else ae[$]=V}return ae}};(0,x._)([(0,ne.Cb)({readOnly:!0})],A.prototype,"parsedUrl",null),(0,x._)([(0,ne.Cb)()],A.prototype,"requestOptions",void 0),(0,x._)([(0,ne.Cb)({type:String})],A.prototype,"url",void 0),A=(0,x._)([(0,j.j)("esri.tasks.Task")],A);const B=A},33022:(lt,Se,C)=>{"use strict";function x(T){const re={};for(const ne in T){if("declaredClass"===ne)continue;const ee=T[ne];if(null!=ee&&"function"!=typeof ee)if(Array.isArray(ee)){re[ne]=[];for(let ie=0;ie<ee.length;ie++)re[ne][ie]=x(ee[ie])}else"object"==typeof ee?ee.toJSON&&(re[ne]=JSON.stringify(ee)):re[ne]=ee}return re}C.d(Se,{A:()=>x})},81340:(lt,Se,C)=>{"use strict";C.d(Se,{n:()=>ie});var x=C(35575),T=C(2004),re=C(65401),ne=C(89621),ee=C(58098);class ie{constructor(j,A){this.key=new ee.Z(0,0,0,0),this.bounds=(0,re.Ue)(),this.objectIds=new Set,this.key.set(A);const B=j.getLODInfoAt(this.key);this.tileInfoView=j,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=B.resolution,this.scale=B.scale,this.level=B.level}get id(){return this.key.id}get extent(){return T.Z.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createChildTiles(){const j=this.key.getChildKeys(),A=x.Z.acquire();for(let B=0;B<j.length;B++)A[B]=new ie(this.tileInfoView,j[B]);return A}getQuantizationParameters(){return ne.Z.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}}},56656:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>B});var x=C(61885),T=C(8314),re=C(76279),ne=C(81340),ee=C(84378),ie=C(58098);const J={added:[],removed:[]},j=new Set,A=new ie.Z(0,0,0,0);class B extends x.Z{constructor(W){super(),this._tiles=new Map,this._index=(0,re.r)(9,(0,T.Z)("esri-csp-restrictions")?K=>({minX:K.bounds[0],minY:K.bounds[1],maxX:K.bounds[2],maxY:K.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=W}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(W){return this._tiles.has(W)}get(W){return this._tiles.get(W)}boundsIntersections(W){return this._index.search({minX:W[0],minY:W[1],maxX:W[2],maxY:W[3]})}updateTiles(W){const K={added:[],removed:[]};for(const ae of W.added)if(!this.has(ae)){const $=new ne.n(this.tileScheme,ae);this._tiles.set(ae,$),this._index.insert($),K.added.push($)}for(const ae of W.removed)if(this.has(ae)){const $=this.get(ae);this._tiles.delete(ae),this._index.remove($),K.removed.push($)}this.tiles.length=0,this._tiles.forEach(ae=>this.tiles.push(ae)),(K.added.length||K.removed.length)&&this.emit("update",K)}setViewState(W){const K=this.tileScheme.getTileCoverage(W,0);if(!K)return;const{spans:ae,lodInfo:$}=K,{level:V}=$;if(ae.length>0)for(const{row:P,colFrom:F,colTo:Z}of ae)for(let Y=F;Y<=Z;Y++){const H=A.set(V,P,$.normalizeCol(Y),$.getWorldForColumn(Y)).id;if(j.add(H),!this.has(H)){const de=new ne.n(this.tileScheme,H);this._tiles.set(H,de),this._index.insert(de),this.tiles.push(de),J.added.push(de)}}for(let P=this.tiles.length-1;P>=0;P--){const F=this.tiles[P];j.has(F.id)||(this._tiles.delete(F.id),this.tiles.splice(P,1),this._index.remove(F),J.removed.push(F))}(J.added.length||J.removed.length)&&this.emit("update",J),ee.Z.pool.release(K),j.clear(),J.added.length=0,J.removed.length=0}}},33412:(lt,Se,C)=>{"use strict";C.d(Se,{T:()=>T});class T{constructor(){this._names=new Map}begin(ne){this._names.has(ne)||(this._names.set(ne,!1),-1!==ne.indexOf("Brush")&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${ne}.Start`))}end(ne){this._names.has(ne)&&!this._names.get(ne)&&(this._names.set(ne,!0),performance.mark(`Esri.${ne}.End`))}record(ne){this._names.has(ne)||(this._names.set(ne,!0),performance.mark(`Esri.${ne}`))}}},17083:(lt,Se,C)=>{"use strict";var x=C(17626),T=C(14517),re=C(77712),J=(C(85931),C(8314),C(90912),C(76898)),j=C(67831),A=C(71251);const X=new Set,W=[],K=new Map,ae=[0,0];let $=class extends T.Z{constructor(P){super(P),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:P,process:F}=this;this._queue=new A.e({concurrency:P,process:(Z,Y)=>{const H=this._keyToItem.get(Z);return F(H,{signal:Y})},peeker:Z=>Z.values().next().value})}destroy(){this.clear(),this._queue.destroy(),this._queue=null}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(P){this._queue.abort("string"==typeof P?P:P.id)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(P){return this._keyToItem.has("string"==typeof P?P:P.id)}isOngoing(P){const F="string"==typeof P?P:P.id;return this.has(F)&&this._queue.isOngoing(F)}pause(){this._queue.pause()}push(P,F){const Z=P.key.id+"-"+F;if(this.has(Z))return this.get(Z);const Y=this._queue.push(Z),H=()=>{this._keyToItem.delete(Z),this.notifyChange("updating")};return this._keyToItem.set(Z,P),Y.then(H,H),this.notifyChange("updating"),Y}reset(){this._queue.reset(),this.notifyChange("updating")}resume(){this._queue.resume()}_peekByScaleFirst(P){if(!this.state)return P.values().next().value;const F=this.tileInfoView;let Z=Number.NEGATIVE_INFINITY,Y=Number.POSITIVE_INFINITY;P.forEach(ye=>{const oe=this._keyToItem.get(ye),Q=this.tileInfoView.getTileScale(oe.key);K.has(Q)||(K.set(Q,[]),Z=Math.max(Q,Z),Y=Math.min(Q,Y)),K.get(Q).push(oe.key),X.add(Q)});let H=this.state.scale;K.has(H)||(function B(P,F){P.length=0,F.forEach(Z=>P.push(Z))}(W,X),W.sort((ye,oe)=>ye-oe),H=W.reduce((ye,oe)=>Math.abs(oe-H)<Math.abs(ye-H)?oe:ye,W[0])),H=Math.min(H,Z),H=Math.max(H,Y);const de=K.get(H),q=F.getClosestInfoForScale(H),ge=q.getColumnForX(this.state.center[0]),le=q.getRowForY(this.state.center[1]);return de.sort((ye,oe)=>{const Q=q.denormalizeCol(ye.col,ye.world),pe=q.denormalizeCol(oe.col,oe.world);return Math.sqrt((ge-Q)*(ge-Q)+(le-ye.row)*(le-ye.row))-Math.sqrt((ge-pe)*(ge-pe)+(le-oe.row)*(le-oe.row))}),X.clear(),K.clear(),de[0].id}_peekByCenterFirst(P){if(!this.state)return P.values().next().value;const F=this.tileInfoView,Z=this.state.center;let Y=Number.POSITIVE_INFINITY,H=null;return P.forEach(de=>{const q=this._keyToItem.get(de);F.getTileCoords(ae,q.key);const ge=(0,j.b)(ae,Z);ge<Y&&(Y=ge,H=q.key)}),H.id}};(0,x._)([(0,re.Cb)({constructOnly:!0})],$.prototype,"concurrency",void 0),(0,x._)([(0,re.Cb)({constructOnly:!0})],$.prototype,"process",void 0),(0,x._)([(0,re.Cb)()],$.prototype,"state",void 0),(0,x._)([(0,re.Cb)({constructOnly:!0})],$.prototype,"strategy",void 0),(0,x._)([(0,re.Cb)({constructOnly:!0})],$.prototype,"tileInfoView",void 0),(0,x._)([(0,re.Cb)({readOnly:!0})],$.prototype,"updating",null),$=(0,x._)([(0,J.j)("esri.views.2d.tiling.PagedTileQueue")],$)},84378:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>T});var x=C(27899);class T{constructor(){this.spans=[]}acquire(ne){this.lodInfo=ne}release(){this.lodInfo=null,this.spans.length=0}forEach(ne,ee){const{spans:ie,lodInfo:J}=this,{level:j}=J;if(0!==ie.length)for(const{row:A,colFrom:B,colTo:X}of ie)for(let W=B;W<=X;W++)ne.call(ee,j,A,J.normalizeCol(W),J.getWorldForColumn(W))}}T.pool=new x.Z(T)},9598:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>$});var x=C(37053),T=C(62208),re=C(58098);function ne(V,P){return[V,P]}function ee(V,P,F){return V[0]=P,V[1]=F,V}const J=new re.Z("0/0/0/0");class j{constructor(P,F,Z,Y,H,de,q,ge,le,ye,oe,Q){this.level=P,this.resolution=F,this.scale=Z,this.origin=Y,this.first=H,this.last=de,this.size=q,this.norm=ge,this.worldStart=le,this.worldEnd=ye,this.worldSize=oe,this.wrap=Q}static create(P,F,Z=null){const Y=(0,x.C5)(P.spatialReference),H=F.origin||ne(P.origin.x,P.origin.y),de=ne(P.size[0]*F.resolution,P.size[1]*F.resolution),q=ne(-1/0,-1/0),ge=ne(1/0,1/0),le=ne(1/0,1/0);(0,T.pC)(Z)&&(ee(q,Math.max(0,Math.floor((Z.xmin-H[0])/de[0])),Math.max(0,Math.floor((H[1]-Z.ymax)/de[1]))),ee(ge,Math.max(0,Math.floor((Z.xmax-H[0])/de[0])),Math.max(0,Math.floor((H[1]-Z.ymin)/de[1]))),ee(le,ge[0]-q[0]+1,ge[1]-q[1]+1));const{cols:ye,rows:oe}=F;let Q,pe,ue,me;return!Z&&ye&&oe&&(ee(q,ye[0],oe[0]),ee(ge,ye[1],oe[1]),ee(le,ye[1]-ye[0]+1,oe[1]-oe[0]+1)),P.isWrappable?(Q=ne(Math.ceil(Math.round((Y.valid[1]-Y.valid[0])/F.resolution)/P.size[0]),le[1]),pe=ne(Math.floor((Y.origin[0]-H[0])/de[0]),q[1]),ue=ne(Q[0]+pe[0]-1,ge[1]),me=!0):(pe=q,ue=ge,Q=le,me=!1),new j(F.level,F.resolution,F.scale,H,q,ge,le,de,pe,ue,Q,me)}normalizeCol(P){if(!this.wrap)return P;const F=this.worldSize[0];return P<0?F-1-Math.abs((P+1)%F):P%F}denormalizeCol(P,F){return this.wrap?this.worldSize[0]*F+P:P}getWorldForColumn(P){return this.wrap?Math.floor(P/this.worldSize[0]):0}getFirstColumnForWorld(P){return P*this.worldSize[0]+this.first[0]}getLastColumnForWorld(P){return P*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(P){return(P-this.origin[0])/this.norm[0]}getXForColumn(P){return this.origin[0]+P*this.norm[0]}getRowForY(P){return(this.origin[1]-P)/this.norm[1]}getYForRow(P){return this.origin[1]-P*this.norm[1]}getTileBounds(P,F,Z=!1){J.set(F);const Y=Z?J.col:this.denormalizeCol(J.col,J.world),H=J.row;return function ie(V,P,F,Z,Y){V[0]=P,V[1]=F,V[2]=Z,V[3]=Y}(P,this.getXForColumn(Y),this.getYForRow(H+1),this.getXForColumn(Y+1),this.getYForRow(H)),P}getTileCoords(P,F,Z=!1){J.set(F);const Y=Z?J.col:this.denormalizeCol(J.col,J.world);return Array.isArray(P)?ee(P,this.getXForColumn(Y),this.getYForRow(J.row)):(P.x=this.getXForColumn(Y),P.y=this.getYForRow(J.row)),P}}var A=C(84378);class B{constructor(P,F,Z){this.row=P,this.colFrom=F,this.colTo=Z}}const X=new re.Z("0/0/0/0");class W{constructor(P,F,Z,Y,H,de,q,ge){this.x=P,this.ymin=F,this.ymax=Z,this.invM=Y,this.leftAdjust=H,this.rightAdjust=de,this.leftBound=q,this.rightBound=ge}static create(P,F){P[1]>F[1]&&([P,F]=[F,P]);const[Z,Y]=P,[H,de]=F,q=H-Z,ge=de-Y,le=0!==ge?q/ge:0,ye=(Math.ceil(Y)-Y)*le,oe=(Math.floor(Y)-Y)*le;return new W(Z,Math.floor(Y),Math.ceil(de),le,q<0?ye:oe,q<0?oe:ye,q<0?H:Z,q<0?Z:H)}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}}const K=[[0,0],[0,0],[0,0],[0,0]];class ${constructor(P,F=null){this.tileInfo=P,this.fullExtent=F,this.scales=[],this._lodInfos=null,this._infoByScale={},this._infoByLevel={};const Z=P.lods.slice();Z.sort(function(H,de){return de.scale-H.scale});const Y=this._lodInfos=Z.map(H=>j.create(P,H,F));Z.forEach((H,de)=>{this._infoByLevel[H.level]=Y[de],this._infoByScale[H.scale]=Y[de],this.scales[de]=H.scale},this),this._wrap=P.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(P){return this._infoByLevel["number"==typeof P?P:P.level]}getTileBounds(P,F,Z=!1){X.set(F);const Y=this._infoByLevel[X.level];return Y?Y.getTileBounds(P,X,Z):P}getTileCoords(P,F,Z=!1){X.set(F);const Y=this._infoByLevel[X.level];return Y?Y.getTileCoords(P,X,Z):P}getTileCoverage(P,F=192,Z="closest"){const Y="closest"===Z?this.getClosestInfoForScale(P.scale):this.getSmallestInfoForScale(P.scale),H=A.Z.pool.acquire(Y),de=this._wrap;let q,ge,le,ye=1/0,oe=-1/0;const Q=H.spans;K[0][0]=K[0][1]=K[1][1]=K[3][0]=-F,K[1][0]=K[2][0]=P.size[0]+F,K[2][1]=K[3][1]=P.size[1]+F;for(const ve of K)P.toMap(ve,ve),ve[0]=Y.getColumnForX(ve[0]),ve[1]=Y.getRowForY(ve[1]);const pe=[];let ue=3;for(let ve=0;ve<4;ve++){if(K[ve][1]===K[ue][1]){ue=ve;continue}const fe=W.create(K[ve],K[ue]);ye=Math.min(fe.ymin,ye),oe=Math.max(fe.ymax,oe),void 0===pe[fe.ymin]&&(pe[fe.ymin]=[]),pe[fe.ymin].push(fe),ue=ve}if(null==ye||null==oe||oe-ye>100)return null;let me=[];for(q=ye;q<oe;){null!=pe[q]&&(me=me.concat(pe[q])),ge=1/0,le=-1/0;for(let ve=me.length-1;ve>=0;ve--){const fe=me[ve];ge=Math.min(ge,fe.getLeftCol()),le=Math.max(le,fe.getRightCol())}if(ge=Math.floor(ge),le=Math.floor(le),q>=Y.first[1]&&q<=Y.last[1])if(de)if(Y.size[0]<Y.worldSize[0]){const ve=Math.floor(le/Y.worldSize[0]);for(let fe=Math.floor(ge/Y.worldSize[0]);fe<=ve;fe++)Q.push(new B(q,Math.max(Y.getFirstColumnForWorld(fe),ge),Math.min(Y.getLastColumnForWorld(fe),le)))}else Q.push(new B(q,ge,le));else ge>Y.last[0]||le<Y.first[0]||(ge=Math.max(ge,Y.first[0]),le=Math.min(le,Y.last[0]),Q.push(new B(q,ge,le)));q+=1;for(let ve=me.length-1;ve>=0;ve--){const fe=me[ve];fe.ymax>=q?fe.incrRow():me.splice(ve,1)}}return H}getTileParentId(P){X.set(P);const Z=this._lodInfos.indexOf(this._infoByLevel[X.level])-1;return Z<0?null:(this._getTileIdAtLOD(X,this._lodInfos[Z],X),X.id)}getTileResolution(P){const F=this._infoByLevel["object"==typeof P?P.level:P];return F?F.resolution:-1}getTileScale(P){const F=this._infoByLevel[P.level];return F?F.scale:-1}intersects(P,F){X.set(F);const Z=this._infoByLevel[X.level],Y=P.lodInfo;if(Y.resolution>Z.resolution){this._getTileIdAtLOD(X,Y,X);const de=Y.denormalizeCol(X.col,X.world);for(const q of P.spans)if(q.row===X.row&&q.colFrom<=de&&q.colTo>=de)return!0}if(Y.resolution<Z.resolution){const[de,q,ge,le]=P.spans.reduce((me,ve)=>(me[0]=Math.min(me[0],ve.row),me[1]=Math.max(me[1],ve.row),me[2]=Math.min(me[2],ve.colFrom),me[3]=Math.max(me[3],ve.colTo),me),[1/0,-1/0,1/0,-1/0]),ye=Z.denormalizeCol(X.col,X.world),oe=Y.getColumnForX(Z.getXForColumn(ye)),Q=Y.getRowForY(Z.getYForRow(X.row)),pe=Y.getColumnForX(Z.getXForColumn(ye+1))-1,ue=Y.getRowForY(Z.getYForRow(X.row+1))-1;return!(oe>le||pe<ge||Q>q||ue<de)}const H=Y.denormalizeCol(X.col,X.world);return P.spans.some(de=>de.row===X.row&&de.colFrom<=H&&de.colTo>=H)}normalizeBounds(P,F,Z){if(P[0]=F[0],P[1]=F[1],P[2]=F[2],P[3]=F[3],this._wrap){const Y=(0,x.C5)(this.tileInfo.spatialReference),H=-Z*(Y.valid[1]-Y.valid[0]);P[0]+=H,P[2]+=H}return P}getSmallestInfoForScale(P){const F=this.scales;if(this._infoByScale[P])return this._infoByScale[P];if(P>F[0])return this._infoByScale[F[0]];for(let Z=1;Z<F.length-1;Z++)if(P>F[Z]+1e-6)return this._infoByScale[F[Z-1]];return this._infoByScale[F[F.length-1]]}getClosestInfoForScale(P){const F=this.scales;return this._infoByScale[P]||(P=F.reduce((Z,Y)=>Math.abs(Y-P)<Math.abs(Z-P)?Y:Z,F[0])),this._infoByScale[P]}scaleToLevel(P){const F=this.scales;if(this._infoByScale[P])return this._infoByScale[P].level;for(let Z=F.length-1;Z>=0;Z--)if(P<F[Z])return Z===F.length-1?this._infoByScale[F[F.length-1]].level:this._infoByScale[F[Z]].level+(F[Z]-P)/(F[Z]-F[Z+1]);return this._infoByScale[F[0]].level}scaleToZoom(P){return this.tileInfo.scaleToZoom(P)}_getTileIdAtLOD(P,F,Z){const Y=this._infoByLevel[Z.level];return P.set(Z),F.resolution<Y.resolution?null:(F.resolution===Y.resolution||(P.level=F.level,P.col=Math.floor(Z.col*Y.resolution/F.resolution+.01),P.row=Math.floor(Z.row*Y.resolution/F.resolution+.01)),P)}}},58098:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>T});var x=C(27899);class T{constructor(ne,ee,ie,J){this.set(ne,ee,ie,J)}static getId(ne,ee,ie,J){return"object"==typeof ne?`${ne.level}/${ne.row}/${ne.col}/${ne.world}`:`${ne}/${ee}/${ie}/${J}`}get key(){return this}get id(){return this.toString()}set id(ne){this.set(ne)}get hash(){return(3&this.world)<<30|(4095&this.col)<<22|(4095&this.row)<<8|63&this.level}acquire(ne,ee,ie,J){this.set(ne,ee,ie,J)}contains(ne){const ee=ne.level-this.level;return this.row===ne.row>>ee&&this.col===ne.col>>ee&&this.world===ne.world}equals(ne){return this.level===ne.level&&this.row===ne.row&&this.col===ne.col&&this.world===ne.world}clone(){return new T(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(ne,ee,ie,J){if(null==ne)this.level=0,this.row=0,this.col=0,this.world=0;else if("object"==typeof ne)this.level=ne.level||0,this.row=ne.row||0,this.col=ne.col||0,this.world=ne.world||0;else if("string"==typeof ne){const[j,A,B,X]=ne.split("/");this.level=parseFloat(j),this.row=parseFloat(A),this.col=parseFloat(B),this.world=parseFloat(X)}else this.level=+ne,this.row=+ee,this.col=+ie,this.world=+J||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new T(this.level-1,this.row>>1,this.col>>1,this.world)}getChildKeys(){const ne=this.level+1,ee=this.row<<1,ie=this.col<<1,J=this.world;return[new T(ne,ee,ie,J),new T(ne,ee,ie+1,J),new T(ne,ee+1,ie,J),new T(ne,ee+1,ie+1,J)]}compareRowMajor(ne){return this.row<ne.row?-1:this.row>ne.row?1:this.col<ne.col?-1:this.col>ne.col?1:0}}T.pool=new x.Z(T,null,null,25,50)},8480:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>V});var x=C(17626),T=C(14517),re=C(77712),J=(C(85931),C(8314),C(90912),C(76898)),j=C(67831),A=C(71251);const X=new Set,W=[],K=new Map,ae=[0,0];let $=class extends T.Z{constructor(P){super(P),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:P,process:F,strategy:Z}=this;this._queue=new A.e({concurrency:P,process:(Y,H)=>{const de=this._keyToItem.get(Y);return F(de,{signal:H})},peeker:"scale-first"===Z?Y=>this._peekByScaleFirst(Y):Y=>this._peekByCenterFirst(Y)})}destroy(){this.clear(),this._queue.destroy(),this._queue=null}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(P){this._queue.abort("string"==typeof P?P:P.id)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(P){return this._keyToItem.has("string"==typeof P?P:P.id)}isOngoing(P){const F="string"==typeof P?P:P.id;return this.has(F)&&this._queue.isOngoing(F)}pause(){this._queue.pause()}push(P){const F=P.key.id;if(this._queue.has(F))return this._queue.get(F);const Z=this._queue.push(F),Y=()=>{this._keyToItem.delete(F),this.notifyChange("updating")};return this._keyToItem.set(F,P),Z.then(Y,Y),this.notifyChange("updating"),Z}reset(){this._queue.reset()}resume(){this._queue.resume()}_peekByScaleFirst(P){if(!this.state)return P.values().next().value;const F=this.tileInfoView;let Z=Number.NEGATIVE_INFINITY,Y=Number.POSITIVE_INFINITY;P.forEach(ye=>{const oe=this._keyToItem.get(ye),Q=this.tileInfoView.getTileScale(oe.key);K.has(Q)||(K.set(Q,[]),Z=Math.max(Q,Z),Y=Math.min(Q,Y)),K.get(Q).push(oe.key),X.add(Q)});let H=this.state.scale;K.has(H)||(function B(P,F){P.length=0,F.forEach(Z=>P.push(Z))}(W,X),W.sort((ye,oe)=>ye-oe),H=W.reduce((ye,oe)=>Math.abs(oe-H)<Math.abs(ye-H)?oe:ye,W[0])),H=Math.min(H,Z),H=Math.max(H,Y);const de=K.get(H),q=F.getClosestInfoForScale(H),ge=q.getColumnForX(this.state.center[0]),le=q.getRowForY(this.state.center[1]);return de.sort((ye,oe)=>{const Q=q.denormalizeCol(ye.col,ye.world),pe=q.denormalizeCol(oe.col,oe.world);return Math.sqrt((ge-Q)*(ge-Q)+(le-ye.row)*(le-ye.row))-Math.sqrt((ge-pe)*(ge-pe)+(le-oe.row)*(le-oe.row))}),X.clear(),K.clear(),de[0].id}_peekByCenterFirst(P){if(!this.state)return P.values().next().value;const F=this.tileInfoView,Z=this.state.center;let Y=Number.POSITIVE_INFINITY,H=null;return P.forEach(de=>{const q=this._keyToItem.get(de);F.getTileCoords(ae,q.key);const ge=(0,j.b)(ae,Z);ge<Y&&(Y=ge,H=q.key)}),H.id}};(0,x._)([(0,re.Cb)({constructOnly:!0})],$.prototype,"concurrency",void 0),(0,x._)([(0,re.Cb)({constructOnly:!0})],$.prototype,"process",void 0),(0,x._)([(0,re.Cb)()],$.prototype,"state",void 0),(0,x._)([(0,re.Cb)({constructOnly:!0})],$.prototype,"strategy",void 0),(0,x._)([(0,re.Cb)({constructOnly:!0})],$.prototype,"tileInfoView",void 0),(0,x._)([(0,re.Cb)({readOnly:!0})],$.prototype,"updating",null),$=(0,x._)([(0,J.j)("esri.views.2d.tiling.TileQueue")],$);const V=$},79527:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>X});var x=C(65401),T=C(67831);class re{constructor(K,ae,$){this.maxSize=K,this.tileInfoView=ae,this.removedFunc=$,this._tilePerId=new Map,this._tileKeysPerLevel=[]}has(K){return this._tilePerId.has(K)}get(K){return this._tilePerId.get(K)}pop(K){const ae=this._tilePerId.get(K);if(!ae)return null;const V=this._tileKeysPerLevel[ae.key.level];ne(this._tilePerId,K);for(let P=0;P<V.length;P++)if(V[P].id===K){V.splice(P,1);break}return ae.visible=!0,ae}add(K){K.visible=!1;const ae=K.key,$=ae.id;if(this._tilePerId.has($))return;this._tilePerId.set($,K);const V=ae.level;this._tileKeysPerLevel[V]||(this._tileKeysPerLevel[V]=[]),this._tileKeysPerLevel[V].push(ae)}prune(K,ae,$){let V=this._tilePerId.size;if(V<=this.maxSize)return;let P=this._tileKeysPerLevel.length-1;for(;V>this.maxSize&&P>=0;)P!==K&&(V=this._pruneAroundCenterTile(V,ae,$,P)),P--;V>this.maxSize&&(V=this._pruneAroundCenterTile(V,ae,$,K))}_pruneAroundCenterTile(K,ae,$,V){const P=this._tileKeysPerLevel[V];if(!P||0===P.length)return K;const{size:F,origin:Z}=this.tileInfoView.tileInfo,Y=$*F[0],H=$*F[1],de=[0,0],q=[0,0];for(P.sort((ge,le)=>(de[0]=Z.x+Y*(ge.col+.5),de[1]=Z.y-H*(ge.row+.5),q[0]=Z.x+Y*(le.col+.5),q[1]=Z.y-H*(le.row+.5),(0,T.a)(de,ae)-(0,T.a)(q,ae)));P.length>0;){const ge=P.pop();if(this._removeTile(ge.id),--K===this.maxSize)break}return K}_removeTile(K){const ae=this._tilePerId.get(K);this.removedFunc&&this.removedFunc(ae),ne(this._tilePerId,K)}}function ne(W,K){W.delete(K)}var ee=C(84378);const J=new(C(58098).Z)(0,0,0,0),j=new Map,A=[],B=[];class X{constructor(K){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=K.acquireTile,this.releaseTile=K.releaseTile,this.tileInfoView=K.tileInfoView,this.resampling=null==K.resampling||!!K.resampling,K.cachePolicy&&(this.cachePolicy=K.cachePolicy),K.coveragePolicy&&(this.coveragePolicy=K.coveragePolicy),null!=K.buffer&&(this.buffer=K.buffer),K.cacheSize&&(this._tileCache=new re(K.cacheSize,this.tileInfoView,ae=>{this.releaseTile(ae)}))}destroy(){this.tileIndex.clear()}update(K){const{resampling:ae,tileIndex:$}=this,V=this.tileInfoView.getTileCoverage(K.state,this.buffer,this.coveragePolicy);if(B.length=0,A.length=0,j.clear(),!V)return;const{minScale:P,maxScale:F}=this.tileInfoView.tileInfo,{spans:Z,lodInfo:Y}=V,{level:H}=Y,{scale:de,center:q,resolution:ge}=K.state,le=!K.stationary&&de>this._previousScale;if(this._previousScale=de,this.tiles.length=0,!ae&&(de>P||de<F))return this.tiles.length=0,j.clear(),$.forEach(pe=>{this.releaseTile(pe)}),$.clear(),B.length=0,A.length=0,j.clear(),ee.Z.pool.release(V),!0;$.forEach(pe=>pe.visible=!0);let ye=0,oe=0;if(Z.length>0)for(const{row:pe,colFrom:ue,colTo:me}of Z)for(let ve=ue;ve<=me;ve++){ye++;const fe=J.set(H,pe,Y.normalizeCol(ve),Y.getWorldForColumn(ve)).id;if($.has(fe)){const Ce=$.get(fe);Ce.isReady?(j.set(fe,Ce),oe++):le||this._addParentTile(fe,j)}else{let Ce;if(this._tileCache&&this._tileCache.has(fe)){if(Ce=this._tileCache.pop(fe),this.tileIndex.set(fe,Ce),Ce.isReady){j.set(fe,Ce),oe++;continue}}else Ce=this.acquireTile(J),this.tileIndex.set(fe,Ce);le||this._addParentTile(fe,j)}}const Q=oe===ye;$.forEach((pe,ue)=>{if(J.set(ue),j.has(ue))return;const me=this.tileInfoView.intersects(V,J),ve="purge"===this.cachePolicy?J.level!==H:J.level>H;!me||!le&&Q?!ve&&me||A.push(ue):pe.isReady?ve&&"purge"===this.cachePolicy&&this._hasReadyAncestor(J,H)?A.push(ue):B.push(ue):ve&&A.push(ue)});for(const pe of B){const ue=$.get(pe);ue&&ue.isReady&&j.set(pe,ue)}for(const pe of A){const ue=$.get(pe);this._tileCache?this._tileCache.add(ue):this.releaseTile(ue),$.delete(pe)}return j.forEach(pe=>this.tiles.push(pe)),$.forEach(pe=>{j.has(pe.key.id)||(pe.visible=!1)}),this._tileCache&&this._tileCache.prune(H,q,ge),ee.Z.pool.release(V),j.clear(),Q}clear(K=!0){const{tileIndex:ae}=this;K&&ae.forEach($=>{this.releaseTile($)}),ae.clear()}updateCacheSize(K){this._tileCache&&(this._tileCache.maxSize=K)}_addParentTile(K,ae){let $=K,V=null;for(;$=this.tileInfoView.getTileParentId($),$;)if(this.tileIndex.has($)){if(V=this.tileIndex.get($),V&&V.isReady){ae.has(V.key.id)||ae.set(V.key.id,V);break}}else if(this._tileCache&&this._tileCache.has($)&&(V=this._tileCache.pop($),this.tileIndex.set($,V),V&&V.isReady)){ae.has(V.key.id)||ae.set(V.key.id,V);break}}_hasReadyAncestor(K,ae){const $=(0,x.Ue)();this.tileInfoView.getTileBounds($,K,!0);for(const V of this.tileIndex.values())if(V.isReady&&V.key.level>=ae&&V.key.level<K.level){const P=(0,x.Ue)();if(this.tileInfoView.getTileBounds(P,V.key,!0),(0,x.r3)(P,$))return!0}return!1}}},78041:(lt,Se,C)=>{"use strict";function x(ee,ie,J,j){const A=3*ee,B=3*(J-ee)-A,X=1-A-B,W=3*ie,K=3*(j-ie)-W,ae=1-W-K;function $(Z){return((X*Z+B)*Z+A)*Z}function P(Z){return(3*X*Z+2*B)*Z+A}return function(Z,Y=1e-6){return function V(Z){return((ae*Z+K)*Z+W)*Z}(function F(Z,Y){let H,de,q,ge,le,ye;for(q=Z,ye=0;ye<8;ye++){if(ge=$(q)-Z,Math.abs(ge)<Y)return q;if(le=P(q),Math.abs(le)<1e-6)break;q-=ge/le}if(H=0,de=1,q=Z,q<H)return H;if(q>de)return de;for(;H<de;){if(ge=$(q),Math.abs(ge-Z)<Y)return q;Z>ge?H=q:de=q,q=.5*(de-H)+H}return q}(Z,Y))}}C.d(Se,{LI:()=>re,Qc:()=>ne,n_:()=>x});const T=/^cubic-bezier\((.*)\)/,re={};function ne(ee){let ie=re[ee]||null;if(!ie){const J=T.exec(ee);if(J){const j=J[1].split(",").map(A=>parseFloat(A.trim()));4!==j.length||j.some(A=>isNaN(A))||(ie=x.apply(x,j))}}return ie}re.ease=x(.25,.1,.25,1),re.linear=x(0,0,1,1),re.easeIn=re["ease-in"]=x(.42,0,1,1),re.easeOut=re["ease-out"]=x(0,0,.58,1),re.easeInOut=re["ease-in-out"]=x(.42,0,.58,1)},24926:(lt,Se,C)=>{"use strict";C.d(Se,{H4:()=>et,dI:()=>Ze,o2:()=>ft,JG:()=>ve,km:()=>_e,EK:()=>ye,ni:()=>fe,bk:()=>Ce,Rb:()=>ut,Dq:()=>we,uG:()=>Fe,Ck:()=>Pe,Jp:()=>Qe,L2:()=>te,ut:()=>Ye,gG:()=>er,SI:()=>mt,$H:()=>at,YQ:()=>wt,UZ:()=>Wt,Hy:()=>Ut,qf:()=>ce,Rx:()=>mr});var x=C(15861),T=C(76687),re=C(7093),ne=C(62208),ee=C(16730),ie=C(39863),J=C(31478),j=C(46342),A=C(67831),B=C(99770),X=C(2004),W=C(21674),K=C(49672),ae=C(65234),$=C(94425),V=C(37053),P=C(46367);const Z=180/Math.PI;function de(gt,kt,Gt,Qt){return Qt&&Gt&&!Qt.equals(Gt)&&(0,P.Q8)(Qt,Gt)&&Qt.isWebMercator?Qt.isWebMercator?function H(gt,kt){let Gt=kt[1];return Gt>89.99999?Gt=89.99999:Gt<-89.99999&&(Gt=-89.99999),Gt=Math.sin((0,ie.t)(Gt)),(0,A.s)(gt,(0,ie.t)(kt[0])*$.sv.radius,.5*$.sv.radius*Math.log((1+Gt)/(1-Gt)))}(gt,kt):function Y(gt,kt,Gt){const Qt=(0,ie.a)(kt[0]/$.sv.radius);return(0,A.s)(gt,Gt?Qt:Qt-360*Math.floor((Qt+180)/360),(0,ie.a)(.5*Math.PI-2*Math.atan(Math.exp(-kt[1]/$.sv.radius))))}(gt,kt):(0,A.c)(gt,kt)}function q(gt){return gt.wkid?gt:gt.spatialReference||ae.Z.WGS84}function ge(gt,kt){return kt.type?(0,A.s)(gt,kt.x,kt.y):(0,A.c)(gt,kt)}function le(gt){return(0,ee.c9)(gt)}function ye(gt,kt){return Math.max(gt.width/kt[0],gt.height/kt[1])*function be(gt){return(0,V.JY)(gt)?39.37*le(gt)*96:1}(gt.spatialReference)}function oe(gt,kt,Gt,Qt){return Q.apply(this,arguments)}function Q(){return(Q=(0,x.Z)(function*(gt,kt,Gt,Qt){let lr,dr;if(!gt||Array.isArray(gt)&&!gt.length)return null;if(re.Z.isCollection(gt)&&(gt=gt.toArray()),Array.isArray(gt)&&gt.length&&"object"==typeof gt[0]){const Ot=gt.every(Yt=>"attributes"in Yt),Rt=gt.some(Yt=>!Yt.geometry);let Vt=gt;if(Ot&&Rt&&kt&&kt.allLayerViews){const Yt=new Map;for(const ze of gt){const Xe=ze.layer,He=Yt.get(Xe)||[],Ue=ze.attributes[Xe.objectIdField];null!=Ue&&He.push(Ue),Yt.set(Xe,He)}const Zt=[];Yt.forEach((ze,Xe)=>{const He=kt.allLayerViews.find(Ue=>Ue.layer.id===Xe.id);if("queryFeatures"in He){const Ue=Xe.createQuery();Ue.objectIds=ze,Ue.returnGeometry=!0,Zt.push(He.queryFeatures(Ue))}});const ke=yield Promise.all(Zt),ot=[];for(const ze of ke)if(ze&&ze.features&&ze.features.length)for(const Xe of ze.features)(0,ne.pC)(Xe.geometry)&&ot.push(Xe.geometry);Vt=ot}for(const Yt of Vt)Qt=yield oe(Yt,kt,Gt,Qt);return Qt}if(Array.isArray(gt)&&2===gt.length&&"number"==typeof gt[0]&&"number"==typeof gt[1])lr=new K.Z(gt);else if(gt instanceof W.Z)lr=gt;else if("geometry"in gt)if(gt.geometry)lr=gt.geometry;else if(gt.layer){const Ot=gt.layer,Rt=kt.allLayerViews.find(Vt=>Vt.layer.id===Ot.id);if("queryFeatures"in Rt){const Vt=Ot.createQuery();Vt.objectIds=[gt.attributes[Ot.objectIdField]],Vt.returnGeometry=!0;const Yt=yield Rt.queryFeatures(Vt);lr=(0,ne.U2)(Yt,"features",0,"geometry")}}if((0,ne.Wi)(lr)||(dr="point"===lr.type?new X.Z({xmin:lr.x,ymin:lr.y,xmax:lr.x,ymax:lr.y,spatialReference:lr.spatialReference}):lr.extent,!dr))return null;const ct=(0,P.iV)(dr,Gt);return(0,ne.Wi)(ct)?null:Qt=Qt?Qt.union(ct):ct})).apply(this,arguments)}function pe(gt){if(gt&&(!Array.isArray(gt)||"number"!=typeof gt[0])&&("object"==typeof gt||Array.isArray(gt)&&"object"==typeof gt[0])){if("layer"in gt&&gt.layer&&gt.layer.minScale&&gt.layer.maxScale){const kt=gt.layer;return{min:kt.minScale,max:kt.maxScale}}if(Array.isArray(gt)&&gt.length&&gt.every(kt=>"layer"in kt)){let kt=0,Gt=0;for(const Qt of gt){const lr=Qt.layer;lr&&lr.minScale&&lr.maxScale&&(kt=lr.minScale<kt?lr.minScale:kt,Gt=lr.maxScale>Gt?lr.maxScale:Gt)}return kt&&Gt?{min:kt,max:Gt}:null}}}function me(){return(me=(0,x.Z)(function*(gt,kt){if(!gt||!kt)return new T.Z({targetGeometry:new K.Z,scale:0,rotation:0});let Gt=kt.spatialReference;const{constraints:Qt,padding:lr,viewpoint:dr,size:ct}=kt,Ot=[lr?ct[0]-lr.left-lr.right:ct[0],lr?ct[1]-lr.top-lr.bottom:ct[1]];let Rt=null;gt instanceof T.Z?Rt=gt:gt.viewpoint?Rt=gt.viewpoint:gt.target&&"esri.Viewpoint"===gt.target.declaredClass&&(Rt=gt.target);let Vt=null;Rt&&Rt.targetGeometry?Vt=Rt.targetGeometry:gt instanceof X.Z?Vt=gt:(gt||gt&&("center"in gt||"extent"in gt||"target"in gt))&&(Vt=(yield oe(gt.center,kt,Gt))||(yield oe(gt.extent,kt,Gt))||(yield oe(gt.target,kt,Gt))||(yield oe(gt,kt,Gt))),!Vt&&dr&&dr.targetGeometry?Vt=dr.targetGeometry:!Vt&&kt.extent&&(Vt=kt.extent);const Yt=q(Vt);if(Gt||(Gt=q(kt.spatialReference||kt.extent||Vt)),!(0,P.Q8)(Vt,Gt)&&Yt&&!Yt.equals(Gt))return null;const Zt=ge((0,B.a)(),Vt.center?Vt.center:Vt),ke=new K.Z(de(Zt,Zt,Yt,Gt),Gt);let ot=null;if(Rt&&(0,ne.pC)(Rt.targetGeometry)&&"point"===Rt.targetGeometry.type)ot=Rt.scale;else if(gt.hasOwnProperty("scale")&&gt.scale)ot=gt.scale;else if(gt.hasOwnProperty("zoom")&&-1!==gt.zoom&&Qt&&Qt.effectiveLODs)ot=Qt.zoomToScale(gt.zoom);else if(Array.isArray(Vt)||"point"===Vt.type||"extent"===Vt.type&&0===Vt.width&&0===Vt.height){const Ue=(0,P.iV)(kt.extent,Gt);ot=(0,ne.pC)(Ue)?ye(Ue,Ot):kt.extent?ye(kt.extent,Ot):dr.scale}else ot=(0,P.Q8)(Vt.extent,Gt)?ye((0,P.iV)(Vt.extent,Gt),Ot):ye(Vt.extent,Ot);const ze=pe(gt);ze&&(ze.min&&ze.min>ot?ot=ze.min:ze.max&&ze.max<ot&&(ot=ze.max));let Xe=0;Rt?Xe=Rt.rotation:gt.hasOwnProperty("rotation")?Xe=gt.rotation:dr&&(Xe=dr.rotation);let He=new T.Z({targetGeometry:ke,scale:ot,rotation:Xe});return Qt&&(He=Qt.fit(He),Qt.constrainByGeometry(He),Qt.rotationEnabled||(He.rotation=Xe)),He})).apply(this,arguments)}function ve(gt,kt){const Gt=gt.targetGeometry,Qt=kt.targetGeometry;return Gt.x=Qt.x,Gt.y=Qt.y,Gt.spatialReference=Qt.spatialReference,gt.scale=kt.scale,gt.rotation=kt.rotation,gt}function fe(gt,kt,Gt){return Gt?(0,A.s)(gt,.5*(kt[0]-Gt.right+Gt.left),.5*(kt[1]-Gt.bottom+Gt.top)):(0,A.g)(gt,kt,.5)}const Ce=function(){const gt=(0,B.a)();return function(kt,Gt,Qt){const lr=Gt.targetGeometry;ge(gt,lr);const dr=.5*Fe(Gt);return kt.xmin=gt[0]-dr*Qt[0],kt.ymin=gt[1]-dr*Qt[1],kt.xmax=gt[0]+dr*Qt[0],kt.ymax=gt[1]+dr*Qt[1],kt.spatialReference=lr.spatialReference,kt}}();function ce(gt,kt,Gt,Qt,lr){return ft(gt,kt,Gt.center),gt.scale=ye(Gt,Qt),lr&&lr.constraints&&lr.constraints.constrain(gt),gt}const we=function(){const gt=(0,B.a)();return function(kt,Gt,Qt){return(0,A.h)(kt,function Te(gt,kt){return(0,A.g)(gt,kt,.5)}(kt,Gt),fe(gt,Gt,Qt))}}(),Ae=function(){const gt=(0,j.c)(),kt=(0,B.a)();return function(Gt,Qt,lr,dr){const ct=Fe(Qt),Ot=Re(Qt);return(0,A.s)(kt,ct,ct),(0,J.f)(gt,kt),(0,J.r)(gt,gt,Ot),(0,J.t)(gt,gt,we(kt,lr,dr)),(0,J.t)(gt,gt,[0,dr.top-dr.bottom]),(0,A.s)(Gt,gt[4],gt[5])}}();function Fe(gt){return gt.scale*function tt(gt){return(0,ne.pC)(gt)&&(0,V.JY)(gt.spatialReference)?1/(39.37*le(gt.spatialReference)*96):1}(gt.targetGeometry)}function Re(gt){return(0,ie.t)(gt.rotation)||0}const ut=function(){const gt=(0,B.a)(),kt=(0,B.a)(),Gt=(0,B.a)();return function(Qt,lr,dr,ct,Ot,Rt){return(0,A.n)(gt,lr),(0,A.g)(kt,dr,.5*Rt),(0,A.s)(Gt,1/ct*Rt,-1/ct*Rt),(0,J.i)(Qt),(0,J.t)(Qt,Qt,kt),Ot&&(0,J.r)(Qt,Qt,Ot),(0,J.s)(Qt,Qt,Gt),(0,J.t)(Qt,Qt,gt),Qt}}(),Pe=function(){const gt=(0,B.a)();return function(kt,Gt,Qt,lr){const dr=Fe(Gt),ct=Re(Gt);return ge(gt,Gt.targetGeometry),ut(kt,gt,Qt,dr,ct,lr)}}(),Qe=function(){const gt=(0,B.a)();return function(kt,Gt,Qt,lr){const dr=Fe(Gt);return ge(gt,Gt.targetGeometry),ut(kt,gt,Qt,dr,0,lr)}}();function Ye(gt){if(gt.isWrappable){const kt=(0,V.C5)(gt);return kt.valid[1]-kt.valid[0]}return 0}function te(gt,kt){return Math.round(Ye(gt)/kt)}function _e(gt,kt){return function ue(gt,kt){return me.apply(this,arguments)}(gt,kt)}const Ze=function(){const gt=(0,B.a)(),kt=(0,B.a)(),Gt=[0,0,0];return function(Qt,lr,dr){(0,A.f)(gt,Qt,lr),(0,A.i)(gt,gt),(0,A.f)(kt,Qt,dr),(0,A.i)(kt,kt),(0,A.j)(Gt,gt,kt);let ct=Math.acos((0,A.k)(gt,kt)/((0,A.l)(gt)*(0,A.l)(kt)))*Z;return Gt[2]<0&&(ct=-ct),isNaN(ct)&&(ct=0),ct}}(),et=function(){const gt=(0,B.a)();return function(kt,Gt,Qt,lr){const dr=kt.targetGeometry;return ve(kt,Gt),Ae(gt,Gt,Qt,lr),dr.x+=gt[0],dr.y+=gt[1],kt}}(),ft=((0,B.a)(),function(){const gt=(0,B.a)();return function(kt,Gt,Qt){ve(kt,Gt);const lr=kt.targetGeometry,dr=q(Qt),ct=q(lr);return ge(gt,Qt),de(gt,gt,dr,ct),lr.x=gt[0],lr.y=gt[1],kt}}()),mt=function(){const gt=(0,B.a)();return function(kt,Gt,Qt,lr,dr){dr||(dr="center"),(0,A.h)(gt,Qt,lr),(0,A.g)(gt,gt,.5);const ct=gt[0],Ot=gt[1];switch(dr){case"center":(0,A.s)(gt,0,0);break;case"left":(0,A.s)(gt,-ct,0);break;case"top":(0,A.s)(gt,0,Ot);break;case"right":(0,A.s)(gt,ct,0);break;case"bottom":(0,A.s)(gt,0,-Ot);break;case"top-left":(0,A.s)(gt,-ct,Ot);break;case"bottom-left":(0,A.s)(gt,-ct,-Ot);break;case"top-right":(0,A.s)(gt,ct,Ot);break;case"bottom-right":(0,A.s)(gt,ct,-Ot)}return mr(kt,Gt,gt),kt}}();function at(gt,kt,Gt){return ve(gt,kt),gt.rotation+=Gt,gt}function wt(gt,kt,Gt){return ve(gt,kt),gt.rotation=Gt,gt}const Tt=function(){const gt=(0,B.a)();return function(kt,Gt,Qt,lr,dr){return ve(kt,Gt),isNaN(Qt)||0===Qt||(gr(gt,lr,Gt,dr),kt.scale=Gt.scale*Qt,yr(gt,gt,kt,dr),mr(kt,kt,(0,A.s)(gt,gt[0]-lr[0],lr[1]-gt[1]))),kt}}();function Ut(gt,kt,Gt){return ve(gt,kt),gt.scale=Gt,gt}const Wt=function(){const gt=(0,B.a)();return function(kt,Gt,Qt,lr,dr,ct){return ve(kt,Gt),isNaN(Qt)||0===Qt||(gr(gt,dr,Gt,ct),kt.scale=Gt.scale*Qt,kt.rotation+=lr,yr(gt,gt,kt,ct),mr(kt,kt,(0,A.s)(gt,gt[0]-dr[0],dr[1]-gt[1]))),kt}}(),er=function(){const gt=(0,B.a)(),kt=(0,B.a)();return function(Gt,Qt,lr,dr,ct,Ot,Rt){return we(kt,Ot,Rt),(0,A.m)(gt,ct,kt),dr?Wt(Gt,Qt,lr,dr,gt,Ot):Tt(Gt,Qt,lr,gt,Ot)}}(),gr=function(){const gt=(0,j.c)();return function(kt,Gt,Qt,lr){return(0,A.t)(kt,Gt,function he(gt,kt,Gt,Qt){return Pe(gt,kt,Gt,Qt),(0,J.a)(gt,gt)}(gt,Qt,lr,1))}}(),yr=function(){const gt=(0,j.c)();return function(kt,Gt,Qt,lr){return(0,A.t)(kt,Gt,Pe(gt,Qt,lr,1))}}(),mr=function(){const gt=(0,B.a)(),kt=(0,j.c)();return function(Gt,Qt,lr){ve(Gt,Qt);const dr=Fe(Qt),ct=Gt.targetGeometry;return(0,J.b)(kt,Re(Qt)),(0,J.s)(kt,kt,(0,B.f)(dr,dr)),(0,A.t)(gt,lr,kt),ct.x+=gt[0],ct.y+=gt[1],Gt}}()},35216:(lt,Se,C)=>{"use strict";C.d(Se,{a:()=>ne});var x=C(63290);class T{constructor(j,A=[]){this.eventType=j,this.keyModifiers=A}matches(j){if(j.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;const A=j.modifiers;for(const B of this.keyModifiers)if(!A.has(B))return!1;return!0}}const re=x.Z.getLogger("esri.views.input.InputHandler");class ne{constructor(j){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=j}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const j in this._incoming){const A=this._incoming[j];for(const B of A)this._incomingEventMatches.push(B.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(j=>j.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(j){this._manager?re.error("This InputHandler has already been registered with an InputManager"):(j.setEventCallback(A=>this._handleEvent(A)),j.setUninstallCallback(()=>this._onUninstall()),this._manager=j)}onUninstall(){}registerIncoming(j,A,B){let X;"function"==typeof A?(B=A,X=[]):X=A||[];const W="string"==typeof j?new T(j,X):j,K=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},ae=P=>{const F=this._incoming[P.match.eventType];if(F){const Z=F.indexOf(P);F.splice(Z,1),K(),this._manager&&this._manager.updateDependencies()}},$=new ee(W,B,{onPause:ae,onRemove:ae,onResume:P=>{const F=this._incoming[P.match.eventType];F&&-1===F.indexOf(P)&&(F.push(P),K(),this._manager&&this._manager.updateDependencies())}});let V=this._incoming[W.eventType];return V||(V=[],this._incoming[W.eventType]=V),V.push($),K(),this._manager&&this._manager.updateDependencies(),$}registerOutgoing(j){if(this._outgoing[j])throw Error("There is already a callback registered for this outgoing InputEvent: "+j);const A=new ie(j,{onEmit:(B,X,W,K)=>{this._manager.emit(B.eventType,X,W,K)},onRemove:B=>{delete this._outgoing[B.eventType],this._manager.updateDependencies()}});return this._outgoing[j]=A,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),A}startCapturingPointer(j){this._manager.setPointerCapture(j,!0)}stopCapturingPointer(j){this._manager.setPointerCapture(j,!1)}refreshHasPendingInputs(){this._manager.refreshHasPendingInputs()}_onUninstall(){this._manager?(this.onUninstall(),this._manager=null):re.error("This InputHandler is not registered with an InputManager")}_handleEvent(j){const A=this._incoming[j.type];if(A)for(const B of A)if(B.match.matches(j)&&(B.callback(j),j.shouldStopPropagation()))break}}class ee{constructor(j,A,B){this.match=j,this._callback=A,this._handler=B}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}}class ie{constructor(j,A){this.eventType=j,this._removed=!1,this._handler=A}emit(j,A,B){this._removed||this._handler.onEmit(this,j,A,B)}remove(){this._removed=!0,this._handler.onRemove(this)}}},58677:(lt,Se,C)=>{"use strict";C.d(Se,{$:()=>ae,f:()=>V});var x=C(17626),T=C(14517),re=C(63290),ne=C(35133),ee=C(77712),A=(C(85931),C(8314),C(90912),C(76898)),B=C(25441),X=C(35216);class W extends X.a{constructor(F){super(!0),this._onChange=F,this._value="mouse",this.registerIncoming("pointer-down",Z=>{this._setValue("touch"===Z.data.native.pointerType?"touch":"mouse")}),this._moveHandler=this.registerIncoming("pointer-move",Z=>{this._setValue("touch"===Z.data.native.pointerType?"touch":"mouse")}),this._moveHandler.pause()}_setValue(F){F!==this._value&&("touch"===F?this._moveHandler.resume():this._moveHandler.pause(),this._value=F,this._onChange(F))}}const K=re.Z.getLogger("esri.views.input.InputManager");let ae=class extends T.Z{constructor(P){super(P),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=B.CK,this.latestPointerType="mouse",this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const P=Object.keys(this._nameToGroup);for(const F of P)this.uninstallHandlers(F);this.eventSource=null,this._currentPropagation=null}get hasPendingInputs(){return this._handlers.some(P=>P.handler.hasPendingInputs)}installHandlers(P,F,Z=V.INTERNAL){if(this._nameToGroup[P])return void K.error("There is already an InputHandler group registered under the name `"+P+"`");if(0===F.length)return void K.error("Can't register a group of zero handlers");const Y={name:P,handlers:F.map(H=>({handler:H,active:!0,removed:!1,priorityIndex:0,groupPriority:Z,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[P]=Y;for(let H=Y.handlers.length-1;H>=0;H--){const de=Y.handlers[H];this._handlers.push(de),de.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(q,ge,le,ye,oe)=>{this._emitInputEvent(de.priorityIndex+1,q,ge,le,oe,ye)},setPointerCapture:(q,ge)=>{this._setPointerCapture(Y,de,q,ge)},setEventCallback:q=>{de.eventCallback=q},setUninstallCallback:q=>{de.uninstallCallback=q},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(P){const F=this._nameToGroup[P];F?(F.handlers.forEach(Z=>{Z.removed=!0,Z.uninstallCallback()}),delete this._nameToGroup[P],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):K.error("There is no InputHandler group registered under the name `"+P+"`")}hasHandlers(P){return void 0!==this._nameToGroup[P]}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const P=new Set,F=new Set;this._handlersPriority=[];for(let Z=this._handlers.length-1;Z>=0;Z--){const Y=this._handlers[Z];Y.priorityIndex=Z,this._handlersPriority.push(Y)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let Z=this._handlersPriority.length-1;Z>=0;Z--){const Y=this._handlersPriority[Z];Y.priorityIndex=Z;let H=Y.handler.hasSideEffects;if(!H)for(const de of Y.handler.outgoingEventTypes)if(P.has(de)){H=!0;break}if(H)for(const de of Y.handler.incomingEventMatches){P.add(de.eventType);for(const q of de.keyModifiers)(0,B.wj)(q)||F.add(q)}Y.active=H}this._sourceEvents=P,this._keyModifiers=F,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointerType(P){this._set("latestPointerType",P)}_onEventReceived(P,F){"pointer-capture-lost"===P&&this._pointerCaptures.delete(F.native.pointerId),this._updateKeyModifiers(P,F),this._emitInputEventFromSource(P,F,null!=this.test.timestamp?this.test.timestamp:F.native?F.native.timestamp:void 0,F.native?F.native.cancelable:void 0)}_updateKeyModifiers(P,F){if(!F)return;let Z=!1;const Y=()=>{if(!Z){const q=new Set;this._activeKeyModifiers.forEach(ge=>{q.add(ge)}),this._activeKeyModifiers=q,Z=!0}},H=(q,ge)=>{ge&&!this._activeKeyModifiers.has(q)?(Y(),this._activeKeyModifiers.add(q)):!ge&&this._activeKeyModifiers.has(q)&&(Y(),this._activeKeyModifiers.delete(q))};if("key-down"===P||"key-up"===P){const q=F.key;this._keyModifiers.has(q)&&H(q,"key-down"===P)}const de=F.native;H("Alt",!(!de||!de.altKey)),H("Ctrl",!(!de||!de.ctrlKey)),H("Shift",!(!de||!de.shiftKey)),H("Meta",!(!de||!de.metaKey)),H("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerTypeHandler=new W(P=>this._setLatestPointerType(P)),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,V.INTERNAL),this.installHandlers("input-manager-logic",[this._latestPointerTypeHandler],V.INTERNAL)}_setPointerCapture(P,F,Z,Y){const H=P.name+"-"+F.priorityIndex,de=this._pointerCaptures.get(Z.pointerId)||new Set;this._pointerCaptures.set(Z.pointerId,de),Y?(de.add(H),1===de.size&&this.eventSource&&this.eventSource.setPointerCapture(Z,!0)):de.has(H)&&(de.delete(H),0===de.size&&(this._pointerCaptures.delete(Z.pointerId),this.eventSource&&this.eventSource.setPointerCapture(Z,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(P=>!P.removed),this.updateDependencies()}_emitInputEventFromSource(P,F,Z,Y){this._emitInputEvent(0,P,F,Z,Y)}_emitInputEvent(P,F,Z,Y,H,de){const q=void 0!==Y?Y:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),le={event:new $(F,Z,q,de||this._activeKeyModifiers,void 0!==H&&H),priorityIndex:P};this._currentPropagation?this._currentPropagation.events.push(le):this._doNewPropagation(le)}_doNewPropagation(P){this._currentPropagation={events:new ne.Z,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:P.event.timestamp},this._currentPropagation.events.push(P),this._continuePropagation()}_continuePropagation(){const P=this._currentPropagation;if(P){for(;this._currentPropagation.events.length>0;){const{event:F,priorityIndex:Z}=this._currentPropagation.events.pop(),Y=F.data&&F.data.eventId;if(null==Y||!this._stoppedPropagationEventIds.has(Y))for(P.currentHandler=this._handlersPriority[Z];P.currentHandler;){if(P.currentHandler.removed)P.needsHandlerGarbageCollect=!0;else{if(P.currentHandler.active&&!F.shouldStopPropagation()&&P.currentHandler.eventCallback(F),F.shouldStopPropagation()){null!=Y&&this._stoppedPropagationEventIds.add(Y);break}if(F.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:F,priorityIndex:P.currentHandler.priorityIndex+1})}P.currentHandler=this._handlersPriority[P.currentHandler.priorityIndex+1]}}P.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(P){const F=new ne.Z;for(F.push(P);this._currentPropagation.events.length;)F.push(this._currentPropagation.events.pop());this._currentPropagation.events=F,this._currentPropagation.currentHandler=null}_compareHandlerPriority(P,F){if(P.handler.hasSideEffects!==F.handler.hasSideEffects)return P.handler.hasSideEffects?1:-1;if(P.groupPriority!==F.groupPriority)return P.groupPriority>F.groupPriority?-1:1;for(const Z of P.handler.incomingEventMatches)for(const Y of F.handler.incomingEventMatches){if(Z.eventType!==Y.eventType)continue;const H=Z.keyModifiers.filter(de=>-1!==Y.keyModifiers.indexOf(de));if(H.length===Z.keyModifiers.length!=(H.length===Y.keyModifiers.length))return Z.keyModifiers.length>Y.keyModifiers.length?-1:1}return P.priorityIndex>F.priorityIndex?-1:1}_sortHandlersPriority(P){const F=[];for(const Z of P){let Y=0;for(;Y<F.length&&this._compareHandlerPriority(Z,F[Y])>=0;)Y++;F.splice(Y,0,Z)}return F}get debug(){const P=F=>{const Z=this._setPointerCapture;this._setPointerCapture=()=>{},F(),this._setPointerCapture=Z};return{injectEvent:(F,Z)=>{P(()=>{this._onEventReceived(F,Z)})},disablePointerCapture:P}}};(0,x._)([(0,ee.Cb)({readOnly:!0})],ae.prototype,"hasPendingInputs",null),(0,x._)([(0,ee.Cb)()],ae.prototype,"eventSource",void 0),(0,x._)([(0,ee.Cb)()],ae.prototype,"recognizers",void 0),(0,x._)([(0,ee.Cb)({readOnly:!0})],ae.prototype,"latestPointerType",void 0),ae=(0,x._)([(0,A.j)("esri.views.input.InputManager")],ae);class ${constructor(F,Z,Y,H,de){this.type=F,this.data=Z,this.timestamp=Y,this.modifiers=H,this.cancelable=de,this._propagationState=0,this._resumeCallback=null}stopPropagation(){this._propagationState|=1}shouldStopPropagation(){return 0!=(1&this._propagationState)}async(F){this._propagationState|=2;const Z=(Y,H)=>{this._propagationState&=-3;const de=this._resumeCallback;if(this._resumeCallback=null,de&&de(),H)throw Y;return Y};return("function"==typeof F?F():F).then(Y=>Z(Y,!1),Y=>Z(Y,!0))}shouldPausePropagation(F){return!!(2&this._propagationState)&&(this._resumeCallback=F,!0)}preventDefault(){this.data.native.preventDefault()}}const V={DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3}},25441:(lt,Se,C)=>{"use strict";C.d(Se,{kK:()=>ee,wj:()=>ie,CK:()=>re});var x=C(17770);const re=(0,C(8314).Z)("mac")?"Meta":"Ctrl",ne={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"};for(let J=48;J<58;J++)ne[J]=String.fromCharCode(J);for(let J=1;J<25;J++)ne[111+J]=`F${J}`;for(let J=65;J<91;J++)ne[J]=[String.fromCharCode(J+32),String.fromCharCode(J)];function ee(J){if(void 0!==J.key)return(0,x.kK)(J);const j=ne[J.keyCode];return Array.isArray(j)?J.shiftKey?j[1]:j[0]:j}function ie(J){switch(J){case"Ctrl":case"Alt":case"Shift":case"Meta":case"Primary":return!0}return!1}},71251:(lt,Se,C)=>{"use strict";C.d(Se,{e:()=>ie});var x=C(62208),T=C(10699),re=C(35133),ne=C(50618);class ee{constructor(j,A){this.item=j,this.controller=A,this.promise=null}}class ie{constructor(j){this._deferreds=new Map,this._controllers=new Map,this._processingItems=new Map,this._isPaused=!1,this._schedule=null,this._task=null,this.concurrency=1,j.concurrency&&(this.concurrency=j.concurrency),this._queue=new re.Z(j.peeker),this.process=j.process;const A=j.scheduler;j.priority&&(0,x.pC)(A)&&(this._task=A.registerTask(j.priority,this))}destroy(){this.clear(),this._schedule&&(this._schedule.remove(),this._schedule=null),this._task&&(this._task.remove(),this._task=null)}get length(){return this._processingItems.size+this._queue.length}abort(j){const A=this._controllers.get(j);A&&A.abort()}clear(){this._queue.clear();const j=[];this._controllers.forEach(A=>j.push(A)),this._controllers.clear(),j.forEach(A=>A.abort()),this._processingItems.clear(),this._cancelNext()}forEach(j){this._deferreds.forEach((A,B)=>j(B))}get(j){const A=this._deferreds.get(j);return A?A.promise:void 0}isOngoing(j){return this._processingItems.has(j)}has(j){return this._deferreds.has(j)}pause(){this._isPaused||(this._isPaused=!0,this._cancelNext())}push(j,A){const B=this.get(j);if(B)return B;const X=new AbortController;let W=null;A&&(W=(0,T.fu)(A,()=>X.abort()));const ae=()=>{$.remove(),(0,x.pC)(W)&&W.remove(),this._deferreds.delete(j),this._controllers.delete(j),this._queue.remove(j),this._processingItems.delete(j),this._scheduleNext()},$=(0,T.$F)(X.signal,()=>{const P=this._processingItems.get(j);P&&P.controller.abort(),ae(),V.reject((0,T.zE)())}),V=(0,T.dD)();return this._deferreds.set(j,V),this._controllers.set(j,X),V.promise.then(ae,ae),this._queue.push(j),this._scheduleNext(),V.promise}last(){return this._queue.last()}peek(){return this._queue.peek()}popLast(){return this._queue.popLast()}reset(){const j=[];this._processingItems.forEach(A=>j.push(A)),this._processingItems.clear();for(const A of j)this._queue.push(A.item),A.controller.abort();this._scheduleNext()}resume(){this._isPaused&&(this._isPaused=!1,this._scheduleNext())}takeAll(){const j=[];for(;this._queue.length;)j.push(this._queue.pop());return this.clear(),j}get running(){return!this._isPaused&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(j){for(;!j.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),j.madeProgress()}_scheduleNext(){this._task||this._isPaused||this._schedule||(this._schedule=(0,ne.Os)(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(j,A){this._canProcessFulfillment(j)&&(this._scheduleNext(),this._deferreds.get(j.item).resolve(A))}_processError(j,A){this._canProcessFulfillment(j)&&(this._scheduleNext(),this._deferreds.get(j.item).reject(A))}_canProcessFulfillment(j){return!!this._deferreds.get(j.item)&&this._processingItems.get(j.item)===j}_process(j){if((0,x.Wi)(j))return;let A;const B=new AbortController,X=new ee(j,B);this._processingItems.set(j,X);try{A=this.process(j,B.signal)}catch(W){this._processError(X,W)}(0,T.y8)(A)?(X.promise=A,A.then(W=>this._processResult(X,W),W=>this._processError(X,W))):this._processResult(X,A)}get test(){return{update:j=>this.runTask(j)}}}},74447:(lt,Se,C)=>{"use strict";C.d(Se,{sq:()=>xe,T8:()=>q,G5:()=>ce});var x=C(17626),T=C(14517),re=C(72392),ne=C(63290),ee=C(62208),ie=C(73362),J=C(77029),j=C(10699),A=C(32917),B=C(27422),X=C(27e3),W=C(77712),V=(C(85931),C(8314),C(90912),C(76898));let P=class extends T.Z{constructor(){super(...arguments),this._tasks=new Array,this.running=!1}get length(){return this._tasks.length}destroy(){this.cancelAll()}runTask(Ae){for(;!Ae.done&&this._process(Ae);)Ae.madeProgress()}push(Ae,Fe,tt){return this.running=!0,new Promise((Re,be)=>this._tasks.push(new F(Re,be,Ae,Fe,tt)))}unshift(Ae,Fe,tt){return this.running=!0,new Promise((Re,be)=>this._tasks.unshift(new F(Re,be,Ae,Fe,tt)))}_process(Ae){if(0===this._tasks.length)return!1;const Fe=this._tasks.shift();try{const tt=(0,j.Hc)(Fe.signal);if(tt&&!Fe.abortCallback)Fe.reject((0,j.zE)());else{const Re=tt?Fe.abortCallback((0,j.zE)()):Fe.callback(Ae);(0,j.tI)(Re)?Re.then(Fe.resolve,Fe.reject):Fe.resolve(Re)}}catch(tt){Fe.reject(tt)}return this.running=this._tasks.length>0,!0}cancelAll(){const Ae=(0,j.zE)();for(const Fe of this._tasks)if(Fe.abortCallback){const tt=Fe.abortCallback(Ae);Fe.resolve(tt)}else Fe.reject(Ae);this._tasks.length=0,this.running=!1}};(0,x._)([(0,W.Cb)()],P.prototype,"running",void 0),P=(0,x._)([(0,V.j)("esri.layers.support.PromiseQueue")],P);class F{constructor(Fe,tt,Re,be,Te){this.resolve=Fe,this.reject=tt,this.callback=Re,this.signal=be,this.abortCallback=Te}}let Z=class extends T.Z{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};(0,x._)([(0,W.Cb)()],Z.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),(0,x._)([(0,W.Cb)()],Z.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),Z=(0,x._)([(0,V.j)("esri.views.support.DebugFlags")],Z);const Y=new Z,H=ne.Z.getLogger("esri.views.support.Scheduler");var q,Ae;(Ae=q||(q={})).RESOURCE_CONTROLLER="schedule",Ae.SLIDE="slide",Ae.STREAM_DATA_LOADER="stream loader",Ae.ELEVATION_QUERY="elevation query",Ae.TERRAIN_SURFACE="terrain",Ae.SURFACE_GEOMETRY_UPDATES="surface geometry updates",Ae.GRAPHICS_CORE="Graphics3D",Ae.I3S_CONTROLLER="I3S",Ae.POINT_CLOUD_LAYER="point cloud",Ae.FEATURE_TILE_FETCHER="feature fetcher",Ae.OVERLAY="overlay",Ae.STAGE="stage",Ae.GRAPHICS_DECONFLICTOR="graphics deconflictor",Ae.FILTER_VISIBILITY="Graphics3D filter visibility",Ae.SCALE_VISIBILITY="Graphics3D scale visibility",Ae.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",Ae.POINT_OF_INTEREST_FREQUENT="POI frequent",Ae.POINT_OF_INTEREST_INFREQUENT="POI infrequent",Ae.LABELER="labeler",Ae.FEATURE_QUERY_ENGINE="feature query",Ae.FEATURE_TILE_TREE="feature tile tree",Ae.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",Ae.ELEVATION_ALIGNMENT="elevation alignment",Ae.TEXT_TEXTURE_ATLAS="text texture atlas",Ae.TEXTURE_UNLOAD="texture unload",Ae.LINE_OF_SIGHT_TOOL="line of sight tool",Ae.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",Ae.ELEVATION_PROFILE="elevation profile",Ae.SNAPPING="snapping",Ae.SHADOW_ACCUMULATOR="shadow accumulator",Ae.CLOUDS_GENERATOR="cloud generator",Ae[Ae.TEST_PRIO=1]="TEST_PRIO";const le=new Map([[q.RESOURCE_CONTROLLER,0],[q.SLIDE,0],[q.STREAM_DATA_LOADER,0],[q.ELEVATION_QUERY,0],[q.TERRAIN_SURFACE,1],[q.SURFACE_GEOMETRY_UPDATES,1],[q.GRAPHICS_CORE,2],[q.I3S_CONTROLLER,2],[q.POINT_CLOUD_LAYER,2],[q.FEATURE_TILE_FETCHER,2],[q.OVERLAY,4],[q.STAGE,4],[q.GRAPHICS_DECONFLICTOR,4],[q.FILTER_VISIBILITY,4],[q.SCALE_VISIBILITY,4],[q.FRUSTUM_VISIBILITY,4],[q.POINT_OF_INTEREST_FREQUENT,6],[q.POINT_OF_INTEREST_INFREQUENT,30],[q.LABELER,8],[q.FEATURE_QUERY_ENGINE,8],[q.FEATURE_TILE_TREE,16],[q.FEATURE_TILE_TREE_ACTIVE,0],[q.ELEVATION_ALIGNMENT,12],[q.TEXT_TEXTURE_ATLAS,12],[q.CLOUDS_GENERATOR,12],[q.TEXTURE_UNLOAD,12],[q.LINE_OF_SIGHT_TOOL,16],[q.LINE_OF_SIGHT_TOOL_INTERACTIVE,0],[q.SNAPPING,0],[q.SHADOW_ACCUMULATOR,30]]);function ye(Ae){return le.has(Ae)?le.get(Ae):"number"==typeof Ae?Ae:1}const oe=(0,B.HA)(6.5),Q=(0,B.HA)(1),pe=(0,B.HA)(30),ue=(0,B.HA)(1e3/30),me=(0,B.HA)(100);var fe,Ce;(function(Ae){let Fe=class extends T.Z{constructor(be){super(be),this.updating=!0,this._microTaskQueued=!1,this.performanceInfo={total:new ie.Z("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=null,this._state=1,this._tasks=new J.Z,this._runQueue=new J.Z,this._load=0,this._idleStateCallbacks=new J.Z,this._idleUpdatesStartFired=!1,this._maxReschedule=we,this._forceTask=!1,this._debug=!1,this._debugHandle=(0,X.S1)(Y,"SCHEDULER_LOG_SLOW_TASKS",ut=>this._debug=ut),this._budget=new Re(be.nowFunc);for(const ut of Object.keys(q))this.performanceInfo.tasks.set(q[ut],new ie.Z(q[ut]));let Te;const Je=this;this._test={get state(){return(0,ee.Pt)(Te,Je._state)},set state(ut){Te=ut},FRAME_SAFETY_BUDGET:oe,INTERACTING_BUDGET:ue,IDLE_BUDGET:me,get budget(){return Je._budget.budget},usedBudget:0,setBudget:ut=>Je._budget=ut,updateTask:ut=>this._updateTask(ut),getState:ut=>this._getState(ut),getRuntime:ut=>this._getRuntime(ut),frameTaskTimes:this._frameTaskTimes,resetRuntimes:()=>this._resetRuntimes(),getRunning:()=>this._getRunning()}}destroy(){this._debugHandle&&this._debugHandle.remove(),this._microTaskQueued=!1}activate(){this._budget.done||this._microTaskQueued||(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.done||(this._maxReschedule=we,this._schedule(),this.frame()))}))}registerTask(be,Te){const Je=ye(be),ut=new tt(this,be,Te,Je);return this._tasks.push(ut),this.performanceInfo.tasks.has(be)||this.performanceInfo.tasks.set(be,new ie.Z(be)),ut}registerIdleStateCallbacks(be,Te){const Je={idleBegin:be,idleEnd:Te};this._idleStateCallbacks.push(Je),2===this.state&&this._idleUpdatesStartFired&&Je.idleBegin();const ut=this;return{remove:()=>this._removeIdleStateCallbacks(Je),set idleBegin(Pe){ut._idleUpdatesStartFired&&(Je.idleEnd(),2===ut._state&&Pe()),Je.idleBegin=Pe},set idleEnd(Pe){Je.idleEnd=Pe}}}get now(){return this.nowFunc()}get load(){return this._load}set state(be){this._state!==be&&(this._state=be,2!==this.state&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(Te=>Te.idleEnd())))}get state(){return(0,ee.Wi)(this._test.state)?this._state:this._test.state}updateBudget(be){this._test.usedBudget=0;let Te=oe,Je=be.frameDuration,ut=Q;switch(this.state){case 2:Te=(0,B.HA)(0),Je=(0,B.HA)(Math.max(me,be.frameDuration)),ut=pe;break;case 1:Je=(0,B.HA)(Math.max(ue,be.frameDuration))}return Je=(0,B.HA)(Je-be.elapsedFrameTime-Te),2!==this.state&&Je<Q&&!this._forceTask?(this._forceTask=!0,!1):(Je=(0,B.HA)(Math.max(Je,ut)),this._budget.reset(Je,this.state),this._maxReschedule=we,this._updateLoad(),this._schedule())}frame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case 2:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(be=>be.idleBegin())),this._runIdle();break;case 1:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed}stopFrame(){this._budget.reset((0,B.HA)(0),this._state),this._budget.madeProgress()}_removeIdleStateCallbacks(be){this._idleUpdatesStartFired&&be.idleEnd(),this._idleStateCallbacks.removeUnordered(be)}removeTask(be){this._tasks.removeUnordered(be),this._runQueue.removeUnordered(be)}_updateTask(be){this._tasks.forAll(Te=>{Te.name===be&&Te.setPriority(be)})}_getState(be){if(this._runQueue.some(Je=>Je.name===be))return Ce.SCHEDULED;let Te=Ce.IDLE;return this._tasks.forAll(Je=>{Je.name===be&&Je.needsUpdate&&(Je.schedulePriority<=1?Te=Ce.READY:Te!==Ce.READY&&(Te=Ce.WAITING))}),Te}_getRuntime(be){let Te=0;return this._tasks.forAll(Je=>{Je.name===be&&(Te+=Je.runtime)}),Te}_resetRuntimes(){this._tasks.forAll(be=>be.runtime=0)}_getRunning(){const be=new Map;if(this._tasks.forAll(Je=>{Je.needsUpdate&&be.set(Je.name,(be.get(Je.name)||0)+1)}),0===be.size)return null;let Te="";return be.forEach((Je,ut)=>{Te+=Je>1?` ${Je}x ${ut}`:` ${ut}`}),Te}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const be=this._tasks.reduce((Te,Je)=>Je.needsUpdate?++Te:Te,0);this._load=.9*this._load+be*(1-.9)}_schedule(){if(this._maxReschedule<=0)return!1;for(this._runQueue.filterInPlace(be=>!!be.needsUpdate||(be.schedulePriority=be.basePriority,!1)),this._tasks.forAll(be=>{0===be.basePriority&&be.needsUpdate&&!this._runQueue.some(Te=>Te===be)&&this._runQueue.unshift(be)});0===this._runQueue.length;){let be=!1,Te=0;if(this._tasks.forAll(Je=>{Je.needsUpdate&&0!==Je.schedulePriority&&0!==Je.basePriority&&(be=!0,Te=Math.max(Te,Je.basePriority),1===Je.schedulePriority?(Je.schedulePriority=0,this._runQueue.push(Je)):--Je.schedulePriority)}),!be)return this.updating=!1,!1;this._maxReschedule===we&&(this._maxReschedule=Te),--this._maxReschedule}return this.updating=!0,!0}_run(){const be=this._budget.now();this._startFrameTaskTimes();do{for(;this._runQueue.length>0;){const Te=this._budget.now(),Je=this._runQueue.pop();this._budget.resetProgress();try{Je.task.runTask(this._budget)}catch(Pe){H.error(`Exception in task "${Je.name}"`,Pe)}Je.schedulePriority=Je.basePriority;const ut=this._budget.now()-Te;if(Je.runtime+=ut,this._frameTaskTimes.set(Je.priority,this._frameTaskTimes.get(Je.priority)+ut),this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log("Task",Je.name,"used",this._budget.elapsed,"of max",this._budget.budget,"ms"),this._budget.remaining<=0)return void this._recordFrameTaskTimes(this._budget.now()-be)}}while(this._schedule());this._recordFrameTaskTimes(this._budget.now()-be)}_startFrameTaskTimes(){for(const be of Object.keys(q))this._frameTaskTimes.set(q[be],0)}_recordFrameTaskTimes(be){this._frameTaskTimes.forEach((Te,Je)=>this.performanceInfo.tasks.get(Je).record(Te)),this.performanceInfo.total.record(be)}get test(){return this._test}};(0,x._)([(0,W.Cb)()],Fe.prototype,"updating",void 0),(0,x._)([(0,W.Cb)()],Fe.prototype,"nowFunc",void 0),Fe=(0,x._)([(0,V.j)("esri.views.support.Scheduler")],Fe),Ae.Scheduler=Fe;let tt=class extends T.Z{constructor(be,Te,Je,ut){super({}),this._scheduler=be,this.name=Te,this._basePriority=ut,this.runtime=0,this._queue=new P,this._handles=new re.Z,this.schedulePriority=this._basePriority,this.task=(0,ee.pC)(Je)?Je:this._queue,this._handles.add((0,A.zF)(()=>this.task.running,()=>be.activate()))}get updating(){return this._queue.running}normalizeCtorArgs(){return{}}remove(){this.processQueue(ce),this._scheduler.removeTask(this),this.schedule=xe.schedule,this.reschedule=xe.reschedule,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(be){this.name=be;const Te=ye(be);0!==this._basePriority&&0===this.schedulePriority||(this.schedulePriority=Te),this._basePriority=Te}get priority(){return this.name}set priority(be){this.setPriority(be)}get needsUpdate(){return this.updating||this.task.running}schedule(be,Te,Je){return this._queue.push(be,Te,Je)}reschedule(be,Te,Je){return this._queue.unshift(be,Te,Je)}processQueue(be){this._queue.runTask(be)}};(0,x._)([(0,W.Cb)({constructOnly:!0})],tt.prototype,"task",void 0),(0,x._)([(0,W.Cb)({readOnly:!0})],tt.prototype,"updating",null),tt=(0,x._)([(0,V.j)("esri.views.support.SchedulerTask")],tt);class Re{constructor(Te){this.now=Te,this._begin=0,this._budget=0,this._state=2,this._didWork=!1,this._enabled=!0}run(Te){return!this.done&&(!0===Te()&&(this._didWork=!0),!0)}get done(){return this._didWork&&this.elapsed>=this._budget&&this._enabled}get budget(){return this._budget}madeProgress(){this._didWork=!0}get state(){return this._state}get enabled(){return this._enabled}set enabled(Te){this._enabled=Te}reset(Te,Je){this._begin=this.now(),this._budget=Te,this._state=Je,this._didWork=!1}get remaining(){return Math.max(this._budget-this.elapsed,0)}get elapsed(){return this.now()-this._begin}resetProgress(){this._didWork=!1}get hasProgressed(){return this._didWork}}Ae.Budget=Re})(fe||(fe={})),function(Ae){Ae.SCHEDULED="s",Ae.READY="r",Ae.WAITING="w",Ae.IDLE="i"}(Ce||(Ce={}));const ce=(()=>{const Ae=new fe.Budget(()=>performance.now());return Ae.enabled=!1,Ae})(),xe=new class he{remove(){}processQueue(){}schedule(Fe,tt,Re){try{if((0,j.Hc)(tt)){const be=(0,j.zE)();return Re?Promise.resolve(Re(be)):Promise.reject(be)}return(0,j.gx)(Fe(ce))}catch(be){return Promise.reject(be)}}reschedule(Fe,tt,Re){return this.schedule(Fe,tt,Re)}},we=Number.MAX_SAFE_INTEGER},70257:(lt,Se,C)=>{"use strict";C.d(Se,{t:()=>X});var x=C(17626),T=C(14517),re=C(72392),ne=C(62208),ee=C(32917),ie=C(50618),J=C(27e3),j=C(34595),A=C(77712),B=C(76898);let X=class extends T.Z{constructor(){super(...arguments),this.updating=!1,this.handleId=0,this.handles=new re.Z,this.scheduleHandleId=0,this.pendingPromises=new Set}destroy(){this.removeAll(),this.handles.destroy()}add(K,ae,$,V=0){const P=0!=(1&V),F=++this.handleId;P||this.installSyncUpdatingWatch(K,ae,F);const Z=0!=(2&V)?(0,J.S1)(K,ae,$,P):K.watch(ae,$,P);return this.handles.add(Z,F),{remove:()=>this.handles.remove(F)}}addOnCollectionPropertyChange(K,ae,$,V=0){const P=0!=(2&V),F=++this.handleId;return this.handles.add([(0,J.on)(K,ae,"after-changes",this.createSyncUpdatingCallback()),(0,J.on)(K,ae,"change",$,P?Z=>{$({added:Z.items,removed:[],moved:[],target:Z})}:void 0)],F),{remove:()=>{this.handles.remove(F)}}}addOnCollectionChange(K,ae,$=0){const V=0!=(2&$),P=++this.handleId;return this.handles.add([K.on("after-changes",this.createSyncUpdatingCallback()),K.on("change",ae)],P),V&&ae({added:K.items,removed:[],moved:[],target:K}),{remove:()=>{this.handles.remove(P)}}}addPromise(K){if((0,ne.Wi)(K))return K;const ae=++this.handleId;this.handles.add({remove:()=>{this.pendingPromises.delete(K)&&(0!==this.pendingPromises.size||this.handles.has(W)||this._set("updating",!1))}},ae),this.pendingPromises.add(K),this._set("updating",!0);const $=()=>this.handles.remove(ae);return K.then($,$),K}removeAll(){this.pendingPromises.clear(),this.handles.removeAll(),this._set("updating",!1)}installSyncUpdatingWatch(K,ae,$){const V=this.createSyncUpdatingCallback(),P=(0,ee.Ym)(()=>(0,j.$z)(K,ae),V,{sync:!0,equals:()=>!1});return this.handles.add(P,$),P}createSyncUpdatingCallback(){return()=>{this.handles.remove(W),++this.scheduleHandleId;const K=this.scheduleHandleId;this._get("updating")||this._set("updating",!0),this.handles.add((0,ie.Os)(()=>{K===this.scheduleHandleId&&(this._set("updating",this.pendingPromises.size>0),this.handles.remove(W))}),W)}}};(0,x._)([(0,A.Cb)({readOnly:!0})],X.prototype,"updating",void 0),X=(0,x._)([(0,B.j)("esri.views.support.WatchUpdatingTracking")],X);const W=-42},18605:(lt,Se,C)=>{"use strict";C.d(Se,{r7:()=>W,gH:()=>j,LI:()=>B,RZ:()=>X,TT:()=>ae,Jl:()=>K}),C(8314);var T=C(21286);function j(fe,Ce,ce,he){he.premultipliedAlpha&&function oe(fe){const Ce=fe.data,ce=Ce.length;for(let he=0;he<ce;he+=4){const xe=Ce[he+3];if(xe>0){const we=xe/255;Ce[he+0]=Ce[he+0]/we,Ce[he+1]=Ce[he+1]/we,Ce[he+2]=Ce[he+2]/we}}}(fe),ce.width=fe.width,ce.height=fe.height;const xe=ce.getContext("2d");xe.putImageData(fe,0,0),he.flipY&&function ye(fe){fe.save(),fe.globalCompositeOperation="copy",fe.scale(1,-1),fe.translate(0,-fe.canvas.height),fe.drawImage(fe.canvas,0,0),fe.restore()}(xe);const we=xe.getImageData(0,0,fe.width,fe.height),Ae=function A(fe,Ce){return fe.toDataURL(Q[Ce.format],Ce.quality/100)}(ce,Ce);return ce.width=0,ce.height=0,{dataUrl:Ae,data:we}}function B(fe,Ce){const ce=function le(fe){switch(fe){case"png":case"jpg":case"jpeg":return fe;default:return ue}}(fe);return{format:ce,quality:(0,T.uZ)(null!=Ce?Ce:me[ce],0,100)}}function X(fe,Ce){return Ce/Math.max(fe[0],fe[1])}function W(fe,Ce,ce){if(!fe||!Ce)throw new Error("Cannot construct image data without dimensions");if(F)try{return new ImageData(fe,Ce)}catch(he){F=!1}return V(fe,Ce,ce)}function K(fe,Ce,ce,he){if(!Ce||!ce)throw new Error("Cannot construct image data without dimensions");if(F)try{return new ImageData(fe,Ce,ce)}catch(we){F=!1}const xe=V(Ce,ce,he);return xe.data.set(fe,0),xe}function ae(fe,Ce,ce,he=0,xe=0,we=fe.width-he,Ae=fe.height-xe,Fe=!1){const{data:tt}=fe,{width:Re,height:be,data:Te}=Ce,Je=we/Re,ut=Ae/be,Pe=Math.ceil(Je/2),Qe=Math.ceil(ut/2),Ye=fe.width;for(let te=0;te<be;te++)for(let _e=0;_e<Re;_e++){const Ze=4*(_e+(Fe?be-te-1:te)*Re);let et=0,ht=0,ft=0,Et=0,mt=0,at=0;const wt=(te+.5)*ut;for(let Tt=Math.floor(te*ut);Tt<(te+1)*ut;Tt++){const Ut=Math.abs(wt-(Tt+.5))/Qe,Wt=(_e+.5)*Je,er=Ut*Ut;for(let gr=Math.floor(_e*Je);gr<(_e+1)*Je;gr++){const yr=Math.abs(Wt-(gr+.5))/Pe,mr=Math.sqrt(er+yr*yr);if(mr>=1)continue;let gt=2*mr*mr*mr-3*mr*mr+1;const kt=4*(he+gr+(xe+Tt)*Ye);at+=gt*tt[kt+3],ht+=gt,!ce&&tt[kt+3]<255&&(gt=gt*tt[kt+3]/255),ft+=gt*tt[kt],Et+=gt*tt[kt+1],mt+=gt*tt[kt+2],et+=gt}}Te[Ze]=ft/et,Te[Ze+1]=Et/et,Te[Ze+2]=mt/et,Te[Ze+3]=at/ht}return Ce}function V(fe,Ce,ce){return ce||(ce=function Z(){return P||(P=document.createElement("canvas"),P.width=1,P.height=1),P}()),ce.getContext("2d").createImageData(fe,Ce)}let P=null,F=!0;const Q={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},ue="png",me={png:100,jpg:98,jpeg:98}},31637:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>ne});var x=C(62208),T=C(57596);let re;function ne(){return re||(re=function ee(){const J={available:!1,version:0,majorPerformanceCaveat:!1,maxTextureSize:0,supportsHighPrecisionFragment:!1,supportsVertexShaderSamplers:!1,supportsElementIndexUint:!1,supportsStandardDerivatives:!1,supportsInstancedArrays:!1,supportsTextureFloat:!1,supportsColorBufferFloat:!1};if(void 0===typeof WebGLRenderingContext)return J;const j=document.createElement("canvas");if(!j)return J;let A=(0,T.k)(j,1,{failIfMajorPerformanceCaveat:!0});if((0,x.Wi)(A)&&(A=(0,T.k)(j,1),(0,x.pC)(A)&&(J.majorPerformanceCaveat=!0)),(0,x.Wi)(A))return J;const B=A.getParameter(A.VERSION);if(!B)return J;const X=B.match(/^WebGL\s+([\d.]*)/);if(X){const W=parseFloat(X[1]);J.available=W>=.94;const K=A.getShaderPrecisionFormat(A.FRAGMENT_SHADER,A.HIGH_FLOAT);K&&(J.supportsHighPrecisionFragment=K.precision>0),J.supportsVertexShaderSamplers=A.getParameter(A.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0,J.supportsElementIndexUint=null!==A.getExtension("OES_element_index_uint"),J.supportsStandardDerivatives=null!==A.getExtension("OES_standard_derivatives"),J.supportsInstancedArrays=null!==A.getExtension("ANGLE_instanced_arrays"),J.supportsTextureFloat=null!==A.getExtension("OES_texture_float"),J.supportsColorBufferFloat=null!==A.getExtension("WEBGL_color_buffer_float")&&null!==A.getExtension("EXT_float_blend")}return J.maxTextureSize=A.getParameter(A.MAX_TEXTURE_SIZE),J.version=function ie(){if(void 0===typeof WebGL2RenderingContext)return!1;const J=document.createElement("canvas");if(!J)return!1;const j=(0,T.k)(J,2);return!!(0,x.pC)(j)}()?2:1,J}()),re}},57596:(lt,Se,C)=>{"use strict";C.d(Se,{k:()=>re,s:()=>T});var x=C(62208);function T(J,j,A={}){if(!window.WebGLRenderingContext)return ne(J,ee),null;const B=re(J,j,A);return(0,x.Wi)(B)&&ne(J,ie),B}function re(J,j,A={}){const B=1===j?["webgl","experimental-webgl","webkit-3d","moz-webgl"]:["webgl2"];let X=null;for(const W of B){try{X=J.getContext(W,A)}catch(K){}if(X)break}return X}function ne(J,j){const A=J.parentNode;A&&(A.innerHTML='<table style="background-color: #8CE; width: 100%; height: 100%;"><tr><td align="center"><div style="display: table-cell; vertical-align: middle;"><div style="">'+j+"</div></div></td></tr></table>")}const ee='This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>',ie='It doesn\'t appear your computer can support WebGL.<br/><a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>'},92236:(lt,Se,C)=>{"use strict";C.d(Se,{a:()=>T,b:()=>re});var x=C(90912);function T(ne){const ee=(0,x.vU)(100*(1-ne));return Math.max(0,Math.min(ee,100))}function re(ne){return Math.max(0,Math.min(1-ne/100,1))}},32584:(lt,Se,C)=>{"use strict";C.d(Se,{Nw:()=>V});var x=C(26584),T=C(58817),re=C(62208),ne=C(94113),ee=C(23025);const ie=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),J=new Set(["csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","map-image","map-notes","ogc-feature","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function X(P){return!("feature"!==P.type||P.url||!P.source||"memory"!==P.source.type)}function ae(P,F){"maxScale"in P&&(F.maxScale=(0,ee.k)(P.maxScale)),"minScale"in P&&(F.minScale=(0,ee.k)(P.minScale))}function V(P,F,Z){if(!("write"in P)||!P.write)return Z&&Z.messages&&Z.messages.push(new x.Z("layer:unsupported",`Layers (${P.title}, ${P.id}) of type '${P.declaredClass}' cannot be persisted`,{layer:P})),null;if(function W(P,F){if(F.restrictedWebMapWriting){const Z=function B(P){return"basemap"===P.layerContainerType?ie:"operational-layers"===P.layerContainerType?J:null}(F);return!(0,re.pC)(Z)||Z.has(P.type)&&!X(P)}return!0}(P,Z)){const Y={};return P.write(Y,Z)?Y:null}return(0,re.pC)(F)&&function $(P,F){if(function K(P,F){if(X(P)){const Z=(0,ne.hS)("featureCollection.layers",F),Y=Z&&Z[0]&&Z[0].layerDefinition;Y&&ae(P,Y)}else"stream"===P.type?ae(P,F.layerDefinition=F.layerDefinition||{}):"group"!==P.type&&ae(P,F)}(P,F),"blendMode"in P&&(F.blendMode=P.blendMode,"normal"===F.blendMode&&delete F.blendMode),F.opacity=(0,ee.k)(P.opacity),F.title=P.title||"Layer",F.visibility=P.visible,"legendEnabled"in P&&"wmts"!==P.type)if(X(P)){const Z=F.featureCollection;Z&&(Z.showLegend=P.legendEnabled)}else F.showLegend=P.legendEnabled}(P,F=(0,T.d9)(F)),F}},6785:(lt,Se,C)=>{"use strict";C.d(Se,{Z:()=>Qe});var x=C(15861),T=C(17626),ne=(C(52515),C(55538)),ee=C(40764),ie=C(61885),J=C(72392),A=(C(8314),C(58817)),B=C(63290),X=C(62208),W=C(60330),K=C(10699),ae=C(35948),$=C(27e3),V=C(77712),P=C(66656),F=C(76898),Z=C(36082),Y=C(819),H=C(39605);C(62996);const q={handleInterceptedEvent:(Ye,te,_e,Ze)=>(Ye.scheduleRender(),te.properties[`on${Ze.type}`].apply(te.properties.bind||_e,[Ze]))},ge={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(Ye,te,_e)=>{Ye.style[te]=_e}},Q=(Ye,te,_e=!1)=>{let Ze=Ye;return te.forEach((et,ht)=>{var ft;const Et=null!=(ft=Ze)&&ft.children?((Ye,te)=>Ye.find(mt=>mt.domNode===et))(Ze.children):void 0;_e&&!Et&&ht!==te.length-1||(Ze=Et)}),Ze};var ue=C(76210),me=C(54346),ve=C(21726);let fe;fe="components/assets";var ce=C(81431),he=C(38570),xe=C(56683),we=C(41840);const Ae="esri.widgets.Widget",Fe=B.Z.getLogger(Ae);let tt=0;const Re=new Map;function Te(Ye,te){for(const _e in te)null!=Ye[_e]&&("object"==typeof Ye[_e]&&"object"==typeof te[_e]?Te(Ye[_e],te[_e]):Ye[_e]=te[_e]);return Ye}const Je=(Ye=>{let te;const _e=Pt(Pt({},q),Ye),Ze=(Ye=>Pt(Pt({},ge),Ye))(_e),et=Ze.performanceLogger;let ht,ft=!0,Et=!1;const mt=[],at=[],wt=(Ut,Wt,er)=>{let gr;Ze.eventHandlerInterceptor=(mr,gt,kt,Gt)=>function(Qt){let lr;et("domEvent",Qt);const dr=((Ye,te)=>{const _e=[];for(;Ye&&Ye!==te;)_e.push(Ye),Ye=Ye.parentNode;return _e})(Qt.currentTarget,gr.domNode),ct=dr.some(Rt=>{var Vt;return customElements.get(null==Rt||null==(Vt=Rt.tagName)?void 0:Vt.toLowerCase())});if(Qt.eventPhase!==Event.CAPTURING_PHASE&&ct){const Rt=Qt.composedPath(),Vt=Rt.slice(Rt.indexOf(Qt.currentTarget),Rt.indexOf(gr.domNode)).filter(Yt=>Yt.getRootNode()===Yt.ownerDocument).reverse();lr=Q(gr.getLastRender(),Vt,!0)}else dr.reverse(),lr=Q(gr.getLastRender(),dr);let Ot;return lr&&(Ot=_e.handleInterceptedEvent(te,lr,this,Qt)),et("domEventProcessed",Qt),Ot},null==_e.postProcessProjectionOptions||_e.postProcessProjectionOptions(Ze);const yr=er();gr=Ut(Wt,yr,Ze),mt.push(gr),at.push(er),_e.afterFirstVNodeRendered&&_e.afterFirstVNodeRendered(gr,yr)};let Tt=()=>{if(ht=void 0,ft){ft=!1,et("renderStart",void 0);for(let Ut=0;Ut<mt.length;Ut++){const Wt=at[Ut]();et("rendered",void 0),mt[Ut].update(Wt),et("patched",void 0)}et("renderDone",void 0),ft=!0}};return _e.modifyDoRenderImplementation&&(Tt=_e.modifyDoRenderImplementation(Tt,mt,at)),te={renderNow:Tt,scheduleRender:()=>{ht||Et||(ht=requestAnimationFrame(Tt))},stop:()=>{ht&&(cancelAnimationFrame(ht),ht=void 0),Et=!0},resume:()=>{Et=!1,ft=!0,te.scheduleRender()},append:(Ut,Wt)=>{wt(H.v.append,Ut,Wt)},insertBefore:(Ut,Wt)=>{wt(H.v.insertBefore,Ut,Wt)},merge:(Ut,Wt)=>{wt(H.v.merge,Ut,Wt)},replace:(Ut,Wt)=>{wt(H.v.replace,Ut,Wt)},detach:Ut=>{for(let Wt=0;Wt<at.length;Wt++)if(at[Wt]===Ut)return at.splice(Wt,1),mt.splice(Wt,1)[0];throw new Error("renderFunction was not found")}},te})({postProcessProjectionOptions(Ye){const te=Ye.eventHandlerInterceptor,_e=/capture$/i;Ye.eventHandlerInterceptor=(Ze,et,ht,ft)=>{const Et=te(Ze,et,ht,ft),mt=_e.test(Ze);if(!((Ze=Ze.replace(_e,"")).toLowerCase()in ht)||mt){const at=Ze[2].toLowerCase()+Ze.slice(3),wt=Wt=>Et.call(ht,Wt);ht.addEventListener(at,wt,mt);const Tt=()=>ht.removeEventListener(at,wt,mt),Ut=ft.afterRemoved;ft.afterRemoved=Wt=>{null==Ut||Ut(Wt),Tt()}}return Et}},handleInterceptedEvent(Ye,te,_e,Ze){const{eventPhase:et,type:ht}=Ze,ft=et===Event.CAPTURING_PHASE;let Et=`on${ht}${ft?"capture":""}`;const mt=te.properties;(Et in mt||(Et=`on${ht[0].toUpperCase()}${ht.slice(1)}${ft?"Capture":""}`,Et in mt))&&(Re.clear(),Ye.scheduleRender(),mt[Et].call(mt.bind||_e,Ze))}});let ut=!1,Pe=class extends((0,W.v)(ie.Z.EventedAccessor)){constructor(Ye,te){var _e;super(Ye,te),_e=this,this._attached=!1,this._internalHandles=new J.Z,this._projector=Je,this._readyForTrueRender=!1,this.domNode=null,this.iconClass="esri-icon-checkbox-unchecked",this.label=this.declaredClass.split(".").pop(),this.visible=!0,this.key=this,this._loadLocale=(0,K.Ds)((0,x.Z)(function*(){if(_e._messageBundleProps&&_e._messageBundleProps.length){const mt=yield(0,K.as)(_e._messageBundleProps.map(function(){var at=(0,x.Z)(function*({bundlePath:wt,propertyName:Tt}){let Ut=yield(0,we.ME)(wt);_e.uiStrings&&Object.keys(_e.uiStrings)&&(Ut=Te((0,A.d9)(Ut),_e.uiStrings)),_e[Tt]=Ut});return function(wt){return at.apply(this,arguments)}}()));for(const at of mt)at.error&&Fe.error("widget-intl:locale-error",_e.declaredClass,at.error)}yield _e.loadLocale()})),function Ce(){(0,ue.YY)((0,ve.hF)((0,me.V)("components/assets")))}();const et=(0,he.Yo)()||"light";["light","dark"].includes(et)||(0,ne.x9)(Fe,"The following themes are deprecated: light-blue, dark-blue, light-green, dark-green, light-purple, dark-purple, light-red, and dark-red.",{version:"4.19",warnOnce:!0,see:"https://developers.arcgis.com/javascript/latest/styling/"});const ht="esri-widget-uid-"+(0,ae.D)(),ft=this.render.bind(this);this._trackingTarget=new Y.M(()=>this.scheduleRender());const Et=()=>{var mt;if(!this._readyForTrueRender||this.destroyed)return null;if(!this.visible)return{vnodeSelector:"div",properties:{key:ht,class:"",styles:{display:"none"}},domNode:void 0,children:void 0,text:void 0};const at=ft();let{properties:wt}=at;wt||(at.properties=wt={});let{key:Tt,styles:Ut}=wt;Tt||(wt.key=ht),Ut||(wt.styles=Ut={}),Ut.display||(Ut.display="");let Wt=0;return null==(mt=at.children)||mt.forEach(er=>{if((0,ce.ZJ)(er.vnodeSelector))return;let{properties:gr}=er;gr||(er.properties=gr={}),gr.key||(gr.key=`${this.id}--${Wt++}`)}),(0,ce.dh)(this,at)};this.render=()=>{if(ut)return Et();let mt=Re.get(this);if(mt)return mt;this._trackingTarget.clear(),ut=!0;try{mt=(0,Z.LJ)(this._trackingTarget,Et)}finally{ut=!1}return Re.set(this,mt),mt},this.addResolvingPromise(this._resourcesFetch=this.beforeFirstRender().then(()=>{this._readyForTrueRender=!0,this._postInitialize()}))}normalizeCtorArgs(Ye,te){const _e=Pt({},Ye);return te&&(_e.container=te),_e}postInitialize(){}beforeFirstRender(){return Promise.all([this.loadDependencies(),this._loadLocale()]).then(()=>{}).catch(K.H9)}loadDependencies(){return(0,x.Z)(function*(){})()}loadLocale(){return(0,x.Z)(function*(){})()}destroy(){this.destroyed||(this._trackingTarget=(0,X.SC)(this._trackingTarget),this.viewModel=(0,X.SC)(this.viewModel),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=()=>null,this._projector=null,Re.delete(this))}set container(Ye){this._get("container")||this._set("container",Ye)}castContainer(Ye){return(0,ee.L7)(Ye)}get id(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+tt++}set id(Ye){Ye&&this._set("id",Ye)}get renderable(){return this._resourcesFetch}get test(){return{projector:this._projector,handles:this._internalHandles}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(Re.delete(this),this._projector.scheduleRender())}classes(...Ye){return he.Sh.apply(this,Ye)}own(Ye){arguments.length>1&&(Ye=Array.prototype.slice.call(arguments)),this._internalHandles.add(Ye)}renderNow(){Re.delete(this),this._projector.renderNow()}_postInitialize(){var te,Ye=this;if(this.destroyed)return;this.scheduleRender(),null!=(te=this._delegatedEventNames)&&te.length&&this._internalHandles.add((0,$.S1)(this,"viewModel",(Ze,et)=>{et&&this._internalHandles.remove("delegated-events"),Ze&&this._internalHandles.add(this._delegatedEventNames.map(ht=>Ze.on(ht,ft=>{this.emit(ht,ft)})),"delegated-events")})),this.postInitialize();const _e=function(){var Ze=(0,x.Z)(function*(){yield Ye._loadLocale().catch(K.H9),Ye.scheduleRender()});return function(){return Ze.apply(this,arguments)}}();this._internalHandles.add([(0,xe.qe)(_e),this.watch("uiStrings",_e),(0,$.N1)(this,"container",function(){var Ze=(0,x.Z)(function*(et){Ye.destroyed||Ye._attach(et)});return function(et){return Ze.apply(this,arguments)}}())])}_attach(Ye){Ye&&(this._projector.merge(Ye,this.render),this._attached=!0)}_detach(Ye){Ye&&this._attached&&(this._projector.detach(this.render),Ye.parentNode&&Ye.parentNode.removeChild(Ye),this._attached=!1)}};Pe[ce.$X]=!0,(0,T._)([(0,V.Cb)()],Pe.prototype,"_readyForTrueRender",void 0),(0,T._)([(0,V.Cb)({value:null})],Pe.prototype,"container",null),(0,T._)([(0,P.p)("container")],Pe.prototype,"castContainer",null),(0,T._)([(0,V.Cb)({aliasOf:"container"})],Pe.prototype,"domNode",void 0),(0,T._)([(0,V.Cb)()],Pe.prototype,"iconClass",void 0),(0,T._)([(0,V.Cb)()],Pe.prototype,"id",null),(0,T._)([(0,V.Cb)()],Pe.prototype,"label",void 0),(0,T._)([(0,V.Cb)()],Pe.prototype,"renderable",null),(0,T._)([(0,V.Cb)()],Pe.prototype,"uiStrings",void 0),(0,T._)([(0,V.Cb)()],Pe.prototype,"viewModel",void 0),(0,T._)([(0,V.Cb)()],Pe.prototype,"visible",void 0),(0,T._)([(0,V.Cb)()],Pe.prototype,"key",void 0),(0,T._)([(0,V.Cb)()],Pe.prototype,"children",void 0),(0,T._)([(0,V.Cb)()],Pe.prototype,"afterCreate",void 0),(0,T._)([(0,V.Cb)()],Pe.prototype,"afterUpdate",void 0),(0,T._)([(0,V.Cb)()],Pe.prototype,"afterRemoved",void 0),Pe=(0,T._)([(0,F.j)(Ae)],Pe);const Qe=Pe},24940:(lt,Se,C)=>{"use strict";C.d(Se,{h:()=>T});var x=C(38570);function T(){return function(ee,ie){if(!ee[ie])throw new TypeError(`Cannot auto bind undefined function '${ie}'`);return{value:ne(ee[ie])}}}function ne(ee){return function(ie,...J){!function re(ee){const{type:ie}=ee;return ee instanceof KeyboardEvent||"keyup"===ie||"keydown"===ie||"keypress"===ie}(ie)?ee.call(this,ie,...J):(0,x.pf)(ie.key)&&(ie.preventDefault(),ie.stopPropagation(),ie.target.click())}}},25552:(lt,Se,C)=>{"use strict";function x(T){return function(re,ne){re.hasOwnProperty("_messageBundleProps")||(re._messageBundleProps=re._messageBundleProps?re._messageBundleProps.slice():[]),re._messageBundleProps.push({bundlePath:T,propertyName:ne})}}C.d(Se,{H:()=>x})},94450:(lt,Se,C)=>{"use strict";C.d(Se,{u:()=>ee});var x=C(81431),T=function(ie){return{vnodeSelector:"",properties:void 0,children:void 0,text:ie.toString(),domNode:null}},re=function(ie,J){for(var j=0,A=ie.length;j<A;j++){var B=ie[j];Array.isArray(B)?re(B,J):null!=B&&!1!==B&&(B.hasOwnProperty("vnodeSelector")||(B=T(B)),J.push(B))}};function ee(ie,J,...j){return"function"!=typeof ie||(0,x.ZJ)(ie)?function(ie,J){for(var j=[],A=2;A<arguments.length;A++)j[A-2]=arguments[A];if(1===j.length&&"string"==typeof j[0])return{vnodeSelector:ie,properties:J||void 0,children:void 0,text:j[0],domNode:null};var B=[];return re(j,B),{vnodeSelector:ie,properties:J||void 0,children:B,text:void 0,domNode:null}}(ie,J,...j):ie(J,...j)}},81431:(lt,Se,C)=>{"use strict";C.d(Se,{$X:()=>T,ZJ:()=>B,dh:()=>ie});var x=C(54024);const T=Symbol("widget"),re=[],ne={},ee=new WeakMap;function ie(X,W){let K=W.children;if(K&&K.length)for(let $=0;$<K.length;++$)K[$]=ie(X,K[$]);else K=re;const ae=W.vnodeSelector;if(B(ae)){const $=W.properties||ne,V=$.key||ae;return{vnodeSelector:"div",properties:{key:V,afterCreate:J,afterUpdate:j,afterRemoved:A,parentWidget:X,widgetConstructor:ae,widgetProperties:Xr(Pt({},$),{key:V,children:K})},children:void 0,text:void 0,domNode:null}}return W}function J(X,W,K,{parentWidget:ae,widgetConstructor:$,widgetProperties:V}){const P=new $(V);P.container=X,ee.set(X,P),null==P.afterCreate||P.afterCreate(P,X),ae._internalHandles.add((0,x.kB)(()=>A(X)))}function j(X,W,K,{widgetProperties:ae}){const $=ee.get(X);$&&($.set(ae),null==$.afterUpdate||$.afterUpdate($,X))}function A(X){const W=ee.get(X);W&&(W.destroy(),ee.delete(X))}function B(X){return"function"==typeof X&&X[T]}},40669:(lt,Se,C)=>{"use strict";function j(B){return B&&"function"==typeof B.render}function A(B){return B&&"function"==typeof B.postMixInProperties&&"function"==typeof B.buildRendering&&"function"==typeof B.postCreate&&"function"==typeof B.startup}C.d(Se,{o:()=>A,Qd:()=>j}),C(24940),C(55538),C(8314),C(63290),C(94450),C(38570)},38570:(lt,Se,C)=>{"use strict";C.d(Se,{Sh:()=>Ui,vU:()=>us,pV:()=>In,rk:()=>Kn,Yo:()=>Sn,pf:()=>Bi,$o:()=>oo,dZ:()=>$n,w3:()=>$o,Se:()=>Mi});var ee=Object.prototype,ie=Function.prototype.toString,J=ee.hasOwnProperty,j=ie.call(Object),A=ee.toString,B=function re(Ve,Ht){return function(jt){return Ve(Ht(jt))}}(Object.getPrototypeOf,Object),ae={exports:{}},$={},V={exports:{}},P={};function F(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}var H=/javascript\s*\:/gim;P.whiteList={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1},P.getDefaultWhiteList=F,P.onAttr=function Z(Ve,Ht,jt){},P.onIgnoreAttr=function Y(Ve,Ht,jt){},P.safeAttrValue=function de(Ve,Ht){return H.test(Ht)?"":Ht};var ge_trim=function(Ve){return String.prototype.trim?Ve.trim():Ve.replace(/(^\s*)|(\s*$)/g,"")},ge_trimRight=function(Ve){return String.prototype.trimRight?Ve.trimRight():Ve.replace(/(\s*$)/g,"")},oe=P;function pe(Ve){return null==Ve}function me(Ve){(Ve=function ue(Ve){var Ht={};for(var jt in Ve)Ht[jt]=Ve[jt];return Ht}(Ve||{})).whiteList=Ve.whiteList||oe.whiteList,Ve.onAttr=Ve.onAttr||oe.onAttr,Ve.onIgnoreAttr=Ve.onIgnoreAttr||oe.onIgnoreAttr,Ve.safeAttrValue=Ve.safeAttrValue||oe.safeAttrValue,this.options=Ve}me.prototype.process=function(Ve){if(!(Ve=(Ve=Ve||"").toString()))return"";var jt=this.options,Cr=jt.whiteList,_r=jt.onAttr,Kr=jt.onIgnoreAttr,an=jt.safeAttrValue;return function le(Ve,Ht){";"!==(Ve=ge_trimRight(Ve))[Ve.length-1]&&(Ve+=";");var jt=Ve.length,Cr=!1,_r=0,Kr=0,an="";function Pr(){if(!Cr){var xn=ge_trim(Ve.slice(_r,Kr)),Zr=xn.indexOf(":");if(-1!==Zr){var Xt=ge_trim(xn.slice(0,Zr)),Or=ge_trim(xn.slice(Zr+1));if(Xt){var An=Ht(_r,an.length,Xt,Or,xn);An&&(an+=An+"; ")}}}_r=Kr+1}for(;Kr<jt;Kr++){var wr=Ve[Kr];if("/"===wr&&"*"===Ve[Kr+1]){var yn=Ve.indexOf("*/",Kr+2);if(-1===yn)break;_r=(Kr=yn+1)+1,Cr=!1}else"("===wr?Cr=!0:")"===wr?Cr=!1:";"===wr?Cr||Pr():"\n"===wr&&Pr()}return ge_trim(an)}(Ve,function(wr,yn,xn,Zr,Xt){var Or=Cr[xn],An=!1;if(!0===Or?An=Or:"function"==typeof Or?An=Or(Zr):Or instanceof RegExp&&(An=Or.test(Zr)),!0!==An&&(An=!1),Zr=an(xn,Zr)){var Bn,Xn={position:yn,sourcePosition:wr,source:Xt,isWhite:An};if(An)return pe(Bn=_r(xn,Zr,Xn))?xn+":"+Zr:Bn;if(!pe(Bn=Kr(xn,Zr,Xn)))return Bn}})};var ve=me;!function(Ve,Ht){var jt=P,Cr=ve;for(var Kr in(Ht=Ve.exports=function _r(an,Pr){return new Cr(Pr).process(an)}).FilterCSS=Cr,jt)Ht[Kr]=jt[Kr]}(V,V.exports);var fe={indexOf:function(Ve,Ht){var jt,Cr;if(Array.prototype.indexOf)return Ve.indexOf(Ht);for(jt=0,Cr=Ve.length;jt<Cr;jt++)if(Ve[jt]===Ht)return jt;return-1},forEach:function(Ve,Ht,jt){var Cr,_r;if(Array.prototype.forEach)return Ve.forEach(Ht,jt);for(Cr=0,_r=Ve.length;Cr<_r;Cr++)Ht.call(jt,Ve[Cr],Cr,Ve)},trim:function(Ve){return String.prototype.trim?Ve.trim():Ve.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(Ve){var jt=/\s|\n|\t/.exec(Ve);return jt?jt.index:-1}},ce=V.exports.getDefaultWhiteList,he=fe;var we=new(0,V.exports.FilterCSS);function be(Ve){return Ve.replace(Je,"&lt;").replace(ut,"&gt;")}var Je=/</g,ut=/>/g,Pe=/"/g,Qe=/&quot;/g,Ye=/&#([a-zA-Z0-9]*);?/gim,te=/&colon;?/gim,_e=/&newline;?/gim,Ze=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,et=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,ht=/u\s*r\s*l\s*\(.*/gi;function ft(Ve){return Ve.replace(Pe,"&quot;")}function Et(Ve){return Ve.replace(Qe,'"')}function mt(Ve){return Ve.replace(Ye,function(jt,Cr){return String.fromCharCode("x"===Cr[0]||"X"===Cr[0]?parseInt(Cr.substr(1),16):parseInt(Cr,10))})}function at(Ve){return Ve.replace(te,":").replace(_e," ")}function wt(Ve){for(var Ht="",jt=0,Cr=Ve.length;jt<Cr;jt++)Ht+=Ve.charCodeAt(jt)<32?" ":Ve.charAt(jt);return he.trim(Ht)}function Tt(Ve){return wt(Ve=at(Ve=mt(Ve=Et(Ve))))}function Ut(Ve){return be(Ve=ft(Ve))}$.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},$.getDefaultWhiteList=function xe(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}},$.onTag=function Ae(Ve,Ht,jt){},$.onIgnoreTag=function Fe(Ve,Ht,jt){},$.onTagAttr=function tt(Ve,Ht,jt){},$.onIgnoreTagAttr=function Re(Ve,Ht,jt){},$.safeAttrValue=function Te(Ve,Ht,jt,Cr){if(jt=Tt(jt),"href"===Ht||"src"===Ht){if("#"===(jt=he.trim(jt)))return"#";if("http://"!==jt.substr(0,7)&&"https://"!==jt.substr(0,8)&&"mailto:"!==jt.substr(0,7)&&"tel:"!==jt.substr(0,4)&&"data:image/"!==jt.substr(0,11)&&"ftp://"!==jt.substr(0,6)&&"./"!==jt.substr(0,2)&&"../"!==jt.substr(0,3)&&"#"!==jt[0]&&"/"!==jt[0])return""}else if("background"===Ht){if(Ze.lastIndex=0,Ze.test(jt))return""}else if("style"===Ht){if(et.lastIndex=0,et.test(jt)||(ht.lastIndex=0,ht.test(jt)&&(Ze.lastIndex=0,Ze.test(jt))))return"";!1!==Cr&&(jt=(Cr=Cr||we).process(jt))}return Ut(jt)},$.escapeHtml=be,$.escapeQuote=ft,$.unescapeQuote=Et,$.escapeHtmlEntities=mt,$.escapeDangerHtml5Entities=at,$.clearNonPrintableCharacter=wt,$.friendlyAttrValue=Tt,$.escapeAttrValue=Ut,$.onIgnoreTagStripAll=function Wt(){return""},$.StripTagBody=function er(Ve,Ht){"function"!=typeof Ht&&(Ht=function(){});var jt=!Array.isArray(Ve),_r=[],Kr=!1;return{onIgnoreTag:function(an,Pr,wr){if(function Cr(an){return!!jt||-1!==he.indexOf(Ve,an)}(an)){if(wr.isClosing){var yn="[/removed]";return _r.push([!1!==Kr?Kr:wr.position,wr.position+yn.length]),Kr=!1,yn}return Kr||(Kr=wr.position),"[removed]"}return Ht(an,Pr,wr)},remove:function(an){var Pr="",wr=0;return he.forEach(_r,function(yn){Pr+=an.slice(wr,yn[0]),wr=yn[1]}),Pr+=an.slice(wr)}}},$.stripCommentTag=function gr(Ve){for(var Ht="",jt=0;jt<Ve.length;){var Cr=Ve.indexOf("\x3c!--",jt);if(-1===Cr){Ht+=Ve.slice(jt);break}Ht+=Ve.slice(jt,Cr);var _r=Ve.indexOf("--\x3e",Cr);if(-1===_r)break;jt=_r+3}return Ht},$.stripBlankChar=function yr(Ve){var Ht=Ve.split("");return(Ht=Ht.filter(function(jt){var Cr=jt.charCodeAt(0);return!(127===Cr||Cr<=31&&10!==Cr&&13!==Cr)})).join("")},$.cssFilter=we,$.getDefaultCSSWhiteList=ce;var mr={},gt=fe;function kt(Ve){var Ht=gt.spaceIndex(Ve);if(-1===Ht)var jt=Ve.slice(1,-1);else jt=Ve.slice(1,Ht+1);return"/"===(jt=gt.trim(jt).toLowerCase()).slice(0,1)&&(jt=jt.slice(1)),"/"===jt.slice(-1)&&(jt=jt.slice(0,-1)),jt}function Gt(Ve){return"</"===Ve.slice(0,2)}var lr=/[^a-zA-Z0-9_:\.\-]/gim;function ct(Ve,Ht){for(;Ht<Ve.length;Ht++){var jt=Ve[Ht];if(" "!==jt)return"="===jt?Ht:-1}}function Ot(Ve,Ht){for(;Ht>0;Ht--){var jt=Ve[Ht];if(" "!==jt)return"="===jt?Ht:-1}}function Vt(Ve){return function Rt(Ve){return'"'===Ve[0]&&'"'===Ve[Ve.length-1]||"'"===Ve[0]&&"'"===Ve[Ve.length-1]}(Ve)?Ve.substr(1,Ve.length-2):Ve}mr.parseTag=function Qt(Ve,Ht,jt){var Cr="",_r=0,Kr=!1,an=!1,Pr=0,wr=Ve.length,yn="",xn="";e:for(Pr=0;Pr<wr;Pr++){var Zr=Ve.charAt(Pr);if(!1===Kr){if("<"===Zr){Kr=Pr;continue}}else if(!1===an){if("<"===Zr){Cr+=jt(Ve.slice(_r,Pr)),Kr=Pr,_r=Pr;continue}if(">"===Zr){Cr+=jt(Ve.slice(_r,Kr)),yn=kt(xn=Ve.slice(Kr,Pr+1)),Cr+=Ht(Kr,Cr.length,yn,xn,Gt(xn)),_r=Pr+1,Kr=!1;continue}if('"'===Zr||"'"===Zr)for(var Xt=1,Or=Ve.charAt(Pr-Xt);""===Or.trim()||"="===Or;){if("="===Or){an=Zr;continue e}Or=Ve.charAt(Pr-++Xt)}}else if(Zr===an){an=!1;continue}}return _r<Ve.length&&(Cr+=jt(Ve.substr(_r))),Cr},mr.parseAttr=function dr(Ve,Ht){var jt=0,Cr=[],_r=!1,Kr=Ve.length;function an(Zr,Xt){if(!((Zr=(Zr=gt.trim(Zr)).replace(lr,"").toLowerCase()).length<1)){var Or=Ht(Zr,Xt||"");Or&&Cr.push(Or)}}for(var Pr=0;Pr<Kr;Pr++){var xn,wr=Ve.charAt(Pr);if(!1!==_r||"="!==wr)if(!1===_r||Pr!==jt||'"'!==wr&&"'"!==wr||"="!==Ve.charAt(Pr-1)){if(/\s|\n|\t/.test(wr)){if(Ve=Ve.replace(/\s|\n|\t/g," "),!1===_r){if(-1===(xn=ct(Ve,Pr))){an(gt.trim(Ve.slice(jt,Pr))),_r=!1,jt=Pr+1;continue}Pr=xn-1;continue}if(-1===(xn=Ot(Ve,Pr-1))){an(_r,Vt(gt.trim(Ve.slice(jt,Pr)))),_r=!1,jt=Pr+1;continue}}}else{if(-1===(xn=Ve.indexOf(wr,Pr+1)))break;an(_r,gt.trim(Ve.slice(jt+1,xn))),_r=!1,jt=(Pr=xn)+1}else _r=Ve.slice(jt,Pr),jt=Pr+1}return jt<Ve.length&&(!1===_r?an(Ve.slice(jt)):an(_r,Vt(gt.trim(Ve.slice(jt))))),gt.trim(Cr.join(" "))};var Yt=V.exports.FilterCSS,Zt=$,ot=mr.parseTag,ze=mr.parseAttr,Xe=fe;function He(Ve){return null==Ve}function Mt(Ve){(Ve=function nt(Ve){var Ht={};for(var jt in Ve)Ht[jt]=Ve[jt];return Ht}(Ve||{})).stripIgnoreTag&&(Ve.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),Ve.onIgnoreTag=Zt.onIgnoreTagStripAll),Ve.whiteList=Ve.whiteList||Zt.whiteList,Ve.onTag=Ve.onTag||Zt.onTag,Ve.onTagAttr=Ve.onTagAttr||Zt.onTagAttr,Ve.onIgnoreTag=Ve.onIgnoreTag||Zt.onIgnoreTag,Ve.onIgnoreTagAttr=Ve.onIgnoreTagAttr||Zt.onIgnoreTagAttr,Ve.safeAttrValue=Ve.safeAttrValue||Zt.safeAttrValue,Ve.escapeHtml=Ve.escapeHtml||Zt.escapeHtml,this.options=Ve,!1===Ve.css?this.cssFilter=!1:(Ve.css=Ve.css||{},this.cssFilter=new Yt(Ve.css))}Mt.prototype.process=function(Ve){if(!(Ve=(Ve=Ve||"").toString()))return"";var jt=this.options,Cr=jt.whiteList,_r=jt.onTag,Kr=jt.onIgnoreTag,an=jt.onTagAttr,Pr=jt.onIgnoreTagAttr,wr=jt.safeAttrValue,yn=jt.escapeHtml,xn=this.cssFilter;jt.stripBlankChar&&(Ve=Zt.stripBlankChar(Ve)),jt.allowCommentTag||(Ve=Zt.stripCommentTag(Ve));var Zr=!1;jt.stripIgnoreTagBody&&(Zr=Zt.StripTagBody(jt.stripIgnoreTagBody,Kr),Kr=Zr.onIgnoreTag);var Xt=ot(Ve,function(Or,An,Xn,Bn,Wr){var Pn,ei={sourcePosition:Or,position:An,isClosing:Wr,isWhite:Cr.hasOwnProperty(Xn)};if(!He(Pn=_r(Xn,Bn,ei)))return Pn;if(ei.isWhite){if(ei.isClosing)return"</"+Xn+">";var Ko=function Ue(Ve){var Ht=Xe.spaceIndex(Ve);if(-1===Ht)return{html:"",closing:"/"===Ve[Ve.length-2]};var jt="/"===(Ve=Xe.trim(Ve.slice(Ht+1,-1)))[Ve.length-1];return jt&&(Ve=Xe.trim(Ve.slice(0,-1))),{html:Ve,closing:jt}}(Bn),Vi=Cr[Xn],wi=ze(Ko.html,function(so,tn){var Cn,Yi=-1!==Xe.indexOf(Vi,so);return He(Cn=an(Xn,so,tn,Yi))?Yi?(tn=wr(Xn,so,tn,xn))?so+'="'+tn+'"':so:He(Cn=Pr(Xn,so,tn,Yi))?void 0:Cn:Cn});return Bn="<"+Xn,wi&&(Bn+=" "+wi),Ko.closing&&(Bn+=" /"),Bn+">"}return He(Pn=Kr(Xn,Bn,ei))?yn(Bn):Pn},yn);return Zr&&(Xt=Zr.remove(Xt)),Xt};var tr=Mt;!function(Ve,Ht){var jt=$,Cr=mr,_r=tr;function Kr(wr,yn){return new _r(yn).process(wr)}for(var an in(Ht=Ve.exports=Kr).filterXSS=Kr,Ht.FilterXSS=_r,jt)Ht[an]=jt[an];for(var an in Cr)Ht[an]=Cr[an];(function Pr(){return"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope})()&&(self.filterXSS=Ve.exports)}(ae,ae.exports);var nn,jn,br=function(){function Ve(Ht,jt){var _r,Cr=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],ol:[],p:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(Kr,an,Pr,wr){return"a"===Kr&&"href"===an||("img"===Kr||"source"===Kr)&&"src"===an?Cr.sanitizeUrl(Pr):ae.exports.safeAttrValue(Kr,an,Pr,wr)}},Ht&&!jt?_r=Ht:Ht&&jt?(_r=Object.create(this.arcgisFilterOptions),Object.keys(Ht).forEach(function(Kr){"whiteList"===Kr?_r.whiteList=Cr._extendObjectOfArrays([Cr.arcgisWhiteList,Ht.whiteList||{}]):_r[Kr]=Ht[Kr]})):(_r=Object.create(this.arcgisFilterOptions)).whiteList=this.arcgisWhiteList,this.xssFilterOptions=_r,this._xssFilter=new ae.exports.FilterXSS(_r)}return Ve.prototype.sanitize=function(Ht,jt){switch(void 0===jt&&(jt={}),typeof Ht){case"number":return isNaN(Ht)||!isFinite(Ht)?null:Ht;case"boolean":return Ht;case"string":return this._xssFilter.process(Ht);case"object":return this._iterateOverObject(Ht,jt);default:return jt.allowUndefined&&void 0===Ht?void 0:null}},Ve.prototype.sanitizeUrl=function(Ht){var jt=this._trim(Ht.substring(0,Ht.indexOf(":")));return"/"===Ht||"#"===Ht||"#"===Ht[0]||this.allowedProtocols.indexOf(jt.toLowerCase())>-1?ae.exports.escapeAttrValue(Ht):""},Ve.prototype.sanitizeHTMLAttribute=function(Ht,jt,Cr,_r){return"function"==typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(Ht,jt,Cr,_r):ae.exports.safeAttrValue(Ht,jt,Cr,_r)},Ve.prototype.validate=function(Ht,jt){void 0===jt&&(jt={});var Cr=this.sanitize(Ht,jt);return{isValid:Ht===Cr,sanitized:Cr}},Ve.prototype._extendObjectOfArrays=function(Ht){var jt={};return Ht.forEach(function(Cr){Object.keys(Cr).forEach(function(_r){jt[_r]=Array.isArray(Cr[_r])&&Array.isArray(jt[_r])?jt[_r].concat(Cr[_r]):Cr[_r]})}),jt},Ve.prototype._iterateOverObject=function(Ht,jt){var Cr=this;void 0===jt&&(jt={});try{var _r=!1,Kr=void 0;if(Array.isArray(Ht))Kr=Ht.reduce(function(Pr,wr){var yn=Cr.validate(wr,jt);return yn.isValid?Pr.concat([wr]):(_r=!0,Pr.concat([yn.sanitized]))},[]);else{if(!function W(Ve){if(!function X(Ve){return!!Ve&&"object"==typeof Ve}(Ve)||"[object Object]"!=A.call(Ve)||function T(Ve){var Ht=!1;if(null!=Ve&&"function"!=typeof Ve.toString)try{Ht=!!(Ve+"")}catch(jt){}return Ht}(Ve))return!1;var Ht=B(Ve);if(null===Ht)return!0;var jt=J.call(Ht,"constructor")&&Ht.constructor;return"function"==typeof jt&&jt instanceof jt&&ie.call(jt)==j}(Ht))return jt.allowUndefined&&void 0===Ht?void 0:null;Kr=Object.keys(Ht).reduce(function(Pr,wr){var yn=Ht[wr],xn=Cr.validate(yn,jt);return xn.isValid?Pr[wr]=yn:(_r=!0,Pr[wr]=xn.sanitized),Pr},{})}return _r?Kr:Ht}catch(Pr){return null}},Ve.prototype._trim=function(Ht){return String.prototype.trim?Ht.trim():Ht.replace(/(^\s*)|(\s*$)/g,"")},Ve}(),xr=C(35575),Br=(C(8314),C(63290)),Yn=function(Ve){nn||function(Ve){if("WebkitTransition"in Ve.style)nn="webkitTransitionEnd",jn="webkitAnimationEnd";else{if(!("transition"in Ve.style))throw new Error("Your browser is not supported!");nn="transitionend",jn="animationend"}}(Ve)},Hi=function(Ve,Ht){return void 0===Ht&&(Ht=Ve+"-active"),function(jt){Yn(jt);var Cr=!1,_r=function(Kr){Cr||(Cr=!0,jt.removeEventListener(nn,_r),jt.removeEventListener(jn,_r),jt.classList.remove(Ve),jt.classList.remove(Ht))};jt.classList.add(Ve),jt.addEventListener(nn,_r),jt.addEventListener(jn,_r),requestAnimationFrame(function(){jt.classList.add(Ht)})}},no=function(Ve,Ht){return void 0===Ht&&(Ht=Ve+"-active"),function(jt,Cr){Yn(jt);var _r=!1,Kr=function(an){_r||(_r=!0,jt.removeEventListener(nn,Kr),jt.removeEventListener(jn,Kr),Cr())};jt.classList.add(Ve),jt.addEventListener(nn,Kr),jt.addEventListener(jn,Kr),requestAnimationFrame(function(){jt.classList.add(Ht)})}};function Ui(Ve){const Ht=xr.Z.acquire();for(let Cr=0;Cr<arguments.length;Cr++){const _r=arguments[Cr],Kr=typeof _r;if("string"===Kr)Ht.push(_r);else if(Array.isArray(_r))Ht.push.apply(Ht,_r);else if("object"===Kr)for(const an in _r)_r[an]&&Ht.push(an)}const jt=Ht.join(" ");return xr.Z.release(Ht),jt}function $n(Ve){const Ht=null==Ve?void 0:Ve.closest("[dir]");return null!==Ht&&Ht instanceof HTMLElement&&"rtl"===Ht.dir||"rtl"===document.dir}function In(Ve){this[Ve.getAttribute("data-node-ref")]=null}function Mi(Ve){this[Ve.getAttribute("data-node-ref")]=Ve}function us(Ve,Ht){return("enter"===Ve?Hi:no)(Ht)}Br.Z.getLogger("esri.widgets.support.widgetUtils");const $s=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"].reduce((Ve,Ht)=>(Ve[Ht]=[],Ve),{}),io=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],$o=new br({whiteList:$s,onTagAttr:(Ve,Ht,jt)=>{const Cr=`${Ht}="${jt}"`;if(io.includes(Ht))return Cr},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function Bi(Ve){return"Enter"===Ve||" "===Ve}function Sn(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-theme-name").replace(/\s|'|"/g,"")}function oo(){return Sn().startsWith("dark")}function Kn(){return"calcite-theme-"+(oo()?"dark":"light")}},15861:(lt,Se,C)=>{"use strict";function x(re,ne,ee,ie,J,j,A){try{var B=re[j](A),X=B.value}catch(W){return void ee(W)}B.done?ne(X):Promise.resolve(X).then(ie,J)}function T(re){return function(){var ne=this,ee=arguments;return new Promise(function(ie,J){var j=re.apply(ne,ee);function A(X){x(j,ie,J,A,B,"next",X)}function B(X){x(j,ie,J,A,B,"throw",X)}A(void 0)})}}C.d(Se,{Z:()=>T})}},lt=>{lt(lt.s=21937)}]);