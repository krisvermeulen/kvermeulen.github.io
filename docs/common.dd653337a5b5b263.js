"use strict";var ae=Object.defineProperty,le=Object.defineProperties,ue=Object.getOwnPropertyDescriptors,oe=Object.getOwnPropertySymbols,ce=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable,ie=(G,U,e)=>U in G?ae(G,U,{enumerable:!0,configurable:!0,writable:!0,value:e}):G[U]=e,$=(G,U)=>{for(var e in U||(U={}))ce.call(U,e)&&ie(G,e,U[e]);if(oe)for(var e of oe(U))de.call(U,e)&&ie(G,e,U[e]);return G},Q=(G,U)=>le(G,ue(U));(self.webpackChunkangular_anb=self.webpackChunkangular_anb||[]).push([[8592],{91376:(G,U,e)=>{e.d(U,{C:()=>f,a:()=>b,b:()=>u,d:()=>s,q:()=>n,s:()=>O});const f={autoTheme:"calcite-theme-auto",darkTheme:"calcite-theme-dark",lightTheme:"calcite-theme-light",rtl:"calcite--rtl"};function b(C){const L=s(C,"[dir]");return L?L.getAttribute("dir"):"ltr"}function o(C){return C.getRootNode()}function p(C){return C.host||null}function n(C,y){return function g(L){if(!L)return null;L.assignedSlot&&(L=L.assignedSlot);const v=o(L),j=v.querySelector(y),w=p(v);return j||(w?g(w):null)}(C)}function s(C,y){return function g(L){return L?L.closest(y)||g(p(o(L))):null}(C)}function u(C,y,g){const L=`[slot="${y}"]`;return(null==g?void 0:g.all)?function c(C,y,g){let L=Array.from(C.querySelectorAll(y));L=g&&!1===g.direct?L:L.filter(j=>j.parentElement===C);const v=null==g?void 0:g.selector;return v?L.map(j=>Array.from(j.querySelectorAll(v))).reduce((j,w)=>[...j,...w],[]).filter(j=>!!j):L}(C,L,g):function m(C,y,g){let L=C.querySelector(y);L=g&&!1===g.direct||(null==L?void 0:L.parentElement)===C?L:null;const v=null==g?void 0:g.selector;return v?L.querySelector(v):L}(C,L,g)}function O(C,y,g){return"string"==typeof y&&""!==y?y:""===y?C[g]:void 0}},7006:(G,U,e)=>{e.d(U,{A:()=>L,B:()=>v,C:()=>j,D:()=>w,E:()=>F,F:()=>Z,G:()=>N,H:()=>W,I:()=>H,J:()=>V,K:()=>D,a:()=>P,b:()=>S,c:()=>f,d:()=>d,e:()=>I,f:()=>l,g:()=>K,h:()=>b,i:()=>_,j:()=>E,k:()=>i,l:()=>a,m:()=>u,n:()=>c,o:()=>n,p:()=>m,q:()=>O,r:()=>s,s:()=>h,t:()=>o,u:()=>x,v:()=>B,w:()=>p,x:()=>C,y:()=>y,z:()=>g});var t=e(4918),M=e(15994);function I(T){return t.G.extendedSpatialReferenceInfo(T)}function f(T,A,R){return t.G.clip(M.N,T,A,R)}function P(T,A,R){return t.G.cut(M.N,T,A,R)}function S(T,A,R){return t.G.contains(M.N,T,A,R)}function d(T,A,R){return t.G.crosses(M.N,T,A,R)}function l(T,A,R,z){return t.G.distance(M.N,T,A,R,z)}function b(T,A,R){return t.G.equals(M.N,T,A,R)}function _(T,A,R){return t.G.intersects(M.N,T,A,R)}function o(T,A,R){return t.G.touches(M.N,T,A,R)}function p(T,A,R){return t.G.within(M.N,T,A,R)}function E(T,A,R){return t.G.disjoint(M.N,T,A,R)}function n(T,A,R){return t.G.overlaps(M.N,T,A,R)}function s(T,A,R,z){return t.G.relate(M.N,T,A,R,z)}function i(T,A){return t.G.isSimple(M.N,T,A)}function h(T,A){return t.G.simplify(M.N,T,A)}function a(T,A,R=!1){return t.G.convexHull(M.N,T,A,R)}function u(T,A,R){return t.G.difference(M.N,T,A,R)}function c(T,A,R){return t.G.symmetricDifference(M.N,T,A,R)}function m(T,A,R){return t.G.intersect(M.N,T,A,R)}function x(T,A,R=null){return t.G.union(M.N,T,A,R)}function O(T,A,R,z,J,Y,q){return t.G.offset(M.N,T,A,R,z,J,Y,q)}function B(T,A,R,z,J=!1){return t.G.buffer(M.N,T,A,R,z,J)}function C(T,A,R,z,J,Y,q){return t.G.geodesicBuffer(M.N,T,A,R,z,J,Y,q)}function y(T,A,R,z=!0){return t.G.nearestCoordinate(M.N,T,A,R,z)}function g(T,A,R){return t.G.nearestVertex(M.N,T,A,R)}function L(T,A,R,z,J){return t.G.nearestVertices(M.N,T,A,R,z,J)}function v(T,A,R,z){if(null==A||null==z)throw new Error("Illegal Argument Exception");const J=t.G.rotate(A,R,z);return J.spatialReference=T,J}function j(T,A,R){if(null==A||null==R)throw new Error("Illegal Argument Exception");const z=t.G.flipHorizontal(A,R);return z.spatialReference=T,z}function w(T,A,R){if(null==A||null==R)throw new Error("Illegal Argument Exception");const z=t.G.flipVertical(A,R);return z.spatialReference=T,z}function F(T,A,R,z,J){return t.G.generalize(M.N,T,A,R,z,J)}function Z(T,A,R,z){return t.G.densify(M.N,T,A,R,z)}function N(T,A,R,z,J=0){return t.G.geodesicDensify(M.N,T,A,R,z,J)}function W(T,A,R){return t.G.planarArea(M.N,T,A,R)}function H(T,A,R){return t.G.planarLength(M.N,T,A,R)}function V(T,A,R,z){return t.G.geodesicArea(M.N,T,A,R,z)}function D(T,A,R,z){return t.G.geodesicLength(M.N,T,A,R,z)}const K=Object.freeze({__proto__:null,extendedSpatialReferenceInfo:I,clip:f,cut:P,contains:S,crosses:d,distance:l,equals:b,intersects:_,touches:o,within:p,disjoint:E,overlaps:n,relate:s,isSimple:i,simplify:h,convexHull:a,difference:u,symmetricDifference:c,intersect:m,union:x,offset:O,buffer:B,geodesicBuffer:C,nearestCoordinate:y,nearestVertex:g,nearestVertices:L,rotate:v,flipHorizontal:j,flipVertical:w,generalize:F,densify:Z,geodesicDensify:N,planarArea:W,planarLength:H,geodesicArea:V,geodesicLength:D})},65389:(G,U,e)=>{e.d(U,{Z:()=>M});var t=e(62208);class M{constructor(f){this.size=0,this._start=0,this.maxSize=f,this._buffer=new Array(f)}get entries(){return this._buffer}enqueue(f){if(this.size===this.maxSize){const P=this._buffer[this._start];return this._buffer[this._start]=f,this._start=(this._start+1)%this.maxSize,P}return this._buffer[(this._start+this.size++)%this.maxSize]=f,null}dequeue(){if(0===this.size)return null;const f=this._buffer[this._start];return this._buffer[this._start]=null,this.size--,this._start=(this._start+1)%this.maxSize,f}peek(){return 0===this.size?null:this._buffer[this._start]}find(f){if(0===this.size)return null;for(const P of this._buffer)if((0,t.pC)(P)&&f(P))return P;return null}clear(f){let P=this.dequeue();for(;(0,t.pC)(P);)f&&f(P),P=this.dequeue()}}},77777:(G,U,e)=>{e.r(U),e.d(U,{hydratedAdapter:()=>S});var t=e(2004),M=e(72854),I=e(49672),f=e(37118),P=e(55214);const S={convertToGEGeometry:function d(E,n){if(null==n)return null;let s="cache"in n?n.cache._geVersion:void 0;return null==s&&(s=E.convertJSONToGeometry(n),"cache"in n&&(n.cache._geVersion=s)),s},exportPoint:function l(E,n,s){const i=E.hasZ(n),h=E.hasM(n),a=new I.Z({x:E.getPointX(n),y:E.getPointY(n),spatialReference:s});return i&&(a.z=E.getPointZ(n)),h&&(a.m=E.getPointM(n)),a.cache._geVersion=n,a},exportPolygon:function b(E,n,s){const i=new f.Z({rings:E.exportPaths(n),hasZ:E.hasZ(n),hasM:E.hasM(n),spatialReference:s});return i.cache._geVersion=n,i},exportPolyline:function _(E,n,s){const i=new P.Z({paths:E.exportPaths(n),hasZ:E.hasZ(n),hasM:E.hasM(n),spatialReference:s});return i.cache._geVersion=n,i},exportMultipoint:function o(E,n,s){const i=new M.Z({hasZ:E.hasZ(n),hasM:E.hasM(n),points:E.exportPoints(n),spatialReference:s});return i.cache._geVersion=n,i},exportExtent:function p(E,n,s){const i=E.hasZ(n),h=E.hasM(n),a=new t.Z({xmin:E.getXMin(n),ymin:E.getYMin(n),xmax:E.getXMax(n),ymax:E.getYMax(n),spatialReference:s});if(i){const u=E.getZExtent(n);a.zmin=u.vmin,a.zmax=u.vmax}if(h){const u=E.getMExtent(n);a.mmin=u.vmin,a.mmax=u.vmax}return a.cache._geVersion=n,a}}},13757:(G,U,e)=>{e.d(U,{d:()=>M});var t=e(21286);function M(d,l,b){var _;const o=d.byteLength/(4*l),p=new Uint32Array(d,0,o*l);let E=new Uint32Array(o);const n=null!=(_=null==b?void 0:b.minReduction)?_:0,s=(null==b?void 0:b.originalIndices)||null,i=s?s.length:0,h=(null==b?void 0:b.componentOffsets)||null;let a=0;if(h)for(let v=0;v<h.length-1;v++){const j=h[v+1]-h[v];j>a&&(a=j)}else a=o;const u=Math.floor(1.1*a)+1;(null==S||S.length<2*u)&&(S=new Uint32Array((0,t.Sf)(2*u)));for(let v=0;v<2*u;v++)S[v]=0;let c=0;const m=!!h&&!!s,x=m?i:o,O=m?new Uint32Array(i):null,B=1.96;let C=0!==n?Math.ceil(4*B*B/(n*n)*n*(1-n)):x,y=1,g=h?h[1]:x;for(let v=0;v<x;v++){if(v===C){const W=1-c/v;if(W+B*Math.sqrt(W*(1-W)/v)<n)return null;C*=2}if(v===g){for(let W=0;W<2*u;W++)S[W]=0;if(s)for(let W=h[y-1];W<h[y];W++)O[W]=E[s[W]];g=h[++y]}const j=m?s[v]:v,w=j*l,F=P(p,w,l);let Z=F%u,N=c;for(;0!==S[2*Z+1];){if(S[2*Z]===F){const W=S[2*Z+1]-1;if(I(p,w,W*l,l)){N=E[W];break}}Z++,Z>=u&&(Z-=u)}N===c&&(S[2*Z]=F,S[2*Z+1]=j+1,c++),E[j]=N}if(0!==n&&1-c/o<n)return null;if(m){for(let v=h[y-1];v<O.length;v++)O[v]=E[s[v]];E=O}const L=new Uint32Array(l*c);c=0;for(let v=0;v<x;v++)E[v]===c&&(f(p,(m?s[v]:v)*l,L,c*l,l),c++);if(s&&!m){const v=new Uint32Array(i);for(let j=0;j<v.length;j++)v[j]=E[s[j]];E=v}return{buffer:L.buffer,indices:E,uniqueCount:c}}function I(d,l,b,_){for(let o=0;o<_;o++)if(d[l+o]!==d[b+o])return!1;return!0}function f(d,l,b,_,o){for(let p=0;p<o;p++)b[_+p]=d[l+p]}function P(d,l,b){let _=0;for(let o=0;o<b;o++)_=d[l+o]+_|0,_=_+(_<<11)+(_>>>2)|0;return _>>>0}let S=null},48887:(G,U,e)=>{e.r(U),e.d(U,{default:()=>D});var t=e(15861),M=e(17626),I=e(84792),f=e(97478),P=e(26584),S=e(80542),d=e(47877),l=e(62208),b=e(99959),_=e(10699),o=e(77712),n=(e(85931),e(8314),e(90912)),s=e(68653),i=e(76898),h=e(99433),a=e(31283),u=e(2004),c=e(83137),m=e(63602),x=e(50085),O=e(19027),B=e(65088),C=e(552),y=e(50107),g=e(49286),L=e(6647),v=e(30346),j=e(99555),w=e(66120),F=e(97941),Z=e(13812),N=e(14772),W=e(39058),H=e(13410);let V=class extends((0,C.h)((0,F.n)((0,j.M)((0,w.x)((0,O.O)((0,B.Y)((0,g.q)((0,L.I)((0,b.R)((0,v.Q)((0,x.V)((0,y.N)((0,S.p)(m.Z)))))))))))))){constructor(...K){super(...K),this.datesInUnknownTimezone=!1,this.dpi=96,this.gdbVersion=null,this.imageFormat="png24",this.imageMaxHeight=2048,this.imageMaxWidth=2048,this.imageTransparency=!0,this.isReference=null,this.labelsVisible=!1,this.operationalLayerType="ArcGISMapServiceLayer",this.sourceJSON=null,this.sublayers=null,this.type="map-image",this.url=null}normalizeCtorArgs(K,T){return"string"==typeof K?$({url:K},T):K}load(K){const T=(0,l.pC)(K)?K.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Map Service"]},K).catch(_.r9).then(()=>this._fetchService(T))),Promise.resolve(this)}readImageFormat(K,T){const A=T.supportedImageFormatTypes;return A&&A.indexOf("PNG32")>-1?"png32":"png24"}writeSublayers(K,T,A,R){if(!this.loaded||!K)return;const z=K.slice().reverse().flatten(({sublayers:X})=>X&&X.toArray().reverse()).toArray();let J=!1;if(this.capabilities&&this.capabilities.operations.supportsExportMap&&this.capabilities.exportMap.supportsDynamicLayers){const X=(0,a.M9)(R.origin);if(3===X){const ee=this.createSublayersForOrigin("service").sublayers;J=(0,H.QV)(z,ee,2)}else if(X>3){const ee=this.createSublayersForOrigin("portal-item");J=(0,H.QV)(z,ee.sublayers,(0,a.M9)(ee.origin))}}const Y=[],q=$({writeSublayerStructure:J},R);let k=J;z.forEach(X=>{const ee=X.write({},q);Y.push(ee),k=k||"user"===X.originOf("visible")}),Y.some(X=>Object.keys(X).length>1)&&(T.layers=Y),k&&(T.visibleLayers=z.filter(X=>X.visible).map(X=>X.id))}createExportImageParameters(K,T,A,R){const z=R&&R.pixelRatio||1;K&&this.version>=10&&(K=K.clone().shiftCentralMeridian());const J=new N.R({layer:this,floors:null==R?void 0:R.floors,scale:(0,c.yZ)({extent:K,width:T})*z}),Y=J.toJSON();J.destroy();const q=!R||!R.rotation||this.version<10.3?{}:{rotation:-R.rotation},k=K&&K.spatialReference,X=k.wkid||JSON.stringify(k.toJSON());Y.dpi*=z;const ee={};if(null!=R&&R.timeExtent){const{start:te,end:re}=R.timeExtent.toJSON();ee.time=te&&re&&te===re?""+te:`${null==te?"null":te},${null==re?"null":re}`}else this.timeInfo&&!this.timeInfo.hasLiveData&&(ee.time="null,null");return $($($({bbox:K&&K.xmin+","+K.ymin+","+K.xmax+","+K.ymax,bboxSR:X,imageSR:X,size:T+","+A},Y),q),ee)}fetchImage(K,T,A,R){var z=this;return(0,t.Z)(function*(){var J;const Y={responseType:"image",signal:null!=(J=null==R?void 0:R.signal)?J:null,query:Q($($(Q($($({},z.parsedUrl.query),z.createExportImageParameters(K,T,A,R)),{f:"image"}),z.refreshParameters),z.customParameters),{token:z.apiKey})},q=z.parsedUrl.path+"/export";return null==Y.query.dynamicLayers||z.capabilities.exportMap.supportsDynamicLayers?(0,I.default)(q,Y).then(k=>k.data).catch(k=>{throw(0,_.D_)(k)?k:new P.Z("mapimagelayer:image-fetch-error",`Unable to load image: ${q}`,{error:k})}):Promise.reject(new P.Z("mapimagelayer:dynamiclayer-not-supported",`service ${z.url} doesn't support dynamic layers, which is required to be able to change the sublayer's order, rendering, labeling or source.`,{query:Y.query}))})()}fetchRecomputedExtents(K={}){var T=this;return(0,t.Z)(function*(){const A=Q($({},K),{query:Q($({returnUpdates:!0,f:"json"},T.customParameters),{token:T.apiKey})}),{data:R}=yield(0,I.default)(T.url,A),{extent:z,fullExtent:J,timeExtent:Y}=R,q=z||J;return{fullExtent:q&&u.Z.fromJSON(q),timeExtent:Y&&f.Z.fromJSON({start:Y[0],end:Y[1]})}})()}loadAll(){return(0,d.GZ)(this,K=>{K(this.allSublayers)})}_fetchService(K){var T=this;return(0,t.Z)(function*(){if(T.sourceJSON)return void T.read(T.sourceJSON,{origin:"service",url:T.parsedUrl});const{data:A,ssl:R}=yield(0,I.default)(T.parsedUrl.path,{query:Q($($({f:"json"},T.parsedUrl.query),T.customParameters),{token:T.apiKey}),signal:K});R&&(T.url=T.url.replace(/^http:/i,"https:")),T.sourceJSON=A,T.read(A,{origin:"service",url:T.parsedUrl})})()}};(0,M._)([(0,o.Cb)({type:Boolean})],V.prototype,"datesInUnknownTimezone",void 0),(0,M._)([(0,o.Cb)()],V.prototype,"dpi",void 0),(0,M._)([(0,o.Cb)()],V.prototype,"gdbVersion",void 0),(0,M._)([(0,o.Cb)()],V.prototype,"imageFormat",void 0),(0,M._)([(0,s.r)("imageFormat",["supportedImageFormatTypes"])],V.prototype,"readImageFormat",null),(0,M._)([(0,o.Cb)({json:{origins:{service:{read:{source:"maxImageHeight"}}}}})],V.prototype,"imageMaxHeight",void 0),(0,M._)([(0,o.Cb)({json:{origins:{service:{read:{source:"maxImageWidth"}}}}})],V.prototype,"imageMaxWidth",void 0),(0,M._)([(0,o.Cb)()],V.prototype,"imageTransparency",void 0),(0,M._)([(0,o.Cb)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],V.prototype,"isReference",void 0),(0,M._)([(0,o.Cb)({json:{read:!1,write:!1}})],V.prototype,"labelsVisible",void 0),(0,M._)([(0,o.Cb)({type:["ArcGISMapServiceLayer"]})],V.prototype,"operationalLayerType",void 0),(0,M._)([(0,o.Cb)({json:{read:!1,write:!1}})],V.prototype,"popupEnabled",void 0),(0,M._)([(0,o.Cb)()],V.prototype,"sourceJSON",void 0),(0,M._)([(0,o.Cb)({json:{write:{ignoreOrigin:!0}}})],V.prototype,"sublayers",void 0),(0,M._)([(0,h.c)("sublayers",{layers:{type:[W.Z]},visibleLayers:{type:[n.z8]}})],V.prototype,"writeSublayers",null),(0,M._)([(0,o.Cb)({type:["show","hide","hide-children"]})],V.prototype,"listMode",void 0),(0,M._)([(0,o.Cb)({json:{read:!1},readOnly:!0,value:"map-image"})],V.prototype,"type",void 0),(0,M._)([(0,o.Cb)(Z.HQ)],V.prototype,"url",void 0),V=(0,M._)([(0,i.j)("esri.layers.MapImageLayer")],V);const D=V},28678:(G,U,e)=>{e.r(U),e.d(U,{default:()=>L});var t=e(17626),I=(e(29132),e(84792)),f=e(26584),P=e(99959),S=e(77275),d=e(21726),l=e(77712),p=(e(85931),e(8314),e(90912),e(68653)),E=e(76898),n=e(99433),s=e(63602),i=e(552),h=e(49286),a=e(6647),u=e(30346),c=e(99555),m=e(72258),x=e(2584),O=e(91309),B=e(2004),C=e(65234),y=e(49672);let g=class extends((0,i.h)((0,u.Q)((0,c.M)((0,h.q)((0,a.I)((0,P.R)(s.Z))))))){constructor(...v){super(...v),this.copyright="",this.fullExtent=new B.Z(-20037508.342787,-20037508.34278,20037508.34278,20037508.342787,C.Z.WebMercator),this.legendEnabled=!1,this.isReference=null,this.popupEnabled=!1,this.spatialReference=C.Z.WebMercator,this.subDomains=null,this.tileInfo=new x.Z({size:[256,256],dpi:96,format:"png8",compressionQuality:0,origin:new y.Z({x:-20037508.342787,y:20037508.342787,spatialReference:C.Z.WebMercator}),spatialReference:C.Z.WebMercator,lods:[new m.Z({level:0,scale:591657527.591555,resolution:156543.033928}),new m.Z({level:1,scale:295828763.795777,resolution:78271.5169639999}),new m.Z({level:2,scale:147914381.897889,resolution:39135.7584820001}),new m.Z({level:3,scale:73957190.948944,resolution:19567.8792409999}),new m.Z({level:4,scale:36978595.474472,resolution:9783.93962049996}),new m.Z({level:5,scale:18489297.737236,resolution:4891.96981024998}),new m.Z({level:6,scale:9244648.868618,resolution:2445.98490512499}),new m.Z({level:7,scale:4622324.434309,resolution:1222.99245256249}),new m.Z({level:8,scale:2311162.217155,resolution:611.49622628138}),new m.Z({level:9,scale:1155581.108577,resolution:305.748113140558}),new m.Z({level:10,scale:577790.554289,resolution:152.874056570411}),new m.Z({level:11,scale:288895.277144,resolution:76.4370282850732}),new m.Z({level:12,scale:144447.638572,resolution:38.2185141425366}),new m.Z({level:13,scale:72223.819286,resolution:19.1092570712683}),new m.Z({level:14,scale:36111.909643,resolution:9.55462853563415}),new m.Z({level:15,scale:18055.954822,resolution:4.77731426794937}),new m.Z({level:16,scale:9027.977411,resolution:2.38865713397468}),new m.Z({level:17,scale:4513.988705,resolution:1.19432856685505}),new m.Z({level:18,scale:2256.994353,resolution:.597164283559817}),new m.Z({level:19,scale:1128.497176,resolution:.298582141647617}),new m.Z({level:20,scale:564.248588,resolution:.14929107082380833}),new m.Z({level:21,scale:282.124294,resolution:.07464553541190416}),new m.Z({level:22,scale:141.062147,resolution:.03732276770595208}),new m.Z({level:23,scale:70.5310735,resolution:.01866138385297604})]}),this.type="web-tile",this.urlTemplate=null,this.wmtsInfo=null}normalizeCtorArgs(v,j){return"string"==typeof v?$({urlTemplate:v},j):v}load(v){const j=this.loadFromPortal({supportedTypes:["WMTS"]},v).then(()=>{let w="";if(this.urlTemplate)if(this.spatialReference.equals(this.tileInfo.spatialReference)){const F=new d.R9(this.urlTemplate);this.subDomains&&this.subDomains.length>0||-1===F.authority.indexOf("{subDomain}")||(w="is missing 'subDomains' property")}else w="spatialReference must match tileInfo.spatialReference";else w="is missing the required 'urlTemplate' property value";if(w)throw new f.Z("web-tile-layer:load",`WebTileLayer (title: '${this.title}', id: '${this.id}') ${w}`)});return this.addResolvingPromise(j),Promise.resolve(this)}get levelValues(){const v=[];if(!this.tileInfo)return null;for(const j of this.tileInfo.lods)v[j.level]=j.levelValue||j.level;return v}readSpatialReference(v,j){return v||j.fullExtent&&j.fullExtent.spatialReference&&C.Z.fromJSON(j.fullExtent.spatialReference)}get tileServers(){if(!this.urlTemplate)return null;const v=[],{urlTemplate:j,subDomains:w}=this,F=new d.R9(j),Z=F.scheme?F.scheme+"://":"//",N=Z+F.authority+"/";if(-1===F.authority.indexOf("{subDomain}"))v.push(N);else if(w&&w.length>0&&F.authority.split(".").length>1)for(const W of w)v.push(Z+F.authority.replace(/\{subDomain\}/gi,W)+"/");return v.map(W=>("/"!==W.charAt(W.length-1)&&(W+="/"),W))}get urlPath(){if(!this.urlTemplate)return null;const v=this.urlTemplate,j=new d.R9(v);return v.substring(((j.scheme?j.scheme+"://":"//")+j.authority+"/").length)}readUrlTemplate(v,j){return v||j.templateUrl}writeUrlTemplate(v,j){v&&(0,d.oC)(v)&&(v="https:"+v),v&&(v=v.replace(/\{z\}/gi,"{level}").replace(/\{x\}/gi,"{col}").replace(/\{y\}/gi,"{row}"),v=(0,d.Fv)(v)),j.templateUrl=v}fetchTile(v,j,w,F={}){const{signal:Z}=F,N=this.getTileUrl(v,j,w),W={responseType:"image",signal:Z,query:$({},this.refreshParameters)};return(0,I.default)(N,W).then(H=>H.data)}getTileUrl(v,j,w){const F=this.levelValues[v];return this.tileServers[j%this.tileServers.length]+(0,S.gx)(this.urlPath,{level:F,z:F,col:w,x:w,row:j,y:j})}};(0,t._)([(0,l.Cb)({type:String,value:"",json:{write:!0}})],g.prototype,"copyright",void 0),(0,t._)([(0,l.Cb)({type:B.Z,json:{write:!0},nonNullable:!0})],g.prototype,"fullExtent",void 0),(0,t._)([(0,l.Cb)({readOnly:!0,json:{read:!1,write:!1}})],g.prototype,"legendEnabled",void 0),(0,t._)([(0,l.Cb)({type:["show","hide"]})],g.prototype,"listMode",void 0),(0,t._)([(0,l.Cb)()],g.prototype,"levelValues",null),(0,t._)([(0,l.Cb)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],g.prototype,"isReference",void 0),(0,t._)([(0,l.Cb)({type:["WebTiledLayer"],value:"WebTiledLayer"})],g.prototype,"operationalLayerType",void 0),(0,t._)([(0,l.Cb)({readOnly:!0,json:{read:!1,write:!1}})],g.prototype,"popupEnabled",void 0),(0,t._)([(0,l.Cb)({type:C.Z})],g.prototype,"spatialReference",void 0),(0,t._)([(0,p.r)("spatialReference",["spatialReference","fullExtent.spatialReference"])],g.prototype,"readSpatialReference",null),(0,t._)([(0,l.Cb)({type:[String],json:{write:!0}})],g.prototype,"subDomains",void 0),(0,t._)([(0,l.Cb)({type:x.Z,json:{write:!0}})],g.prototype,"tileInfo",void 0),(0,t._)([(0,l.Cb)({readOnly:!0})],g.prototype,"tileServers",null),(0,t._)([(0,l.Cb)({json:{read:!1}})],g.prototype,"type",void 0),(0,t._)([(0,l.Cb)()],g.prototype,"urlPath",null),(0,t._)([(0,l.Cb)({type:String,json:{origins:{"portal-item":{read:{source:"url"}}}}})],g.prototype,"urlTemplate",void 0),(0,t._)([(0,p.r)("urlTemplate",["urlTemplate","templateUrl"])],g.prototype,"readUrlTemplate",null),(0,t._)([(0,n.c)("urlTemplate",{templateUrl:{type:String}})],g.prototype,"writeUrlTemplate",null),(0,t._)([(0,l.Cb)({type:O.Z,json:{write:!0}})],g.prototype,"wmtsInfo",void 0),g=(0,t._)([(0,E.j)("esri.layers.WebTileLayer")],g);const L=g},1476:(G,U,e)=>{e.d(U,{S:()=>M,X:()=>t});const t=1;function M(I,f){let P=0;for(const d of f){var S;const l=null==(S=d.attributes)?void 0:S[I];"number"==typeof l&&isFinite(l)&&(P=Math.max(P,l))}return P}},35775:(G,U,e)=>{e.d(U,{av:()=>S,d1:()=>l,b:()=>i,O0:()=>_,og:()=>E});var t=e(15861),M=e(37053),I=e(36630);class f{constructor(){this.code=null,this.description=null}}class P{constructor(u){this.error=new f,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=u}}function S(a){return new P(a)}class d{constructor(u){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=u}}function l(a){return new d(a)}const b=new Set;function _(a,u,c,m=!1,x){b.clear();for(const O in c){const B=a.get(O);if(!B)continue;const C=c[O],y=o(B,C);if(y!==C&&x&&x.push({name:"invalid-value-type",message:"attribute value was converted to match the field type",details:{field:B,originalValue:C,sanitizedValue:y}}),b.add(B.name),B&&(m||B.editable)){const g=(0,I.Qc)(B,y);if(g)return S((0,I.vP)(g,B,y));u[B.name]=y}}for(const O of a.requiredFields)if(!b.has(O.name))return S(`missing required field "${O.name}"`);return null}function o(a,u){let c=u;return"string"==typeof u&&(0,I.H7)(a)?c=parseFloat(u):null!=u&&(0,I.qN)(a)&&"string"!=typeof u&&(c=String(u)),(0,I.Pz)(c)}let p;function E(a,u){if(!a||!(0,M.JY)(u))return a;if("rings"in a||"paths"in a){if(!p)throw new TypeError("geometry engine not loaded");return p.simplify(u,a)}return a}function n(){return s.apply(this,arguments)}function s(){return(s=(0,t.Z)(function*(){return p||(p=yield Promise.all([e.e(4918),e.e(8592),e.e(2825)]).then(e.bind(e,32825)),p)})).apply(this,arguments)}function i(a,u){return h.apply(this,arguments)}function h(){return(h=(0,t.Z)(function*(a,u){!(0,M.JY)(a)||"esriGeometryPolygon"!==u&&"esriGeometryPolyline"!==u||(yield n())})).apply(this,arguments)}},5143:(G,U,e)=>{e.d(U,{Z:()=>p});var t=e(17626),I=(e(29132),e(77712)),d=(e(85931),e(8314),e(90912),e(68653)),l=e(76898),b=e(51026),_=e(28930),o=e(65234);const p=E=>{let n=class extends E{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}readMinScale(s,i){return null!=i.minLOD&&null!=i.maxLOD?s:0}readMaxScale(s,i){return null!=i.minLOD&&null!=i.maxLOD?s:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(s,i){return i.capabilities&&i.capabilities.indexOf("Tilemap")>-1?new _.y({layer:this}):null}};return(0,t._)([(0,I.Cb)({json:{read:{source:"copyrightText"}}})],n.prototype,"copyright",void 0),(0,t._)([(0,I.Cb)()],n.prototype,"minScale",void 0),(0,t._)([(0,d.r)("service","minScale")],n.prototype,"readMinScale",null),(0,t._)([(0,I.Cb)()],n.prototype,"maxScale",void 0),(0,t._)([(0,d.r)("service","maxScale")],n.prototype,"readMaxScale",null),(0,t._)([(0,I.Cb)({type:o.Z})],n.prototype,"spatialReference",void 0),(0,t._)([(0,I.Cb)({readOnly:!0})],n.prototype,"supportsBlankTile",null),(0,t._)([(0,I.Cb)(b.h)],n.prototype,"tileInfo",void 0),(0,t._)([(0,I.Cb)()],n.prototype,"tilemapCache",void 0),(0,t._)([(0,d.r)("service","tilemapCache",["capabilities"])],n.prototype,"readTilemapCache",null),(0,t._)([(0,I.Cb)()],n.prototype,"version",void 0),n=(0,t._)([(0,l.j)("esri.layers.mixins.ArcGISCachedService")],n),n}},14772:(G,U,e)=>{e.d(U,{R:()=>n});var t=e(17626),M=e(14517),I=e(80542),f=e(62208),P=e(77712),b=(e(85931),e(8314),e(90912),e(76898)),_=e(13812),o=e(13410),p=e(79530);const E={visible:"visibleSublayers",definitionExpression:"layerDefs",labelingInfo:"hasDynamicLayers",labelsVisible:"hasDynamicLayers",opacity:"hasDynamicLayers",minScale:"visibleSublayers",maxScale:"visibleSublayers",renderer:"hasDynamicLayers",source:"hasDynamicLayers"};let n=class extends((0,I.p)(M.Z)){constructor(s){super(s),this.floors=null,this.scale=0}destroy(){this.layer=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const s=this.visibleSublayers.map(i=>{const h=(0,p.ff)(this.floors,i);return i.toExportImageJSON(h)});return s.length?JSON.stringify(s):null}get hasDynamicLayers(){return this.layer&&(0,o.FN)(this.visibleSublayers,this.layer.serviceSublayers,this.layer)}set layer(s){this._get("layer")!==s&&(this._set("layer",s),this.handles.remove("layer"),s&&this.handles.add([s.allSublayers.on("change",()=>this.notifyChange("visibleSublayers")),s.on("sublayer-update",i=>this.notifyChange(E[i.propertyName]))],"layer"))}get layers(){const s=this.visibleSublayers;return s?s.length?"show:"+s.map(i=>i.id).join(","):"show:-1":null}get layerDefs(){var s;const i=!(null==(s=this.floors)||!s.length),h=this.visibleSublayers.filter(a=>null!=a.definitionExpression||i&&null!=a.floorInfo);return h.length?JSON.stringify(h.reduce((a,u)=>{const c=(0,p.ff)(this.floors,u),m=(0,f.pC)(c)?(0,p.Hp)(c,u):u.definitionExpression;return a[u.id]=m,a},{})):null}get version(){this.commitProperty("layers"),this.commitProperty("layerDefs"),this.commitProperty("dynamicLayers"),this.commitProperty("timeExtent");const s=this.layer;return s&&(s.commitProperty("dpi"),s.commitProperty("imageFormat"),s.commitProperty("imageTransparency"),s.commitProperty("gdbVersion")),(this._get("version")||0)+1}get visibleSublayers(){const s=[];if(!this.layer)return s;const i=this.layer.sublayers,h=u=>{const c=this.scale;u.visible&&(0===c||(0===u.minScale||c<=u.minScale)&&(0===u.maxScale||c>=u.maxScale))&&(u.sublayers?u.sublayers.forEach(h):s.unshift(u))};i&&i.forEach(h);const a=this._get("visibleSublayers");return!a||a.length!==s.length||a.some((u,c)=>s[c]!==u)?s:a}toJSON(){const s=this.layer;let i={dpi:s.dpi,format:s.imageFormat,transparent:s.imageTransparency,gdbVersion:s.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?i.dynamicLayers=this.dynamicLayers:i=Q($({},i),{layers:this.layers,layerDefs:this.layerDefs}),i}};(0,t._)([(0,P.Cb)({readOnly:!0})],n.prototype,"dynamicLayers",null),(0,t._)([(0,P.Cb)()],n.prototype,"floors",void 0),(0,t._)([(0,P.Cb)({readOnly:!0})],n.prototype,"hasDynamicLayers",null),(0,t._)([(0,P.Cb)()],n.prototype,"layer",null),(0,t._)([(0,P.Cb)({readOnly:!0})],n.prototype,"layers",null),(0,t._)([(0,P.Cb)({readOnly:!0})],n.prototype,"layerDefs",null),(0,t._)([(0,P.Cb)({type:Number})],n.prototype,"scale",void 0),(0,t._)([(0,P.Cb)(_.qG)],n.prototype,"timeExtent",void 0),(0,t._)([(0,P.Cb)({readOnly:!0})],n.prototype,"version",null),(0,t._)([(0,P.Cb)({readOnly:!0})],n.prototype,"visibleSublayers",null),n=(0,t._)([(0,b.j)("esri.layers.mixins.ExportImageParameters")],n)},51920:(G,U,e)=>{e.d(U,{j:()=>_});var t=e(17626),M=e(14517),I=e(80542),f=e(77712),l=(e(85931),e(8314),e(90912),e(76898));const b={visible:"visibleSublayers"};let _=class extends((0,I.p)(M.Z)){constructor(o){super(o),this.scale=0}set layer(o){this._get("layer")!==o&&(this._set("layer",o),this.handles.remove("layer"),o&&this.handles.add([o.sublayers.on("change",()=>this.notifyChange("visibleSublayers")),o.on("wms-sublayer-update",p=>this.notifyChange(b[p.propertyName]))],"layer"))}get layers(){const{visibleSublayers:o}=this;return o.filter(p=>p.name).map(p=>p.name).join(",")}get version(){this.commitProperty("layers");const o=this.layer;return o&&o.commitProperty("imageTransparency"),(this._get("version")||0)+1}get visibleSublayers(){const{layer:o,scale:p}=this,E=null==o?void 0:o.sublayers,n=[],s=i=>{const{minScale:h,maxScale:a,sublayers:u,visible:c}=i;c&&(0===p||(0===h||p<=h)&&(0===a||p>=a))&&(u?u.forEach(s):n.unshift(i))};return null==E||E.forEach(s),n}toJSON(){const{layer:o,layers:p}=this,{imageFormat:E,imageTransparency:n,version:s}=o;return{format:E,request:"GetMap",service:"WMS",styles:"",transparent:n,version:s,layers:p}}};(0,t._)([(0,f.Cb)()],_.prototype,"layer",null),(0,t._)([(0,f.Cb)({readOnly:!0})],_.prototype,"layers",null),(0,t._)([(0,f.Cb)({type:Number})],_.prototype,"scale",void 0),(0,t._)([(0,f.Cb)({readOnly:!0})],_.prototype,"version",null),(0,t._)([(0,f.Cb)({readOnly:!0})],_.prototype,"visibleSublayers",null),_=(0,t._)([(0,l.j)("esri.layers.support.ExportWMSImageParameters")],_)},74711:(G,U,e)=>{e.d(U,{W:()=>b});var t=e(15861),M=e(24263),I=e(84792),f=e(62208),P=e(10699),S=e(15382),d=e(84687),l=e(55463);class b{constructor(o,p,E,n){this.parsedUrl=o,this.portalItem=p,this.apiKey=E,this.signal=n,this.rootDocument=null;const s=this.parsedUrl.path.match(/^(.*)\/SceneServer\/layers\/([\d]*)\/?$/i);s&&(this.urlParts={root:s[1],layerId:parseInt(s[2],10)})}fetch(){var o=this;return(0,t.Z)(function*(){var p;if(!o.urlParts)return null;const E=null!=(p=o.portalItem)?p:yield o.portalItemFromServiceItemId();if((0,f.Wi)(E))return o.loadFromUrl();const n=yield o.findAndLoadRelatedPortalItem(E);return(0,f.Wi)(n)?null:o.loadFeatureLayerFromPortalItem(n)})()}fetchPortalItem(){var o=this;return(0,t.Z)(function*(){var p;if(!o.urlParts)return null;const E=null!=(p=o.portalItem)?p:yield o.portalItemFromServiceItemId();return(0,f.Wi)(E)?null:o.findAndLoadRelatedPortalItem(E)})()}fetchRootDocument(){var o=this;return(0,t.Z)(function*(){if((0,f.pC)(o.rootDocument))return o.rootDocument;if((0,f.Wi)(o.urlParts))return o.rootDocument={},{};const p={query:{f:"json",token:o.apiKey},responseType:"json",signal:o.signal},E=`${o.urlParts.root}/SceneServer`;try{const n=yield(0,I.default)(E,p);o.rootDocument=n.data}catch(n){o.rootDocument={}}return o.rootDocument})()}fetchServiceOwningPortalUrl(){var o=this;return(0,t.Z)(function*(){var p;const E=null==(p=M.id)?void 0:p.findServerInfo(o.parsedUrl.path);if(null!=E&&E.owningSystemUrl)return E.owningSystemUrl;const n=o.parsedUrl.path.replace(/(.*\/rest)\/.*/i,"$1")+"/info";try{const s=(yield(0,I.default)(n,{query:{f:"json"},responseType:"json",signal:o.signal})).data.owningSystemUrl;if(s)return s}catch(s){(0,P.r9)(s)}return null})()}findAndLoadRelatedPortalItem(o){var p=this;return(0,t.Z)(function*(){try{return(yield o.fetchRelatedItems({relationshipType:"Service2Service",direction:"reverse"},{signal:p.signal})).find(E=>"Feature Service"===E.type)||null}catch(E){return(0,P.r9)(E),null}})()}loadFeatureLayerFromPortalItem(o){var p=this;return(0,t.Z)(function*(){yield o.load({signal:p.signal});const E=yield p.findMatchingAssociatedSublayerUrl(o.url);return new S.default({url:E,portalItem:o}).load({signal:p.signal})})()}loadFromUrl(){var o=this;return(0,t.Z)(function*(){const p=yield o.findMatchingAssociatedSublayerUrl(`${o.urlParts.root}/FeatureServer`);return new S.default({url:p}).load({signal:o.signal})})()}findMatchingAssociatedSublayerUrl(o){var p=this;return(0,t.Z)(function*(){const E=o.replace(/^(.*FeatureServer)(\/[\d]*\/?)?$/i,"$1"),n={query:{f:"json"},responseType:"json",authMode:"no-prompt",signal:p.signal},s=p.urlParts.layerId,i=p.fetchRootDocument(),h=(0,I.default)(E,n),[a,u]=yield Promise.all([h,i]),c=u&&u.layers,m=a.data&&a.data.layers;if(!Array.isArray(m))throw new Error("expected layers array");if(Array.isArray(c)){for(let x=0;x<Math.min(c.length,m.length);x++)if(c[x].id===s)return`${E}/${m[x].id}`}else if(s<m.length)return`${E}/${m[s].id}`;throw new Error("could not find matching associated sublayer")})()}portalItemFromServiceItemId(){var o=this;return(0,t.Z)(function*(){const p=(yield o.fetchRootDocument()).serviceItemId;if(!p)return null;const E=new l.default({id:p,apiKey:o.apiKey}),n=yield o.fetchServiceOwningPortalUrl();(0,f.pC)(n)&&(E.portal=new d.Z({url:n}));try{return E.load({signal:o.signal})}catch(s){return(0,P.r9)(s),null}})()}}},35031:(G,U,e)=>{e.d(U,{H3:()=>a,QI:()=>p,U4:()=>b,Yh:()=>n});var t=e(17626),M=e(86162),I=e(77712),d=(e(85931),e(8314),e(90912),e(55342)),l=e(76898);let b=class extends M.wq{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};(0,t._)([(0,I.Cb)({type:Number})],b.prototype,"nodesPerPage",void 0),(0,t._)([(0,I.Cb)({type:Number})],b.prototype,"rootIndex",void 0),(0,t._)([(0,I.Cb)({type:String})],b.prototype,"lodSelectionMetricType",void 0),b=(0,t._)([(0,l.j)("esri.layer.support.I3SNodePageDefinition")],b);let _=class extends M.wq{constructor(){super(...arguments),this.factor=1}};(0,t._)([(0,I.Cb)({type:Number,json:{read:{source:"textureSetDefinitionId"}}})],_.prototype,"id",void 0),(0,t._)([(0,I.Cb)({type:Number})],_.prototype,"factor",void 0),_=(0,t._)([(0,l.j)("esri.layer.support.I3SMaterialTexture")],_);let o=class extends M.wq{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};(0,t._)([(0,I.Cb)({type:[Number]})],o.prototype,"baseColorFactor",void 0),(0,t._)([(0,I.Cb)({type:_})],o.prototype,"baseColorTexture",void 0),(0,t._)([(0,I.Cb)({type:_})],o.prototype,"metallicRoughnessTexture",void 0),(0,t._)([(0,I.Cb)({type:Number})],o.prototype,"metallicFactor",void 0),(0,t._)([(0,I.Cb)({type:Number})],o.prototype,"roughnessFactor",void 0),o=(0,t._)([(0,l.j)("esri.layer.support.I3SMaterialPBRMetallicRoughness")],o);let p=class extends M.wq{constructor(){super(...arguments),this.alphaMode="opaque",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace="none",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};(0,t._)([(0,d.J)({opaque:"opaque",mask:"mask",blend:"blend"})],p.prototype,"alphaMode",void 0),(0,t._)([(0,I.Cb)({type:Number})],p.prototype,"alphaCutoff",void 0),(0,t._)([(0,I.Cb)({type:Boolean})],p.prototype,"doubleSided",void 0),(0,t._)([(0,d.J)({none:"none",back:"back",front:"front"})],p.prototype,"cullFace",void 0),(0,t._)([(0,I.Cb)({type:_})],p.prototype,"normalTexture",void 0),(0,t._)([(0,I.Cb)({type:_})],p.prototype,"occlusionTexture",void 0),(0,t._)([(0,I.Cb)({type:_})],p.prototype,"emissiveTexture",void 0),(0,t._)([(0,I.Cb)({type:[Number]})],p.prototype,"emissiveFactor",void 0),(0,t._)([(0,I.Cb)({type:o})],p.prototype,"pbrMetallicRoughness",void 0),p=(0,t._)([(0,l.j)("esri.layer.support.I3SMaterialDefinition")],p);let E=class extends M.wq{};(0,t._)([(0,I.Cb)({type:String,json:{read:{source:["name","index"],reader:(u,c)=>null!=u?u:`${c.index}`}}})],E.prototype,"name",void 0),(0,t._)([(0,d.J)({jpg:"jpg",png:"png",dds:"dds","ktx-etc2":"ktx-etc2",ktx2:"ktx2",basis:"basis"})],E.prototype,"format",void 0),E=(0,t._)([(0,l.j)("esri.layer.support.I3STextureFormat")],E);let n=class extends M.wq{constructor(){super(...arguments),this.atlas=!1}};(0,t._)([(0,I.Cb)({type:[E]})],n.prototype,"formats",void 0),(0,t._)([(0,I.Cb)({type:Boolean})],n.prototype,"atlas",void 0),n=(0,t._)([(0,l.j)("esri.layer.support.I3STextureSetDefinition")],n);let s=class extends M.wq{};(0,t._)([(0,d.J)({Float32:"Float32",UInt64:"UInt64",UInt32:"UInt32",UInt16:"UInt16",UInt8:"UInt8"})],s.prototype,"type",void 0),(0,t._)([(0,I.Cb)({type:Number})],s.prototype,"component",void 0),s=(0,t._)([(0,l.j)("esri.layer.support.I3SGeometryAttribute")],s);let i=class extends M.wq{};(0,t._)([(0,d.J)({draco:"draco"})],i.prototype,"encoding",void 0),(0,t._)([(0,I.Cb)({type:[String]})],i.prototype,"attributes",void 0),i=(0,t._)([(0,l.j)("esri.layer.support.I3SGeometryCompressedAttributes")],i);let h=class extends M.wq{constructor(){super(...arguments),this.offset=0}};(0,t._)([(0,I.Cb)({type:Number})],h.prototype,"offset",void 0),(0,t._)([(0,I.Cb)({type:s})],h.prototype,"position",void 0),(0,t._)([(0,I.Cb)({type:s})],h.prototype,"normal",void 0),(0,t._)([(0,I.Cb)({type:s})],h.prototype,"uv0",void 0),(0,t._)([(0,I.Cb)({type:s})],h.prototype,"color",void 0),(0,t._)([(0,I.Cb)({type:s})],h.prototype,"uvRegion",void 0),(0,t._)([(0,I.Cb)({type:s})],h.prototype,"featureId",void 0),(0,t._)([(0,I.Cb)({type:s})],h.prototype,"faceRange",void 0),(0,t._)([(0,I.Cb)({type:i})],h.prototype,"compressedAttributes",void 0),h=(0,t._)([(0,l.j)("esri.layer.support.I3SGeometryBuffer")],h);let a=class extends M.wq{};(0,t._)([(0,d.J)({triangle:"triangle"})],a.prototype,"topology",void 0),(0,t._)([(0,I.Cb)()],a.prototype,"geometryBuffers",void 0),a=(0,t._)([(0,l.j)("esri.layer.support.I3SGeometryDefinition")],a)},28930:(G,U,e)=>{e.d(U,{y:()=>C});var O,t=e(15861),M=e(17626),I=e(84792),f=e(14517),P=e(26584),S=e(80542),d=e(63290),l=e(93961),b=e(77029),_=e(10699),o=e(50618),p=e(21726),E=e(27e3),n=e(77712),s=e(85931),h=(e(8314),e(66656)),a=e(76898),u=e(58817);class c{constructor(){this.location={left:0,top:0,width:0,height:0},this._allAvailability="unknown",this.byteSize=40}getAvailability(g,L){if("unknown"!==this._allAvailability)return this._allAvailability;const v=(g-this.location.top)*this.location.width+(L-this.location.left),w=v>>3,F=this._tileAvailabilityBitSet;return w<0||w>F.length?"unknown":F[w]&1<<v%8?"available":"unavailable"}_updateFromData(g){let j=!0,w=!0;const F=Math.ceil(this.location.width*this.location.height/8),Z=new Uint8Array(F);let N=0;for(let W=0;W<g.length;W++){const H=W%8;g[W]?(w=!1,Z[N]|=1<<H):j=!1,7===H&&++N}w?this._allAvailability="unavailable":j?this._allAvailability="available":(this._allAvailability="unknown",this._tileAvailabilityBitSet=Z,this.byteSize+=Z.length)}static fromDefinition(g,L){const v=g.service.request||I.default,{row:j,col:w,width:F,height:Z}=g,N={query:{f:"json"}};return L=L?$($({},N),L):N,v(function x(y){let g;if("vector-tile"===y.service.type)g=`${y.service.url}/tilemap/${y.level}/${y.row}/${y.col}/${y.width}/${y.height}`;else{const v=y.service.tileServers;g=`${v&&v.length?v[y.row%v.length]:y.service.url}/tilemap/${y.level}/${y.row}/${y.col}/${y.width}/${y.height}`}const L=y.service.query;return L&&(g=`${g}?${L}`),g}(g),L).then(W=>W.data).catch(W=>{if(W&&W.details&&422===W.details.httpStatus)return{location:{top:j,left:w,width:F,height:Z},valid:!0,data:(0,s.a9)(F*Z,0)};throw W}).then(W=>{if(W.location&&(W.location.top!==j||W.location.left!==w||W.location.width!==F||W.location.height!==Z))throw new P.Z("tilemap:location-mismatch","Tilemap response for different location than requested",{response:W,definition:{top:j,left:w,width:F,height:Z}});return c.fromJSON(W)})}static fromJSON(g){c.validateJSON(g);const L=new c;return L.location=Object.freeze((0,u.d9)(g.location)),L._updateFromData(g.data),Object.freeze(L)}static validateJSON(g){if(!g||!g.location)throw new P.Z("tilemap:missing-location","Location missing from tilemap response");if(!1===g.valid)throw new P.Z("tilemap:invalid","Tilemap response was marked as invalid");if(!g.data)throw new P.Z("tilemap:missing-data","Data missing from tilemap response");if(!Array.isArray(g.data))throw new P.Z("tilemap:data-mismatch","Data must be an array of numbers");if(g.data.length!==g.location.width*g.location.height)throw new P.Z("tilemap:data-mismatch","Number of data items does not match width/height of tilemap")}}function m(y){return`${y.level}/${y.row}/${y.col}/${y.width}/${y.height}`}const B=d.Z.getLogger("esri.layers.support.TilemapCache");let C=O=class extends((0,S.p)(f.Z)){constructor(y){super(y),this._pendingTilemapRequests={},this._availableLevels={},this.levels=5,this.cacheByteSize=2097152,this.request=I.default,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new l.Z(this.cacheByteSize),this.handles.add([this.watch(["layer.parsedUrl","layer.tileServers?","layer.apiKey?","layer.customParameters?"],()=>this._initializeTilemapDefinition()),(0,E.S1)(this,"layer.tileInfo.lods",y=>this._initializeAvailableLevels(y),!0)]),this._initializeTilemapDefinition()}castLevels(y){return y<=2?(B.error("Minimum levels for Tilemap is 3, but got ",y),3):y}get size(){return 1<<this.levels}fetchTilemap(y,g,L,v){if(!this._availableLevels[y])return Promise.reject(new P.Z("tilemap-cache:level-unavailable",`Level ${y} is unavailable in the service`));const j=this._tmpTilemapDefinition,w=this._tilemapFromCache(y,g,L,j);if(w)return Promise.resolve(w);const F=v&&v.signal;return v=Q($({},v),{signal:null}),new Promise((Z,N)=>{(0,_.fu)(F,()=>N((0,_.zE)()));const W=m(j);let H=this._pendingTilemapRequests[W];if(!H){H=c.fromDefinition(j,v).then(D=>(this._tilemapCache.put(W,D,D.byteSize),D));const V=()=>delete this._pendingTilemapRequests[W];this._pendingTilemapRequests[W]=H,H.then(V,V)}H.then(Z,N)})}getAvailability(y,g,L){if(!this._availableLevels[y])return"unavailable";const v=this._tilemapFromCache(y,g,L,this._tmpTilemapDefinition);return v?v.getAvailability(g,L):"unknown"}fetchAvailability(y,g,L,v){return this._availableLevels[y]?this.fetchTilemap(y,g,L,v).catch(j=>j).then(j=>{if(j instanceof c){const w=j.getAvailability(g,L);return"unavailable"===w?Promise.reject(new P.Z("tile-map:tile-unavailable","Tile is not available",{level:y,row:g,col:L})):w}if((0,_.D_)(j))throw j;return"unknown"}):Promise.reject(new P.Z("tilemap-cache:level-unavailable",`Level ${y} is unavailable in the service`))}fetchAvailabilityUpsample(y,g,L,v,j){v.level=y,v.row=g,v.col=L;const w=this.layer.tileInfo;w.updateTileInfo(v);const F=this.fetchAvailability(y,g,L,j).catch(Z=>{if((0,_.D_)(Z))throw Z;if(w.upsampleTile(v))return this.fetchAvailabilityUpsample(v.level,v.row,v.col,v);throw Z});return this._fetchAvailabilityUpsamplePrefetch(v.id,y,g,L,j,F),F}_fetchAvailabilityUpsamplePrefetch(y,g,L,v,j,w){var F=this;return(0,t.Z)(function*(){if(!F._prefetchingEnabled)return;const Z=`prefetch-${y}`;if(F.handles.has(Z))return;const N=new AbortController;w.then(()=>N.abort(),()=>N.abort());let W=!1;if(F.handles.add({remove(){W||(W=!0,N.abort())}},Z),yield(0,o.MU)(10,N.signal).catch(()=>{}),W||(W=!0,F.handles.remove(Z)),(0,_.Hc)(N))return;const V={id:y,level:g,row:L,col:v},D=Q($({},j),{signal:N.signal}),K=F.layer.tileInfo;for(let T=0;O._prefetches.length<O._maxPrefetch&&K.upsampleTile(V);++T){const A=F.fetchAvailability(V.level,V.row,V.col,D);O._prefetches.push(A);const R=()=>{O._prefetches.removeUnordered(A)};A.then(R,R)}})()}_initializeTilemapDefinition(){var y;if(!this.layer.parsedUrl)return;const{parsedUrl:g,apiKey:L,customParameters:v}=this.layer;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:g.path,query:(0,p.B7)(Q($($({},g.query),v),{token:null!=L?L:null==(y=g.query)?void 0:y.token})),tileServers:this.layer.tileServers,request:this.request,type:this.layer.type},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(y,g,L,v){v.level=y,v.row=g-g%this.size,v.col=L-L%this.size;const j=m(v);return this._tilemapCache.get(j)}_initializeAvailableLevels(y){this._availableLevels={},y&&y.forEach(g=>this._availableLevels[g.level]=!0)}get test(){const y=this;return{get prefetchingEnabled(){return y._prefetchingEnabled},set prefetchingEnabled(g){y._prefetchingEnabled=g},hasTilemap:(g,L,v)=>!!y._tilemapFromCache(g,L,v,y._tmpTilemapDefinition)}}};C._maxPrefetch=4,C._prefetches=new b.Z({initialSize:O._maxPrefetch}),(0,M._)([(0,n.Cb)({constructOnly:!0,type:Number})],C.prototype,"levels",void 0),(0,M._)([(0,h.p)("levels")],C.prototype,"castLevels",null),(0,M._)([(0,n.Cb)({readOnly:!0,type:Number})],C.prototype,"size",null),(0,M._)([(0,n.Cb)({constructOnly:!0,type:Number})],C.prototype,"cacheByteSize",void 0),(0,M._)([(0,n.Cb)({constructOnly:!0})],C.prototype,"layer",void 0),(0,M._)([(0,n.Cb)({constructOnly:!0})],C.prototype,"request",void 0),C=O=(0,M._)([(0,a.j)("esri.layers.support.TilemapCache")],C)},91309:(G,U,e)=>{e.d(U,{Z:()=>b});var d,t=e(17626),M=e(86162),I=e(58817),f=e(77712),S=(e(90912),e(76898));let l=d=class extends M.wq{constructor(_){super(_)}clone(){return new d({customLayerParameters:(0,I.d9)(this.customLayerParameters),customParameters:(0,I.d9)(this.customParameters),layerIdentifier:this.layerIdentifier,tileMatrixSet:this.tileMatrixSet,url:this.url})}};(0,t._)([(0,f.Cb)({json:{type:Object,write:!0}})],l.prototype,"customLayerParameters",void 0),(0,t._)([(0,f.Cb)({json:{type:Object,write:!0}})],l.prototype,"customParameters",void 0),(0,t._)([(0,f.Cb)({type:String,json:{write:!0}})],l.prototype,"layerIdentifier",void 0),(0,t._)([(0,f.Cb)({type:String,json:{write:!0}})],l.prototype,"tileMatrixSet",void 0),(0,t._)([(0,f.Cb)({type:String,json:{write:!0}})],l.prototype,"url",void 0),l=d=(0,t._)([(0,S.j)("esri.layer.support.WMTSLayerInfo")],l);const b=l},59787:(G,U,e)=>{e.d(U,{C:()=>t});const t={attachment:{supportsContentType:!1,supportsExifInfo:!1,supportsKeywords:!1,supportsName:!1,supportsSize:!1},data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!1,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1},query:{maxRecordCount:0,maxRecordCountFactor:0,standardMaxRecordCount:0,supportsCacheHint:!1,supportsCentroid:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:!1,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:!1,supportsPagination:!1,supportsPercentileStatistics:!1,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsSqlExpression:!1,supportsStandardizedQueriesOnly:!1,supportsTopFeaturesQuery:!1,supportsStatistics:!1,tileMaxRecordCount:0}}},98686:(G,U,e)=>{e.d(U,{lm:()=>x,CS:()=>s,Yu:()=>c,Cw:()=>n,j5:()=>i});var t=e(15861),M=e(59318),I=e(24263),f=e(73281),P=e(84792),S=e(58817),d=e(21726),l=e(65234),b=e(5548),_=e(32442),o=e(33474),p=e(17253);const E={esriGeometryPoint:"points",esriGeometryPolyline:"polylines",esriGeometryPolygon:"polygons"};function n(O){const B=O.folders||[],C=B.slice(),y=new Map,g=new Map,L=new Map,v=new Map,j=new Map,w={esriGeometryPoint:g,esriGeometryPolyline:L,esriGeometryPolygon:v};(O.featureCollection&&O.featureCollection.layers||[]).forEach(Z=>{const N=(0,S.d9)(Z);N.featureSet.features=[];const W=Z.featureSet.geometryType;y.set(W,N);const H=Z.layerDefinition.objectIdField;"esriGeometryPoint"===W?h(g,H,Z.featureSet.features):"esriGeometryPolyline"===W?h(L,H,Z.featureSet.features):"esriGeometryPolygon"===W&&h(v,H,Z.featureSet.features)}),O.groundOverlays&&O.groundOverlays.forEach(Z=>{j.set(Z.id,Z)}),B.forEach(Z=>{Z.networkLinkIds.forEach(N=>{const W=function u(O,B,C){const y=function a(O,B){let C;return B.some(y=>y.id===O&&(C=y,!0)),C}(O,C);return y&&(y.parentFolderId=B,y.networkLink=y),y}(N,Z.id,O.networkLinks);W&&C.push(W)})}),C.forEach(Z=>{if(Z.featureInfos){Z.points=(0,S.d9)(y.get("esriGeometryPoint")),Z.polylines=(0,S.d9)(y.get("esriGeometryPolyline")),Z.polygons=(0,S.d9)(y.get("esriGeometryPolygon")),Z.mapImages=[];for(const N of Z.featureInfos)switch(N.type){case"esriGeometryPoint":case"esriGeometryPolyline":case"esriGeometryPolygon":{const W=w[N.type].get(N.id);W&&Z[E[N.type]].featureSet.features.push(W);break}case"GroundOverlay":{const W=j.get(N.id);W&&Z.mapImages.push(W);break}}Z.fullExtent=x([Z])}});const F=x(C);return{folders:B,sublayers:C,extent:F}}function s(O,B,C,y){const g=I.id&&I.id.findCredential(O);return O=(0,d.fl)(O,{token:g&&g.token}),(0,P.default)(M.Z.kmlServiceUrl,{query:{url:O,model:"simple",folders:"",refresh:0!==C||void 0,outSR:JSON.stringify(B)},responseType:"json",signal:y})}function i(O,B,C=null,y=[]){const g=[],L={},v=B.sublayers,j=B.folders.map(w=>w.id);return v.forEach(w=>{const F=new O;if(C?F.read(w,C):F.read(w),y.length&&j.indexOf(F.id)>-1&&(F.visible=-1!==y.indexOf(F.id)),L[w.id]=F,null!=w.parentFolderId&&-1!==w.parentFolderId){const Z=L[w.parentFolderId];Z.sublayers||(Z.sublayers=[]),Z.sublayers.unshift(F)}else g.unshift(F)}),g}function h(O,B,C){C.forEach(y=>{O.set(y.attributes[B],y)})}function c(O){return m.apply(this,arguments)}function m(){return(m=(0,t.Z)(function*(O){const B=p.default.fromJSON(O.featureSet).features,y=(0,o.i)(O.layerDefinition.drawingInfo.renderer),g=f.Z.fromJSON(O.popupInfo),L=[];for(const v of B){const j=yield y.getSymbolAsync(v);v.symbol=j,v.popupTemplate=g,v.visible=!0,L.push(v)}return L})).apply(this,arguments)}function x(O){const B=(0,b.Ue)(b.Gv),C=(0,b.Ue)(b.Gv);for(const y of O){if(y.polygons&&y.polygons.featureSet&&y.polygons.featureSet.features)for(const g of y.polygons.featureSet.features)(0,_.Yg)(B,g.geometry),(0,b.TC)(C,B);if(y.polylines&&y.polylines.featureSet&&y.polylines.featureSet.features)for(const g of y.polylines.featureSet.features)(0,_.Yg)(B,g.geometry),(0,b.TC)(C,B);if(y.points&&y.points.featureSet&&y.points.featureSet.features)for(const g of y.points.featureSet.features)(0,_.Yg)(B,g.geometry),(0,b.TC)(C,B);if(y.mapImages)for(const g of y.mapImages)(0,_.Yg)(B,g.extent),(0,b.TC)(C,B)}return(0,b.fS)(C,b.Gv)?null:{xmin:C[0],ymin:C[1],zmin:C[2],xmax:C[3],ymax:C[4],zmax:C[5],spatialReference:l.Z.WGS84}}},61068:(G,U,e)=>{e.d(U,{OE:()=>p,Gc:()=>s,Qg:()=>E,Rq:()=>l,gX:()=>n,z2:()=>b,ET:()=>_,Vx:()=>h}),e(29132);var M=e(62208),f=e(28594),P=e(49672);const S=new Map,d=new class I{constructor(u=15e3,c=5e3){this._timer=null,this._cachedBlocks=new Map,this._size=-1,this._duration=u,this._interval=Math.min(u,c)}decreaseRefCount(u,c){const m=u+"/"+c,x=this._cachedBlocks;if(x.has(m)){const O=x.get(m);return O.refCount--,O.refCount<=0&&(x.delete(m),O.controller&&O.controller.abort()),O.refCount}return 0}getBlock(u,c){const m=u+"/"+c,x=this._cachedBlocks;if(x.has(m)){const O=x.get(m);return O.ts=Date.now(),O.refCount++,x.delete(m),x.set(m,O),O.block}return null}putBlock(u,c,m,x=null){const O=this._cachedBlocks,B=u+"/"+c;if(O.has(B)){const C=O.get(B);C.ts=Date.now(),C.refCount++}else O.set(B,{block:m,ts:Date.now(),refCount:1,controller:x});this.trim(),this.updateTimer()}deleteBlock(u,c){const m=this._cachedBlocks,x=u+"/"+c;m.has(x)&&m.delete(x)}updateMaxSize(u){this._size=u,this.trim()}empty(){this._cachedBlocks.clear(),this.clearTimer()}getCurrentSize(){return this._cachedBlocks.size}updateTimer(){if(null!=this._timer)return;const u=this._cachedBlocks;this._timer=setInterval(()=>{const c=Array.from(u),m=Date.now();for(let x=0;x<c.length&&c[x][1].ts<=m-this._duration;x++)u.delete(c[x][0]);0===u.size&&this.clearTimer()},this._interval)}trim(){const u=this._cachedBlocks;if(-1===this._size||this._size>=u.size)return;const c=Array.from(u);for(let m=0;m<c.length-this._size;m++)u.delete(c[m][0])}clearTimer(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)}};function l(a,u){return null==u?a:`${a}?sliceId=${u}`}function b(a,u){const c={extent:null,rasterInfo:u,cache:new Map};if(S.has(a)){const m=S.get(a);return m.push(c),m.length-1}return S.set(a,[c]),0}function _(a,u){if(S.has(a)){const c=S.get(a);c[u]=null,c.some(m=>null!=m)||S.delete(a)}}function p(a,u,c){if(!S.has(a))return null==u?d.decreaseRefCount(a,c):0;const m=S.get(a);if(null==m[u])return d.decreaseRefCount(a,c);const x=m[u].cache;if(x.has(c)){const O=x.get(c);if(O.refCount--,0===O.refCount){x.delete(c);for(let B=0;B<m.length;B++)m[B]&&m[B].cache.has(c)&&m[B].cache.delete(c);O.controller&&O.controller.abort()}return O.refCount}return 0}function E(a,u,c){if(!S.has(a))return null==u?d.getBlock(a,c):null;const m=S.get(a);if(null==m[u]){for(let O=0;O<m.length;O++)if(m[O]&&m[O].cache.has(c)){const B=m[O].cache.get(c);return B.refCount++,B.block}return d.getBlock(a,c)}const x=m[u].cache;if(x.has(c)){const O=x.get(c);return O.refCount++,O.block}for(let O=0;O<m.length;O++)if(O!==u&&m[O]&&m[O]&&m[O].cache.has(c)){const B=m[O].cache.get(c);return B.refCount++,x.set(c,B),B.block}return null}function n(a,u,c,m,x=null){if(!S.has(a))return void(null==u&&d.putBlock(a,c,m,x));const O=S.get(a);if(null==O[u])return void d.putBlock(a,c,m,x);const B={refCount:1,block:m,isResolved:!1,isRejected:!1,controller:x};m.then(()=>B.isResolved=!0).catch(()=>B.isRejected=!0),O[u].cache.set(c,B)}function s(a,u,c){if(!S.has(a))return void(null==u&&d.deleteBlock(a,c));const m=S.get(a);null!=m[u]?m[u].cache.delete(c):d.deleteBlock(a,c)}function h(a,u,c,m,x,O,B=null){const C=function i(a,u){if(!S.has(a))return null;const c=S.get(a);return null==c[u]?null:c[u]}(a,u),y=C.extent,{cache:g,rasterInfo:L}=C;if(y&&y.xmin===c.xmin&&y.xmax===c.xmax&&y.ymin===c.ymin&&y.ymax===c.ymax)return;const v=c.clone().normalize(),{spatialReference:j,transform:w}=L,F=new Set;for(let Z=0;Z<v.length;Z++){const N=v[Z];if(N.xmax-N.xmin<=m||N.ymax-N.ymin<=m)continue;let W=(0,f.tB)(N,j,B);(0,M.pC)(w)&&(W=w.inverseTransform(W));const H=new P.Z({x:m,y:m,spatialReference:N.spatialReference});if(null==x&&!(x=(0,f.VO)(H,j,N,B)))return;const{pyramidLevel:V,pyramidResolution:D,excessiveReading:K}=(0,f.kr)(x,L,O||"closest");if(K)return;const{storageInfo:T}=L,{origin:A}=T,R={x:Math.max(0,Math.floor((W.xmin-A.x)/D.x)),y:Math.max(0,Math.floor((A.y-W.ymax)/D.y))},z=Math.ceil((W.xmax-W.xmin)/D.x-.1),J=Math.ceil((W.ymax-W.ymin)/D.y-.1),Y=V>0?T.pyramidBlockWidth:T.blockWidth,q=V>0?T.pyramidBlockHeight:T.blockHeight,k=1,X=Math.max(0,Math.floor(R.x/Y)-k),ee=Math.max(0,Math.floor(R.y/q)-k),te=Math.floor((R.x+z-1)/Y)+k,re=Math.floor((R.y+J-1)/q)+k;for(let se=ee;se<=re;se++)for(let ne=X;ne<=te;ne++)F.add(`${V}/${se}/${ne}`)}g.forEach((Z,N)=>{if(!F.has(N)){const W=g.get(N);(null==W||W.isResolved||W.isRejected)&&g.delete(N)}}),C.extent={xmin:c.xmin,ymin:c.ymin,xmax:c.xmax,ymax:c.ymax}}},51026:(G,U,e)=>{e.d(U,{d:()=>I,h:()=>M});var t=e(2584);const M={type:t.Z,json:{origins:{service:{read:{source:["tileInfo","minScale","maxScale","minLOD","maxLOD"],reader:I}}}}};function I(f,P,S,d){if(!f)return null;const{minScale:l,maxScale:b,minLOD:_,maxLOD:o}=P;if(null!=_&&null!=o)return t.Z.fromJSON(d&&d.ignoreMinMaxLOD?f:Q($({},f),{lods:f.lods.filter(({level:p})=>null!=p&&p>=_&&p<=o)}));if(0!==l&&0!==b){const p=s=>Math.round(1e4*s)/1e4,E=l?p(l):1/0,n=b?p(b):-1/0;return t.Z.fromJSON(Q($({},f),{lods:f.lods.filter(s=>{const i=p(s.scale);return i<=E&&i>=n})}))}return t.Z.fromJSON(f)}},53776:(G,U,e)=>{e.d(U,{Z:()=>i});var o,t=e(17626),M=e(58817),I=e(77712),f=e(90912),P=e(55342),S=e(76898),d=e(80573),l=e(10914),b=e(91558),_=e(86162);let p=o=class extends _.wq{constructor(){super(...arguments),this.description=null,this.label=null,this.minValue=0,this.maxValue=0,this.color=null}clone(){return new o({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,color:(0,M.d9)(this.color)})}};(0,t._)([(0,I.Cb)({type:String,json:{write:!0}})],p.prototype,"description",void 0),(0,t._)([(0,I.Cb)({type:String,json:{write:!0}})],p.prototype,"label",void 0),(0,t._)([(0,I.Cb)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],p.prototype,"minValue",void 0),(0,t._)([(0,I.Cb)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],p.prototype,"maxValue",void 0),(0,t._)([(0,I.Cb)({type:b.Z,json:{type:[f.z8],write:!0}})],p.prototype,"color",void 0),p=o=(0,t._)([(0,S.j)("esri.renderers.support.pointCloud.ColorClassBreakInfo")],p);const E=p;var n;let s=n=class extends d.Z{constructor(h){super(h),this.type="point-cloud-class-breaks",this.field=null,this.legendOptions=null,this.fieldTransformType=null,this.colorClassBreakInfos=null}clone(){return new n(Q($({},this.cloneProperties()),{field:this.field,fieldTransformType:this.fieldTransformType,colorClassBreakInfos:(0,M.d9)(this.colorClassBreakInfos),legendOptions:(0,M.d9)(this.legendOptions)}))}};(0,t._)([(0,P.J)({pointCloudClassBreaksRenderer:"point-cloud-class-breaks"})],s.prototype,"type",void 0),(0,t._)([(0,I.Cb)({json:{write:!0},type:String})],s.prototype,"field",void 0),(0,t._)([(0,I.Cb)({type:l.Z,json:{write:!0}})],s.prototype,"legendOptions",void 0),(0,t._)([(0,I.Cb)({type:d.Z.fieldTransformTypeKebabDict.apiValues,json:{type:d.Z.fieldTransformTypeKebabDict.jsonValues,read:d.Z.fieldTransformTypeKebabDict.read,write:d.Z.fieldTransformTypeKebabDict.write}})],s.prototype,"fieldTransformType",void 0),(0,t._)([(0,I.Cb)({type:[E],json:{write:!0}})],s.prototype,"colorClassBreakInfos",void 0),s=n=(0,t._)([(0,S.j)("esri.renderers.PointCloudClassBreaksRenderer")],s);const i=s},80573:(G,U,e)=>{e.d(U,{Z:()=>y});var _,t=e(17626),M=e(2076),I=e(86162),f=e(58817),P=e(77712),d=(e(90912),e(76898));e(85931),e(8314);let o=_=class extends I.wq{constructor(){super(...arguments),this.field=null,this.minValue=0,this.maxValue=255}clone(){return new _({field:this.field,minValue:this.minValue,maxValue:this.maxValue})}};(0,t._)([(0,P.Cb)({type:String,json:{write:!0}})],o.prototype,"field",void 0),(0,t._)([(0,P.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],o.prototype,"minValue",void 0),(0,t._)([(0,P.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],o.prototype,"maxValue",void 0),o=_=(0,t._)([(0,d.j)("esri.renderers.support.pointCloud.ColorModulation")],o);const p=o,E=new M.Xn({pointCloudFixedSizeAlgorithm:"fixed-size",pointCloudSplatAlgorithm:"splat"});let n=class extends I.wq{};(0,t._)([(0,P.Cb)({type:E.apiValues,readOnly:!0,nonNullable:!0,json:{type:E.jsonValues,read:!1,write:E.write}})],n.prototype,"type",void 0),n=(0,t._)([(0,d.j)("esri.renderers.support.pointCloud.PointSizeAlgorithm")],n);const s=n;var h,i=e(55342);let a=h=class extends s{constructor(){super(...arguments),this.type="fixed-size",this.size=0,this.useRealWorldSymbolSizes=null}clone(){return new h({size:this.size,useRealWorldSymbolSizes:this.useRealWorldSymbolSizes})}};(0,t._)([(0,i.J)({pointCloudFixedSizeAlgorithm:"fixed-size"})],a.prototype,"type",void 0),(0,t._)([(0,P.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],a.prototype,"size",void 0),(0,t._)([(0,P.Cb)({type:Boolean,json:{write:!0}})],a.prototype,"useRealWorldSymbolSizes",void 0),a=h=(0,t._)([(0,d.j)("esri.renderers.support.pointCloud.PointSizeFixedSizeAlgorithm")],a);const u=a;var c;let m=c=class extends s{constructor(){super(...arguments),this.type="splat",this.scaleFactor=1}clone(){return new c({scaleFactor:this.scaleFactor})}};(0,t._)([(0,i.J)({pointCloudSplatAlgorithm:"splat"})],m.prototype,"type",void 0),(0,t._)([(0,P.Cb)({type:Number,value:1,nonNullable:!0,json:{write:!0}})],m.prototype,"scaleFactor",void 0),m=c=(0,t._)([(0,d.j)("esri.renderers.support.pointCloud.PointSizeSplatAlgorithm")],m);const O={key:"type",base:s,typeMap:{"fixed-size":u,splat:m}},B=(0,M.wY)()({pointCloudClassBreaksRenderer:"point-cloud-class-breaks",pointCloudRGBRenderer:"point-cloud-rgb",pointCloudStretchRenderer:"point-cloud-stretch",pointCloudUniqueValueRenderer:"point-cloud-unique-value"});let C=class extends I.wq{constructor(g){super(g),this.type=void 0,this.pointSizeAlgorithm=null,this.colorModulation=null,this.pointsPerInch=10}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}cloneProperties(){return{pointSizeAlgorithm:(0,f.d9)(this.pointSizeAlgorithm),colorModulation:(0,f.d9)(this.colorModulation),pointsPerInch:(0,f.d9)(this.pointsPerInch)}}};(0,t._)([(0,P.Cb)({type:B.apiValues,readOnly:!0,nonNullable:!0,json:{type:B.jsonValues,read:!1,write:B.write}})],C.prototype,"type",void 0),(0,t._)([(0,P.Cb)({types:O,json:{write:!0}})],C.prototype,"pointSizeAlgorithm",void 0),(0,t._)([(0,P.Cb)({type:p,json:{write:!0}})],C.prototype,"colorModulation",void 0),(0,t._)([(0,P.Cb)({json:{write:!0},nonNullable:!0,type:Number})],C.prototype,"pointsPerInch",void 0),C=(0,t._)([(0,d.j)("esri.renderers.PointCloudRenderer")],C),(C||(C={})).fieldTransformTypeKebabDict=new M.Xn({none:"none",lowFourBit:"low-four-bit",highFourBit:"high-four-bit",absoluteValue:"absolute-value",moduloTen:"modulo-ten"});const y=C},23899:(G,U,e)=>{e.d(U,{Z:()=>p});var _,t=e(17626),M=e(58817),I=e(77712),P=(e(90912),e(55342)),S=e(76898),d=e(80573),l=e(10914),b=e(8029);let o=_=class extends d.Z{constructor(E){super(E),this.type="point-cloud-stretch",this.field=null,this.legendOptions=null,this.fieldTransformType=null,this.stops=null}clone(){return new _(Q($({},this.cloneProperties()),{field:(0,M.d9)(this.field),fieldTransformType:(0,M.d9)(this.fieldTransformType),stops:(0,M.d9)(this.stops),legendOptions:(0,M.d9)(this.legendOptions)}))}};(0,t._)([(0,P.J)({pointCloudStretchRenderer:"point-cloud-stretch"})],o.prototype,"type",void 0),(0,t._)([(0,I.Cb)({json:{write:!0},type:String})],o.prototype,"field",void 0),(0,t._)([(0,I.Cb)({type:l.Z,json:{write:!0}})],o.prototype,"legendOptions",void 0),(0,t._)([(0,I.Cb)({type:d.Z.fieldTransformTypeKebabDict.apiValues,json:{type:d.Z.fieldTransformTypeKebabDict.jsonValues,read:d.Z.fieldTransformTypeKebabDict.read,write:d.Z.fieldTransformTypeKebabDict.write}})],o.prototype,"fieldTransformType",void 0),(0,t._)([(0,I.Cb)({type:[b.Z],json:{write:!0}})],o.prototype,"stops",void 0),o=_=(0,t._)([(0,S.j)("esri.renderers.PointCloudStretchRenderer")],o);const p=o},98610:(G,U,e)=>{e.d(U,{Z:()=>i});var o,t=e(17626),M=e(58817),I=e(77712),f=e(90912),P=e(55342),S=e(76898),d=e(80573),l=e(10914),b=e(91558),_=e(86162);let p=o=class extends _.wq{constructor(){super(...arguments),this.description=null,this.label=null,this.values=null,this.color=null}clone(){return new o({description:this.description,label:this.label,values:(0,M.d9)(this.values),color:(0,M.d9)(this.color)})}};(0,t._)([(0,I.Cb)({type:String,json:{write:!0}})],p.prototype,"description",void 0),(0,t._)([(0,I.Cb)({type:String,json:{write:!0}})],p.prototype,"label",void 0),(0,t._)([(0,I.Cb)({type:[String],json:{write:!0}})],p.prototype,"values",void 0),(0,t._)([(0,I.Cb)({type:b.Z,json:{type:[f.z8],write:!0}})],p.prototype,"color",void 0),p=o=(0,t._)([(0,S.j)("esri.renderers.support.pointCloud.ColorUniqueValueInfo")],p);const E=p;var n;let s=n=class extends d.Z{constructor(h){super(h),this.type="point-cloud-unique-value",this.field=null,this.fieldTransformType=null,this.colorUniqueValueInfos=null,this.legendOptions=null}clone(){return new n(Q($({},this.cloneProperties()),{field:(0,M.d9)(this.field),fieldTransformType:(0,M.d9)(this.fieldTransformType),colorUniqueValueInfos:(0,M.d9)(this.colorUniqueValueInfos),legendOptions:(0,M.d9)(this.legendOptions)}))}};(0,t._)([(0,P.J)({pointCloudUniqueValueRenderer:"point-cloud-unique-value"})],s.prototype,"type",void 0),(0,t._)([(0,I.Cb)({json:{write:!0},type:String})],s.prototype,"field",void 0),(0,t._)([(0,I.Cb)({type:d.Z.fieldTransformTypeKebabDict.apiValues,json:{type:d.Z.fieldTransformTypeKebabDict.jsonValues,read:d.Z.fieldTransformTypeKebabDict.read,write:d.Z.fieldTransformTypeKebabDict.write}})],s.prototype,"fieldTransformType",void 0),(0,t._)([(0,I.Cb)({type:[E],json:{write:!0}})],s.prototype,"colorUniqueValueInfos",void 0),(0,t._)([(0,I.Cb)({type:l.Z,json:{write:!0}})],s.prototype,"legendOptions",void 0),s=n=(0,t._)([(0,S.j)("esri.renderers.PointCloudUniqueValueRenderer")],s);const i=s},36859:(G,U,e)=>{e.d(U,{QM:()=>f,hy:()=>P,uI:()=>M});var t=e(21286);const M=(()=>{if(!("document"in globalThis))return()=>null;const _=document.createElement("canvas"),o=_.getContext("2d");return _.height=512,_.width=1,E=>{o.clearRect(0,0,1,_.height);const n=o.createLinearGradient(0,0,0,_.height);for(const{ratio:s,color:i}of E.colorStops)n.addColorStop(Math.max(s,.001),`rgba(${i[0]}, ${i[1]}, ${i[2]}, ${i[3]})`);return o.fillStyle=n,o.fillRect(0,0,1,_.height),o.getImageData(0,0,1,_.height).data}})();function f(_,o,p,E){const{blurRadius:n,fieldOffset:s,field:i}=o,h=new Float64Array(p*E),a=function d(_){const o=Math.round(3*_),p=2*_*_,E=new Float64Array(2*o+1);for(let n=0;n<=E.length;n++)E[n]=Math.exp(-((n-o)**2)/p)/Math.sqrt(2*Math.PI)*(_/2);return E}(n),u=Math.round(3*n);let c,m=Number.NEGATIVE_INFINITY;const x=function b(_,o){return null!=_?"string"==typeof o?p=>-1*+p.readAttribute(_):p=>+p.readAttribute(_)+o:p=>1}(i,s),O=new Set;for(const B of _){const C=B.getCursor();for(;C.next();){const y=C.getObjectId();if(O.has(y))continue;O.add(y);const g=C.readLegacyPointGeometry(),L=128;if(g.x<-L||g.x>=p+L||g.y<-L||g.y>E+L)continue;const v=+x(C),j=Math.round(g.x)-u,w=Math.round(g.y)-u,F=Math.max(0,j),Z=Math.max(0,w),N=Math.min(E,Math.round(g.y)+u),W=Math.min(p,Math.round(g.x)+u);for(let H=Z;H<N;H++){const V=a[H-w];for(let D=F;D<W;D++)c=h[H*p+D]+=V*a[D-j]*v,c>m&&(m=c)}}}return{matrix:h.buffer,max:m}}function P(_,o,p,E,n,s){_.canvas.width=_.canvas.height=o,_.clearRect(0,0,o,o);const i=_.getImageData(0,0,o,o);p&&E&&i.data.set(new Uint8ClampedArray(function S(_,o,p,E,n){const s=new Uint32Array(_*_),i="buffer"in o?o:new Float64Array(o),h="buffer"in p?new Uint32Array(p.buffer):new Uint32Array(new Uint8Array(p).buffer),a=h.length/(n-E);for(let u=0;u<i.length;u++){const m=Math.floor((i[u]-E)*a);s[u]=h[(0,t.uZ)(m,0,h.length-1)]}return s.buffer}(o,p,E,n,s))),_.putImageData(i,0,0)}},70026:(G,U,e)=>{e.d(U,{t:()=>I});var t=e(15861),M=e(84792);function I(P,S){return f.apply(this,arguments)}function f(){return(f=(0,t.Z)(function*(P,S){const{data:d}=yield(0,M.default)(P,$({responseType:"image"},S));return d})).apply(this,arguments)}},32837:(G,U,e)=>{e.d(U,{Z:()=>S});var t=e(35909),M=e(31375),I=e(47139),f=e(80991);class S{constructor(l){this._resourceManager=l}dispose(){this._rasterizationCanvas=null}rasterizeJSONResource(l,b,_){if(this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement("canvas")),"simple-fill"===l.type||"esriSFS"===l.type){const[u,c,m]=t.fN.rasterizeSimpleFill(this._rasterizationCanvas,l.style,b);return{size:[c,m],image:new Uint32Array(u.buffer),sdf:!1,simplePattern:!0,anchorX:0,anchorY:0}}if("simple-line"===l.type||"esriSLS"===l.type||"line"===l.type&&l.dashTemplate){let u,c;if("simple-line"===l.type||"esriSLS"===l.type)switch(u=(0,t.U1)(l.style,l.cap),l.cap){case"butt":c="Butt";break;case"square":c="Square";break;default:c="Round"}else u=l.dashTemplate,c=l.cim.capStyle;const[m,x,O]=t.fN.rasterizeSimpleLine(u,c);return{size:[x,O],image:new Uint32Array(m.buffer),sdf:!0,simplePattern:!0,anchorX:0,anchorY:0}}let o,p,E;if("simple-marker"===l.type||"esriSMS"===l.type||"line-marker"===l.type?(o=t.B$.fromSimpleMarker(l),E=(0,I.Fp)(o)):l.cim&&"CIMHatchFill"===l.cim.type?(o=t.B$.fromCIMHatchFill(l.cim),p=new M.Z(o.frame.xmin,-o.frame.ymax,o.frame.xmax-o.frame.xmin,o.frame.ymax-o.frame.ymin)):l.cim.markerPlacement&&"CIMMarkerPlacementInsidePolygon"===l.cim.markerPlacement.type?(o=t.B$.fromCIMInsidePolygon(l.cim),p=new M.Z(o.frame.xmin,-o.frame.ymax,o.frame.xmax-o.frame.xmin,o.frame.ymax-o.frame.ymin)):(o=l.cim,E=(0,I.Fp)(o)),E&&!_){const[u,c,m]=(0,I.RL)(E);return u?{size:[c,m],image:new Uint32Array(u.buffer),sdf:!0,simplePattern:!0,anchorX:0,anchorY:0}:null}const[n,s,i,h,a]=t.B$.rasterize(this._rasterizationCanvas,o,p,this._resourceManager,!_);return n?{size:[s,i],image:new Uint32Array(n.buffer),sdf:!1,simplePattern:!1,anchorX:h,anchorY:a}:null}rasterizeImageResource(l,b,_,o){this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement("canvas")),this._rasterizationCanvas.width=l,this._rasterizationCanvas.height=b;const p=this._rasterizationCanvas.getContext("2d");_ instanceof ImageData?p.putImageData(_,0,0):(_.setAttribute("width",`${l}px`),_.setAttribute("height",`${b}px`),p.drawImage(_,0,0,l,b));const E=p.getImageData(0,0,l,b),n=new Uint8Array(E.data);if(o)for(const c of o)if(c&&c.oldColor&&4===c.oldColor.length&&c.newColor&&4===c.newColor.length){const[m,x,O,B]=c.oldColor,[C,y,g,L]=c.newColor;if(m===C&&x===y&&O===g&&B===L)continue;for(let v=0;v<n.length;v+=4)m===n[v]&&x===n[v+1]&&O===n[v+2]&&B===n[v+3]&&(n[v]=C,n[v+1]=y,n[v+2]=g,n[v+3]=L)}let s;for(let c=0;c<n.length;c+=4)s=n[c+3]/255,n[c]=n[c]*s,n[c+1]=n[c+1]*s,n[c+2]=n[c+2]*s;let i=n,h=l,a=b;const u=512;if(h>=u||a>=u){const c=h/a;c>1?(h=u,a=Math.round(u/c)):(a=u,h=Math.round(u*c)),i=new Uint8Array(4*h*a);const m=new Uint8ClampedArray(i.buffer);(0,f.TT)(n,l,b,m,h,a,!1)}return{size:[h,a],image:new Uint32Array(i.buffer),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0}}}},71131:(G,U,e)=>{e.d(U,{dc:()=>E,uH:()=>p,TE:()=>l,Pc:()=>S,EB:()=>d,XX:()=>_,EV:()=>f,DY:()=>b,eb:()=>I,tp:()=>o,ht:()=>P,JZ:()=>M});var t=e(91558);const M={fill:[{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"}],squareFill:[{type:"path",path:"M -10,-10 L 10,-10 L 10,10 L -10,10 L -10,-10 Z"}],pathSymbol3DLayer:[{type:"path",path:"M 3,12 L 12,0 L 11,-2 L -4,5 L -1,5 L 1,7 L 3,10 L 3,12 Z"},{type:"circle",cx:-2,cy:10,r:5}],extrudeSymbol3DLayer:[{type:"path",path:"M -7,-5 L -2,0 L -2,7 L -7,3 L -7,-5 Z"},{type:"path",path:"M -2,0 L -2,7 L 10,-3 L 10,-10 L -2,0 Z"},{type:"path",path:"M -7,-5 L -2,0 L 10,-10 L -2,-10 L -7,-5 Z"}],cone:[{type:"path",path:"M 0,-10 L -8,5 L -4,6.5 L 0,7 L 4,6.5 L 8,5 Z"}],tallCone:[{type:"path",path:"M 0,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 0,-9 Z"}],invertedCone:[{type:"path",path:"M 0,7 L -8,-8 L 8,-8 Z"},{type:"path",path:"M -8,-8 L -4,-9.5 L 0,-10 L 4,-9.5 L 8,-8 L 4,-6.5 L 0,-6 L -4,-6.5 Z"}],cube:[{type:"path",path:"M -10,-7 L 0,-12 L 10,-7 L 0,-2 L -10,-7 Z"},{type:"path",path:"M -10,-7 L 0,-2 L 0,12 L -10,7 L -10,-7 Z"},{type:"path",path:"M 0,-2 L 10,-7 L 10,7 L 0,12 L 0,-2 Z"}],tallCube:[{type:"path",path:"M -3.5,-8.5 L 0,-9.5 L 3.5,-8.5 L 0,-7.5 L -3.5,-8.5 Z"},{type:"path",path:"M -3.5,-8.5 L 0,-7.5 L 0,9 L -3.5,8 L -3.5,-8.5 Z"},{type:"path",path:"M 0,-7.5 L 3.5,-8.5 L 3.5,8 L 0,9 L 0,-7.5 Z"}],cylinder:[{type:"path",path:"M -8,-9 L -8,7 L -4,8.5 L 0,9 L 4,8.5 L 8,7 L 8,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:8,ry:2}],tallCylinder:[{type:"path",path:"M -3.5,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 3.5,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:3.5,ry:1}],diamond:[{type:"path",path:"M 0,-10 L 10,-1 L -1,1 L 0,-10 Z"},{type:"path",path:"M 0,-10 L -1,1 L -8,-1 L 0,-10 Z"},{type:"path",path:"M -1,1 L 0,10 L -8,-1 L -1,1 Z"},{type:"path",path:"M -1,0 L 0,10 L 10,-1 L -1,1 Z"}],tetrahedron:[{type:"path",path:"M 0,-10 L 10,7 L 0,0 L 0,-10 Z"},{type:"path",path:"M 0,-10 L 0,0 L -8,7 L 0,-10 Z"},{type:"path",path:"M 10,7 L 0,0 L -8,7 L 10,7 Z"}]};function I(n,s,i){let a=22,u=22;n<1?a*=.75:n>1&&(u*=1.25);let x=22,O=22;return s&&i&&(a=u=x=O=0),[{type:"path",path:[{command:"M",values:[x,0]},{command:"L",values:[i?x:.875*x,0]},{command:"L",values:[i?a-.5*x:0,u-.5*O]},{command:"L",values:[a-.5*x,u-.5*O]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[x,0]},{command:"L",values:[x,s?0:.125*O]},{command:"L",values:[a-.5*x,s?u-.5*O:O]},{command:"L",values:[a-.5*x,u-.5*O]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[a-.5*x,u-.5*O]},{command:"L",values:[i?a-.5*x:0,u-.5*O]},{command:"L",values:[i?a-.5*x:0,s?u-.5*O:O]},{command:"L",values:[a-.5*x,s?u-.5*O:O]},{command:"Z",values:[]}]}]}function f(n){const i=.5*n;return[{type:"path",path:[{command:"M",values:[0,.7*22*.5]},{command:"L",values:[6.6,.7*22]},{command:"L",values:[6.6,.7*22+i]},{command:"L",values:[0,.7*22+i-.7*22*.5]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[6.6,.7*22]},{command:"L",values:[6.6,.7*22+i]},{command:"L",values:[22,i]},{command:"L",values:[22,0]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[6.6,0]},{command:"L",values:[22,0]},{command:"L",values:[6.6,.7*22]},{command:"L",values:[0,.7*22*.5]},{command:"Z",values:[]}]}]}function P(){return[{type:"path",path:"M80,80.2v-27c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4C8.3,59.3,5.7,58,3.9,56c-1.1-1.2-2.4-2.1-3.9-2.8v27"},{type:"path",path:"M11,59.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8v-24c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-1.1-1.2-2.4-2.1-3.9-2.8v24c1.5,0.7,2.8,1.6,3.9,2.8C5.7,58,8.3,59.3,11,59.4z"},{type:"path",path:"M11,35.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8V3.6c-1.5,0.7-2.8,1.6-3.9,2.8c-2.2,2.1-4.6,3.4-7.1,3.4s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6S42.5,9.9,40,9.9s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.5,0-5-1.3-7.1-3.4C2.8,5.3,1.4,4.3,0,3.6v25.6c1.5,0.7,2.8,1.6,3.9,2.8C5.7,34.1,8.3,35.3,11,35.4z"}]}function S(n,s){let i=s?20:n;const h=s?4:6;i-=i<=22?.5*h:h;const c=s?.35*i:.5*i;return[{type:"path",path:[{command:"M",values:[.5*i,0]},{command:"L",values:[i,.5*c]},{command:"L",values:[.5*i,c]},{command:"L",values:[0,.5*c]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*c]},{command:"L",values:[.5*i,c]},{command:"L",values:[.5*i,n]},{command:"L",values:[0,n-.5*c]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.5*i,c]},{command:"L",values:[.5*i,n]},{command:"L",values:[i,n-.5*c]},{command:"L",values:[i,.5*c]},{command:"Z",values:[]}]}]}function d(n,s){let i=s?20:n;const h=s?4:6;i-=i<=22?.5*h:h;const a=.5*i,u=.15*i,m=n-u;return[{type:"ellipse",cx:.5*i,cy:m,rx:a,ry:u},{type:"path",path:[{command:"M",values:[0,u]},{command:"L",values:[0,m]},{command:"L",values:[i,m]},{command:"L",values:[i,u]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*i,cy:u,rx:a,ry:u}]}function l(n,s){let i=s?20:n;const h=s?4:6;i-=i<=22?.5*h:h;const a=.15*i,u=n-a;return[{type:"ellipse",cx:.5*i,cy:u,rx:.5*i,ry:a},{type:"path",path:[{command:"M",values:[.5*i,0]},{command:"L",values:[i,u]},{command:"L",values:[0,u]},{command:"Z",values:[]}]}]}function b(n){let s=n;s-=s<22?3:6;const h=.15*s;return[{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[s,0]},{command:"L",values:[.5*s,n-h]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*s,cy:0,rx:.5*s,ry:h}]}function _(n){let s=n;const i=n;s-=s<22?2:4;const c=s,m=i,x=Math.floor(n/10)-1||1;return[{type:"path",path:[{command:"M",values:[.45*c,0]},{command:"L",values:[c,.5*m-x]},{command:"L",values:[.45*c-x,.5*m+x]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*c,0]},{command:"L",values:[.45*c-x,.5*m+x]},{command:"L",values:[0,.5*m-x]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*m-x]},{command:"L",values:[.45*c-x,.5*m+x]},{command:"L",values:[.45*c,i]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*c,i]},{command:"L",values:[c,.5*m-x]},{command:"L",values:[.45*c-x,.5*m+x]},{command:"Z",values:[]}]}]}function o(n){let i=n;return i-=i<22?1:2,[{type:"path",path:[{command:"M",values:[.45*n,0]},{command:"L",values:[n,i]},{command:"L",values:[.45*n,.6*i]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*n,0]},{command:"L",values:[.45*n,.6*i]},{command:"L",values:[0,i]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,i]},{command:"L",values:[.45*n,.6*i]},{command:"L",values:[n,i]},{command:"Z",values:[]}]}]}function p(n,s){return Math.round(Math.min(Math.max(n+255*s*.75,0),255))}function E(n,s){if("type"in n&&("linear"===n.type||"pattern"===n.type))return n;const i=new t.Z(n);return new t.Z([p(i.r,s),p(i.g,s),p(i.b,s),i.a])}},50998:(G,U,e)=>{e.r(U),e.d(U,{fetchSymbolFromStyle:()=>p,resolveWebStyleSymbol:()=>o});var t=e(65787),M=e(83100),I=e(26584),f=e(21726),P=e(84687),S=e(29840),d=e(65270),l=e(77345),b=e(78241),_=e(96296);function o(n,s,i,h){return n.name?n.styleName&&"Esri2DPointSymbolsStyle"===n.styleName?function E(n,s,i){const h=b.wm.replace(/\{SymbolName\}/gi,n.name);return(0,b.EJ)(h,i).then(a=>{const u=(0,b.KV)(a.data);return(0,d.i)(u,{portal:s.portal,url:(0,f.mN)((0,f.Yd)(h)),origin:"portal-item"})})}(n,s,h):(0,b.n2)(n,s,h).then(a=>p(a,n.name,s,i,h)):Promise.reject(new I.Z("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))}function p(n,s,i,h,a){const u=n.data,c={portal:i&&i.portal||P.Z.getDefault(),url:(0,f.mN)(n.baseUrl),origin:"portal-item"},m=u.items.find(y=>y.name===s);if(!m)return Promise.reject(new I.Z("symbolstyleutils:symbol-name-not-found",`The symbol name '${s}' could not be found`,{symbolName:s}));let x=(0,S.f)((0,b.v9)(m,h),c),O=m.thumbnail&&m.thumbnail.href;const B=m.thumbnail&&m.thumbnail.imageData;(0,M.XO)()&&(x=(0,M.pJ)(x),O=(0,M.pJ)(O));const C={portal:i.portal,url:(0,f.mN)((0,f.Yd)(x)),origin:"portal-item"};return(0,b.EJ)(x,a).then(y=>{const g="cimRef"===h?(0,b.KV)(y.data):y.data,L=(0,d.i)(g,C);if(L&&(0,t.dU)(L)){if(O){const v=(0,S.f)(O,c);L.thumbnail=new _.Z({url:v})}else B&&(L.thumbnail=new _.Z({url:`data:image/png;base64,${B}`}));n.styleUrl?L.styleOrigin=new l.Z({portal:i.portal,styleUrl:n.styleUrl,name:s}):n.styleName&&(L.styleOrigin=new l.Z({portal:i.portal,styleName:n.styleName,name:s}))}return L})}},55746:(G,U,e)=>{e.d(U,{p:()=>E,k:()=>p});var t=e(65389),M=e(61885),f=(e(8314),e(62208)),P=e(76279),S=e(5548),d=e(16669),l=e(52397);function b(n,s){return n<<16|s}function _(n){return(4294901760&n)>>>16}function o(n){return 65535&n}const p={getObjectId:n=>n.getObjectId(),getAttributes:n=>n.readAttributes(),getAttribute:(n,s)=>n.readAttribute(s),cloneWithGeometry:(n,s)=>n,getGeometry:n=>n.readHydratedGeometry(),getCentroid:(n,s)=>n.readCentroid()};class E extends d.J{constructor(s,i,h){super(s,i),this.featureAdapter=p,this.events=new M.Z,this._featureSetsByInstance=new Map,this._objectIdToDisplayId=new Map,this._spatialIndexInvalid=!0,this._indexSearchCache=new t.Z(50),this._index=(0,P.r)(9,a=>({minX:this._storage.getXMin(a),minY:this._storage.getYMin(a),maxX:this._storage.getXMax(a),maxY:this._storage.getYMax(a)})),this._storage=i,this.mode=h}get storage(){return this._storage}get storeStatistics(){let s=0,i=0,h=0;return this.forEach(a=>{const u=a.readGeometry();u&&(i+=u.isPoint?1:u.lengths.reduce((c,m)=>c+m,0),h+=u.isPoint?1:u.lengths.length,s+=1)}),{featureCount:s,vertexCount:i,ringCount:h}}hasInstance(s){return this._featureSetsByInstance.has(s)}onTileData(s,i){if((0,f.Wi)(i.addOrUpdate))return i;if(i.addOrUpdate.attachStorage(this._storage),"snapshot"===this.mode){const a=i.addOrUpdate.getCursor();for(;a.next();){const u=a.getDisplayId();this.setComputedAttributes(this._storage,a,u,s.scale)}return i}this._featureSetsByInstance.set(i.addOrUpdate.instance,i.addOrUpdate);const h=i.addOrUpdate.getCursor();for(;h.next();)this._insertFeature(h,s.scale);return this._spatialIndexInvalid=!0,this.events.emit("changed"),i}search(s){this._rebuildIndex();const i=s.id,h=this._indexSearchCache.find(m=>m.tileId===i);if((0,f.pC)(h))return h.readers;const a=new Map,u=this._searchIndex(s.bounds),c=[];for(const m of u){const x=this._storage.getInstanceId(m),O=_(x),B=o(x);a.has(O)||a.set(O,[]),a.get(O).push(B)}return a.forEach((m,x)=>{const O=this._featureSetsByInstance.get(x);c.push(l.t.from(O,m))}),this._indexSearchCache.enqueue({tileId:i,readers:c}),c}insert(s){const i=s.getCursor(),h=this._storage;for(;i.next();){var a;const u=b(i.instance,i.getIndex()),c=i.getObjectId(),m=null!=(a=this._objectIdToDisplayId.get(c))?a:this._storage.createDisplayId();i.setDisplayId(m),h.setInstanceId(m,u),this._objectIdToDisplayId.set(c,m)}this._featureSetsByInstance.set(s.instance,s),this._spatialIndexInvalid=!0}remove(s){const i=this._objectIdToDisplayId.get(s);if(!i)return;const h=this._storage.getInstanceId(i),a=o(h),u=_(h),c=this._featureSetsByInstance.get(u);this._objectIdToDisplayId.delete(s),this._storage.releaseDisplayId(i),c.removeAtIndex(a),c.isEmpty&&this._featureSetsByInstance.delete(u),this._spatialIndexInvalid=!0}forEach(s){this._objectIdToDisplayId.forEach(i=>{const h=this._storage.getInstanceId(i),a=this._lookupFeature(h);s(a)})}forEachUnsafe(s){this._objectIdToDisplayId.forEach(i=>{const h=this._storage.getInstanceId(i),a=_(h),u=o(h),c=this._getFeatureSet(a);c.setIndex(u),s(c)})}forEachInBounds(s,i){const h=this._searchIndex(s);for(const a of h){const u=this.lookupFeatureByDisplayId(a,this._storage);i((0,f.Wg)(u))}}forEachBounds(s,i,h){this._rebuildIndex();const a=[0,0,0,0];for(const u of s){if(!u.readGeometry())continue;const c=u.getDisplayId();a[0]=this._storage.getXMin(c),a[1]=this._storage.getYMin(c),a[2]=this._storage.getXMax(c),a[3]=this._storage.getYMax(c),i((0,S.JR)(h,a))}}sweepFeatures(s,i,h){this._spatialIndexInvalid=!0,this._objectIdToDisplayId.forEach((a,u)=>{s.has(a)||(i.releaseDisplayId(a),h&&h.unsetAttributeData(a),this._objectIdToDisplayId.delete(u))}),this.events.emit("changed")}sweepFeatureSets(s){this._spatialIndexInvalid=!0,this._featureSetsByInstance.forEach((i,h)=>{s.has(h)||this._featureSetsByInstance.delete(h)})}lookupObjectId(s,i){const h=this.lookupFeatureByDisplayId(s,i);return(0,f.Wi)(h)?null:h.getObjectId()}lookupDisplayId(s){return this._objectIdToDisplayId.get(s)}lookupFeatureByDisplayId(s,i){const h=i.getInstanceId(s);return this._lookupFeature(h)}lookupByDisplayIdUnsafe(s){const i=this._storage.getInstanceId(s),h=_(i),a=o(i),u=this._getFeatureSet(h);return u?(u.setIndex(a),u):null}_insertFeature(s,i){const h=this._storage,a=s.getObjectId(),u=b(s.instance,s.getIndex());h.getInstanceId(s.getDisplayId());let c=this._objectIdToDisplayId.get(a);c||(c=h.createDisplayId(),this._objectIdToDisplayId.set(a,c),this._spatialIndexInvalid=!0),s.setDisplayId(c),h.setInstanceId(c,u),this.setComputedAttributes(h,s,c,i)}_searchIndex(s){return this._rebuildIndex(),this._index.search({minX:s[0],minY:s[1],maxX:s[2],maxY:s[3]})}_rebuildIndex(){if(!this._spatialIndexInvalid)return;const s=[];"snapshot"===this.mode?this._featureSetsByInstance.forEach(i=>{const h=i.getCursor();for(;h.next();){const a=h.getDisplayId();this._storage.setBounds(a,h)&&s.push(a)}}):this._objectIdToDisplayId.forEach(i=>{const h=this._storage.getInstanceId(i);this._storage.setBounds(i,this._lookupFeature(h))&&s.push(i)}),this._index.clear(),this._index.load(s),this._indexSearchCache.clear(),this._spatialIndexInvalid=!1}_lookupFeature(s){const i=_(s),h=o(s),a=this._getFeatureSet(i);if(!a)return null;const u=a.getCursor();return u.setIndex(h),u}_getFeatureSet(s){return this._featureSetsByInstance.get(s)}}},16669:(G,U,e)=>{e.d(U,{J:()=>b});var t=e(15861),M=e(8314),I=e(62208),f=e(84682),P=e(46679),S=e(63290);const l=e.e(2445).then(e.bind(e,22445));class b{constructor(o,p){this._canCacheExpressionValue=!1,this._sourceInfo=o,this._bitsets={computed:p.getBitset(p.createBitset())}}invalidate(){this._bitsets.computed.clear()}updateSchema(o,p){var E=this;return(0,t.Z)(function*(){const n=(0,f.Hg)(E._schema,p);if(E._schema=p,!p||(0,I.Wi)(n)||!(0,f.uD)(n,"attributes"))return;(0,M.Z)("esri-2d-update-debug")&&console.debug("Applying Update - Store:",n),E._bitsets.computed.clear(),o.targets[p.name]=!0;const s=p.attributes,i=[],h=[];for(const a in s){const u=s[a];switch(u.type){case"field":break;case"expression":i.push(E._createArcadeComputedField(u));break;case"label-expression":i.push(E._createLabelArcadeComputedField(u));break;case"statistic":h.push(u)}}E._computedFields=yield Promise.all(i),E._canCacheExpressionValue=!E._computedFields.some(a=>"expression"===a.type&&a.expression.referencesScale()),E._statisticFields=h})()}setComputedAttributes(o,p,E,n){const s=this._bitsets.computed;if(!this._canCacheExpressionValue||!s.has(E)){s.set(E);for(const i of this._computedFields){const h=this._evaluateField(p,i,n);switch(i.resultType){case"numeric":o.setComputedNumericAtIndex(E,i.fieldIndex,h);break;case"string":o.setComputedStringAtIndex(E,i.fieldIndex,h)}}}}_createArcadeComputedField(o){var p=this;return(0,t.Z)(function*(){const E=p._sourceInfo.spatialReference,n=p._sourceInfo.fieldsIndex;return Q($({},o),{expression:yield(0,P.Yi)(o.valueExpression,E,n)})})()}_createLabelArcadeComputedField(o){var p=this;return(0,t.Z)(function*(){const E=p._sourceInfo.spatialReference,n=p._sourceInfo.fieldsIndex,{createLabelFunction:s}=yield l,i=yield s(o.label,n,E);return Q($({},o),{builder:i})})()}_evaluateField(o,p,E){switch(p.type){case"label-expression":{const n=o.readArcadeFeature();return p.builder.evaluate(n)||""}case"expression":{const{expression:n}=p;return function d(_,o,p){_.referencesGeometry();const E=o.readArcadeFeature();try{return _.evaluate(Q($({},p),{$feature:E}))}catch(n){return S.Z.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",n),null}}(n,o,{$view:{scale:E}})}}}}},13112:(G,U,e)=>{e.d(U,{Z:()=>b});var t=e(17626),M=e(80542),I=e(77712),d=(e(85931),e(8314),e(90912),e(76898));let l=class extends M.r{initialize(){}destroy(){}get supportsTileUpdates(){return!1}get spatialReference(){const _=this.get("tileStore.tileScheme.spatialReference");return _&&_.toJSON()||null}};(0,t._)([(0,I.Cb)({readOnly:!0})],l.prototype,"supportsTileUpdates",null),(0,t._)([(0,I.Cb)({constructOnly:!0})],l.prototype,"remoteClient",void 0),(0,t._)([(0,I.Cb)({constructOnly:!0})],l.prototype,"service",void 0),(0,t._)([(0,I.Cb)()],l.prototype,"spatialReference",null),(0,t._)([(0,I.Cb)({constructOnly:!0})],l.prototype,"tileInfo",void 0),(0,t._)([(0,I.Cb)({constructOnly:!0})],l.prototype,"tileStore",void 0),l=(0,t._)([(0,d.j)("esri.views.2d.layers.features.processors.BaseProcessor")],l);const b=l},52397:(G,U,e)=>{e.d(U,{t:()=>M});var t=e(25208);class M extends t.s{constructor(f,P){super(t.s.createInstance()),this._currentIndex=-1,this._reader=f,this._indices=P}static from(f,P){return new M(f.copy(),P)}get hasNext(){return this._currentIndex+1<this._indices.length}getSize(){return this._indices.length}getCursor(){return this.copy()}copy(){const f=new M(this._reader.copy(),this._indices);return f._currentIndex=this._currentIndex,f}next(){for(;this._nextIndex()&&!this._reader._getExists(););return this._currentIndex<this._indices.length}_nextIndex(){return++this._currentIndex<this._indices.length&&(this._reader.setIndex(this._indices[this._currentIndex]),!0)}setArcadeSpatialReference(f){this._reader.setArcadeSpatialReference(f)}attachStorage(f){this._reader.attachStorage(f)}get geometryType(){return this._reader.geometryType}get hasFeatures(){return this._reader.hasFeatures}get exceededTransferLimit(){return this._reader.exceededTransferLimit}get hasZ(){return this._reader.hasZ}get hasM(){return this._reader.hasM}getStorage(){return this._reader.getStorage()}getComputedNumeric(f){return this._reader.getComputedNumericAtIndex(0)}setComputedNumeric(f,P){return this._reader.setComputedNumericAtIndex(P,0)}getComputedString(f){return this._reader.getComputedStringAtIndex(0)}setComputedString(f,P){return this._reader.setComputedStringAtIndex(0,P)}getComputedNumericAtIndex(f){return this._reader.getComputedNumericAtIndex(f)}setComputedNumericAtIndex(f,P){this._reader.setComputedNumericAtIndex(f,P)}getComputedStringAtIndex(f){return this._reader.getComputedStringAtIndex(f)}setComputedStringAtIndex(f,P){return this._reader.setComputedStringAtIndex(f,P)}transform(f,P,S,d){const l=this.copy();return l._reader=this._reader.transform(f,P,S,d),l}readAttribute(f,P=!1){return this._reader.readAttribute(f,P)}readAttributes(){return this._reader.readAttributes()}joinAttributes(f){return this._reader.joinAttributes(f)}readArcadeFeature(){return this._reader.readArcadeFeature()}geometry(){return this._reader.geometry()}field(f){return this.readAttribute(f,!0)}hasField(f){return this._reader.hasField(f)}setField(f,P){return this._reader.setField(f,P)}keys(){return this._reader.keys()}castToText(){return this._reader.castToText()}getQuantizationTransform(){return this._reader.getQuantizationTransform()}getAttributeHash(){return this._reader.getAttributeHash()}getObjectId(){return this._reader.getObjectId()}getDisplayId(){return this._reader.getDisplayId()}setDisplayId(f){return this._reader.setDisplayId(f)}getGroupId(){return this._reader.getGroupId()}setGroupId(f){return this._reader.setGroupId(f)}getXHydrated(){return this._reader.getXHydrated()}getYHydrated(){return this._reader.getYHydrated()}getX(){return this._reader.getX()}getY(){return this._reader.getY()}setIndex(f){return this._reader.setIndex(f)}getIndex(){return this._reader.getIndex()}readLegacyFeature(){return this._reader.readLegacyFeature()}readOptimizedFeature(){return this._reader.readOptimizedFeature()}readLegacyPointGeometry(){return this._reader.readLegacyPointGeometry()}readLegacyGeometry(){return this._reader.readLegacyGeometry()}readLegacyCentroid(){return this._reader.readLegacyCentroid()}readGeometryArea(){return this._reader.readGeometryArea()}readUnquantizedGeometry(){return this._reader.readUnquantizedGeometry()}readHydratedGeometry(){return this._reader.readHydratedGeometry()}readGeometry(){return this._reader.readGeometry()}readCentroid(){return this._reader.readCentroid()}_readAttribute(f,P){throw new Error("Error: Should not be called. Underlying _reader should be used instead")}_readAttributes(){throw new Error("Error: Should not be called. Underlying _reader should be used instead")}}},84225:(G,U,e)=>{e.d(U,{Z:()=>b});var t=e(17626),M=e(80542),I=e(77712),d=(e(85931),e(8314),e(90912),e(76898));let l=class extends M.r{constructor(_){super(_),this.tiles=new Map}destroy(){this.tiles.clear(),this.layer=this.layerView=this.tileInfoView=this.tiles=null}get updating(){return this.isUpdating()}acquireTile(_){const o=this.createTile(_);return o.once("isReady",()=>this.notifyChange("updating")),this.tiles.set(_.id,o),o}forceAttributeTextureUpload(){}forEachTile(_){this.tiles.forEach(_)}releaseTile(_){this.tiles.delete(_.key.id),this.disposeTile(_)}isUpdating(){let _=!0;return this.tiles.forEach(o=>{_=_&&o.isReady}),!_}setHighlight(){}invalidateLabels(){}requestUpdate(){this.layerView.requestUpdate()}};(0,t._)([(0,I.Cb)()],l.prototype,"layer",void 0),(0,t._)([(0,I.Cb)()],l.prototype,"layerView",void 0),(0,t._)([(0,I.Cb)()],l.prototype,"tileInfoView",void 0),(0,t._)([(0,I.Cb)()],l.prototype,"updating",null),l=(0,t._)([(0,d.j)("esri.views.2d.layers.features.tileRenderers.BaseTileRenderer")],l);const b=l},36275:(G,U,e)=>{e.d(U,{Z:()=>I});var t=e(39406),M=e(55051);class I extends M.Z{renderChildren(P){this.attributeView.bindTextures(P.context,!1),this.children.some(S=>S.hasData)&&(super.renderChildren(P),P.drawPhase===t.jx.MAP&&this._renderChildren(P),this.hasHighlight()&&P.drawPhase===t.jx.HIGHLIGHT&&this._renderHighlight(P),this._boundsRenderer&&this._boundsRenderer.doRender(P))}_renderHighlight(P){const{painter:S}=P,d=S.effects.highlight;d.bind(P),this._renderChildren(P,d.defines),d.draw(P),d.unbind()}}},19625:(G,U,e)=>{e.d(U,{U$:()=>P});var t=e(60479),M=e(67866);class I{constructor(d,l){this.layout=d,this.buffer="number"==typeof l?new ArrayBuffer(l*d.stride):l;for(const b of d.fieldNames){const _=d.fields.get(b);this[b]=new _.constructor(this.buffer,_.offset,this.stride)}}get stride(){return this.layout.stride}get count(){return this.buffer.byteLength/this.stride}get byteLength(){return this.buffer.byteLength}getField(d,l){const b=this[d];return b&&b.elementCount===l.ElementCount&&b.elementType===l.ElementType?b:null}slice(d,l){return new I(this.layout,this.buffer.slice(d*this.stride,l*this.stride))}copyFrom(d,l,b,_){const o=this.stride;if(o%4==0){const p=new Uint32Array(d.buffer,l*o,_*o/4);new Uint32Array(this.buffer,b*o,_*o/4).set(p)}else{const p=new Uint8Array(d.buffer,l*o,_*o);new Uint8Array(this.buffer,b*o,_*o).set(p)}}}class f{constructor(){this.stride=0,this.fields=new Map,this.fieldNames=[]}vec2f(d,l){return this.appendField(d,t.Eu,l),this}vec2f64(d,l){return this.appendField(d,t.q6,l),this}vec3f(d,l){return this.appendField(d,t.ct,l),this}vec3f64(d,l){return this.appendField(d,t.fP,l),this}vec4f(d,l){return this.appendField(d,t.ek,l),this}vec4f64(d,l){return this.appendField(d,t.Cd,l),this}mat3f(d,l){return this.appendField(d,t.gK,l),this}mat3f64(d,l){return this.appendField(d,t.ey,l),this}mat4f(d,l){return this.appendField(d,t.bj,l),this}mat4f64(d,l){return this.appendField(d,t.O1,l),this}vec4u8(d,l){return this.appendField(d,t.mc,l),this}f32(d,l){return this.appendField(d,t.ly,l),this}f64(d,l){return this.appendField(d,t.oS,l),this}u8(d,l){return this.appendField(d,t.D_,l),this}u16(d,l){return this.appendField(d,t.av,l),this}i8(d,l){return this.appendField(d,t.Hz,l),this}vec2i8(d,l){return this.appendField(d,t.Vs,l),this}vec2i16(d,l){return this.appendField(d,t.or,l),this}vec2u8(d,l){return this.appendField(d,t.xA,l),this}vec4u16(d,l){return this.appendField(d,t.v6,l),this}u32(d,l){return this.appendField(d,t.Nu,l),this}appendField(d,l,b){const _=l.ElementCount*(0,M.n1)(l.ElementType);this.fields.set(d,{size:_,constructor:l,offset:this.stride,optional:b}),this.stride+=_,this.fieldNames.push(d)}alignTo(d){return this.stride=Math.floor((this.stride+d-1)/d)*d,this}hasField(d){return this.fieldNames.indexOf(d)>=0}createBuffer(d){return new I(this,d)}createView(d){return new I(this,d)}clone(){const d=new f;return d.stride=this.stride,d.fields=new Map,this.fields.forEach((l,b)=>d.fields.set(b,l)),d.fieldNames=this.fieldNames.slice(),d.BufferType=this.BufferType,d}}function P(){return new f}},88569:(G,U,e)=>{e.d(U,{$L:()=>P,$x:()=>_,ve:()=>d,IB:()=>f,wu:()=>M,je:()=>b});var t=e(2078);const M=(0,t.wK)(770,1,771,771),I=(0,t.if)(1,1),f=(0,t.if)(0,771);function P(o){return 2===o?null:1===o?f:I}const d=5e5,l={factor:-1,units:-2};function b(o){return o?l:null}function _(o){return 3===o||2===o?513:515}},51881:(G,U,e)=>{e.d(U,{Z:()=>M});var t=e(80322);class M{constructor(f){this._programCacheByTemplate=new Map,this._rctx=f}dispose(){this._programCacheByTemplate.forEach(f=>f.programs.forEach(P=>P.dispose())),this._programCacheByTemplate=null}getProgram(f,P){return this._programCacheByTemplate.has(f)||this.addProgramTemplate(f,S=>(0,t.H)(this._rctx,f,S)),this.getProgramTemplateInstance(f,P)}addProgramTemplate(f,P){this._programCacheByTemplate.set(f,{constructor:P,programs:new Map})}getProgramTemplateInstance(f,P){const S=this._programCacheByTemplate.get(f);if(S){const d=P?JSON.stringify(P):"default";if(!S.programs.has(d)){const l=S.constructor(P);S.programs.set(d,l)}return S.programs.get(d)}return null}}},2757:(G,U,e)=>{function M(d,l,b){for(let _=0;_<b;++_)l[2*_]=d[_],l[2*_+1]=d[_]-l[2*_]}function f(d,l,b,_){for(let o=0;o<_;++o)P[0]=d[o],M(P,S,1),l[o]=S[0],b[o]=S[1]}e.d(U,{LF:()=>M,po:()=>f});const P=new Float64Array(1),S=new Float32Array(2)},2078:(G,U,e)=>{function t(D,K,T=32774,A=[0,0,0,0]){return{srcRgb:D,srcAlpha:D,dstRgb:K,dstAlpha:K,opRgb:T,opAlpha:T,color:{r:A[0],g:A[1],b:A[2],a:A[3]}}}function M(D,K,T,A,R=32774,z=32774,J=[0,0,0,0]){return{srcRgb:D,srcAlpha:K,dstRgb:T,dstAlpha:A,opRgb:R,opAlpha:z,color:{r:J[0],g:J[1],b:J[2],a:J[3]}}}e.d(U,{jp:()=>V,zp:()=>P,BK:()=>d,LZ:()=>S,sm:()=>i,wK:()=>M,if:()=>t});const I={face:1029,mode:2305},f={face:1028,mode:2305},P=D=>2===D?I:1===D?f:null,S={zNear:0,zFar:1},d={r:!0,g:!0,b:!0,a:!0};function l(D){return u.intern(D)}function b(D){return m.intern(D)}function _(D){return O.intern(D)}function o(D){return C.intern(D)}function p(D){return g.intern(D)}function E(D){return v.intern(D)}function n(D){return w.intern(D)}function s(D){return Z.intern(D)}function i(D){return W.intern(D)}class h{constructor(K,T){this.makeKey=K,this.makeRef=T,this.interns=new Map}intern(K){if(!K)return null;const T=this.makeKey(K),A=this.interns;return A.has(T)||A.set(T,this.makeRef(K)),A.get(T)}}function a(D){return"["+D.join(",")+"]"}const u=new h(c,D=>$({__tag:"Blending"},D));function c(D){return D?a([D.srcRgb,D.srcAlpha,D.dstRgb,D.dstAlpha,D.opRgb,D.opAlpha,D.color.r,D.color.g,D.color.b,D.color.a]):null}const m=new h(x,D=>$({__tag:"Culling"},D));function x(D){return D?a([D.face,D.mode]):null}const O=new h(B,D=>$({__tag:"PolygonOffset"},D));function B(D){return D?a([D.factor,D.units]):null}const C=new h(y,D=>$({__tag:"DepthTest"},D));function y(D){return D?a([D.func]):null}const g=new h(L,D=>$({__tag:"StencilTest"},D));function L(D){return D?a([D.function.func,D.function.ref,D.function.mask,D.operation.fail,D.operation.zFail,D.operation.zPass]):null}const v=new h(j,D=>$({__tag:"DepthWrite"},D));function j(D){return D?a([D.zNear,D.zFar]):null}const w=new h(F,D=>$({__tag:"ColorWrite"},D));function F(D){return D?a([D.r,D.g,D.b,D.a]):null}const Z=new h(N,D=>$({__tag:"StencilWrite"},D));function N(D){return D?a([D.mask]):null}const W=new h(function H(D){return D?a([c(D.blending),x(D.culling),B(D.polygonOffset),y(D.depthTest),L(D.stencilTest),j(D.depthWrite),F(D.colorWrite),N(D.stencilWrite)]):null},D=>({blending:l(D.blending),culling:b(D.culling),polygonOffset:_(D.polygonOffset),depthTest:o(D.depthTest),stencilTest:p(D.stencilTest),depthWrite:E(D.depthWrite),colorWrite:n(D.colorWrite),stencilWrite:s(D.stencilWrite)}));class V{constructor(K){this._pipelineInvalid=!0,this._blendingInvalid=!0,this._cullingInvalid=!0,this._polygonOffsetInvalid=!0,this._depthTestInvalid=!0,this._stencilTestInvalid=!0,this._depthWriteInvalid=!0,this._colorWriteInvalid=!0,this._stencilWriteInvalid=!0,this._stateSetters=K}setPipeline(K){(this._pipelineInvalid||K!==this._pipeline)&&(this.setBlending(K.blending),this.setCulling(K.culling),this.setPolygonOffset(K.polygonOffset),this.setDepthTest(K.depthTest),this.setStencilTest(K.stencilTest),this.setDepthWrite(K.depthWrite),this.setColorWrite(K.colorWrite),this.setStencilWrite(K.stencilWrite),this._pipeline=K),this._pipelineInvalid=!1}invalidateBlending(){this._blendingInvalid=!0,this._pipelineInvalid=!0}invalidateCulling(){this._cullingInvalid=!0,this._pipelineInvalid=!0}invalidatePolygonOffset(){this._polygonOffsetInvalid=!0,this._pipelineInvalid=!0}invalidateDepthTest(){this._depthTestInvalid=!0,this._pipelineInvalid=!0}invalidateStencilTest(){this._stencilTestInvalid=!0,this._pipelineInvalid=!0}invalidateDepthWrite(){this._depthWriteInvalid=!0,this._pipelineInvalid=!0}invalidateColorWrite(){this._colorWriteInvalid=!0,this._pipelineInvalid=!0}invalidateStencilWrite(){this._stencilTestInvalid=!0,this._pipelineInvalid=!0}setBlending(K){this._blending=this.setSubState(K,this._blending,this._blendingInvalid,this._stateSetters.setBlending),this._blendingInvalid=!1}setCulling(K){this._culling=this.setSubState(K,this._culling,this._cullingInvalid,this._stateSetters.setCulling),this._cullingInvalid=!1}setPolygonOffset(K){this._polygonOffset=this.setSubState(K,this._polygonOffset,this._polygonOffsetInvalid,this._stateSetters.setPolygonOffset),this._polygonOffsetInvalid=!1}setDepthTest(K){this._depthTest=this.setSubState(K,this._depthTest,this._depthTestInvalid,this._stateSetters.setDepthTest),this._depthTestInvalid=!1}setStencilTest(K){this._stencilTest=this.setSubState(K,this._stencilTest,this._stencilTestInvalid,this._stateSetters.setStencilTest),this._stencilTestInvalid=!1}setDepthWrite(K){this._depthWrite=this.setSubState(K,this._depthWrite,this._depthWriteInvalid,this._stateSetters.setDepthWrite),this._depthWriteInvalid=!1}setColorWrite(K){this._colorWrite=this.setSubState(K,this._colorWrite,this._colorWriteInvalid,this._stateSetters.setColorWrite),this._colorWriteInvalid=!1}setStencilWrite(K){this._stencilWrite=this.setSubState(K,this._stencilWrite,this._stencilWriteInvalid,this._stateSetters.setStencilWrite),this._stencilTestInvalid=!1}setSubState(K,T,A,R){return(A||K!==T)&&(R(K),this._pipelineInvalid=!0),K}}}}]);